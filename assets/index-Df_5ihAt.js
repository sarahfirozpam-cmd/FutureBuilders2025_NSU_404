function YG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Mie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lie(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var ZN={exports:{}},ev={};var YB;function Fie(){if(YB)return ev;YB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var o in s)o!=="key"&&(i[o]=s[o])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return ev.Fragment=e,ev.jsx=n,ev.jsxs=n,ev}var ZB;function zie(){return ZB||(ZB=1,ZN.exports=Fie()),ZN.exports}var D=zie(),QN={exports:{}},Yt={};var QB;function Bie(){if(QB)return Yt;QB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function w(G,ne,ae){this.props=G,this.context=ne,this.refs=b,this.updater=ae||y}w.prototype.isReactComponent={},w.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},w.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=w.prototype;function C(G,ne,ae){this.props=G,this.context=ne,this.refs=b,this.updater=ae||y}var T=C.prototype=new S;T.constructor=C,v(T,w.prototype),T.isPureReactComponent=!0;var N=Array.isArray;function O(){}var _={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function L(G,ne,ae){var be=ae.ref;return{$$typeof:t,type:G,key:ne,ref:be!==void 0?be:null,props:ae}}function z(G,ne){return L(G.type,ne,G.props)}function P(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function R(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ae){return ne[ae]})}var H=/\/+/g;function q(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?R(""+G.key):ne.toString(36)}function X(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(O,O):(G.status="pending",G.then(function(ne){G.status==="pending"&&(G.status="fulfilled",G.value=ne)},function(ne){G.status==="pending"&&(G.status="rejected",G.reason=ne)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function V(G,ne,ae,be,$e){var Ie=typeof G;(Ie==="undefined"||Ie==="boolean")&&(G=null);var Me=!1;if(G===null)Me=!0;else switch(Ie){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(G.$$typeof){case t:case e:Me=!0;break;case d:return Me=G._init,V(Me(G._payload),ne,ae,be,$e)}}if(Me)return $e=$e(G),Me=be===""?"."+q(G,0):be,N($e)?(ae="",Me!=null&&(ae=Me.replace(H,"$&/")+"/"),V($e,ne,ae,"",function(je){return je})):$e!=null&&(P($e)&&($e=z($e,ae+($e.key==null||G&&G.key===$e.key?"":(""+$e.key).replace(H,"$&/")+"/")+Me)),ne.push($e)),1;Me=0;var st=be===""?".":be+":";if(N(G))for(var se=0;se<G.length;se++)be=G[se],Ie=st+q(be,se),Me+=V(be,ne,ae,Ie,$e);else if(se=m(G),typeof se=="function")for(G=se.call(G),se=0;!(be=G.next()).done;)be=be.value,Ie=st+q(be,se++),Me+=V(be,ne,ae,Ie,$e);else if(Ie==="object"){if(typeof G.then=="function")return V(X(G),ne,ae,be,$e);throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ee(G,ne,ae){if(G==null)return G;var be=[],$e=0;return V(G,be,"","",function(Ie){return ne.call(ae,Ie,$e++)}),be}function J(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(ae){(G._status===0||G._status===-1)&&(G._status=1,G._result=ae)},function(ae){(G._status===0||G._status===-1)&&(G._status=2,G._result=ae)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var te=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ce={map:ee,forEach:function(G,ne,ae){ee(G,function(){ne.apply(this,arguments)},ae)},count:function(G){var ne=0;return ee(G,function(){ne++}),ne},toArray:function(G){return ee(G,function(ne){return ne})||[]},only:function(G){if(!P(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Yt.Activity=f,Yt.Children=ce,Yt.Component=w,Yt.Fragment=n,Yt.Profiler=s,Yt.PureComponent=C,Yt.StrictMode=r,Yt.Suspense=l,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return _.H.useMemoCache(G)}},Yt.cache=function(G){return function(){return G.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(G,ne,ae){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var be=v({},G.props),$e=G.key;if(ne!=null)for(Ie in ne.key!==void 0&&($e=""+ne.key),ne)!F.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(be[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)be.children=ae;else if(1<Ie){for(var Me=Array(Ie),st=0;st<Ie;st++)Me[st]=arguments[st+2];be.children=Me}return L(G.type,$e,be)},Yt.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:i,_context:G},G},Yt.createElement=function(G,ne,ae){var be,$e={},Ie=null;if(ne!=null)for(be in ne.key!==void 0&&(Ie=""+ne.key),ne)F.call(ne,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&($e[be]=ne[be]);var Me=arguments.length-2;if(Me===1)$e.children=ae;else if(1<Me){for(var st=Array(Me),se=0;se<Me;se++)st[se]=arguments[se+2];$e.children=st}if(G&&G.defaultProps)for(be in Me=G.defaultProps,Me)$e[be]===void 0&&($e[be]=Me[be]);return L(G,Ie,$e)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(G){return{$$typeof:o,render:G}},Yt.isValidElement=P,Yt.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:J}},Yt.memo=function(G,ne){return{$$typeof:u,type:G,compare:ne===void 0?null:ne}},Yt.startTransition=function(G){var ne=_.T,ae={};_.T=ae;try{var be=G(),$e=_.S;$e!==null&&$e(ae,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(O,te)}catch(Ie){te(Ie)}finally{ne!==null&&ae.types!==null&&(ne.types=ae.types),_.T=ne}},Yt.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Yt.use=function(G){return _.H.use(G)},Yt.useActionState=function(G,ne,ae){return _.H.useActionState(G,ne,ae)},Yt.useCallback=function(G,ne){return _.H.useCallback(G,ne)},Yt.useContext=function(G){return _.H.useContext(G)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(G,ne){return _.H.useDeferredValue(G,ne)},Yt.useEffect=function(G,ne){return _.H.useEffect(G,ne)},Yt.useEffectEvent=function(G){return _.H.useEffectEvent(G)},Yt.useId=function(){return _.H.useId()},Yt.useImperativeHandle=function(G,ne,ae){return _.H.useImperativeHandle(G,ne,ae)},Yt.useInsertionEffect=function(G,ne){return _.H.useInsertionEffect(G,ne)},Yt.useLayoutEffect=function(G,ne){return _.H.useLayoutEffect(G,ne)},Yt.useMemo=function(G,ne){return _.H.useMemo(G,ne)},Yt.useOptimistic=function(G,ne){return _.H.useOptimistic(G,ne)},Yt.useReducer=function(G,ne,ae){return _.H.useReducer(G,ne,ae)},Yt.useRef=function(G){return _.H.useRef(G)},Yt.useState=function(G){return _.H.useState(G)},Yt.useSyncExternalStore=function(G,ne,ae){return _.H.useSyncExternalStore(G,ne,ae)},Yt.useTransition=function(){return _.H.useTransition()},Yt.version="19.2.3",Yt}var JB;function pg(){return JB||(JB=1,QN.exports=Bie()),QN.exports}var $=pg();const ls=Ja($),cS=YG({__proto__:null,default:ls},[$]);var JN={exports:{}},tv={},e$={exports:{}},t$={};var ej;function jie(){return ej||(ej=1,(function(t){function e(V,ee){var J=V.length;V.push(ee);e:for(;0<J;){var te=J-1>>>1,ce=V[te];if(0<s(ce,ee))V[te]=ee,V[J]=ce,J=te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ee=V[0],J=V.pop();if(J!==ee){V[0]=J;e:for(var te=0,ce=V.length,G=ce>>>1;te<G;){var ne=2*(te+1)-1,ae=V[ne],be=ne+1,$e=V[be];if(0>s(ae,J))be<ce&&0>s($e,ae)?(V[te]=$e,V[be]=J,te=be):(V[te]=ae,V[ne]=J,te=ne);else if(be<ce&&0>s($e,J))V[te]=$e,V[be]=J,te=be;else break e}}return ee}function s(V,ee){var J=V.sortIndex-ee.sortIndex;return J!==0?J:V.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,p=3,m=!1,y=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function T(V){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=V)r(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(u)}}function N(V){if(v=!1,T(V),!y)if(n(l)!==null)y=!0,O||(O=!0,R());else{var ee=n(u);ee!==null&&X(N,ee.startTime-V)}}var O=!1,_=-1,F=5,L=-1;function z(){return b?!0:!(t.unstable_now()-L<F)}function P(){if(b=!1,O){var V=t.unstable_now();L=V;var ee=!0;try{e:{y=!1,v&&(v=!1,S(_),_=-1),m=!0;var J=p;try{t:{for(T(V),f=n(l);f!==null&&!(f.expirationTime>V&&z());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var ce=te(f.expirationTime<=V);if(V=t.unstable_now(),typeof ce=="function"){f.callback=ce,T(V),ee=!0;break t}f===n(l)&&r(l),T(V)}else r(l);f=n(l)}if(f!==null)ee=!0;else{var G=n(u);G!==null&&X(N,G.startTime-V),ee=!1}}break e}finally{f=null,p=J,m=!1}ee=void 0}}finally{ee?R():O=!1}}}var R;if(typeof C=="function")R=function(){C(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=P,R=function(){q.postMessage(null)}}else R=function(){w(P,0)};function X(V,ee){_=w(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var J=p;p=ee;try{return V()}finally{p=J}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=p;p=V;try{return ee()}finally{p=J}},t.unstable_scheduleCallback=function(V,ee,J){var te=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,V){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=J+ce,V={id:d++,callback:ee,priorityLevel:V,startTime:J,expirationTime:ce,sortIndex:-1},J>te?(V.sortIndex=J,e(u,V),n(l)===null&&V===n(u)&&(v?(S(_),_=-1):v=!0,X(N,J-te))):(V.sortIndex=ce,e(l,V),y||m||(y=!0,O||(O=!0,R()))),V},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(V){var ee=p;return function(){var J=p;p=ee;try{return V.apply(this,arguments)}finally{p=J}}}})(t$)),t$}var tj;function Uie(){return tj||(tj=1,e$.exports=jie()),e$.exports}var n$={exports:{}},Ni={};var nj;function Vie(){if(nj)return Ni;nj=1;var t=pg();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(l,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:l,containerInfo:u,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ni.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(l,u,null,d)},Ni.flushSync=function(l){var u=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=d,r.d.f()}},Ni.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Ni.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Ni.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ni.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Ni.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ni.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Ni.requestFormReset=function(l){r.d.r(l)},Ni.unstable_batchedUpdates=function(l,u){return l(u)},Ni.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Ni.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ni.version="19.2.3",Ni}var rj;function ZG(){if(rj)return n$.exports;rj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),n$.exports=Vie(),n$.exports}var sj;function Wie(){if(sj)return tv;sj=1;var t=Uie(),e=pg(),n=ZG();function r(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var h=c,g=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(g=h.return),c=h.return;while(c)}return h.tag===3?g:null}function a(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function o(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(i(c)!==c)throw Error(r(188))}function u(c){var h=c.alternate;if(!h){if(h=i(c),h===null)throw Error(r(188));return h!==c?null:c}for(var g=c,x=h;;){var E=g.return;if(E===null)break;var A=E.alternate;if(A===null){if(x=E.return,x!==null){g=x;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===g)return l(E),c;if(A===x)return l(E),h;A=A.sibling}throw Error(r(188))}if(g.return!==x.return)g=E,x=A;else{for(var U=!1,Z=E.child;Z;){if(Z===g){U=!0,g=E,x=A;break}if(Z===x){U=!0,x=E,g=A;break}Z=Z.sibling}if(!U){for(Z=A.child;Z;){if(Z===g){U=!0,g=A,x=E;break}if(Z===x){U=!0,x=A,g=E;break}Z=Z.sibling}if(!U)throw Error(r(189))}}if(g.alternate!==x)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:h}function d(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=d(c),h!==null)return h;c=c.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function R(c){return c===null||typeof c!="object"?null:(c=P&&c[P]||c["@@iterator"],typeof c=="function"?c:null)}var H=Symbol.for("react.client.reference");function q(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===H?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList";case L:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case C:return c.displayName||"Context";case S:return(c._context.displayName||"Context")+".Consumer";case T:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return h=c.displayName||null,h!==null?h:q(c.type)||"Memo";case F:h=c._payload,c=c._init;try{return q(c(h))}catch{}}return null}var X=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},te=[],ce=-1;function G(c){return{current:c}}function ne(c){0>ce||(c.current=te[ce],te[ce]=null,ce--)}function ae(c,h){ce++,te[ce]=c.current,c.current=h}var be=G(null),$e=G(null),Ie=G(null),Me=G(null);function st(c,h){switch(ae(Ie,h),ae($e,c),ae(be,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?bB(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=bB(h),c=xB(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}ne(be),ae(be,c)}function se(){ne(be),ne($e),ne(Ie)}function je(c){c.memoizedState!==null&&ae(Me,c);var h=be.current,g=xB(h,c.type);h!==g&&(ae($e,c),ae(be,g))}function Ge(c){$e.current===c&&(ne(be),ne($e)),Me.current===c&&(ne(Me),Yy._currentValue=J)}var Se,yt;function Qe(c){if(Se===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);Se=h&&h[1]||"",yt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+c+yt}var ut=!1;function kt(c,h){if(!c||ut)return"";ut=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(h){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(ze){var Pe=ze}Reflect.construct(c,[],Xe)}else{try{Xe.call()}catch(ze){Pe=ze}c.call(Xe.prototype)}}else{try{throw Error()}catch(ze){Pe=ze}(Xe=c())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(ze){if(ze&&Pe&&typeof ze.stack=="string")return[ze.stack,Pe.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=x.DetermineComponentFrameRoot(),U=A[0],Z=A[1];if(U&&Z){var le=U.split(`
`),De=Z.split(`
`);for(E=x=0;x<le.length&&!le[x].includes("DetermineComponentFrameRoot");)x++;for(;E<De.length&&!De[E].includes("DetermineComponentFrameRoot");)E++;if(x===le.length||E===De.length)for(x=le.length-1,E=De.length-1;1<=x&&0<=E&&le[x]!==De[E];)E--;for(;1<=x&&0<=E;x--,E--)if(le[x]!==De[E]){if(x!==1||E!==1)do if(x--,E--,0>E||le[x]!==De[E]){var We=`
`+le[x].replace(" at new "," at ");return c.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",c.displayName)),We}while(1<=x&&0<=E);break}}}finally{ut=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?Qe(g):""}function Dt(c,h){switch(c.tag){case 26:case 27:case 5:return Qe(c.type);case 16:return Qe("Lazy");case 13:return c.child!==h&&h!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return kt(c.type,!1);case 11:return kt(c.type.render,!1);case 1:return kt(c.type,!0);case 31:return Qe("Activity");default:return""}}function Ot(c){try{var h="",g=null;do h+=Dt(c,g),g=c,c=c.return;while(c);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var fn=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,Ht=t.unstable_cancelCallback,pt=t.unstable_shouldYield,fr=t.unstable_requestPaint,Lt=t.unstable_now,hr=t.unstable_getCurrentPriorityLevel,an=t.unstable_ImmediatePriority,Bt=t.unstable_UserBlockingPriority,kn=t.unstable_NormalPriority,_n=t.unstable_LowPriority,Jr=t.unstable_IdlePriority,vn=t.log,es=t.unstable_setDisableYieldValue,Br=null,_r=null;function ts(c){if(typeof vn=="function"&&es(c),_r&&typeof _r.setStrictMode=="function")try{_r.setStrictMode(Br,c)}catch{}}var mt=Math.clz32?Math.clz32:Cr,$t=Math.log,Tn=Math.LN2;function Cr(c){return c>>>=0,c===0?32:31-($t(c)/Tn|0)|0}var lt=256,qo=262144,bf=4194304;function Ko(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function xf(c,h,g){var x=c.pendingLanes;if(x===0)return 0;var E=0,A=c.suspendedLanes,U=c.pingedLanes;c=c.warmLanes;var Z=x&134217727;return Z!==0?(x=Z&~A,x!==0?E=Ko(x):(U&=Z,U!==0?E=Ko(U):g||(g=Z&~c,g!==0&&(E=Ko(g))))):(Z=x&~A,Z!==0?E=Ko(Z):U!==0?E=Ko(U):g||(g=x&~c,g!==0&&(E=Ko(g)))),E===0?0:h!==0&&h!==E&&(h&A)===0&&(A=E&-E,g=h&-h,A>=g||A===32&&(g&4194048)!==0)?h:E}function ku(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function sE(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Px(){var c=bf;return bf<<=1,(bf&62914560)===0&&(bf=4194304),c}function Nl(c){for(var h=[],g=0;31>g;g++)h.push(c);return h}function no(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Jg(c,h,g,x,E,A){var U=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var Z=c.entanglements,le=c.expirationTimes,De=c.hiddenUpdates;for(g=U&~g;0<g;){var We=31-mt(g),Xe=1<<We;Z[We]=0,le[We]=-1;var Pe=De[We];if(Pe!==null)for(De[We]=null,We=0;We<Pe.length;We++){var ze=Pe[We];ze!==null&&(ze.lane&=-536870913)}g&=~Xe}x!==0&&wf(c,x,0),A!==0&&E===0&&c.tag!==0&&(c.suspendedLanes|=A&~(U&~h))}function wf(c,h,g){c.pendingLanes|=h,c.suspendedLanes&=~h;var x=31-mt(h);c.entangledLanes|=h,c.entanglements[x]=c.entanglements[x]|1073741824|g&261930}function sr(c,h){var g=c.entangledLanes|=h;for(c=c.entanglements;g;){var x=31-mt(g),E=1<<x;E&h|c[x]&h&&(c[x]|=h),g&=~E}}function ns(c,h){var g=h&-h;return g=(g&42)!==0?1:ey(g),(g&(c.suspendedLanes|h))!==0?0:g}function ey(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Bc(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Sf(){var c=ee.p;return c!==0?c:(c=window.event,c===void 0?32:VB(c.type))}function Cf(c,h){var g=ee.p;try{return ee.p=c,h()}finally{ee.p=g}}var $l=Math.random().toString(36).slice(2),ur="__reactFiber$"+$l,rs="__reactProps$"+$l,Vi="__reactContainer$"+$l,jc="__reactEvents$"+$l,iE="__reactListeners$"+$l,Il="__reactHandles$"+$l,ty="__reactResources$"+$l,Da="__reactMarker$"+$l;function gp(c){delete c[ur],delete c[rs],delete c[jc],delete c[iE],delete c[Il]}function Al(c){var h=c[ur];if(h)return h;for(var g=c.parentNode;g;){if(h=g[Vi]||g[ur]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(c=NB(c);c!==null;){if(g=c[ur])return g;c=NB(c)}return h}c=g,g=c.parentNode}return null}function Yn(c){if(c=c[ur]||c[Vi]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function _a(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(r(33))}function ki(c){var h=c[ty];return h||(h=c[ty]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function ss(c){c[Da]=!0}var Tu=new Set,kf={};function Xo(c,h){Ol(c,h),Ol(c+"Capture",h)}function Ol(c,h){for(kf[c]=h,c=0;c<h.length;c++)Tu.add(h[c])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ny={},Tf={};function Mx(c){return fn.call(Tf,c)?!0:fn.call(ny,c)?!1:Eu.test(c)?Tf[c]=!0:(ny[c]=!0,!1)}function ln(c,h,g){if(Mx(h))if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var x=h.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+g)}}function Ef(c,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+g)}}function ro(c,h,g,x){if(x===null)c.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(h,g,""+x)}}function ui(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Uc(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Lx(c,h,g){var x=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var E=x.get,A=x.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return E.call(this)},set:function(U){g=""+U,A.call(this,U)}}),Object.defineProperty(c,h,{enumerable:x.enumerable}),{getValue:function(){return g},setValue:function(U){g=""+U},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function yp(c){if(!c._valueTracker){var h=Uc(c)?"checked":"value";c._valueTracker=Lx(c,h,""+c[h])}}function ry(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var g=h.getValue(),x="";return c&&(x=Uc(c)?c.checked?"true":"false":c.value),c=x,c!==g?(h.setValue(c),!0):!1}function Pn(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Nf=/[\n"\\]/g;function Vs(c){return c.replace(Nf,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Rl(c,h,g,x,E,A,U,Z){c.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?c.type=U:c.removeAttribute("type"),h!=null?U==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+ui(h)):c.value!==""+ui(h)&&(c.value=""+ui(h)):U!=="submit"&&U!=="reset"||c.removeAttribute("value"),h!=null?$f(c,U,ui(h)):g!=null?$f(c,U,ui(g)):x!=null&&c.removeAttribute("value"),E==null&&A!=null&&(c.defaultChecked=!!A),E!=null&&(c.checked=E&&typeof E!="function"&&typeof E!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?c.name=""+ui(Z):c.removeAttribute("name")}function vp(c,h,g,x,E,A,U,Z){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(c.type=A),h!=null||g!=null){if(!(A!=="submit"&&A!=="reset"||h!=null)){yp(c);return}g=g!=null?""+ui(g):"",h=h!=null?""+ui(h):g,Z||h===c.value||(c.value=h),c.defaultValue=h}x=x??E,x=typeof x!="function"&&typeof x!="symbol"&&!!x,c.checked=Z?c.checked:!!x,c.defaultChecked=!!x,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(c.name=U),yp(c)}function $f(c,h,g){h==="number"&&Pn(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function Yo(c,h,g,x){if(c=c.options,h){h={};for(var E=0;E<g.length;E++)h["$"+g[E]]=!0;for(g=0;g<c.length;g++)E=h.hasOwnProperty("$"+c[g].value),c[g].selected!==E&&(c[g].selected=E),E&&x&&(c[g].defaultSelected=!0)}else{for(g=""+ui(g),h=null,E=0;E<c.length;E++){if(c[E].value===g){c[E].selected=!0,x&&(c[E].defaultSelected=!0);return}h!==null||c[E].disabled||(h=c[E])}h!==null&&(h.selected=!0)}}function sy(c,h,g){if(h!=null&&(h=""+ui(h),h!==c.value&&(c.value=h),g==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=g!=null?""+ui(g):""}function If(c,h,g,x){if(h==null){if(x!=null){if(g!=null)throw Error(r(92));if(X(x)){if(1<x.length)throw Error(r(93));x=x[0]}g=x}g==null&&(g=""),h=g}g=ui(h),c.defaultValue=g,x=c.textContent,x===g&&x!==""&&x!==null&&(c.value=x),yp(c)}function Nu(c,h){if(h){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=h;return}}c.textContent=h}var aE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function En(c,h,g){var x=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":x?c.setProperty(h,g):typeof g!="number"||g===0||aE.has(h)?h==="float"?c.cssFloat=g:c[h]=(""+g).trim():c[h]=g+"px"}function iy(c,h,g){if(h!=null&&typeof h!="object")throw Error(r(62));if(c=c.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||h!=null&&h.hasOwnProperty(x)||(x.indexOf("--")===0?c.setProperty(x,""):x==="float"?c.cssFloat="":c[x]="");for(var E in h)x=h[E],h.hasOwnProperty(E)&&g[E]!==x&&En(c,E,x)}else for(var A in h)h.hasOwnProperty(A)&&En(c,A,h[A])}function ay(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(c){return Wi.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function sa(){}var so=null;function bp(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var $u=null,pr=null;function Pa(c){var h=Yn(c);if(h&&(c=h.stateNode)){var g=c[rs]||null;e:switch(c=h.stateNode,h.type){case"input":if(Rl(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Vs(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var x=g[h];if(x!==c&&x.form===c.form){var E=x[rs]||null;if(!E)throw Error(r(90));Rl(x,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<g.length;h++)x=g[h],x.form===c.form&&ry(x)}break e;case"textarea":sy(c,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&Yo(c,!!g.multiple,h,!1)}}}var Iu=!1;function Vc(c,h,g){if(Iu)return c(h,g);Iu=!0;try{var x=c(h);return x}finally{if(Iu=!1,($u!==null||pr!==null)&&(E1(),$u&&(h=$u,c=pr,pr=$u=null,Pa(h),c)))for(h=0;h<c.length;h++)Pa(c[h])}}function Au(c,h){var g=c.stateNode;if(g===null)return null;var x=g[rs]||null;if(x===null)return null;g=x[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,h,typeof g));return g}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oy=!1;if(Ws)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){oy=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{oy=!1}var io=null,xp=null,Wc=null;function Hc(){if(Wc)return Wc;var c,h=xp,g=h.length,x,E="value"in io?io.value:io.textContent,A=E.length;for(c=0;c<g&&h[c]===E[c];c++);var U=g-c;for(x=1;x<=U&&h[g-x]===E[A-x];x++);return Wc=E.slice(c,1<x?1-x:void 0)}function Gc(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Af(){return!0}function Fx(){return!1}function ds(c){function h(g,x,E,A,U){this._reactName=g,this._targetInst=E,this.type=x,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var Z in c)c.hasOwnProperty(Z)&&(g=c[Z],this[Z]=g?g(A):A[Z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Af:Fx,this.isPropagationStopped=Fx,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Af)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Af)},persist:function(){},isPersistent:Af}),h}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=ds(Ou),Dl=f({},Ou,{view:0,detail:0}),Sp=ds(Dl),Of,ly,Rf,Cp=f({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Rf&&(Rf&&c.type==="mousemove"?(Of=c.screenX-Rf.screenX,ly=c.screenY-Rf.screenY):ly=Of=0,Rf=c),Of)},movementY:function(c){return"movementY"in c?c.movementY:ly}}),kp=ds(Cp),uy=f({},Cp,{dataTransfer:0}),zx=ds(uy),Tp=f({},Dl,{relatedTarget:0}),qc=ds(Tp),Ep=f({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),Bx=ds(Ep),lE=f({},Ou,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Kc=ds(lE),cy=f({},Ou,{data:0}),Np=ds(cy),dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Hs[c])?!!h[c]:!1}function Ru(){return Df}var jx=f({},Dl,{key:function(c){if(c.key){var h=dy[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Gc(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?fy[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(c){return c.type==="keypress"?Gc(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Gc(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),$p=ds(jx),Ux=f({},Cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hy=ds(Ux),Ip=f({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),py=ds(Ip),Du=f({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),my=ds(Du),gy=f({},Cp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ap=ds(gy),yy=f({},Ou,{newState:0,oldState:0}),Vx=ds(yy),uE=[9,13,27,32],_f=Ws&&"CompositionEvent"in window,_l=null;Ws&&"documentMode"in document&&(_l=document.documentMode);var cE=Ws&&"TextEvent"in window&&!_l,Op=Ws&&(!_f||_l&&8<_l&&11>=_l),Rp=" ",Wx=!1;function vy(c,h){switch(c){case"keyup":return uE.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hx(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var _u=!1;function Gx(c,h){switch(c){case"compositionend":return Hx(h);case"keypress":return h.which!==32?null:(Wx=!0,Rp);case"textInput":return c=h.data,c===Rp&&Wx?null:c;default:return null}}function dE(c,h){if(_u)return c==="compositionend"||!_f&&vy(c,h)?(c=Hc(),Wc=xp=io=null,_u=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Op&&h.locale!=="ko"?null:h.data;default:return null}}var qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!qx[c.type]:h==="textarea"}function by(c,h,g,x){$u?pr?pr.push(x):pr=[x]:$u=x,h=D1(h,"onChange"),0<h.length&&(g=new wp("onChange","change",null,g,x),c.push({event:g,listeners:h}))}var Xc=null,Pf=null;function fE(c){hB(c,0)}function _p(c){var h=_a(c);if(ry(h))return c}function Mf(c,h){if(c==="change")return h}var ao=!1;if(Ws){var mr;if(Ws){var Yc="oninput"in document;if(!Yc){var Hi=document.createElement("div");Hi.setAttribute("oninput","return;"),Yc=typeof Hi.oninput=="function"}mr=Yc}else mr=!1;ao=mr&&(!document.documentMode||9<document.documentMode)}function Kx(){Xc&&(Xc.detachEvent("onpropertychange",Pp),Pf=Xc=null)}function Pp(c){if(c.propertyName==="value"&&_p(Pf)){var h=[];by(h,Pf,c,bp(c)),Vc(fE,h)}}function Xx(c,h,g){c==="focusin"?(Kx(),Xc=h,Pf=g,Xc.attachEvent("onpropertychange",Pp)):c==="focusout"&&Kx()}function Pu(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return _p(Pf)}function xy(c,h){if(c==="click")return _p(h)}function Zc(c,h){if(c==="input"||c==="change")return _p(h)}function Pl(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Ei=typeof Object.is=="function"?Object.is:Pl;function k(c,h){if(Ei(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var g=Object.keys(c),x=Object.keys(h);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var E=g[x];if(!fn.call(h,E)||!Ei(c[E],h[E]))return!1}return!0}function I(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function M(c,h){var g=I(c);c=0;for(var x;g;){if(g.nodeType===3){if(x=c+g.textContent.length,c<=h&&x>=h)return{node:g,offset:h-c};c=x}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=I(g)}}function j(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?j(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function W(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=Pn(c.document);h instanceof c.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)c=h.contentWindow;else break;h=Pn(c.document)}return h}function K(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var re=Ws&&"documentMode"in document&&11>=document.documentMode,ie=null,he=null,ge=null,Ce=!1;function ue(c,h,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ce||ie==null||ie!==Pn(x)||(x=ie,"selectionStart"in x&&K(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ge&&k(ge,x)||(ge=x,x=D1(he,"onSelect"),0<x.length&&(h=new wp("onSelect","select",null,h,g),c.push({event:h,listeners:x}),h.target=ie)))}function Te(c,h){var g={};return g[c.toLowerCase()]=h.toLowerCase(),g["Webkit"+c]="webkit"+h,g["Moz"+c]="moz"+h,g}var ye={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionrun:Te("Transition","TransitionRun"),transitionstart:Te("Transition","TransitionStart"),transitioncancel:Te("Transition","TransitionCancel"),transitionend:Te("Transition","TransitionEnd")},xe={},we={};Ws&&(we=document.createElement("div").style,"AnimationEvent"in window||(delete ye.animationend.animation,delete ye.animationiteration.animation,delete ye.animationstart.animation),"TransitionEvent"in window||delete ye.transitionend.transition);function ke(c){if(xe[c])return xe[c];if(!ye[c])return c;var h=ye[c],g;for(g in h)if(h.hasOwnProperty(g)&&g in we)return xe[c]=h[g];return c}var Ae=ke("animationend"),_e=ke("animationiteration"),Ve=ke("animationstart"),Ke=ke("transitionrun"),at=ke("transitionstart"),dt=ke("transitioncancel"),tt=ke("transitionend"),ot=new Map,ct="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ct.push("scrollEnd");function nt(c,h){ot.set(c,h),Xo(h,[c])}var vt=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},_t=[],Gt=0,Qt=0;function Gs(){for(var c=Gt,h=Qt=Gt=0;h<c;){var g=_t[h];_t[h++]=null;var x=_t[h];_t[h++]=null;var E=_t[h];_t[h++]=null;var A=_t[h];if(_t[h++]=null,x!==null&&E!==null){var U=x.pending;U===null?E.next=E:(E.next=U.next,U.next=E),x.pending=E}A!==0&&Lf(g,E,A)}}function jt(c,h,g,x){_t[Gt++]=c,_t[Gt++]=h,_t[Gt++]=g,_t[Gt++]=x,Qt|=x,c.lanes|=x,c=c.alternate,c!==null&&(c.lanes|=x)}function fs(c,h,g,x){return jt(c,h,g,x),hs(c)}function kr(c,h){return jt(c,null,null,h),hs(c)}function Lf(c,h,g){c.lanes|=g;var x=c.alternate;x!==null&&(x.lanes|=g);for(var E=!1,A=c.return;A!==null;)A.childLanes|=g,x=A.alternate,x!==null&&(x.childLanes|=g),A.tag===22&&(c=A.stateNode,c===null||c._visibility&1||(E=!0)),c=A,A=A.return;return c.tag===3?(A=c.stateNode,E&&h!==null&&(E=31-mt(g),c=A.hiddenUpdates,x=c[E],x===null?c[E]=[h]:x.push(h),h.lane=g|536870912),A):null}function hs(c){if(50<Vy)throw Vy=0,wN=null,Error(r(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var ia={};function wy(c,h,g,x){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(c,h,g,x){return new wy(c,h,g,x)}function hE(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Mu(c,h){var g=c.alternate;return g===null?(g=Ma(c.tag,h,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=h,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,h=c.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function XF(c,h){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,h=g.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Yx(c,h,g,x,E,A){var U=0;if(x=c,typeof c=="function")hE(c)&&(U=1);else if(typeof c=="string")U=kie(c,g,be.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case L:return c=Ma(31,g,h,E),c.elementType=L,c.lanes=A,c;case v:return Ff(g.children,E,A,h);case b:U=8,E|=24;break;case w:return c=Ma(12,g,h,E|2),c.elementType=w,c.lanes=A,c;case N:return c=Ma(13,g,h,E),c.elementType=N,c.lanes=A,c;case O:return c=Ma(19,g,h,E),c.elementType=O,c.lanes=A,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case C:U=10;break e;case S:U=9;break e;case T:U=11;break e;case _:U=14;break e;case F:U=16,x=null;break e}U=29,g=Error(r(130,c===null?"null":typeof c,"")),x=null}return h=Ma(U,g,h,E),h.elementType=c,h.type=x,h.lanes=A,h}function Ff(c,h,g,x){return c=Ma(7,c,x,h),c.lanes=g,c}function pE(c,h,g){return c=Ma(6,c,null,h),c.lanes=g,c}function YF(c){var h=Ma(18,null,null,0);return h.stateNode=c,h}function mE(c,h,g){return h=Ma(4,c.children!==null?c.children:[],c.key,h),h.lanes=g,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var ZF=new WeakMap;function oo(c,h){if(typeof c=="object"&&c!==null){var g=ZF.get(c);return g!==void 0?g:(h={value:c,source:h,stack:Ot(h)},ZF.set(c,h),h)}return{value:c,source:h,stack:Ot(h)}}var Mp=[],Lp=0,Zx=null,Sy=0,lo=[],uo=0,Qc=null,Ml=1,Ll="";function Lu(c,h){Mp[Lp++]=Sy,Mp[Lp++]=Zx,Zx=c,Sy=h}function QF(c,h,g){lo[uo++]=Ml,lo[uo++]=Ll,lo[uo++]=Qc,Qc=c;var x=Ml;c=Ll;var E=32-mt(x)-1;x&=~(1<<E),g+=1;var A=32-mt(h)+E;if(30<A){var U=E-E%5;A=(x&(1<<U)-1).toString(32),x>>=U,E-=U,Ml=1<<32-mt(h)+E|g<<E|x,Ll=A+c}else Ml=1<<A|g<<E|x,Ll=c}function gE(c){c.return!==null&&(Lu(c,1),QF(c,1,0))}function yE(c){for(;c===Zx;)Zx=Mp[--Lp],Mp[Lp]=null,Sy=Mp[--Lp],Mp[Lp]=null;for(;c===Qc;)Qc=lo[--uo],lo[uo]=null,Ll=lo[--uo],lo[uo]=null,Ml=lo[--uo],lo[uo]=null}function JF(c,h){lo[uo++]=Ml,lo[uo++]=Ll,lo[uo++]=Qc,Ml=h.id,Ll=h.overflow,Qc=c}var ci=null,gr=null,Nn=!1,Jc=null,co=!1,vE=Error(r(519));function ed(c){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cy(oo(h,c)),vE}function e3(c){var h=c.stateNode,g=c.type,x=c.memoizedProps;switch(h[ur]=c,h[rs]=x,g){case"dialog":mn("cancel",h),mn("close",h);break;case"iframe":case"object":case"embed":mn("load",h);break;case"video":case"audio":for(g=0;g<Hy.length;g++)mn(Hy[g],h);break;case"source":mn("error",h);break;case"img":case"image":case"link":mn("error",h),mn("load",h);break;case"details":mn("toggle",h);break;case"input":mn("invalid",h),vp(h,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":mn("invalid",h);break;case"textarea":mn("invalid",h),If(h,x.value,x.defaultValue,x.children)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||x.suppressHydrationWarning===!0||yB(h.textContent,g)?(x.popover!=null&&(mn("beforetoggle",h),mn("toggle",h)),x.onScroll!=null&&mn("scroll",h),x.onScrollEnd!=null&&mn("scrollend",h),x.onClick!=null&&(h.onclick=sa),h=!0):h=!1,h||ed(c,!0)}function t3(c){for(ci=c.return;ci;)switch(ci.tag){case 5:case 31:case 13:co=!1;return;case 27:case 3:co=!0;return;default:ci=ci.return}}function Fp(c){if(c!==ci)return!1;if(!Nn)return t3(c),Nn=!0,!1;var h=c.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||MN(c.type,c.memoizedProps)),g=!g),g&&gr&&ed(c),t3(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));gr=EB(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));gr=EB(c)}else h===27?(h=gr,pd(c.type)?(c=jN,jN=null,gr=c):gr=h):gr=ci?ho(c.stateNode.nextSibling):null;return!0}function zf(){gr=ci=null,Nn=!1}function bE(){var c=Jc;return c!==null&&(ua===null?ua=c:ua.push.apply(ua,c),Jc=null),c}function Cy(c){Jc===null?Jc=[c]:Jc.push(c)}var xE=G(null),Bf=null,Fu=null;function td(c,h,g){ae(xE,h._currentValue),h._currentValue=g}function zu(c){c._currentValue=xE.current,ne(xE)}function wE(c,h,g){for(;c!==null;){var x=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,x!==null&&(x.childLanes|=h)):x!==null&&(x.childLanes&h)!==h&&(x.childLanes|=h),c===g)break;c=c.return}}function SE(c,h,g,x){var E=c.child;for(E!==null&&(E.return=c);E!==null;){var A=E.dependencies;if(A!==null){var U=E.child;A=A.firstContext;e:for(;A!==null;){var Z=A;A=E;for(var le=0;le<h.length;le++)if(Z.context===h[le]){A.lanes|=g,Z=A.alternate,Z!==null&&(Z.lanes|=g),wE(A.return,g,c),x||(U=null);break e}A=Z.next}}else if(E.tag===18){if(U=E.return,U===null)throw Error(r(341));U.lanes|=g,A=U.alternate,A!==null&&(A.lanes|=g),wE(U,g,c),U=null}else U=E.child;if(U!==null)U.return=E;else for(U=E;U!==null;){if(U===c){U=null;break}if(E=U.sibling,E!==null){E.return=U.return,U=E;break}U=U.return}E=U}}function zp(c,h,g,x){c=null;for(var E=h,A=!1;E!==null;){if(!A){if((E.flags&524288)!==0)A=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var U=E.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var Z=E.type;Ei(E.pendingProps.value,U.value)||(c!==null?c.push(Z):c=[Z])}}else if(E===Me.current){if(U=E.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(c!==null?c.push(Yy):c=[Yy])}E=E.return}c!==null&&SE(h,c,g,x),h.flags|=262144}function Qx(c){for(c=c.firstContext;c!==null;){if(!Ei(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function jf(c){Bf=c,Fu=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function di(c){return n3(Bf,c)}function Jx(c,h){return Bf===null&&jf(c),n3(c,h)}function n3(c,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},Fu===null){if(c===null)throw Error(r(308));Fu=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else Fu=Fu.next=h;return g}var xse=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(g,x){c.push(x)}};this.abort=function(){h.aborted=!0,c.forEach(function(g){return g()})}},wse=t.unstable_scheduleCallback,Sse=t.unstable_NormalPriority,ps={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function CE(){return{controller:new xse,data:new Map,refCount:0}}function ky(c){c.refCount--,c.refCount===0&&wse(Sse,function(){c.controller.abort()})}var Ty=null,kE=0,Bp=0,jp=null;function Cse(c,h){if(Ty===null){var g=Ty=[];kE=0,Bp=NN(),jp={status:"pending",value:void 0,then:function(x){g.push(x)}}}return kE++,h.then(r3,r3),h}function r3(){if(--kE===0&&Ty!==null){jp!==null&&(jp.status="fulfilled");var c=Ty;Ty=null,Bp=0,jp=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function kse(c,h){var g=[],x={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return c.then(function(){x.status="fulfilled",x.value=h;for(var E=0;E<g.length;E++)(0,g[E])(h)},function(E){for(x.status="rejected",x.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),x}var s3=V.S;V.S=function(c,h){jz=Lt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Cse(c,h),s3!==null&&s3(c,h)};var Uf=G(null);function TE(){var c=Uf.current;return c!==null?c:ir.pooledCache}function e1(c,h){h===null?ae(Uf,Uf.current):ae(Uf,h.pool)}function i3(){var c=TE();return c===null?null:{parent:ps._currentValue,pool:c}}var Up=Error(r(460)),EE=Error(r(474)),t1=Error(r(542)),n1={then:function(){}};function a3(c){return c=c.status,c==="fulfilled"||c==="rejected"}function o3(c,h,g){switch(g=c[g],g===void 0?c.push(h):g!==h&&(h.then(sa,sa),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,u3(c),c;default:if(typeof h.status=="string")h.then(sa,sa);else{if(c=ir,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=h,c.status="pending",c.then(function(x){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=x}},function(x){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=x}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,u3(c),c}throw Wf=h,Up}}function Vf(c){try{var h=c._init;return h(c._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Wf=g,Up):g}}var Wf=null;function l3(){if(Wf===null)throw Error(r(459));var c=Wf;return Wf=null,c}function u3(c){if(c===Up||c===t1)throw Error(r(483))}var Vp=null,Ey=0;function r1(c){var h=Ey;return Ey+=1,Vp===null&&(Vp=[]),o3(Vp,c,h)}function Ny(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function s1(c,h){throw h.$$typeof===p?Error(r(525)):(c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function c3(c){function h(Ee,ve){if(c){var Re=Ee.deletions;Re===null?(Ee.deletions=[ve],Ee.flags|=16):Re.push(ve)}}function g(Ee,ve){if(!c)return null;for(;ve!==null;)h(Ee,ve),ve=ve.sibling;return null}function x(Ee){for(var ve=new Map;Ee!==null;)Ee.key!==null?ve.set(Ee.key,Ee):ve.set(Ee.index,Ee),Ee=Ee.sibling;return ve}function E(Ee,ve){return Ee=Mu(Ee,ve),Ee.index=0,Ee.sibling=null,Ee}function A(Ee,ve,Re){return Ee.index=Re,c?(Re=Ee.alternate,Re!==null?(Re=Re.index,Re<ve?(Ee.flags|=67108866,ve):Re):(Ee.flags|=67108866,ve)):(Ee.flags|=1048576,ve)}function U(Ee){return c&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function Z(Ee,ve,Re,qe){return ve===null||ve.tag!==6?(ve=pE(Re,Ee.mode,qe),ve.return=Ee,ve):(ve=E(ve,Re),ve.return=Ee,ve)}function le(Ee,ve,Re,qe){var Pt=Re.type;return Pt===v?We(Ee,ve,Re.props.children,qe,Re.key):ve!==null&&(ve.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===F&&Vf(Pt)===ve.type)?(ve=E(ve,Re.props),Ny(ve,Re),ve.return=Ee,ve):(ve=Yx(Re.type,Re.key,Re.props,null,Ee.mode,qe),Ny(ve,Re),ve.return=Ee,ve)}function De(Ee,ve,Re,qe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Re.containerInfo||ve.stateNode.implementation!==Re.implementation?(ve=mE(Re,Ee.mode,qe),ve.return=Ee,ve):(ve=E(ve,Re.children||[]),ve.return=Ee,ve)}function We(Ee,ve,Re,qe,Pt){return ve===null||ve.tag!==7?(ve=Ff(Re,Ee.mode,qe,Pt),ve.return=Ee,ve):(ve=E(ve,Re),ve.return=Ee,ve)}function Xe(Ee,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=pE(""+ve,Ee.mode,Re),ve.return=Ee,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case m:return Re=Yx(ve.type,ve.key,ve.props,null,Ee.mode,Re),Ny(Re,ve),Re.return=Ee,Re;case y:return ve=mE(ve,Ee.mode,Re),ve.return=Ee,ve;case F:return ve=Vf(ve),Xe(Ee,ve,Re)}if(X(ve)||R(ve))return ve=Ff(ve,Ee.mode,Re,null),ve.return=Ee,ve;if(typeof ve.then=="function")return Xe(Ee,r1(ve),Re);if(ve.$$typeof===C)return Xe(Ee,Jx(Ee,ve),Re);s1(Ee,ve)}return null}function Pe(Ee,ve,Re,qe){var Pt=ve!==null?ve.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Pt!==null?null:Z(Ee,ve,""+Re,qe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case m:return Re.key===Pt?le(Ee,ve,Re,qe):null;case y:return Re.key===Pt?De(Ee,ve,Re,qe):null;case F:return Re=Vf(Re),Pe(Ee,ve,Re,qe)}if(X(Re)||R(Re))return Pt!==null?null:We(Ee,ve,Re,qe,null);if(typeof Re.then=="function")return Pe(Ee,ve,r1(Re),qe);if(Re.$$typeof===C)return Pe(Ee,ve,Jx(Ee,Re),qe);s1(Ee,Re)}return null}function ze(Ee,ve,Re,qe,Pt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ee=Ee.get(Re)||null,Z(ve,Ee,""+qe,Pt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case m:return Ee=Ee.get(qe.key===null?Re:qe.key)||null,le(ve,Ee,qe,Pt);case y:return Ee=Ee.get(qe.key===null?Re:qe.key)||null,De(ve,Ee,qe,Pt);case F:return qe=Vf(qe),ze(Ee,ve,Re,qe,Pt)}if(X(qe)||R(qe))return Ee=Ee.get(Re)||null,We(ve,Ee,qe,Pt,null);if(typeof qe.then=="function")return ze(Ee,ve,Re,r1(qe),Pt);if(qe.$$typeof===C)return ze(Ee,ve,Re,Jx(ve,qe),Pt);s1(ve,qe)}return null}function wt(Ee,ve,Re,qe){for(var Pt=null,On=null,Nt=ve,on=ve=0,xn=null;Nt!==null&&on<Re.length;on++){Nt.index>on?(xn=Nt,Nt=null):xn=Nt.sibling;var Rn=Pe(Ee,Nt,Re[on],qe);if(Rn===null){Nt===null&&(Nt=xn);break}c&&Nt&&Rn.alternate===null&&h(Ee,Nt),ve=A(Rn,ve,on),On===null?Pt=Rn:On.sibling=Rn,On=Rn,Nt=xn}if(on===Re.length)return g(Ee,Nt),Nn&&Lu(Ee,on),Pt;if(Nt===null){for(;on<Re.length;on++)Nt=Xe(Ee,Re[on],qe),Nt!==null&&(ve=A(Nt,ve,on),On===null?Pt=Nt:On.sibling=Nt,On=Nt);return Nn&&Lu(Ee,on),Pt}for(Nt=x(Nt);on<Re.length;on++)xn=ze(Nt,Ee,on,Re[on],qe),xn!==null&&(c&&xn.alternate!==null&&Nt.delete(xn.key===null?on:xn.key),ve=A(xn,ve,on),On===null?Pt=xn:On.sibling=xn,On=xn);return c&&Nt.forEach(function(bd){return h(Ee,bd)}),Nn&&Lu(Ee,on),Pt}function Ft(Ee,ve,Re,qe){if(Re==null)throw Error(r(151));for(var Pt=null,On=null,Nt=ve,on=ve=0,xn=null,Rn=Re.next();Nt!==null&&!Rn.done;on++,Rn=Re.next()){Nt.index>on?(xn=Nt,Nt=null):xn=Nt.sibling;var bd=Pe(Ee,Nt,Rn.value,qe);if(bd===null){Nt===null&&(Nt=xn);break}c&&Nt&&bd.alternate===null&&h(Ee,Nt),ve=A(bd,ve,on),On===null?Pt=bd:On.sibling=bd,On=bd,Nt=xn}if(Rn.done)return g(Ee,Nt),Nn&&Lu(Ee,on),Pt;if(Nt===null){for(;!Rn.done;on++,Rn=Re.next())Rn=Xe(Ee,Rn.value,qe),Rn!==null&&(ve=A(Rn,ve,on),On===null?Pt=Rn:On.sibling=Rn,On=Rn);return Nn&&Lu(Ee,on),Pt}for(Nt=x(Nt);!Rn.done;on++,Rn=Re.next())Rn=ze(Nt,Ee,on,Rn.value,qe),Rn!==null&&(c&&Rn.alternate!==null&&Nt.delete(Rn.key===null?on:Rn.key),ve=A(Rn,ve,on),On===null?Pt=Rn:On.sibling=Rn,On=Rn);return c&&Nt.forEach(function(Pie){return h(Ee,Pie)}),Nn&&Lu(Ee,on),Pt}function Jn(Ee,ve,Re,qe){if(typeof Re=="object"&&Re!==null&&Re.type===v&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case m:e:{for(var Pt=Re.key;ve!==null;){if(ve.key===Pt){if(Pt=Re.type,Pt===v){if(ve.tag===7){g(Ee,ve.sibling),qe=E(ve,Re.props.children),qe.return=Ee,Ee=qe;break e}}else if(ve.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===F&&Vf(Pt)===ve.type){g(Ee,ve.sibling),qe=E(ve,Re.props),Ny(qe,Re),qe.return=Ee,Ee=qe;break e}g(Ee,ve);break}else h(Ee,ve);ve=ve.sibling}Re.type===v?(qe=Ff(Re.props.children,Ee.mode,qe,Re.key),qe.return=Ee,Ee=qe):(qe=Yx(Re.type,Re.key,Re.props,null,Ee.mode,qe),Ny(qe,Re),qe.return=Ee,Ee=qe)}return U(Ee);case y:e:{for(Pt=Re.key;ve!==null;){if(ve.key===Pt)if(ve.tag===4&&ve.stateNode.containerInfo===Re.containerInfo&&ve.stateNode.implementation===Re.implementation){g(Ee,ve.sibling),qe=E(ve,Re.children||[]),qe.return=Ee,Ee=qe;break e}else{g(Ee,ve);break}else h(Ee,ve);ve=ve.sibling}qe=mE(Re,Ee.mode,qe),qe.return=Ee,Ee=qe}return U(Ee);case F:return Re=Vf(Re),Jn(Ee,ve,Re,qe)}if(X(Re))return wt(Ee,ve,Re,qe);if(R(Re)){if(Pt=R(Re),typeof Pt!="function")throw Error(r(150));return Re=Pt.call(Re),Ft(Ee,ve,Re,qe)}if(typeof Re.then=="function")return Jn(Ee,ve,r1(Re),qe);if(Re.$$typeof===C)return Jn(Ee,ve,Jx(Ee,Re),qe);s1(Ee,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,ve!==null&&ve.tag===6?(g(Ee,ve.sibling),qe=E(ve,Re),qe.return=Ee,Ee=qe):(g(Ee,ve),qe=pE(Re,Ee.mode,qe),qe.return=Ee,Ee=qe),U(Ee)):g(Ee,ve)}return function(Ee,ve,Re,qe){try{Ey=0;var Pt=Jn(Ee,ve,Re,qe);return Vp=null,Pt}catch(Nt){if(Nt===Up||Nt===t1)throw Nt;var On=Ma(29,Nt,null,Ee.mode);return On.lanes=qe,On.return=Ee,On}}}var Hf=c3(!0),d3=c3(!1),nd=!1;function NE(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $E(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function rd(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function sd(c,h,g){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,(Mn&2)!==0){var E=x.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),x.pending=h,h=hs(c),Lf(c,null,g),h}return jt(c,x,h,g),hs(c)}function $y(c,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var x=h.lanes;x&=c.pendingLanes,g|=x,h.lanes=g,sr(c,g)}}function IE(c,h){var g=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var E=null,A=null;if(g=g.firstBaseUpdate,g!==null){do{var U={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};A===null?E=A=U:A=A.next=U,g=g.next}while(g!==null);A===null?E=A=h:A=A.next=h}else E=A=h;g={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:x.shared,callbacks:x.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=h}var AE=!1;function Iy(){if(AE){var c=jp;if(c!==null)throw c}}function Ay(c,h,g,x){AE=!1;var E=c.updateQueue;nd=!1;var A=E.firstBaseUpdate,U=E.lastBaseUpdate,Z=E.shared.pending;if(Z!==null){E.shared.pending=null;var le=Z,De=le.next;le.next=null,U===null?A=De:U.next=De,U=le;var We=c.alternate;We!==null&&(We=We.updateQueue,Z=We.lastBaseUpdate,Z!==U&&(Z===null?We.firstBaseUpdate=De:Z.next=De,We.lastBaseUpdate=le))}if(A!==null){var Xe=E.baseState;U=0,We=De=le=null,Z=A;do{var Pe=Z.lane&-536870913,ze=Pe!==Z.lane;if(ze?(bn&Pe)===Pe:(x&Pe)===Pe){Pe!==0&&Pe===Bp&&(AE=!0),We!==null&&(We=We.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var wt=c,Ft=Z;Pe=h;var Jn=g;switch(Ft.tag){case 1:if(wt=Ft.payload,typeof wt=="function"){Xe=wt.call(Jn,Xe,Pe);break e}Xe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Ft.payload,Pe=typeof wt=="function"?wt.call(Jn,Xe,Pe):wt,Pe==null)break e;Xe=f({},Xe,Pe);break e;case 2:nd=!0}}Pe=Z.callback,Pe!==null&&(c.flags|=64,ze&&(c.flags|=8192),ze=E.callbacks,ze===null?E.callbacks=[Pe]:ze.push(Pe))}else ze={lane:Pe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},We===null?(De=We=ze,le=Xe):We=We.next=ze,U|=Pe;if(Z=Z.next,Z===null){if(Z=E.shared.pending,Z===null)break;ze=Z,Z=ze.next,ze.next=null,E.lastBaseUpdate=ze,E.shared.pending=null}}while(!0);We===null&&(le=Xe),E.baseState=le,E.firstBaseUpdate=De,E.lastBaseUpdate=We,A===null&&(E.shared.lanes=0),ud|=U,c.lanes=U,c.memoizedState=Xe}}function f3(c,h){if(typeof c!="function")throw Error(r(191,c));c.call(h)}function h3(c,h){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)f3(g[c],h)}var Wp=G(null),i1=G(0);function p3(c,h){c=Ku,ae(i1,c),ae(Wp,h),Ku=c|h.baseLanes}function OE(){ae(i1,Ku),ae(Wp,Wp.current)}function RE(){Ku=i1.current,ne(Wp),ne(i1)}var La=G(null),fo=null;function id(c){var h=c.alternate;ae(is,is.current&1),ae(La,c),fo===null&&(h===null||Wp.current!==null||h.memoizedState!==null)&&(fo=c)}function DE(c){ae(is,is.current),ae(La,c),fo===null&&(fo=c)}function m3(c){c.tag===22?(ae(is,is.current),ae(La,c),fo===null&&(fo=c)):ad()}function ad(){ae(is,is.current),ae(La,La.current)}function Fa(c){ne(La),fo===c&&(fo=null),ne(is)}var is=G(0);function a1(c){for(var h=c;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||zN(g)||BN(g)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Bu=0,Jt=null,Zn=null,ms=null,o1=!1,Hp=!1,Gf=!1,l1=0,Oy=0,Gp=null,Tse=0;function jr(){throw Error(r(321))}function _E(c,h){if(h===null)return!1;for(var g=0;g<h.length&&g<c.length;g++)if(!Ei(c[g],h[g]))return!1;return!0}function PE(c,h,g,x,E,A){return Bu=A,Jt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,V.H=c===null||c.memoizedState===null?Q3:YE,Gf=!1,A=g(x,E),Gf=!1,Hp&&(A=y3(h,g,x,E)),g3(c),A}function g3(c){V.H=_y;var h=Zn!==null&&Zn.next!==null;if(Bu=0,ms=Zn=Jt=null,o1=!1,Oy=0,Gp=null,h)throw Error(r(300));c===null||gs||(c=c.dependencies,c!==null&&Qx(c)&&(gs=!0))}function y3(c,h,g,x){Jt=c;var E=0;do{if(Hp&&(Gp=null),Oy=0,Hp=!1,25<=E)throw Error(r(301));if(E+=1,ms=Zn=null,c.updateQueue!=null){var A=c.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}V.H=J3,A=h(g,x)}while(Hp);return A}function Ese(){var c=V.H,h=c.useState()[0];return h=typeof h.then=="function"?Ry(h):h,c=c.useState()[0],(Zn!==null?Zn.memoizedState:null)!==c&&(Jt.flags|=1024),h}function ME(){var c=l1!==0;return l1=0,c}function LE(c,h,g){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~g}function FE(c){if(o1){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}o1=!1}Bu=0,ms=Zn=Jt=null,Hp=!1,Oy=l1=0,Gp=null}function Gi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ms===null?Jt.memoizedState=ms=c:ms=ms.next=c,ms}function as(){if(Zn===null){var c=Jt.alternate;c=c!==null?c.memoizedState:null}else c=Zn.next;var h=ms===null?Jt.memoizedState:ms.next;if(h!==null)ms=h,Zn=c;else{if(c===null)throw Jt.alternate===null?Error(r(467)):Error(r(310));Zn=c,c={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ms===null?Jt.memoizedState=ms=c:ms=ms.next=c}return ms}function u1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ry(c){var h=Oy;return Oy+=1,Gp===null&&(Gp=[]),c=o3(Gp,c,h),h=Jt,(ms===null?h.memoizedState:ms.next)===null&&(h=h.alternate,V.H=h===null||h.memoizedState===null?Q3:YE),c}function c1(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ry(c);if(c.$$typeof===C)return di(c)}throw Error(r(438,String(c)))}function zE(c){var h=null,g=Jt.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var x=Jt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(h={data:x.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=u1(),Jt.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(c),x=0;x<c;x++)g[x]=z;return h.index++,g}function ju(c,h){return typeof h=="function"?h(c):h}function d1(c){var h=as();return BE(h,Zn,c)}function BE(c,h,g){var x=c.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=g;var E=c.baseQueue,A=x.pending;if(A!==null){if(E!==null){var U=E.next;E.next=A.next,A.next=U}h.baseQueue=E=A,x.pending=null}if(A=c.baseState,E===null)c.memoizedState=A;else{h=E.next;var Z=U=null,le=null,De=h,We=!1;do{var Xe=De.lane&-536870913;if(Xe!==De.lane?(bn&Xe)===Xe:(Bu&Xe)===Xe){var Pe=De.revertLane;if(Pe===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Xe===Bp&&(We=!0);else if((Bu&Pe)===Pe){De=De.next,Pe===Bp&&(We=!0);continue}else Xe={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},le===null?(Z=le=Xe,U=A):le=le.next=Xe,Jt.lanes|=Pe,ud|=Pe;Xe=De.action,Gf&&g(A,Xe),A=De.hasEagerState?De.eagerState:g(A,Xe)}else Pe={lane:Xe,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},le===null?(Z=le=Pe,U=A):le=le.next=Pe,Jt.lanes|=Xe,ud|=Xe;De=De.next}while(De!==null&&De!==h);if(le===null?U=A:le.next=Z,!Ei(A,c.memoizedState)&&(gs=!0,We&&(g=jp,g!==null)))throw g;c.memoizedState=A,c.baseState=U,c.baseQueue=le,x.lastRenderedState=A}return E===null&&(x.lanes=0),[c.memoizedState,x.dispatch]}function jE(c){var h=as(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var x=g.dispatch,E=g.pending,A=h.memoizedState;if(E!==null){g.pending=null;var U=E=E.next;do A=c(A,U.action),U=U.next;while(U!==E);Ei(A,h.memoizedState)||(gs=!0),h.memoizedState=A,h.baseQueue===null&&(h.baseState=A),g.lastRenderedState=A}return[A,x]}function v3(c,h,g){var x=Jt,E=as(),A=Nn;if(A){if(g===void 0)throw Error(r(407));g=g()}else g=h();var U=!Ei((Zn||E).memoizedState,g);if(U&&(E.memoizedState=g,gs=!0),E=E.queue,WE(w3.bind(null,x,E,c),[c]),E.getSnapshot!==h||U||ms!==null&&ms.memoizedState.tag&1){if(x.flags|=2048,qp(9,{destroy:void 0},x3.bind(null,x,E,g,h),null),ir===null)throw Error(r(349));A||(Bu&127)!==0||b3(x,h,g)}return g}function b3(c,h,g){c.flags|=16384,c={getSnapshot:h,value:g},h=Jt.updateQueue,h===null?(h=u1(),Jt.updateQueue=h,h.stores=[c]):(g=h.stores,g===null?h.stores=[c]:g.push(c))}function x3(c,h,g,x){h.value=g,h.getSnapshot=x,S3(h)&&C3(c)}function w3(c,h,g){return g(function(){S3(h)&&C3(c)})}function S3(c){var h=c.getSnapshot;c=c.value;try{var g=h();return!Ei(c,g)}catch{return!0}}function C3(c){var h=kr(c,2);h!==null&&ca(h,c,2)}function UE(c){var h=Gi();if(typeof c=="function"){var g=c;if(c=g(),Gf){ts(!0);try{g()}finally{ts(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:c},h}function k3(c,h,g,x){return c.baseState=g,BE(c,Zn,typeof x=="function"?x:ju)}function Nse(c,h,g,x,E){if(p1(c))throw Error(r(485));if(c=h.action,c!==null){var A={payload:E,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){A.listeners.push(U)}};V.T!==null?g(!0):A.isTransition=!1,x(A),g=h.pending,g===null?(A.next=h.pending=A,T3(h,A)):(A.next=g.next,h.pending=g.next=A)}}function T3(c,h){var g=h.action,x=h.payload,E=c.state;if(h.isTransition){var A=V.T,U={};V.T=U;try{var Z=g(E,x),le=V.S;le!==null&&le(U,Z),E3(c,h,Z)}catch(De){VE(c,h,De)}finally{A!==null&&U.types!==null&&(A.types=U.types),V.T=A}}else try{A=g(E,x),E3(c,h,A)}catch(De){VE(c,h,De)}}function E3(c,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){N3(c,h,x)},function(x){return VE(c,h,x)}):N3(c,h,g)}function N3(c,h,g){h.status="fulfilled",h.value=g,$3(h),c.state=g,h=c.pending,h!==null&&(g=h.next,g===h?c.pending=null:(g=g.next,h.next=g,T3(c,g)))}function VE(c,h,g){var x=c.pending;if(c.pending=null,x!==null){x=x.next;do h.status="rejected",h.reason=g,$3(h),h=h.next;while(h!==x)}c.action=null}function $3(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function I3(c,h){return h}function A3(c,h){if(Nn){var g=ir.formState;if(g!==null){e:{var x=Jt;if(Nn){if(gr){t:{for(var E=gr,A=co;E.nodeType!==8;){if(!A){E=null;break t}if(E=ho(E.nextSibling),E===null){E=null;break t}}A=E.data,E=A==="F!"||A==="F"?E:null}if(E){gr=ho(E.nextSibling),x=E.data==="F!";break e}}ed(x)}x=!1}x&&(h=g[0])}}return g=Gi(),g.memoizedState=g.baseState=h,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I3,lastRenderedState:h},g.queue=x,g=X3.bind(null,Jt,x),x.dispatch=g,x=UE(!1),A=XE.bind(null,Jt,!1,x.queue),x=Gi(),E={state:h,dispatch:null,action:c,pending:null},x.queue=E,g=Nse.bind(null,Jt,E,A,g),E.dispatch=g,x.memoizedState=c,[h,g,!1]}function O3(c){var h=as();return R3(h,Zn,c)}function R3(c,h,g){if(h=BE(c,h,I3)[0],c=d1(ju)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var x=Ry(h)}catch(U){throw U===Up?t1:U}else x=h;h=as();var E=h.queue,A=E.dispatch;return g!==h.memoizedState&&(Jt.flags|=2048,qp(9,{destroy:void 0},$se.bind(null,E,g),null)),[x,A,c]}function $se(c,h){c.action=h}function D3(c){var h=as(),g=Zn;if(g!==null)return R3(h,g,c);as(),h=h.memoizedState,g=as();var x=g.queue.dispatch;return g.memoizedState=c,[h,x,!1]}function qp(c,h,g,x){return c={tag:c,create:g,deps:x,inst:h,next:null},h=Jt.updateQueue,h===null&&(h=u1(),Jt.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=c.next=c:(x=g.next,g.next=c,c.next=x,h.lastEffect=c),c}function _3(){return as().memoizedState}function f1(c,h,g,x){var E=Gi();Jt.flags|=c,E.memoizedState=qp(1|h,{destroy:void 0},g,x===void 0?null:x)}function h1(c,h,g,x){var E=as();x=x===void 0?null:x;var A=E.memoizedState.inst;Zn!==null&&x!==null&&_E(x,Zn.memoizedState.deps)?E.memoizedState=qp(h,A,g,x):(Jt.flags|=c,E.memoizedState=qp(1|h,A,g,x))}function P3(c,h){f1(8390656,8,c,h)}function WE(c,h){h1(2048,8,c,h)}function Ise(c){Jt.flags|=4;var h=Jt.updateQueue;if(h===null)h=u1(),Jt.updateQueue=h,h.events=[c];else{var g=h.events;g===null?h.events=[c]:g.push(c)}}function M3(c){var h=as().memoizedState;return Ise({ref:h,nextImpl:c}),function(){if((Mn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function L3(c,h){return h1(4,2,c,h)}function F3(c,h){return h1(4,4,c,h)}function z3(c,h){if(typeof h=="function"){c=c();var g=h(c);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function B3(c,h,g){g=g!=null?g.concat([c]):null,h1(4,4,z3.bind(null,h,c),g)}function HE(){}function j3(c,h){var g=as();h=h===void 0?null:h;var x=g.memoizedState;return h!==null&&_E(h,x[1])?x[0]:(g.memoizedState=[c,h],c)}function U3(c,h){var g=as();h=h===void 0?null:h;var x=g.memoizedState;if(h!==null&&_E(h,x[1]))return x[0];if(x=c(),Gf){ts(!0);try{c()}finally{ts(!1)}}return g.memoizedState=[x,h],x}function GE(c,h,g){return g===void 0||(Bu&1073741824)!==0&&(bn&261930)===0?c.memoizedState=h:(c.memoizedState=g,c=Vz(),Jt.lanes|=c,ud|=c,g)}function V3(c,h,g,x){return Ei(g,h)?g:Wp.current!==null?(c=GE(c,g,x),Ei(c,h)||(gs=!0),c):(Bu&42)===0||(Bu&1073741824)!==0&&(bn&261930)===0?(gs=!0,c.memoizedState=g):(c=Vz(),Jt.lanes|=c,ud|=c,h)}function W3(c,h,g,x,E){var A=ee.p;ee.p=A!==0&&8>A?A:8;var U=V.T,Z={};V.T=Z,XE(c,!1,h,g);try{var le=E(),De=V.S;if(De!==null&&De(Z,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var We=kse(le,x);Dy(c,h,We,ja(c))}else Dy(c,h,x,ja(c))}catch(Xe){Dy(c,h,{then:function(){},status:"rejected",reason:Xe},ja())}finally{ee.p=A,U!==null&&Z.types!==null&&(U.types=Z.types),V.T=U}}function Ase(){}function qE(c,h,g,x){if(c.tag!==5)throw Error(r(476));var E=H3(c).queue;W3(c,E,h,J,g===null?Ase:function(){return G3(c),g(x)})}function H3(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:J},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:g},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function G3(c){var h=H3(c);h.next===null&&(h=c.alternate.memoizedState),Dy(c,h.next.queue,{},ja())}function KE(){return di(Yy)}function q3(){return as().memoizedState}function K3(){return as().memoizedState}function Ose(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var g=ja();c=rd(g);var x=sd(h,c,g);x!==null&&(ca(x,h,g),$y(x,h,g)),h={cache:CE()},c.payload=h;return}h=h.return}}function Rse(c,h,g){var x=ja();g={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},p1(c)?Y3(h,g):(g=fs(c,h,g,x),g!==null&&(ca(g,c,x),Z3(g,h,x)))}function X3(c,h,g){var x=ja();Dy(c,h,g,x)}function Dy(c,h,g,x){var E={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(p1(c))Y3(h,E);else{var A=c.alternate;if(c.lanes===0&&(A===null||A.lanes===0)&&(A=h.lastRenderedReducer,A!==null))try{var U=h.lastRenderedState,Z=A(U,g);if(E.hasEagerState=!0,E.eagerState=Z,Ei(Z,U))return jt(c,h,E,0),ir===null&&Gs(),!1}catch{}if(g=fs(c,h,E,x),g!==null)return ca(g,c,x),Z3(g,h,x),!0}return!1}function XE(c,h,g,x){if(x={lane:2,revertLane:NN(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},p1(c)){if(h)throw Error(r(479))}else h=fs(c,g,x,2),h!==null&&ca(h,c,2)}function p1(c){var h=c.alternate;return c===Jt||h!==null&&h===Jt}function Y3(c,h){Hp=o1=!0;var g=c.pending;g===null?h.next=h:(h.next=g.next,g.next=h),c.pending=h}function Z3(c,h,g){if((g&4194048)!==0){var x=h.lanes;x&=c.pendingLanes,g|=x,h.lanes=g,sr(c,g)}}var _y={readContext:di,use:c1,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};_y.useEffectEvent=jr;var Q3={readContext:di,use:c1,useCallback:function(c,h){return Gi().memoizedState=[c,h===void 0?null:h],c},useContext:di,useEffect:P3,useImperativeHandle:function(c,h,g){g=g!=null?g.concat([c]):null,f1(4194308,4,z3.bind(null,h,c),g)},useLayoutEffect:function(c,h){return f1(4194308,4,c,h)},useInsertionEffect:function(c,h){f1(4,2,c,h)},useMemo:function(c,h){var g=Gi();h=h===void 0?null:h;var x=c();if(Gf){ts(!0);try{c()}finally{ts(!1)}}return g.memoizedState=[x,h],x},useReducer:function(c,h,g){var x=Gi();if(g!==void 0){var E=g(h);if(Gf){ts(!0);try{g(h)}finally{ts(!1)}}}else E=h;return x.memoizedState=x.baseState=E,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:E},x.queue=c,c=c.dispatch=Rse.bind(null,Jt,c),[x.memoizedState,c]},useRef:function(c){var h=Gi();return c={current:c},h.memoizedState=c},useState:function(c){c=UE(c);var h=c.queue,g=X3.bind(null,Jt,h);return h.dispatch=g,[c.memoizedState,g]},useDebugValue:HE,useDeferredValue:function(c,h){var g=Gi();return GE(g,c,h)},useTransition:function(){var c=UE(!1);return c=W3.bind(null,Jt,c.queue,!0,!1),Gi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,g){var x=Jt,E=Gi();if(Nn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=h(),ir===null)throw Error(r(349));(bn&127)!==0||b3(x,h,g)}E.memoizedState=g;var A={value:g,getSnapshot:h};return E.queue=A,P3(w3.bind(null,x,A,c),[c]),x.flags|=2048,qp(9,{destroy:void 0},x3.bind(null,x,A,g,h),null),g},useId:function(){var c=Gi(),h=ir.identifierPrefix;if(Nn){var g=Ll,x=Ml;g=(x&~(1<<32-mt(x)-1)).toString(32)+g,h="_"+h+"R_"+g,g=l1++,0<g&&(h+="H"+g.toString(32)),h+="_"}else g=Tse++,h="_"+h+"r_"+g.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:KE,useFormState:A3,useActionState:A3,useOptimistic:function(c){var h=Gi();h.memoizedState=h.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=XE.bind(null,Jt,!0,g),g.dispatch=h,[c,h]},useMemoCache:zE,useCacheRefresh:function(){return Gi().memoizedState=Ose.bind(null,Jt)},useEffectEvent:function(c){var h=Gi(),g={impl:c};return h.memoizedState=g,function(){if((Mn&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},YE={readContext:di,use:c1,useCallback:j3,useContext:di,useEffect:WE,useImperativeHandle:B3,useInsertionEffect:L3,useLayoutEffect:F3,useMemo:U3,useReducer:d1,useRef:_3,useState:function(){return d1(ju)},useDebugValue:HE,useDeferredValue:function(c,h){var g=as();return V3(g,Zn.memoizedState,c,h)},useTransition:function(){var c=d1(ju)[0],h=as().memoizedState;return[typeof c=="boolean"?c:Ry(c),h]},useSyncExternalStore:v3,useId:q3,useHostTransitionStatus:KE,useFormState:O3,useActionState:O3,useOptimistic:function(c,h){var g=as();return k3(g,Zn,c,h)},useMemoCache:zE,useCacheRefresh:K3};YE.useEffectEvent=M3;var J3={readContext:di,use:c1,useCallback:j3,useContext:di,useEffect:WE,useImperativeHandle:B3,useInsertionEffect:L3,useLayoutEffect:F3,useMemo:U3,useReducer:jE,useRef:_3,useState:function(){return jE(ju)},useDebugValue:HE,useDeferredValue:function(c,h){var g=as();return Zn===null?GE(g,c,h):V3(g,Zn.memoizedState,c,h)},useTransition:function(){var c=jE(ju)[0],h=as().memoizedState;return[typeof c=="boolean"?c:Ry(c),h]},useSyncExternalStore:v3,useId:q3,useHostTransitionStatus:KE,useFormState:D3,useActionState:D3,useOptimistic:function(c,h){var g=as();return Zn!==null?k3(g,Zn,c,h):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:zE,useCacheRefresh:K3};J3.useEffectEvent=M3;function ZE(c,h,g,x){h=c.memoizedState,g=g(x,h),g=g==null?h:f({},h,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var QE={enqueueSetState:function(c,h,g){c=c._reactInternals;var x=ja(),E=rd(x);E.payload=h,g!=null&&(E.callback=g),h=sd(c,E,x),h!==null&&(ca(h,c,x),$y(h,c,x))},enqueueReplaceState:function(c,h,g){c=c._reactInternals;var x=ja(),E=rd(x);E.tag=1,E.payload=h,g!=null&&(E.callback=g),h=sd(c,E,x),h!==null&&(ca(h,c,x),$y(h,c,x))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var g=ja(),x=rd(g);x.tag=2,h!=null&&(x.callback=h),h=sd(c,x,g),h!==null&&(ca(h,c,g),$y(h,c,g))}};function ez(c,h,g,x,E,A,U){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,A,U):h.prototype&&h.prototype.isPureReactComponent?!k(g,x)||!k(E,A):!0}function tz(c,h,g,x){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,x),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,x),h.state!==c&&QE.enqueueReplaceState(h,h.state,null)}function qf(c,h){var g=h;if("ref"in h){g={};for(var x in h)x!=="ref"&&(g[x]=h[x])}if(c=c.defaultProps){g===h&&(g=f({},g));for(var E in c)g[E]===void 0&&(g[E]=c[E])}return g}function nz(c){vt(c)}function rz(c){console.error(c)}function sz(c){vt(c)}function m1(c,h){try{var g=c.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(x){setTimeout(function(){throw x})}}function iz(c,h,g){try{var x=c.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function JE(c,h,g){return g=rd(g),g.tag=3,g.payload={element:null},g.callback=function(){m1(c,h)},g}function az(c){return c=rd(c),c.tag=3,c}function oz(c,h,g,x){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var A=x.value;c.payload=function(){return E(A)},c.callback=function(){iz(h,g,x)}}var U=g.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(c.callback=function(){iz(h,g,x),typeof E!="function"&&(cd===null?cd=new Set([this]):cd.add(this));var Z=x.stack;this.componentDidCatch(x.value,{componentStack:Z!==null?Z:""})})}function Dse(c,h,g,x,E){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(h=g.alternate,h!==null&&zp(h,g,E,!0),g=La.current,g!==null){switch(g.tag){case 31:case 13:return fo===null?N1():g.alternate===null&&Ur===0&&(Ur=3),g.flags&=-257,g.flags|=65536,g.lanes=E,x===n1?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([x]):h.add(x),kN(c,x,E)),!1;case 22:return g.flags|=65536,x===n1?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([x]):g.add(x)),kN(c,x,E)),!1}throw Error(r(435,g.tag))}return kN(c,x,E),N1(),!1}if(Nn)return h=La.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,x!==vE&&(c=Error(r(422),{cause:x}),Cy(oo(c,g)))):(x!==vE&&(h=Error(r(423),{cause:x}),Cy(oo(h,g))),c=c.current.alternate,c.flags|=65536,E&=-E,c.lanes|=E,x=oo(x,g),E=JE(c.stateNode,x,E),IE(c,E),Ur!==4&&(Ur=2)),!1;var A=Error(r(520),{cause:x});if(A=oo(A,g),Uy===null?Uy=[A]:Uy.push(A),Ur!==4&&(Ur=2),h===null)return!0;x=oo(x,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,c=E&-E,g.lanes|=c,c=JE(g.stateNode,x,c),IE(g,c),!1;case 1:if(h=g.type,A=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(cd===null||!cd.has(A))))return g.flags|=65536,E&=-E,g.lanes|=E,E=az(E),oz(E,c,g,x),IE(g,E),!1}g=g.return}while(g!==null);return!1}var eN=Error(r(461)),gs=!1;function fi(c,h,g,x){h.child=c===null?d3(h,null,g,x):Hf(h,c.child,g,x)}function lz(c,h,g,x,E){g=g.render;var A=h.ref;if("ref"in x){var U={};for(var Z in x)Z!=="ref"&&(U[Z]=x[Z])}else U=x;return jf(h),x=PE(c,h,g,U,A,E),Z=ME(),c!==null&&!gs?(LE(c,h,E),Uu(c,h,E)):(Nn&&Z&&gE(h),h.flags|=1,fi(c,h,x,E),h.child)}function uz(c,h,g,x,E){if(c===null){var A=g.type;return typeof A=="function"&&!hE(A)&&A.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=A,cz(c,h,A,x,E)):(c=Yx(g.type,null,x,h,h.mode,E),c.ref=h.ref,c.return=h,h.child=c)}if(A=c.child,!lN(c,E)){var U=A.memoizedProps;if(g=g.compare,g=g!==null?g:k,g(U,x)&&c.ref===h.ref)return Uu(c,h,E)}return h.flags|=1,c=Mu(A,x),c.ref=h.ref,c.return=h,h.child=c}function cz(c,h,g,x,E){if(c!==null){var A=c.memoizedProps;if(k(A,x)&&c.ref===h.ref)if(gs=!1,h.pendingProps=x=A,lN(c,E))(c.flags&131072)!==0&&(gs=!0);else return h.lanes=c.lanes,Uu(c,h,E)}return tN(c,h,g,x,E)}function dz(c,h,g,x){var E=x.children,A=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((h.flags&128)!==0){if(A=A!==null?A.baseLanes|g:g,c!==null){for(x=h.child=c.child,E=0;x!==null;)E=E|x.lanes|x.childLanes,x=x.sibling;x=E&~A}else x=0,h.child=null;return fz(c,h,A,g,x)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&e1(h,A!==null?A.cachePool:null),A!==null?p3(h,A):OE(),m3(h);else return x=h.lanes=536870912,fz(c,h,A!==null?A.baseLanes|g:g,g,x)}else A!==null?(e1(h,A.cachePool),p3(h,A),ad(),h.memoizedState=null):(c!==null&&e1(h,null),OE(),ad());return fi(c,h,E,g),h.child}function Py(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function fz(c,h,g,x,E){var A=TE();return A=A===null?null:{parent:ps._currentValue,pool:A},h.memoizedState={baseLanes:g,cachePool:A},c!==null&&e1(h,null),OE(),m3(h),c!==null&&zp(c,h,x,!0),h.childLanes=E,null}function g1(c,h){return h=v1({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function hz(c,h,g){return Hf(h,c.child,null,g),c=g1(h,h.pendingProps),c.flags|=2,Fa(h),h.memoizedState=null,c}function _se(c,h,g){var x=h.pendingProps,E=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(Nn){if(x.mode==="hidden")return c=g1(h,x),h.lanes=536870912,Py(null,c);if(DE(h),(c=gr)?(c=TB(c,co),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Qc!==null?{id:Ml,overflow:Ll}:null,retryLane:536870912,hydrationErrors:null},g=YF(c),g.return=h,h.child=g,ci=h,gr=null)):c=null,c===null)throw ed(h);return h.lanes=536870912,null}return g1(h,x)}var A=c.memoizedState;if(A!==null){var U=A.dehydrated;if(DE(h),E)if(h.flags&256)h.flags&=-257,h=hz(c,h,g);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(r(558));else if(gs||zp(c,h,g,!1),E=(g&c.childLanes)!==0,gs||E){if(x=ir,x!==null&&(U=ns(x,g),U!==0&&U!==A.retryLane))throw A.retryLane=U,kr(c,U),ca(x,c,U),eN;N1(),h=hz(c,h,g)}else c=A.treeContext,gr=ho(U.nextSibling),ci=h,Nn=!0,Jc=null,co=!1,c!==null&&JF(h,c),h=g1(h,x),h.flags|=4096;return h}return c=Mu(c.child,{mode:x.mode,children:x.children}),c.ref=h.ref,h.child=c,c.return=h,c}function y1(c,h){var g=h.ref;if(g===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(c===null||c.ref!==g)&&(h.flags|=4194816)}}function tN(c,h,g,x,E){return jf(h),g=PE(c,h,g,x,void 0,E),x=ME(),c!==null&&!gs?(LE(c,h,E),Uu(c,h,E)):(Nn&&x&&gE(h),h.flags|=1,fi(c,h,g,E),h.child)}function pz(c,h,g,x,E,A){return jf(h),h.updateQueue=null,g=y3(h,x,g,E),g3(c),x=ME(),c!==null&&!gs?(LE(c,h,A),Uu(c,h,A)):(Nn&&x&&gE(h),h.flags|=1,fi(c,h,g,A),h.child)}function mz(c,h,g,x,E){if(jf(h),h.stateNode===null){var A=ia,U=g.contextType;typeof U=="object"&&U!==null&&(A=di(U)),A=new g(x,A),h.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=QE,h.stateNode=A,A._reactInternals=h,A=h.stateNode,A.props=x,A.state=h.memoizedState,A.refs={},NE(h),U=g.contextType,A.context=typeof U=="object"&&U!==null?di(U):ia,A.state=h.memoizedState,U=g.getDerivedStateFromProps,typeof U=="function"&&(ZE(h,g,U,x),A.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(U=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),U!==A.state&&QE.enqueueReplaceState(A,A.state,null),Ay(h,x,A,E),Iy(),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308),x=!0}else if(c===null){A=h.stateNode;var Z=h.memoizedProps,le=qf(g,Z);A.props=le;var De=A.context,We=g.contextType;U=ia,typeof We=="object"&&We!==null&&(U=di(We));var Xe=g.getDerivedStateFromProps;We=typeof Xe=="function"||typeof A.getSnapshotBeforeUpdate=="function",Z=h.pendingProps!==Z,We||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Z||De!==U)&&tz(h,A,x,U),nd=!1;var Pe=h.memoizedState;A.state=Pe,Ay(h,x,A,E),Iy(),De=h.memoizedState,Z||Pe!==De||nd?(typeof Xe=="function"&&(ZE(h,g,Xe,x),De=h.memoizedState),(le=nd||ez(h,g,le,x,Pe,De,U))?(We||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(h.flags|=4194308)):(typeof A.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=x,h.memoizedState=De),A.props=x,A.state=De,A.context=U,x=le):(typeof A.componentDidMount=="function"&&(h.flags|=4194308),x=!1)}else{A=h.stateNode,$E(c,h),U=h.memoizedProps,We=qf(g,U),A.props=We,Xe=h.pendingProps,Pe=A.context,De=g.contextType,le=ia,typeof De=="object"&&De!==null&&(le=di(De)),Z=g.getDerivedStateFromProps,(De=typeof Z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==Xe||Pe!==le)&&tz(h,A,x,le),nd=!1,Pe=h.memoizedState,A.state=Pe,Ay(h,x,A,E),Iy();var ze=h.memoizedState;U!==Xe||Pe!==ze||nd||c!==null&&c.dependencies!==null&&Qx(c.dependencies)?(typeof Z=="function"&&(ZE(h,g,Z,x),ze=h.memoizedState),(We=nd||ez(h,g,We,x,Pe,ze,le)||c!==null&&c.dependencies!==null&&Qx(c.dependencies))?(De||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,ze,le),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,ze,le)),typeof A.componentDidUpdate=="function"&&(h.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=1024),h.memoizedProps=x,h.memoizedState=ze),A.props=x,A.state=ze,A.context=le,x=We):(typeof A.componentDidUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=1024),x=!1)}return A=x,y1(c,h),x=(h.flags&128)!==0,A||x?(A=h.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:A.render(),h.flags|=1,c!==null&&x?(h.child=Hf(h,c.child,null,E),h.child=Hf(h,null,g,E)):fi(c,h,g,E),h.memoizedState=A.state,c=h.child):c=Uu(c,h,E),c}function gz(c,h,g,x){return zf(),h.flags|=256,fi(c,h,g,x),h.child}var nN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rN(c){return{baseLanes:c,cachePool:i3()}}function sN(c,h,g){return c=c!==null?c.childLanes&~g:0,h&&(c|=Ba),c}function yz(c,h,g){var x=h.pendingProps,E=!1,A=(h.flags&128)!==0,U;if((U=A)||(U=c!==null&&c.memoizedState===null?!1:(is.current&2)!==0),U&&(E=!0,h.flags&=-129),U=(h.flags&32)!==0,h.flags&=-33,c===null){if(Nn){if(E?id(h):ad(),(c=gr)?(c=TB(c,co),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Qc!==null?{id:Ml,overflow:Ll}:null,retryLane:536870912,hydrationErrors:null},g=YF(c),g.return=h,h.child=g,ci=h,gr=null)):c=null,c===null)throw ed(h);return BN(c)?h.lanes=32:h.lanes=536870912,null}var Z=x.children;return x=x.fallback,E?(ad(),E=h.mode,Z=v1({mode:"hidden",children:Z},E),x=Ff(x,E,g,null),Z.return=h,x.return=h,Z.sibling=x,h.child=Z,x=h.child,x.memoizedState=rN(g),x.childLanes=sN(c,U,g),h.memoizedState=nN,Py(null,x)):(id(h),iN(h,Z))}var le=c.memoizedState;if(le!==null&&(Z=le.dehydrated,Z!==null)){if(A)h.flags&256?(id(h),h.flags&=-257,h=aN(c,h,g)):h.memoizedState!==null?(ad(),h.child=c.child,h.flags|=128,h=null):(ad(),Z=x.fallback,E=h.mode,x=v1({mode:"visible",children:x.children},E),Z=Ff(Z,E,g,null),Z.flags|=2,x.return=h,Z.return=h,x.sibling=Z,h.child=x,Hf(h,c.child,null,g),x=h.child,x.memoizedState=rN(g),x.childLanes=sN(c,U,g),h.memoizedState=nN,h=Py(null,x));else if(id(h),BN(Z)){if(U=Z.nextSibling&&Z.nextSibling.dataset,U)var De=U.dgst;U=De,x=Error(r(419)),x.stack="",x.digest=U,Cy({value:x,source:null,stack:null}),h=aN(c,h,g)}else if(gs||zp(c,h,g,!1),U=(g&c.childLanes)!==0,gs||U){if(U=ir,U!==null&&(x=ns(U,g),x!==0&&x!==le.retryLane))throw le.retryLane=x,kr(c,x),ca(U,c,x),eN;zN(Z)||N1(),h=aN(c,h,g)}else zN(Z)?(h.flags|=192,h.child=c.child,h=null):(c=le.treeContext,gr=ho(Z.nextSibling),ci=h,Nn=!0,Jc=null,co=!1,c!==null&&JF(h,c),h=iN(h,x.children),h.flags|=4096);return h}return E?(ad(),Z=x.fallback,E=h.mode,le=c.child,De=le.sibling,x=Mu(le,{mode:"hidden",children:x.children}),x.subtreeFlags=le.subtreeFlags&65011712,De!==null?Z=Mu(De,Z):(Z=Ff(Z,E,g,null),Z.flags|=2),Z.return=h,x.return=h,x.sibling=Z,h.child=x,Py(null,x),x=h.child,Z=c.child.memoizedState,Z===null?Z=rN(g):(E=Z.cachePool,E!==null?(le=ps._currentValue,E=E.parent!==le?{parent:le,pool:le}:E):E=i3(),Z={baseLanes:Z.baseLanes|g,cachePool:E}),x.memoizedState=Z,x.childLanes=sN(c,U,g),h.memoizedState=nN,Py(c.child,x)):(id(h),g=c.child,c=g.sibling,g=Mu(g,{mode:"visible",children:x.children}),g.return=h,g.sibling=null,c!==null&&(U=h.deletions,U===null?(h.deletions=[c],h.flags|=16):U.push(c)),h.child=g,h.memoizedState=null,g)}function iN(c,h){return h=v1({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function v1(c,h){return c=Ma(22,c,null,h),c.lanes=0,c}function aN(c,h,g){return Hf(h,c.child,null,g),c=iN(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function vz(c,h,g){c.lanes|=h;var x=c.alternate;x!==null&&(x.lanes|=h),wE(c.return,h,g)}function oN(c,h,g,x,E,A){var U=c.memoizedState;U===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:E,treeForkCount:A}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=x,U.tail=g,U.tailMode=E,U.treeForkCount=A)}function bz(c,h,g){var x=h.pendingProps,E=x.revealOrder,A=x.tail;x=x.children;var U=is.current,Z=(U&2)!==0;if(Z?(U=U&1|2,h.flags|=128):U&=1,ae(is,U),fi(c,h,x,g),x=Nn?Sy:0,!Z&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&vz(c,g,h);else if(c.tag===19)vz(c,g,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(E){case"forwards":for(g=h.child,E=null;g!==null;)c=g.alternate,c!==null&&a1(c)===null&&(E=g),g=g.sibling;g=E,g===null?(E=h.child,h.child=null):(E=g.sibling,g.sibling=null),oN(h,!1,E,g,A,x);break;case"backwards":case"unstable_legacy-backwards":for(g=null,E=h.child,h.child=null;E!==null;){if(c=E.alternate,c!==null&&a1(c)===null){h.child=E;break}c=E.sibling,E.sibling=g,g=E,E=c}oN(h,!0,g,null,A,x);break;case"together":oN(h,!1,null,null,void 0,x);break;default:h.memoizedState=null}return h.child}function Uu(c,h,g){if(c!==null&&(h.dependencies=c.dependencies),ud|=h.lanes,(g&h.childLanes)===0)if(c!==null){if(zp(c,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,g=Mu(c,c.pendingProps),h.child=g,g.return=h;c.sibling!==null;)c=c.sibling,g=g.sibling=Mu(c,c.pendingProps),g.return=h;g.sibling=null}return h.child}function lN(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&Qx(c)))}function Pse(c,h,g){switch(h.tag){case 3:st(h,h.stateNode.containerInfo),td(h,ps,c.memoizedState.cache),zf();break;case 27:case 5:je(h);break;case 4:st(h,h.stateNode.containerInfo);break;case 10:td(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,DE(h),null;break;case 13:var x=h.memoizedState;if(x!==null)return x.dehydrated!==null?(id(h),h.flags|=128,null):(g&h.child.childLanes)!==0?yz(c,h,g):(id(h),c=Uu(c,h,g),c!==null?c.sibling:null);id(h);break;case 19:var E=(c.flags&128)!==0;if(x=(g&h.childLanes)!==0,x||(zp(c,h,g,!1),x=(g&h.childLanes)!==0),E){if(x)return bz(c,h,g);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ae(is,is.current),x)break;return null;case 22:return h.lanes=0,dz(c,h,g,h.pendingProps);case 24:td(h,ps,c.memoizedState.cache)}return Uu(c,h,g)}function xz(c,h,g){if(c!==null)if(c.memoizedProps!==h.pendingProps)gs=!0;else{if(!lN(c,g)&&(h.flags&128)===0)return gs=!1,Pse(c,h,g);gs=(c.flags&131072)!==0}else gs=!1,Nn&&(h.flags&1048576)!==0&&QF(h,Sy,h.index);switch(h.lanes=0,h.tag){case 16:e:{var x=h.pendingProps;if(c=Vf(h.elementType),h.type=c,typeof c=="function")hE(c)?(x=qf(c,x),h.tag=1,h=mz(null,h,c,x,g)):(h.tag=0,h=tN(null,h,c,x,g));else{if(c!=null){var E=c.$$typeof;if(E===T){h.tag=11,h=lz(null,h,c,x,g);break e}else if(E===_){h.tag=14,h=uz(null,h,c,x,g);break e}}throw h=q(c)||c,Error(r(306,h,""))}}return h;case 0:return tN(c,h,h.type,h.pendingProps,g);case 1:return x=h.type,E=qf(x,h.pendingProps),mz(c,h,x,E,g);case 3:e:{if(st(h,h.stateNode.containerInfo),c===null)throw Error(r(387));x=h.pendingProps;var A=h.memoizedState;E=A.element,$E(c,h),Ay(h,x,null,g);var U=h.memoizedState;if(x=U.cache,td(h,ps,x),x!==A.cache&&SE(h,[ps],g,!0),Iy(),x=U.element,A.isDehydrated)if(A={element:x,isDehydrated:!1,cache:U.cache},h.updateQueue.baseState=A,h.memoizedState=A,h.flags&256){h=gz(c,h,x,g);break e}else if(x!==E){E=oo(Error(r(424)),h),Cy(E),h=gz(c,h,x,g);break e}else for(c=h.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,gr=ho(c.firstChild),ci=h,Nn=!0,Jc=null,co=!0,g=d3(h,null,x,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(zf(),x===E){h=Uu(c,h,g);break e}fi(c,h,x,g)}h=h.child}return h;case 26:return y1(c,h),c===null?(g=OB(h.type,null,h.pendingProps,null))?h.memoizedState=g:Nn||(g=h.type,c=h.pendingProps,x=_1(Ie.current).createElement(g),x[ur]=h,x[rs]=c,hi(x,g,c),ss(x),h.stateNode=x):h.memoizedState=OB(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return je(h),c===null&&Nn&&(x=h.stateNode=$B(h.type,h.pendingProps,Ie.current),ci=h,co=!0,E=gr,pd(h.type)?(jN=E,gr=ho(x.firstChild)):gr=E),fi(c,h,h.pendingProps.children,g),y1(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&Nn&&((E=x=gr)&&(x=die(x,h.type,h.pendingProps,co),x!==null?(h.stateNode=x,ci=h,gr=ho(x.firstChild),co=!1,E=!0):E=!1),E||ed(h)),je(h),E=h.type,A=h.pendingProps,U=c!==null?c.memoizedProps:null,x=A.children,MN(E,A)?x=null:U!==null&&MN(E,U)&&(h.flags|=32),h.memoizedState!==null&&(E=PE(c,h,Ese,null,null,g),Yy._currentValue=E),y1(c,h),fi(c,h,x,g),h.child;case 6:return c===null&&Nn&&((c=g=gr)&&(g=fie(g,h.pendingProps,co),g!==null?(h.stateNode=g,ci=h,gr=null,c=!0):c=!1),c||ed(h)),null;case 13:return yz(c,h,g);case 4:return st(h,h.stateNode.containerInfo),x=h.pendingProps,c===null?h.child=Hf(h,null,x,g):fi(c,h,x,g),h.child;case 11:return lz(c,h,h.type,h.pendingProps,g);case 7:return fi(c,h,h.pendingProps,g),h.child;case 8:return fi(c,h,h.pendingProps.children,g),h.child;case 12:return fi(c,h,h.pendingProps.children,g),h.child;case 10:return x=h.pendingProps,td(h,h.type,x.value),fi(c,h,x.children,g),h.child;case 9:return E=h.type._context,x=h.pendingProps.children,jf(h),E=di(E),x=x(E),h.flags|=1,fi(c,h,x,g),h.child;case 14:return uz(c,h,h.type,h.pendingProps,g);case 15:return cz(c,h,h.type,h.pendingProps,g);case 19:return bz(c,h,g);case 31:return _se(c,h,g);case 22:return dz(c,h,g,h.pendingProps);case 24:return jf(h),x=di(ps),c===null?(E=TE(),E===null&&(E=ir,A=CE(),E.pooledCache=A,A.refCount++,A!==null&&(E.pooledCacheLanes|=g),E=A),h.memoizedState={parent:x,cache:E},NE(h),td(h,ps,E)):((c.lanes&g)!==0&&($E(c,h),Ay(h,null,null,g),Iy()),E=c.memoizedState,A=h.memoizedState,E.parent!==x?(E={parent:x,cache:x},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),td(h,ps,x)):(x=A.cache,td(h,ps,x),x!==E.cache&&SE(h,[ps],g,!0))),fi(c,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Vu(c){c.flags|=4}function uN(c,h,g,x,E){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(E&335544128)===E)if(c.stateNode.complete)c.flags|=8192;else if(qz())c.flags|=8192;else throw Wf=n1,EE}else c.flags&=-16777217}function wz(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!MB(h))if(qz())c.flags|=8192;else throw Wf=n1,EE}function b1(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?Px():536870912,c.lanes|=h,Zp|=h)}function My(c,h){if(!Nn)switch(c.tailMode){case"hidden":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function yr(c){var h=c.alternate!==null&&c.alternate.child===c.child,g=0,x=0;if(h)for(var E=c.child;E!==null;)g|=E.lanes|E.childLanes,x|=E.subtreeFlags&65011712,x|=E.flags&65011712,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)g|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=x,c.childLanes=g,h}function Mse(c,h,g){var x=h.pendingProps;switch(yE(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(h),null;case 1:return yr(h),null;case 3:return g=h.stateNode,x=null,c!==null&&(x=c.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),zu(ps),se(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Fp(h)?Vu(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,bE())),yr(h),null;case 26:var E=h.type,A=h.memoizedState;return c===null?(Vu(h),A!==null?(yr(h),wz(h,A)):(yr(h),uN(h,E,null,x,g))):A?A!==c.memoizedState?(Vu(h),yr(h),wz(h,A)):(yr(h),h.flags&=-16777217):(c=c.memoizedProps,c!==x&&Vu(h),yr(h),uN(h,E,c,x,g)),null;case 27:if(Ge(h),g=Ie.current,E=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==x&&Vu(h);else{if(!x){if(h.stateNode===null)throw Error(r(166));return yr(h),null}c=be.current,Fp(h)?e3(h):(c=$B(E,x,g),h.stateNode=c,Vu(h))}return yr(h),null;case 5:if(Ge(h),E=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==x&&Vu(h);else{if(!x){if(h.stateNode===null)throw Error(r(166));return yr(h),null}if(A=be.current,Fp(h))e3(h);else{var U=_1(Ie.current);switch(A){case 1:A=U.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:A=U.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":A=U.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":A=U.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":A=U.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof x.is=="string"?U.createElement("select",{is:x.is}):U.createElement("select"),x.multiple?A.multiple=!0:x.size&&(A.size=x.size);break;default:A=typeof x.is=="string"?U.createElement(E,{is:x.is}):U.createElement(E)}}A[ur]=h,A[rs]=x;e:for(U=h.child;U!==null;){if(U.tag===5||U.tag===6)A.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===h)break e;for(;U.sibling===null;){if(U.return===null||U.return===h)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}h.stateNode=A;e:switch(hi(A,E,x),E){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Vu(h)}}return yr(h),uN(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,g),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==x&&Vu(h);else{if(typeof x!="string"&&h.stateNode===null)throw Error(r(166));if(c=Ie.current,Fp(h)){if(c=h.stateNode,g=h.memoizedProps,x=null,E=ci,E!==null)switch(E.tag){case 27:case 5:x=E.memoizedProps}c[ur]=h,c=!!(c.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||yB(c.nodeValue,g)),c||ed(h,!0)}else c=_1(c).createTextNode(x),c[ur]=h,h.stateNode=c}return yr(h),null;case 31:if(g=h.memoizedState,c===null||c.memoizedState!==null){if(x=Fp(h),g!==null){if(c===null){if(!x)throw Error(r(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[ur]=h}else zf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;yr(h),c=!1}else g=bE(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=g),c=!0;if(!c)return h.flags&256?(Fa(h),h):(Fa(h),null);if((h.flags&128)!==0)throw Error(r(558))}return yr(h),null;case 13:if(x=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(E=Fp(h),x!==null&&x.dehydrated!==null){if(c===null){if(!E)throw Error(r(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[ur]=h}else zf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;yr(h),E=!1}else E=bE(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(Fa(h),h):(Fa(h),null)}return Fa(h),(h.flags&128)!==0?(h.lanes=g,h):(g=x!==null,c=c!==null&&c.memoizedState!==null,g&&(x=h.child,E=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(E=x.alternate.memoizedState.cachePool.pool),A=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(A=x.memoizedState.cachePool.pool),A!==E&&(x.flags|=2048)),g!==c&&g&&(h.child.flags|=8192),b1(h,h.updateQueue),yr(h),null);case 4:return se(),c===null&&ON(h.stateNode.containerInfo),yr(h),null;case 10:return zu(h.type),yr(h),null;case 19:if(ne(is),x=h.memoizedState,x===null)return yr(h),null;if(E=(h.flags&128)!==0,A=x.rendering,A===null)if(E)My(x,!1);else{if(Ur!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(A=a1(c),A!==null){for(h.flags|=128,My(x,!1),c=A.updateQueue,h.updateQueue=c,b1(h,c),h.subtreeFlags=0,c=g,g=h.child;g!==null;)XF(g,c),g=g.sibling;return ae(is,is.current&1|2),Nn&&Lu(h,x.treeForkCount),h.child}c=c.sibling}x.tail!==null&&Lt()>k1&&(h.flags|=128,E=!0,My(x,!1),h.lanes=4194304)}else{if(!E)if(c=a1(A),c!==null){if(h.flags|=128,E=!0,c=c.updateQueue,h.updateQueue=c,b1(h,c),My(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!Nn)return yr(h),null}else 2*Lt()-x.renderingStartTime>k1&&g!==536870912&&(h.flags|=128,E=!0,My(x,!1),h.lanes=4194304);x.isBackwards?(A.sibling=h.child,h.child=A):(c=x.last,c!==null?c.sibling=A:h.child=A,x.last=A)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=Lt(),c.sibling=null,g=is.current,ae(is,E?g&1|2:g&1),Nn&&Lu(h,x.treeForkCount),c):(yr(h),null);case 22:case 23:return Fa(h),RE(),x=h.memoizedState!==null,c!==null?c.memoizedState!==null!==x&&(h.flags|=8192):x&&(h.flags|=8192),x?(g&536870912)!==0&&(h.flags&128)===0&&(yr(h),h.subtreeFlags&6&&(h.flags|=8192)):yr(h),g=h.updateQueue,g!==null&&b1(h,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==g&&(h.flags|=2048),c!==null&&ne(Uf),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),zu(ps),yr(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Lse(c,h){switch(yE(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return zu(ps),se(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return Ge(h),null;case 31:if(h.memoizedState!==null){if(Fa(h),h.alternate===null)throw Error(r(340));zf()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(Fa(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));zf()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return ne(is),null;case 4:return se(),null;case 10:return zu(h.type),null;case 22:case 23:return Fa(h),RE(),c!==null&&ne(Uf),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return zu(ps),null;case 25:return null;default:return null}}function Sz(c,h){switch(yE(h),h.tag){case 3:zu(ps),se();break;case 26:case 27:case 5:Ge(h);break;case 4:se();break;case 31:h.memoizedState!==null&&Fa(h);break;case 13:Fa(h);break;case 19:ne(is);break;case 10:zu(h.type);break;case 22:case 23:Fa(h),RE(),c!==null&&ne(Uf);break;case 24:zu(ps)}}function Ly(c,h){try{var g=h.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var E=x.next;g=E;do{if((g.tag&c)===c){x=void 0;var A=g.create,U=g.inst;x=A(),U.destroy=x}g=g.next}while(g!==E)}}catch(Z){Wn(h,h.return,Z)}}function od(c,h,g){try{var x=h.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var A=E.next;x=A;do{if((x.tag&c)===c){var U=x.inst,Z=U.destroy;if(Z!==void 0){U.destroy=void 0,E=h;var le=g,De=Z;try{De()}catch(We){Wn(E,le,We)}}}x=x.next}while(x!==A)}}catch(We){Wn(h,h.return,We)}}function Cz(c){var h=c.updateQueue;if(h!==null){var g=c.stateNode;try{h3(h,g)}catch(x){Wn(c,c.return,x)}}}function kz(c,h,g){g.props=qf(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(x){Wn(c,h,x)}}function Fy(c,h){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var x=c.stateNode;break;case 30:x=c.stateNode;break;default:x=c.stateNode}typeof g=="function"?c.refCleanup=g(x):g.current=x}}catch(E){Wn(c,h,E)}}function Fl(c,h){var g=c.ref,x=c.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(E){Wn(c,h,E)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){Wn(c,h,E)}else g.current=null}function Tz(c){var h=c.type,g=c.memoizedProps,x=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break e;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(E){Wn(c,c.return,E)}}function cN(c,h,g){try{var x=c.stateNode;iie(x,c.type,g,h),x[rs]=h}catch(E){Wn(c,c.return,E)}}function Ez(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&pd(c.type)||c.tag===4}function dN(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Ez(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&pd(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function fN(c,h,g){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(c),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=sa));else if(x!==4&&(x===27&&pd(c.type)&&(g=c.stateNode,h=null),c=c.child,c!==null))for(fN(c,h,g),c=c.sibling;c!==null;)fN(c,h,g),c=c.sibling}function x1(c,h,g){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?g.insertBefore(c,h):g.appendChild(c);else if(x!==4&&(x===27&&pd(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(x1(c,h,g),c=c.sibling;c!==null;)x1(c,h,g),c=c.sibling}function Nz(c){var h=c.stateNode,g=c.memoizedProps;try{for(var x=c.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);hi(h,x,g),h[ur]=c,h[rs]=g}catch(A){Wn(c,c.return,A)}}var Wu=!1,ys=!1,hN=!1,$z=typeof WeakSet=="function"?WeakSet:Set,qs=null;function Fse(c,h){if(c=c.containerInfo,_N=j1,c=W(c),K(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var E=x.anchorOffset,A=x.focusNode;x=x.focusOffset;try{g.nodeType,A.nodeType}catch{g=null;break e}var U=0,Z=-1,le=-1,De=0,We=0,Xe=c,Pe=null;t:for(;;){for(var ze;Xe!==g||E!==0&&Xe.nodeType!==3||(Z=U+E),Xe!==A||x!==0&&Xe.nodeType!==3||(le=U+x),Xe.nodeType===3&&(U+=Xe.nodeValue.length),(ze=Xe.firstChild)!==null;)Pe=Xe,Xe=ze;for(;;){if(Xe===c)break t;if(Pe===g&&++De===E&&(Z=U),Pe===A&&++We===x&&(le=U),(ze=Xe.nextSibling)!==null)break;Xe=Pe,Pe=Xe.parentNode}Xe=ze}g=Z===-1||le===-1?null:{start:Z,end:le}}else g=null}g=g||{start:0,end:0}}else g=null;for(PN={focusedElem:c,selectionRange:g},j1=!1,qs=h;qs!==null;)if(h=qs,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,qs=c;else for(;qs!==null;){switch(h=qs,A=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(g=0;g<c.length;g++)E=c[g],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&A!==null){c=void 0,g=h,E=A.memoizedProps,A=A.memoizedState,x=g.stateNode;try{var wt=qf(g.type,E);c=x.getSnapshotBeforeUpdate(wt,A),x.__reactInternalSnapshotBeforeUpdate=c}catch(Ft){Wn(g,g.return,Ft)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,g=c.nodeType,g===9)FN(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":FN(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=h.sibling,c!==null){c.return=h.return,qs=c;break}qs=h.return}}function Iz(c,h,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:Gu(c,g),x&4&&Ly(5,g);break;case 1:if(Gu(c,g),x&4)if(c=g.stateNode,h===null)try{c.componentDidMount()}catch(U){Wn(g,g.return,U)}else{var E=qf(g.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(E,h,c.__reactInternalSnapshotBeforeUpdate)}catch(U){Wn(g,g.return,U)}}x&64&&Cz(g),x&512&&Fy(g,g.return);break;case 3:if(Gu(c,g),x&64&&(c=g.updateQueue,c!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{h3(c,h)}catch(U){Wn(g,g.return,U)}}break;case 27:h===null&&x&4&&Nz(g);case 26:case 5:Gu(c,g),h===null&&x&4&&Tz(g),x&512&&Fy(g,g.return);break;case 12:Gu(c,g);break;case 31:Gu(c,g),x&4&&Rz(c,g);break;case 13:Gu(c,g),x&4&&Dz(c,g),x&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=qse.bind(null,g),hie(c,g))));break;case 22:if(x=g.memoizedState!==null||Wu,!x){h=h!==null&&h.memoizedState!==null||ys,E=Wu;var A=ys;Wu=x,(ys=h)&&!A?qu(c,g,(g.subtreeFlags&8772)!==0):Gu(c,g),Wu=E,ys=A}break;case 30:break;default:Gu(c,g)}}function Az(c){var h=c.alternate;h!==null&&(c.alternate=null,Az(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&gp(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Tr=null,aa=!1;function Hu(c,h,g){for(g=g.child;g!==null;)Oz(c,h,g),g=g.sibling}function Oz(c,h,g){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Br,g)}catch{}switch(g.tag){case 26:ys||Fl(g,h),Hu(c,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:ys||Fl(g,h);var x=Tr,E=aa;pd(g.type)&&(Tr=g.stateNode,aa=!1),Hu(c,h,g),qy(g.stateNode),Tr=x,aa=E;break;case 5:ys||Fl(g,h);case 6:if(x=Tr,E=aa,Tr=null,Hu(c,h,g),Tr=x,aa=E,Tr!==null)if(aa)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(g.stateNode)}catch(A){Wn(g,h,A)}else try{Tr.removeChild(g.stateNode)}catch(A){Wn(g,h,A)}break;case 18:Tr!==null&&(aa?(c=Tr,CB(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),im(c)):CB(Tr,g.stateNode));break;case 4:x=Tr,E=aa,Tr=g.stateNode.containerInfo,aa=!0,Hu(c,h,g),Tr=x,aa=E;break;case 0:case 11:case 14:case 15:od(2,g,h),ys||od(4,g,h),Hu(c,h,g);break;case 1:ys||(Fl(g,h),x=g.stateNode,typeof x.componentWillUnmount=="function"&&kz(g,h,x)),Hu(c,h,g);break;case 21:Hu(c,h,g);break;case 22:ys=(x=ys)||g.memoizedState!==null,Hu(c,h,g),ys=x;break;default:Hu(c,h,g)}}function Rz(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{im(c)}catch(g){Wn(h,h.return,g)}}}function Dz(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{im(c)}catch(g){Wn(h,h.return,g)}}function zse(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new $z),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new $z),h;default:throw Error(r(435,c.tag))}}function w1(c,h){var g=zse(c);h.forEach(function(x){if(!g.has(x)){g.add(x);var E=Kse.bind(null,c,x);x.then(E,E)}})}function oa(c,h){var g=h.deletions;if(g!==null)for(var x=0;x<g.length;x++){var E=g[x],A=c,U=h,Z=U;e:for(;Z!==null;){switch(Z.tag){case 27:if(pd(Z.type)){Tr=Z.stateNode,aa=!1;break e}break;case 5:Tr=Z.stateNode,aa=!1;break e;case 3:case 4:Tr=Z.stateNode.containerInfo,aa=!0;break e}Z=Z.return}if(Tr===null)throw Error(r(160));Oz(A,U,E),Tr=null,aa=!1,A=E.alternate,A!==null&&(A.return=null),E.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)_z(h,c),h=h.sibling}var Qo=null;function _z(c,h){var g=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:oa(h,c),la(c),x&4&&(od(3,c,c.return),Ly(3,c),od(5,c,c.return));break;case 1:oa(h,c),la(c),x&512&&(ys||g===null||Fl(g,g.return)),x&64&&Wu&&(c=c.updateQueue,c!==null&&(x=c.callbacks,x!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var E=Qo;if(oa(h,c),la(c),x&512&&(ys||g===null||Fl(g,g.return)),x&4){var A=g!==null?g.memoizedState:null;if(x=c.memoizedState,g===null)if(x===null)if(c.stateNode===null){e:{x=c.type,g=c.memoizedProps,E=E.ownerDocument||E;t:switch(x){case"title":A=E.getElementsByTagName("title")[0],(!A||A[Da]||A[ur]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=E.createElement(x),E.head.insertBefore(A,E.querySelector("head > title"))),hi(A,x,g),A[ur]=c,ss(A),x=A;break e;case"link":var U=_B("link","href",E).get(x+(g.href||""));if(U){for(var Z=0;Z<U.length;Z++)if(A=U[Z],A.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&A.getAttribute("rel")===(g.rel==null?null:g.rel)&&A.getAttribute("title")===(g.title==null?null:g.title)&&A.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){U.splice(Z,1);break t}}A=E.createElement(x),hi(A,x,g),E.head.appendChild(A);break;case"meta":if(U=_B("meta","content",E).get(x+(g.content||""))){for(Z=0;Z<U.length;Z++)if(A=U[Z],A.getAttribute("content")===(g.content==null?null:""+g.content)&&A.getAttribute("name")===(g.name==null?null:g.name)&&A.getAttribute("property")===(g.property==null?null:g.property)&&A.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&A.getAttribute("charset")===(g.charSet==null?null:g.charSet)){U.splice(Z,1);break t}}A=E.createElement(x),hi(A,x,g),E.head.appendChild(A);break;default:throw Error(r(468,x))}A[ur]=c,ss(A),x=A}c.stateNode=x}else PB(E,c.type,c.stateNode);else c.stateNode=DB(E,x,c.memoizedProps);else A!==x?(A===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):A.count--,x===null?PB(E,c.type,c.stateNode):DB(E,x,c.memoizedProps)):x===null&&c.stateNode!==null&&cN(c,c.memoizedProps,g.memoizedProps)}break;case 27:oa(h,c),la(c),x&512&&(ys||g===null||Fl(g,g.return)),g!==null&&x&4&&cN(c,c.memoizedProps,g.memoizedProps);break;case 5:if(oa(h,c),la(c),x&512&&(ys||g===null||Fl(g,g.return)),c.flags&32){E=c.stateNode;try{Nu(E,"")}catch(wt){Wn(c,c.return,wt)}}x&4&&c.stateNode!=null&&(E=c.memoizedProps,cN(c,E,g!==null?g.memoizedProps:E)),x&1024&&(hN=!0);break;case 6:if(oa(h,c),la(c),x&4){if(c.stateNode===null)throw Error(r(162));x=c.memoizedProps,g=c.stateNode;try{g.nodeValue=x}catch(wt){Wn(c,c.return,wt)}}break;case 3:if(L1=null,E=Qo,Qo=P1(h.containerInfo),oa(h,c),Qo=E,la(c),x&4&&g!==null&&g.memoizedState.isDehydrated)try{im(h.containerInfo)}catch(wt){Wn(c,c.return,wt)}hN&&(hN=!1,Pz(c));break;case 4:x=Qo,Qo=P1(c.stateNode.containerInfo),oa(h,c),la(c),Qo=x;break;case 12:oa(h,c),la(c);break;case 31:oa(h,c),la(c),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,w1(c,x)));break;case 13:oa(h,c),la(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(C1=Lt()),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,w1(c,x)));break;case 22:E=c.memoizedState!==null;var le=g!==null&&g.memoizedState!==null,De=Wu,We=ys;if(Wu=De||E,ys=We||le,oa(h,c),ys=We,Wu=De,la(c),x&8192)e:for(h=c.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(g===null||le||Wu||ys||Kf(c)),g=null,h=c;;){if(h.tag===5||h.tag===26){if(g===null){le=g=h;try{if(A=le.stateNode,E)U=A.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Z=le.stateNode;var Xe=le.memoizedProps.style,Pe=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;Z.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(wt){Wn(le,le.return,wt)}}}else if(h.tag===6){if(g===null){le=h;try{le.stateNode.nodeValue=E?"":le.memoizedProps}catch(wt){Wn(le,le.return,wt)}}}else if(h.tag===18){if(g===null){le=h;try{var ze=le.stateNode;E?kB(ze,!0):kB(le.stateNode,!1)}catch(wt){Wn(le,le.return,wt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}x&4&&(x=c.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,w1(c,g))));break;case 19:oa(h,c),la(c),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,w1(c,x)));break;case 30:break;case 21:break;default:oa(h,c),la(c)}}function la(c){var h=c.flags;if(h&2){try{for(var g,x=c.return;x!==null;){if(Ez(x)){g=x;break}x=x.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var E=g.stateNode,A=dN(c);x1(c,A,E);break;case 5:var U=g.stateNode;g.flags&32&&(Nu(U,""),g.flags&=-33);var Z=dN(c);x1(c,Z,U);break;case 3:case 4:var le=g.stateNode.containerInfo,De=dN(c);fN(c,De,le);break;default:throw Error(r(161))}}catch(We){Wn(c,c.return,We)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function Pz(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;Pz(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function Gu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Iz(c,h.alternate,h),h=h.sibling}function Kf(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:od(4,h,h.return),Kf(h);break;case 1:Fl(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&kz(h,h.return,g),Kf(h);break;case 27:qy(h.stateNode);case 26:case 5:Fl(h,h.return),Kf(h);break;case 22:h.memoizedState===null&&Kf(h);break;case 30:Kf(h);break;default:Kf(h)}c=c.sibling}}function qu(c,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var x=h.alternate,E=c,A=h,U=A.flags;switch(A.tag){case 0:case 11:case 15:qu(E,A,g),Ly(4,A);break;case 1:if(qu(E,A,g),x=A,E=x.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(De){Wn(x,x.return,De)}if(x=A,E=x.updateQueue,E!==null){var Z=x.stateNode;try{var le=E.shared.hiddenCallbacks;if(le!==null)for(E.shared.hiddenCallbacks=null,E=0;E<le.length;E++)f3(le[E],Z)}catch(De){Wn(x,x.return,De)}}g&&U&64&&Cz(A),Fy(A,A.return);break;case 27:Nz(A);case 26:case 5:qu(E,A,g),g&&x===null&&U&4&&Tz(A),Fy(A,A.return);break;case 12:qu(E,A,g);break;case 31:qu(E,A,g),g&&U&4&&Rz(E,A);break;case 13:qu(E,A,g),g&&U&4&&Dz(E,A);break;case 22:A.memoizedState===null&&qu(E,A,g),Fy(A,A.return);break;case 30:break;default:qu(E,A,g)}h=h.sibling}}function pN(c,h){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&ky(g))}function mN(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&ky(c))}function Jo(c,h,g,x){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Mz(c,h,g,x),h=h.sibling}function Mz(c,h,g,x){var E=h.flags;switch(h.tag){case 0:case 11:case 15:Jo(c,h,g,x),E&2048&&Ly(9,h);break;case 1:Jo(c,h,g,x);break;case 3:Jo(c,h,g,x),E&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&ky(c)));break;case 12:if(E&2048){Jo(c,h,g,x),c=h.stateNode;try{var A=h.memoizedProps,U=A.id,Z=A.onPostCommit;typeof Z=="function"&&Z(U,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(le){Wn(h,h.return,le)}}else Jo(c,h,g,x);break;case 31:Jo(c,h,g,x);break;case 13:Jo(c,h,g,x);break;case 23:break;case 22:A=h.stateNode,U=h.alternate,h.memoizedState!==null?A._visibility&2?Jo(c,h,g,x):zy(c,h):A._visibility&2?Jo(c,h,g,x):(A._visibility|=2,Kp(c,h,g,x,(h.subtreeFlags&10256)!==0||!1)),E&2048&&pN(U,h);break;case 24:Jo(c,h,g,x),E&2048&&mN(h.alternate,h);break;default:Jo(c,h,g,x)}}function Kp(c,h,g,x,E){for(E=E&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var A=c,U=h,Z=g,le=x,De=U.flags;switch(U.tag){case 0:case 11:case 15:Kp(A,U,Z,le,E),Ly(8,U);break;case 23:break;case 22:var We=U.stateNode;U.memoizedState!==null?We._visibility&2?Kp(A,U,Z,le,E):zy(A,U):(We._visibility|=2,Kp(A,U,Z,le,E)),E&&De&2048&&pN(U.alternate,U);break;case 24:Kp(A,U,Z,le,E),E&&De&2048&&mN(U.alternate,U);break;default:Kp(A,U,Z,le,E)}h=h.sibling}}function zy(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=c,x=h,E=x.flags;switch(x.tag){case 22:zy(g,x),E&2048&&pN(x.alternate,x);break;case 24:zy(g,x),E&2048&&mN(x.alternate,x);break;default:zy(g,x)}h=h.sibling}}var By=8192;function Xp(c,h,g){if(c.subtreeFlags&By)for(c=c.child;c!==null;)Lz(c,h,g),c=c.sibling}function Lz(c,h,g){switch(c.tag){case 26:Xp(c,h,g),c.flags&By&&c.memoizedState!==null&&Tie(g,Qo,c.memoizedState,c.memoizedProps);break;case 5:Xp(c,h,g);break;case 3:case 4:var x=Qo;Qo=P1(c.stateNode.containerInfo),Xp(c,h,g),Qo=x;break;case 22:c.memoizedState===null&&(x=c.alternate,x!==null&&x.memoizedState!==null?(x=By,By=16777216,Xp(c,h,g),By=x):Xp(c,h,g));break;default:Xp(c,h,g)}}function Fz(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function jy(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];qs=x,Bz(x,c)}Fz(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)zz(c),c=c.sibling}function zz(c){switch(c.tag){case 0:case 11:case 15:jy(c),c.flags&2048&&od(9,c,c.return);break;case 3:jy(c);break;case 12:jy(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,S1(c)):jy(c);break;default:jy(c)}}function S1(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];qs=x,Bz(x,c)}Fz(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:od(8,h,h.return),S1(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,S1(h));break;default:S1(h)}c=c.sibling}}function Bz(c,h){for(;qs!==null;){var g=qs;switch(g.tag){case 0:case 11:case 15:od(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:ky(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,qs=x;else e:for(g=c;qs!==null;){x=qs;var E=x.sibling,A=x.return;if(Az(x),x===g){qs=null;break e}if(E!==null){E.return=A,qs=E;break e}qs=A}}}var Bse={getCacheForType:function(c){var h=di(ps),g=h.data.get(c);return g===void 0&&(g=c(),h.data.set(c,g)),g},cacheSignal:function(){return di(ps).controller.signal}},jse=typeof WeakMap=="function"?WeakMap:Map,Mn=0,ir=null,pn=null,bn=0,Vn=0,za=null,ld=!1,Yp=!1,gN=!1,Ku=0,Ur=0,ud=0,Xf=0,yN=0,Ba=0,Zp=0,Uy=null,ua=null,vN=!1,C1=0,jz=0,k1=1/0,T1=null,cd=null,Rs=0,dd=null,Qp=null,Xu=0,bN=0,xN=null,Uz=null,Vy=0,wN=null;function ja(){return(Mn&2)!==0&&bn!==0?bn&-bn:V.T!==null?NN():Sf()}function Vz(){if(Ba===0)if((bn&536870912)===0||Nn){var c=qo;qo<<=1,(qo&3932160)===0&&(qo=262144),Ba=c}else Ba=536870912;return c=La.current,c!==null&&(c.flags|=32),Ba}function ca(c,h,g){(c===ir&&(Vn===2||Vn===9)||c.cancelPendingCommit!==null)&&(Jp(c,0),fd(c,bn,Ba,!1)),no(c,g),((Mn&2)===0||c!==ir)&&(c===ir&&((Mn&2)===0&&(Xf|=g),Ur===4&&fd(c,bn,Ba,!1)),zl(c))}function Wz(c,h,g){if((Mn&6)!==0)throw Error(r(327));var x=!g&&(h&127)===0&&(h&c.expiredLanes)===0||ku(c,h),E=x?Wse(c,h):CN(c,h,!0),A=x;do{if(E===0){Yp&&!x&&fd(c,h,0,!1);break}else{if(g=c.current.alternate,A&&!Use(g)){E=CN(c,h,!1),A=!1;continue}if(E===2){if(A=h,c.errorRecoveryDisabledLanes&A)var U=0;else U=c.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){h=U;e:{var Z=c;E=Uy;var le=Z.current.memoizedState.isDehydrated;if(le&&(Jp(Z,U).flags|=256),U=CN(Z,U,!1),U!==2){if(gN&&!le){Z.errorRecoveryDisabledLanes|=A,Xf|=A,E=4;break e}A=ua,ua=E,A!==null&&(ua===null?ua=A:ua.push.apply(ua,A))}E=U}if(A=!1,E!==2)continue}}if(E===1){Jp(c,0),fd(c,h,0,!0);break}e:{switch(x=c,A=E,A){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:fd(x,h,Ba,!ld);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(E=C1+300-Lt(),10<E)){if(fd(x,h,Ba,!ld),xf(x,0,!0)!==0)break e;Xu=h,x.timeoutHandle=wB(Hz.bind(null,x,g,ua,T1,vN,h,Ba,Xf,Zp,ld,A,"Throttled",-0,0),E);break e}Hz(x,g,ua,T1,vN,h,Ba,Xf,Zp,ld,A,null,-0,0)}}break}while(!0);zl(c)}function Hz(c,h,g,x,E,A,U,Z,le,De,We,Xe,Pe,ze){if(c.timeoutHandle=-1,Xe=h.subtreeFlags,Xe&8192||(Xe&16785408)===16785408){Xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},Lz(h,A,Xe);var wt=(A&62914560)===A?C1-Lt():(A&4194048)===A?jz-Lt():0;if(wt=Eie(Xe,wt),wt!==null){Xu=A,c.cancelPendingCommit=wt(Jz.bind(null,c,h,A,g,x,E,U,Z,le,We,Xe,null,Pe,ze)),fd(c,A,U,!De);return}}Jz(c,h,A,g,x,E,U,Z,le)}function Use(c){for(var h=c;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var E=g[x],A=E.getSnapshot;E=E.value;try{if(!Ei(A(),E))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function fd(c,h,g,x){h&=~yN,h&=~Xf,c.suspendedLanes|=h,c.pingedLanes&=~h,x&&(c.warmLanes|=h),x=c.expirationTimes;for(var E=h;0<E;){var A=31-mt(E),U=1<<A;x[A]=-1,E&=~U}g!==0&&wf(c,g,h)}function E1(){return(Mn&6)===0?(Wy(0),!1):!0}function SN(){if(pn!==null){if(Vn===0)var c=pn.return;else c=pn,Fu=Bf=null,FE(c),Vp=null,Ey=0,c=pn;for(;c!==null;)Sz(c.alternate,c),c=c.return;pn=null}}function Jp(c,h){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,lie(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),Xu=0,SN(),ir=c,pn=g=Mu(c.current,null),bn=h,Vn=0,za=null,ld=!1,Yp=ku(c,h),gN=!1,Zp=Ba=yN=Xf=ud=Ur=0,ua=Uy=null,vN=!1,(h&8)!==0&&(h|=h&32);var x=c.entangledLanes;if(x!==0)for(c=c.entanglements,x&=h;0<x;){var E=31-mt(x),A=1<<E;h|=c[E],x&=~A}return Ku=h,Gs(),g}function Gz(c,h){Jt=null,V.H=_y,h===Up||h===t1?(h=l3(),Vn=3):h===EE?(h=l3(),Vn=4):Vn=h===eN?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,za=h,pn===null&&(Ur=1,m1(c,oo(h,c.current)))}function qz(){var c=La.current;return c===null?!0:(bn&4194048)===bn?fo===null:(bn&62914560)===bn||(bn&536870912)!==0?c===fo:!1}function Kz(){var c=V.H;return V.H=_y,c===null?_y:c}function Xz(){var c=V.A;return V.A=Bse,c}function N1(){Ur=4,ld||(bn&4194048)!==bn&&La.current!==null||(Yp=!0),(ud&134217727)===0&&(Xf&134217727)===0||ir===null||fd(ir,bn,Ba,!1)}function CN(c,h,g){var x=Mn;Mn|=2;var E=Kz(),A=Xz();(ir!==c||bn!==h)&&(T1=null,Jp(c,h)),h=!1;var U=Ur;e:do try{if(Vn!==0&&pn!==null){var Z=pn,le=za;switch(Vn){case 8:SN(),U=6;break e;case 3:case 2:case 9:case 6:La.current===null&&(h=!0);var De=Vn;if(Vn=0,za=null,em(c,Z,le,De),g&&Yp){U=0;break e}break;default:De=Vn,Vn=0,za=null,em(c,Z,le,De)}}Vse(),U=Ur;break}catch(We){Gz(c,We)}while(!0);return h&&c.shellSuspendCounter++,Fu=Bf=null,Mn=x,V.H=E,V.A=A,pn===null&&(ir=null,bn=0,Gs()),U}function Vse(){for(;pn!==null;)Yz(pn)}function Wse(c,h){var g=Mn;Mn|=2;var x=Kz(),E=Xz();ir!==c||bn!==h?(T1=null,k1=Lt()+500,Jp(c,h)):Yp=ku(c,h);e:do try{if(Vn!==0&&pn!==null){h=pn;var A=za;t:switch(Vn){case 1:Vn=0,za=null,em(c,h,A,1);break;case 2:case 9:if(a3(A)){Vn=0,za=null,Zz(h);break}h=function(){Vn!==2&&Vn!==9||ir!==c||(Vn=7),zl(c)},A.then(h,h);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:a3(A)?(Vn=0,za=null,Zz(h)):(Vn=0,za=null,em(c,h,A,7));break;case 5:var U=null;switch(pn.tag){case 26:U=pn.memoizedState;case 5:case 27:var Z=pn;if(U?MB(U):Z.stateNode.complete){Vn=0,za=null;var le=Z.sibling;if(le!==null)pn=le;else{var De=Z.return;De!==null?(pn=De,$1(De)):pn=null}break t}}Vn=0,za=null,em(c,h,A,5);break;case 6:Vn=0,za=null,em(c,h,A,6);break;case 8:SN(),Ur=6;break e;default:throw Error(r(462))}}Hse();break}catch(We){Gz(c,We)}while(!0);return Fu=Bf=null,V.H=x,V.A=E,Mn=g,pn!==null?0:(ir=null,bn=0,Gs(),Ur)}function Hse(){for(;pn!==null&&!pt();)Yz(pn)}function Yz(c){var h=xz(c.alternate,c,Ku);c.memoizedProps=c.pendingProps,h===null?$1(c):pn=h}function Zz(c){var h=c,g=h.alternate;switch(h.tag){case 15:case 0:h=pz(g,h,h.pendingProps,h.type,void 0,bn);break;case 11:h=pz(g,h,h.pendingProps,h.type.render,h.ref,bn);break;case 5:FE(h);default:Sz(g,h),h=pn=XF(h,Ku),h=xz(g,h,Ku)}c.memoizedProps=c.pendingProps,h===null?$1(c):pn=h}function em(c,h,g,x){Fu=Bf=null,FE(h),Vp=null,Ey=0;var E=h.return;try{if(Dse(c,E,h,g,bn)){Ur=1,m1(c,oo(g,c.current)),pn=null;return}}catch(A){if(E!==null)throw pn=E,A;Ur=1,m1(c,oo(g,c.current)),pn=null;return}h.flags&32768?(Nn||x===1?c=!0:Yp||(bn&536870912)!==0?c=!1:(ld=c=!0,(x===2||x===9||x===3||x===6)&&(x=La.current,x!==null&&x.tag===13&&(x.flags|=16384))),Qz(h,c)):$1(h)}function $1(c){var h=c;do{if((h.flags&32768)!==0){Qz(h,ld);return}c=h.return;var g=Mse(h.alternate,h,Ku);if(g!==null){pn=g;return}if(h=h.sibling,h!==null){pn=h;return}pn=h=c}while(h!==null);Ur===0&&(Ur=5)}function Qz(c,h){do{var g=Lse(c.alternate,c);if(g!==null){g.flags&=32767,pn=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(c=c.sibling,c!==null)){pn=c;return}pn=c=g}while(c!==null);Ur=6,pn=null}function Jz(c,h,g,x,E,A,U,Z,le){c.cancelPendingCommit=null;do I1();while(Rs!==0);if((Mn&6)!==0)throw Error(r(327));if(h!==null){if(h===c.current)throw Error(r(177));if(A=h.lanes|h.childLanes,A|=Qt,Jg(c,g,A,U,Z,le),c===ir&&(pn=ir=null,bn=0),Qp=h,dd=c,Xu=g,bN=A,xN=E,Uz=x,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Xse(kn,function(){return sB(),null})):(c.callbackNode=null,c.callbackPriority=0),x=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||x){x=V.T,V.T=null,E=ee.p,ee.p=2,U=Mn,Mn|=4;try{Fse(c,h,g)}finally{Mn=U,ee.p=E,V.T=x}}Rs=1,eB(),tB(),nB()}}function eB(){if(Rs===1){Rs=0;var c=dd,h=Qp,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=V.T,V.T=null;var x=ee.p;ee.p=2;var E=Mn;Mn|=4;try{_z(h,c);var A=PN,U=W(c.containerInfo),Z=A.focusedElem,le=A.selectionRange;if(U!==Z&&Z&&Z.ownerDocument&&j(Z.ownerDocument.documentElement,Z)){if(le!==null&&K(Z)){var De=le.start,We=le.end;if(We===void 0&&(We=De),"selectionStart"in Z)Z.selectionStart=De,Z.selectionEnd=Math.min(We,Z.value.length);else{var Xe=Z.ownerDocument||document,Pe=Xe&&Xe.defaultView||window;if(Pe.getSelection){var ze=Pe.getSelection(),wt=Z.textContent.length,Ft=Math.min(le.start,wt),Jn=le.end===void 0?Ft:Math.min(le.end,wt);!ze.extend&&Ft>Jn&&(U=Jn,Jn=Ft,Ft=U);var Ee=M(Z,Ft),ve=M(Z,Jn);if(Ee&&ve&&(ze.rangeCount!==1||ze.anchorNode!==Ee.node||ze.anchorOffset!==Ee.offset||ze.focusNode!==ve.node||ze.focusOffset!==ve.offset)){var Re=Xe.createRange();Re.setStart(Ee.node,Ee.offset),ze.removeAllRanges(),Ft>Jn?(ze.addRange(Re),ze.extend(ve.node,ve.offset)):(Re.setEnd(ve.node,ve.offset),ze.addRange(Re))}}}}for(Xe=[],ze=Z;ze=ze.parentNode;)ze.nodeType===1&&Xe.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Xe.length;Z++){var qe=Xe[Z];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}j1=!!_N,PN=_N=null}finally{Mn=E,ee.p=x,V.T=g}}c.current=h,Rs=2}}function tB(){if(Rs===2){Rs=0;var c=dd,h=Qp,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=V.T,V.T=null;var x=ee.p;ee.p=2;var E=Mn;Mn|=4;try{Iz(c,h.alternate,h)}finally{Mn=E,ee.p=x,V.T=g}}Rs=3}}function nB(){if(Rs===4||Rs===3){Rs=0,fr();var c=dd,h=Qp,g=Xu,x=Uz;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Rs=5:(Rs=0,Qp=dd=null,rB(c,c.pendingLanes));var E=c.pendingLanes;if(E===0&&(cd=null),Bc(g),h=h.stateNode,_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Br,h,void 0,(h.current.flags&128)===128)}catch{}if(x!==null){h=V.T,E=ee.p,ee.p=2,V.T=null;try{for(var A=c.onRecoverableError,U=0;U<x.length;U++){var Z=x[U];A(Z.value,{componentStack:Z.stack})}}finally{V.T=h,ee.p=E}}(Xu&3)!==0&&I1(),zl(c),E=c.pendingLanes,(g&261930)!==0&&(E&42)!==0?c===wN?Vy++:(Vy=0,wN=c):Vy=0,Wy(0)}}function rB(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,ky(h)))}function I1(){return eB(),tB(),nB(),sB()}function sB(){if(Rs!==5)return!1;var c=dd,h=bN;bN=0;var g=Bc(Xu),x=V.T,E=ee.p;try{ee.p=32>g?32:g,V.T=null,g=xN,xN=null;var A=dd,U=Xu;if(Rs=0,Qp=dd=null,Xu=0,(Mn&6)!==0)throw Error(r(331));var Z=Mn;if(Mn|=4,zz(A.current),Mz(A,A.current,U,g),Mn=Z,Wy(0,!1),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Br,A)}catch{}return!0}finally{ee.p=E,V.T=x,rB(c,h)}}function iB(c,h,g){h=oo(g,h),h=JE(c.stateNode,h,2),c=sd(c,h,2),c!==null&&(no(c,2),zl(c))}function Wn(c,h,g){if(c.tag===3)iB(c,c,g);else for(;h!==null;){if(h.tag===3){iB(h,c,g);break}else if(h.tag===1){var x=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(cd===null||!cd.has(x))){c=oo(g,c),g=az(2),x=sd(h,g,2),x!==null&&(oz(g,x,h,c),no(x,2),zl(x));break}}h=h.return}}function kN(c,h,g){var x=c.pingCache;if(x===null){x=c.pingCache=new jse;var E=new Set;x.set(h,E)}else E=x.get(h),E===void 0&&(E=new Set,x.set(h,E));E.has(g)||(gN=!0,E.add(g),c=Gse.bind(null,c,h,g),h.then(c,c))}function Gse(c,h,g){var x=c.pingCache;x!==null&&x.delete(h),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,ir===c&&(bn&g)===g&&(Ur===4||Ur===3&&(bn&62914560)===bn&&300>Lt()-C1?(Mn&2)===0&&Jp(c,0):yN|=g,Zp===bn&&(Zp=0)),zl(c)}function aB(c,h){h===0&&(h=Px()),c=kr(c,h),c!==null&&(no(c,h),zl(c))}function qse(c){var h=c.memoizedState,g=0;h!==null&&(g=h.retryLane),aB(c,g)}function Kse(c,h){var g=0;switch(c.tag){case 31:case 13:var x=c.stateNode,E=c.memoizedState;E!==null&&(g=E.retryLane);break;case 19:x=c.stateNode;break;case 22:x=c.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(h),aB(c,g)}function Xse(c,h){return Zt(c,h)}var A1=null,tm=null,TN=!1,O1=!1,EN=!1,hd=0;function zl(c){c!==tm&&c.next===null&&(tm===null?A1=tm=c:tm=tm.next=c),O1=!0,TN||(TN=!0,Zse())}function Wy(c,h){if(!EN&&O1){EN=!0;do for(var g=!1,x=A1;x!==null;){if(c!==0){var E=x.pendingLanes;if(E===0)var A=0;else{var U=x.suspendedLanes,Z=x.pingedLanes;A=(1<<31-mt(42|c)+1)-1,A&=E&~(U&~Z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(g=!0,cB(x,A))}else A=bn,A=xf(x,x===ir?A:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(A&3)===0||ku(x,A)||(g=!0,cB(x,A));x=x.next}while(g);EN=!1}}function Yse(){oB()}function oB(){O1=TN=!1;var c=0;hd!==0&&oie()&&(c=hd);for(var h=Lt(),g=null,x=A1;x!==null;){var E=x.next,A=lB(x,h);A===0?(x.next=null,g===null?A1=E:g.next=E,E===null&&(tm=g)):(g=x,(c!==0||(A&3)!==0)&&(O1=!0)),x=E}Rs!==0&&Rs!==5||Wy(c),hd!==0&&(hd=0)}function lB(c,h){for(var g=c.suspendedLanes,x=c.pingedLanes,E=c.expirationTimes,A=c.pendingLanes&-62914561;0<A;){var U=31-mt(A),Z=1<<U,le=E[U];le===-1?((Z&g)===0||(Z&x)!==0)&&(E[U]=sE(Z,h)):le<=h&&(c.expiredLanes|=Z),A&=~Z}if(h=ir,g=bn,g=xf(c,c===h?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),x=c.callbackNode,g===0||c===h&&(Vn===2||Vn===9)||c.cancelPendingCommit!==null)return x!==null&&x!==null&&Ht(x),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||ku(c,g)){if(h=g&-g,h===c.callbackPriority)return h;switch(x!==null&&Ht(x),Bc(g)){case 2:case 8:g=Bt;break;case 32:g=kn;break;case 268435456:g=Jr;break;default:g=kn}return x=uB.bind(null,c),g=Zt(g,x),c.callbackPriority=h,c.callbackNode=g,h}return x!==null&&x!==null&&Ht(x),c.callbackPriority=2,c.callbackNode=null,2}function uB(c,h){if(Rs!==0&&Rs!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(I1()&&c.callbackNode!==g)return null;var x=bn;return x=xf(c,c===ir?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),x===0?null:(Wz(c,x,h),lB(c,Lt()),c.callbackNode!=null&&c.callbackNode===g?uB.bind(null,c):null)}function cB(c,h){if(I1())return null;Wz(c,h,!0)}function Zse(){uie(function(){(Mn&6)!==0?Zt(an,Yse):oB()})}function NN(){if(hd===0){var c=Bp;c===0&&(c=lt,lt<<=1,(lt&261888)===0&&(lt=256)),hd=c}return hd}function dB(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Zo(""+c)}function fB(c,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,c.id&&g.setAttribute("form",c.id),h.parentNode.insertBefore(g,h),c=new FormData(c),g.parentNode.removeChild(g),c}function Qse(c,h,g,x,E){if(h==="submit"&&g&&g.stateNode===E){var A=dB((E[rs]||null).action),U=x.submitter;U&&(h=(h=U[rs]||null)?dB(h.formAction):U.getAttribute("formAction"),h!==null&&(A=h,U=null));var Z=new wp("action","action",null,x,E);c.push({event:Z,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(hd!==0){var le=U?fB(E,U):new FormData(E);qE(g,{pending:!0,data:le,method:E.method,action:A},null,le)}}else typeof A=="function"&&(Z.preventDefault(),le=U?fB(E,U):new FormData(E),qE(g,{pending:!0,data:le,method:E.method,action:A},A,le))},currentTarget:E}]})}}for(var $N=0;$N<ct.length;$N++){var IN=ct[$N],Jse=IN.toLowerCase(),eie=IN[0].toUpperCase()+IN.slice(1);nt(Jse,"on"+eie)}nt(Ae,"onAnimationEnd"),nt(_e,"onAnimationIteration"),nt(Ve,"onAnimationStart"),nt("dblclick","onDoubleClick"),nt("focusin","onFocus"),nt("focusout","onBlur"),nt(Ke,"onTransitionRun"),nt(at,"onTransitionStart"),nt(dt,"onTransitionCancel"),nt(tt,"onTransitionEnd"),Ol("onMouseEnter",["mouseout","mouseover"]),Ol("onMouseLeave",["mouseout","mouseover"]),Ol("onPointerEnter",["pointerout","pointerover"]),Ol("onPointerLeave",["pointerout","pointerover"]),Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tie=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hy));function hB(c,h){h=(h&4)!==0;for(var g=0;g<c.length;g++){var x=c[g],E=x.event;x=x.listeners;e:{var A=void 0;if(h)for(var U=x.length-1;0<=U;U--){var Z=x[U],le=Z.instance,De=Z.currentTarget;if(Z=Z.listener,le!==A&&E.isPropagationStopped())break e;A=Z,E.currentTarget=De;try{A(E)}catch(We){vt(We)}E.currentTarget=null,A=le}else for(U=0;U<x.length;U++){if(Z=x[U],le=Z.instance,De=Z.currentTarget,Z=Z.listener,le!==A&&E.isPropagationStopped())break e;A=Z,E.currentTarget=De;try{A(E)}catch(We){vt(We)}E.currentTarget=null,A=le}}}}function mn(c,h){var g=h[jc];g===void 0&&(g=h[jc]=new Set);var x=c+"__bubble";g.has(x)||(pB(h,c,2,!1),g.add(x))}function AN(c,h,g){var x=0;h&&(x|=4),pB(g,c,x,h)}var R1="_reactListening"+Math.random().toString(36).slice(2);function ON(c){if(!c[R1]){c[R1]=!0,Tu.forEach(function(g){g!=="selectionchange"&&(tie.has(g)||AN(g,!1,c),AN(g,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[R1]||(h[R1]=!0,AN("selectionchange",!1,h))}}function pB(c,h,g,x){switch(VB(h)){case 2:var E=Iie;break;case 8:E=Aie;break;default:E=GN}g=E.bind(null,h,g,c),E=void 0,!oy||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),x?E!==void 0?c.addEventListener(h,g,{capture:!0,passive:E}):c.addEventListener(h,g,!0):E!==void 0?c.addEventListener(h,g,{passive:E}):c.addEventListener(h,g,!1)}function RN(c,h,g,x,E){var A=x;if((h&1)===0&&(h&2)===0&&x!==null)e:for(;;){if(x===null)return;var U=x.tag;if(U===3||U===4){var Z=x.stateNode.containerInfo;if(Z===E)break;if(U===4)for(U=x.return;U!==null;){var le=U.tag;if((le===3||le===4)&&U.stateNode.containerInfo===E)return;U=U.return}for(;Z!==null;){if(U=Al(Z),U===null)return;if(le=U.tag,le===5||le===6||le===26||le===27){x=A=U;continue e}Z=Z.parentNode}}x=x.return}Vc(function(){var De=A,We=bp(g),Xe=[];e:{var Pe=ot.get(c);if(Pe!==void 0){var ze=wp,wt=c;switch(c){case"keypress":if(Gc(g)===0)break e;case"keydown":case"keyup":ze=$p;break;case"focusin":wt="focus",ze=qc;break;case"focusout":wt="blur",ze=qc;break;case"beforeblur":case"afterblur":ze=qc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=py;break;case Ae:case _e:case Ve:ze=Bx;break;case tt:ze=my;break;case"scroll":case"scrollend":ze=Sp;break;case"wheel":ze=Ap;break;case"copy":case"cut":case"paste":ze=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=hy;break;case"toggle":case"beforetoggle":ze=Vx}var Ft=(h&4)!==0,Jn=!Ft&&(c==="scroll"||c==="scrollend"),Ee=Ft?Pe!==null?Pe+"Capture":null:Pe;Ft=[];for(var ve=De,Re;ve!==null;){var qe=ve;if(Re=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Re===null||Ee===null||(qe=Au(ve,Ee),qe!=null&&Ft.push(Gy(ve,qe,Re))),Jn)break;ve=ve.return}0<Ft.length&&(Pe=new ze(Pe,wt,null,g,We),Xe.push({event:Pe,listeners:Ft}))}}if((h&7)===0){e:{if(Pe=c==="mouseover"||c==="pointerover",ze=c==="mouseout"||c==="pointerout",Pe&&g!==so&&(wt=g.relatedTarget||g.fromElement)&&(Al(wt)||wt[Vi]))break e;if((ze||Pe)&&(Pe=We.window===We?We:(Pe=We.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,ze?(wt=g.relatedTarget||g.toElement,ze=De,wt=wt?Al(wt):null,wt!==null&&(Jn=i(wt),Ft=wt.tag,wt!==Jn||Ft!==5&&Ft!==27&&Ft!==6)&&(wt=null)):(ze=null,wt=De),ze!==wt)){if(Ft=kp,qe="onMouseLeave",Ee="onMouseEnter",ve="mouse",(c==="pointerout"||c==="pointerover")&&(Ft=hy,qe="onPointerLeave",Ee="onPointerEnter",ve="pointer"),Jn=ze==null?Pe:_a(ze),Re=wt==null?Pe:_a(wt),Pe=new Ft(qe,ve+"leave",ze,g,We),Pe.target=Jn,Pe.relatedTarget=Re,qe=null,Al(We)===De&&(Ft=new Ft(Ee,ve+"enter",wt,g,We),Ft.target=Re,Ft.relatedTarget=Jn,qe=Ft),Jn=qe,ze&&wt)t:{for(Ft=nie,Ee=ze,ve=wt,Re=0,qe=Ee;qe;qe=Ft(qe))Re++;qe=0;for(var Pt=ve;Pt;Pt=Ft(Pt))qe++;for(;0<Re-qe;)Ee=Ft(Ee),Re--;for(;0<qe-Re;)ve=Ft(ve),qe--;for(;Re--;){if(Ee===ve||ve!==null&&Ee===ve.alternate){Ft=Ee;break t}Ee=Ft(Ee),ve=Ft(ve)}Ft=null}else Ft=null;ze!==null&&mB(Xe,Pe,ze,Ft,!1),wt!==null&&Jn!==null&&mB(Xe,Jn,wt,Ft,!0)}}e:{if(Pe=De?_a(De):window,ze=Pe.nodeName&&Pe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Pe.type==="file")var On=Mf;else if(Dp(Pe))if(ao)On=Zc;else{On=Pu;var Nt=Xx}else ze=Pe.nodeName,!ze||ze.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?De&&ay(De.elementType)&&(On=Mf):On=xy;if(On&&(On=On(c,De))){by(Xe,On,g,We);break e}Nt&&Nt(c,Pe,De),c==="focusout"&&De&&Pe.type==="number"&&De.memoizedProps.value!=null&&$f(Pe,"number",Pe.value)}switch(Nt=De?_a(De):window,c){case"focusin":(Dp(Nt)||Nt.contentEditable==="true")&&(ie=Nt,he=De,ge=null);break;case"focusout":ge=he=ie=null;break;case"mousedown":Ce=!0;break;case"contextmenu":case"mouseup":case"dragend":Ce=!1,ue(Xe,g,We);break;case"selectionchange":if(re)break;case"keydown":case"keyup":ue(Xe,g,We)}var on;if(_f)e:{switch(c){case"compositionstart":var xn="onCompositionStart";break e;case"compositionend":xn="onCompositionEnd";break e;case"compositionupdate":xn="onCompositionUpdate";break e}xn=void 0}else _u?vy(c,g)&&(xn="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(xn="onCompositionStart");xn&&(Op&&g.locale!=="ko"&&(_u||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&_u&&(on=Hc()):(io=We,xp="value"in io?io.value:io.textContent,_u=!0)),Nt=D1(De,xn),0<Nt.length&&(xn=new Np(xn,c,null,g,We),Xe.push({event:xn,listeners:Nt}),on?xn.data=on:(on=Hx(g),on!==null&&(xn.data=on)))),(on=cE?Gx(c,g):dE(c,g))&&(xn=D1(De,"onBeforeInput"),0<xn.length&&(Nt=new Np("onBeforeInput","beforeinput",null,g,We),Xe.push({event:Nt,listeners:xn}),Nt.data=on)),Qse(Xe,c,De,g,We)}hB(Xe,h)})}function Gy(c,h,g){return{instance:c,listener:h,currentTarget:g}}function D1(c,h){for(var g=h+"Capture",x=[];c!==null;){var E=c,A=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||A===null||(E=Au(c,g),E!=null&&x.unshift(Gy(c,E,A)),E=Au(c,h),E!=null&&x.push(Gy(c,E,A))),c.tag===3)return x;c=c.return}return[]}function nie(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function mB(c,h,g,x,E){for(var A=h._reactName,U=[];g!==null&&g!==x;){var Z=g,le=Z.alternate,De=Z.stateNode;if(Z=Z.tag,le!==null&&le===x)break;Z!==5&&Z!==26&&Z!==27||De===null||(le=De,E?(De=Au(g,A),De!=null&&U.unshift(Gy(g,De,le))):E||(De=Au(g,A),De!=null&&U.push(Gy(g,De,le)))),g=g.return}U.length!==0&&c.push({event:h,listeners:U})}var rie=/\r\n?/g,sie=/\u0000|\uFFFD/g;function gB(c){return(typeof c=="string"?c:""+c).replace(rie,`
`).replace(sie,"")}function yB(c,h){return h=gB(h),gB(c)===h}function Qn(c,h,g,x,E,A){switch(g){case"children":typeof x=="string"?h==="body"||h==="textarea"&&x===""||Nu(c,x):(typeof x=="number"||typeof x=="bigint")&&h!=="body"&&Nu(c,""+x);break;case"className":Ef(c,"class",x);break;case"tabIndex":Ef(c,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ef(c,g,x);break;case"style":iy(c,x,A);break;case"data":if(h!=="object"){Ef(c,"data",x);break}case"src":case"href":if(x===""&&(h!=="a"||g!=="href")){c.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){c.removeAttribute(g);break}x=Zo(""+x),c.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(g==="formAction"?(h!=="input"&&Qn(c,h,"name",E.name,E,null),Qn(c,h,"formEncType",E.formEncType,E,null),Qn(c,h,"formMethod",E.formMethod,E,null),Qn(c,h,"formTarget",E.formTarget,E,null)):(Qn(c,h,"encType",E.encType,E,null),Qn(c,h,"method",E.method,E,null),Qn(c,h,"target",E.target,E,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){c.removeAttribute(g);break}x=Zo(""+x),c.setAttribute(g,x);break;case"onClick":x!=null&&(c.onclick=sa);break;case"onScroll":x!=null&&mn("scroll",c);break;case"onScrollEnd":x!=null&&mn("scrollend",c);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(g=x.__html,g!=null){if(E.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"multiple":c.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":c.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){c.removeAttribute("xlink:href");break}g=Zo(""+x),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(g,""+x):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":x===!0?c.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(g,x):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?c.setAttribute(g,x):c.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?c.removeAttribute(g):c.setAttribute(g,x);break;case"popover":mn("beforetoggle",c),mn("toggle",c),ln(c,"popover",x);break;case"xlinkActuate":ro(c,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ro(c,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ro(c,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ro(c,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ro(c,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ro(c,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ro(c,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ro(c,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ro(c,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ln(c,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=oE.get(g)||g,ln(c,g,x))}}function DN(c,h,g,x,E,A){switch(g){case"style":iy(c,x,A);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(g=x.__html,g!=null){if(E.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"children":typeof x=="string"?Nu(c,x):(typeof x=="number"||typeof x=="bigint")&&Nu(c,""+x);break;case"onScroll":x!=null&&mn("scroll",c);break;case"onScrollEnd":x!=null&&mn("scrollend",c);break;case"onClick":x!=null&&(c.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kf.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(E=g.endsWith("Capture"),h=g.slice(2,E?g.length-7:void 0),A=c[rs]||null,A=A!=null?A[g]:null,typeof A=="function"&&c.removeEventListener(h,A,E),typeof x=="function")){typeof A!="function"&&A!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(h,x,E);break e}g in c?c[g]=x:x===!0?c.setAttribute(g,""):ln(c,g,x)}}}function hi(c,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",c),mn("load",c);var x=!1,E=!1,A;for(A in g)if(g.hasOwnProperty(A)){var U=g[A];if(U!=null)switch(A){case"src":x=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Qn(c,h,A,U,g,null)}}E&&Qn(c,h,"srcSet",g.srcSet,g,null),x&&Qn(c,h,"src",g.src,g,null);return;case"input":mn("invalid",c);var Z=A=U=E=null,le=null,De=null;for(x in g)if(g.hasOwnProperty(x)){var We=g[x];if(We!=null)switch(x){case"name":E=We;break;case"type":U=We;break;case"checked":le=We;break;case"defaultChecked":De=We;break;case"value":A=We;break;case"defaultValue":Z=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,h));break;default:Qn(c,h,x,We,g,null)}}vp(c,A,Z,le,De,U,E,!1);return;case"select":mn("invalid",c),x=U=A=null;for(E in g)if(g.hasOwnProperty(E)&&(Z=g[E],Z!=null))switch(E){case"value":A=Z;break;case"defaultValue":U=Z;break;case"multiple":x=Z;default:Qn(c,h,E,Z,g,null)}h=A,g=U,c.multiple=!!x,h!=null?Yo(c,!!x,h,!1):g!=null&&Yo(c,!!x,g,!0);return;case"textarea":mn("invalid",c),A=E=x=null;for(U in g)if(g.hasOwnProperty(U)&&(Z=g[U],Z!=null))switch(U){case"value":x=Z;break;case"defaultValue":E=Z;break;case"children":A=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:Qn(c,h,U,Z,g,null)}If(c,x,E,A);return;case"option":for(le in g)g.hasOwnProperty(le)&&(x=g[le],x!=null)&&(le==="selected"?c.selected=x&&typeof x!="function"&&typeof x!="symbol":Qn(c,h,le,x,g,null));return;case"dialog":mn("beforetoggle",c),mn("toggle",c),mn("cancel",c),mn("close",c);break;case"iframe":case"object":mn("load",c);break;case"video":case"audio":for(x=0;x<Hy.length;x++)mn(Hy[x],c);break;case"image":mn("error",c),mn("load",c);break;case"details":mn("toggle",c);break;case"embed":case"source":case"link":mn("error",c),mn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in g)if(g.hasOwnProperty(De)&&(x=g[De],x!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Qn(c,h,De,x,g,null)}return;default:if(ay(h)){for(We in g)g.hasOwnProperty(We)&&(x=g[We],x!==void 0&&DN(c,h,We,x,g,void 0));return}}for(Z in g)g.hasOwnProperty(Z)&&(x=g[Z],x!=null&&Qn(c,h,Z,x,g,null))}function iie(c,h,g,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,A=null,U=null,Z=null,le=null,De=null,We=null;for(ze in g){var Xe=g[ze];if(g.hasOwnProperty(ze)&&Xe!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":le=Xe;default:x.hasOwnProperty(ze)||Qn(c,h,ze,null,x,Xe)}}for(var Pe in x){var ze=x[Pe];if(Xe=g[Pe],x.hasOwnProperty(Pe)&&(ze!=null||Xe!=null))switch(Pe){case"type":A=ze;break;case"name":E=ze;break;case"checked":De=ze;break;case"defaultChecked":We=ze;break;case"value":U=ze;break;case"defaultValue":Z=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,h));break;default:ze!==Xe&&Qn(c,h,Pe,ze,x,Xe)}}Rl(c,U,Z,le,De,We,A,E);return;case"select":ze=U=Z=Pe=null;for(A in g)if(le=g[A],g.hasOwnProperty(A)&&le!=null)switch(A){case"value":break;case"multiple":ze=le;default:x.hasOwnProperty(A)||Qn(c,h,A,null,x,le)}for(E in x)if(A=x[E],le=g[E],x.hasOwnProperty(E)&&(A!=null||le!=null))switch(E){case"value":Pe=A;break;case"defaultValue":Z=A;break;case"multiple":U=A;default:A!==le&&Qn(c,h,E,A,x,le)}h=Z,g=U,x=ze,Pe!=null?Yo(c,!!g,Pe,!1):!!x!=!!g&&(h!=null?Yo(c,!!g,h,!0):Yo(c,!!g,g?[]:"",!1));return;case"textarea":ze=Pe=null;for(Z in g)if(E=g[Z],g.hasOwnProperty(Z)&&E!=null&&!x.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Qn(c,h,Z,null,x,E)}for(U in x)if(E=x[U],A=g[U],x.hasOwnProperty(U)&&(E!=null||A!=null))switch(U){case"value":Pe=E;break;case"defaultValue":ze=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==A&&Qn(c,h,U,E,x,A)}sy(c,Pe,ze);return;case"option":for(var wt in g)Pe=g[wt],g.hasOwnProperty(wt)&&Pe!=null&&!x.hasOwnProperty(wt)&&(wt==="selected"?c.selected=!1:Qn(c,h,wt,null,x,Pe));for(le in x)Pe=x[le],ze=g[le],x.hasOwnProperty(le)&&Pe!==ze&&(Pe!=null||ze!=null)&&(le==="selected"?c.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol":Qn(c,h,le,Pe,x,ze));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in g)Pe=g[Ft],g.hasOwnProperty(Ft)&&Pe!=null&&!x.hasOwnProperty(Ft)&&Qn(c,h,Ft,null,x,Pe);for(De in x)if(Pe=x[De],ze=g[De],x.hasOwnProperty(De)&&Pe!==ze&&(Pe!=null||ze!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,h));break;default:Qn(c,h,De,Pe,x,ze)}return;default:if(ay(h)){for(var Jn in g)Pe=g[Jn],g.hasOwnProperty(Jn)&&Pe!==void 0&&!x.hasOwnProperty(Jn)&&DN(c,h,Jn,void 0,x,Pe);for(We in x)Pe=x[We],ze=g[We],!x.hasOwnProperty(We)||Pe===ze||Pe===void 0&&ze===void 0||DN(c,h,We,Pe,x,ze);return}}for(var Ee in g)Pe=g[Ee],g.hasOwnProperty(Ee)&&Pe!=null&&!x.hasOwnProperty(Ee)&&Qn(c,h,Ee,null,x,Pe);for(Xe in x)Pe=x[Xe],ze=g[Xe],!x.hasOwnProperty(Xe)||Pe===ze||Pe==null&&ze==null||Qn(c,h,Xe,Pe,x,ze)}function vB(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aie(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,g=performance.getEntriesByType("resource"),x=0;x<g.length;x++){var E=g[x],A=E.transferSize,U=E.initiatorType,Z=E.duration;if(A&&Z&&vB(U)){for(U=0,Z=E.responseEnd,x+=1;x<g.length;x++){var le=g[x],De=le.startTime;if(De>Z)break;var We=le.transferSize,Xe=le.initiatorType;We&&vB(Xe)&&(le=le.responseEnd,U+=We*(le<Z?1:(Z-De)/(le-De)))}if(--x,h+=8*(A+U)/(E.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var _N=null,PN=null;function _1(c){return c.nodeType===9?c:c.ownerDocument}function bB(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xB(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function MN(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var LN=null;function oie(){var c=window.event;return c&&c.type==="popstate"?c===LN?!1:(LN=c,!0):(LN=null,!1)}var wB=typeof setTimeout=="function"?setTimeout:void 0,lie=typeof clearTimeout=="function"?clearTimeout:void 0,SB=typeof Promise=="function"?Promise:void 0,uie=typeof queueMicrotask=="function"?queueMicrotask:typeof SB<"u"?function(c){return SB.resolve(null).then(c).catch(cie)}:wB;function cie(c){setTimeout(function(){throw c})}function pd(c){return c==="head"}function CB(c,h){var g=h,x=0;do{var E=g.nextSibling;if(c.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"||g==="/&"){if(x===0){c.removeChild(E),im(h);return}x--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")x++;else if(g==="html")qy(c.ownerDocument.documentElement);else if(g==="head"){g=c.ownerDocument.head,qy(g);for(var A=g.firstChild;A;){var U=A.nextSibling,Z=A.nodeName;A[Da]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&A.rel.toLowerCase()==="stylesheet"||g.removeChild(A),A=U}}else g==="body"&&qy(c.ownerDocument.body);g=E}while(g);im(h)}function kB(c,h){var g=c;c=0;do{var x=g.nextSibling;if(g.nodeType===1?h?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(h?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(c===0)break;c--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||c++;g=x}while(g)}function FN(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":FN(g),gp(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function die(c,h,g,x){for(;c.nodeType===1;){var E=g;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!x&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(x){if(!c[Da])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(A=c.getAttribute("rel"),A==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(A!==E.rel||c.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||c.getAttribute("title")!==(E.title==null?null:E.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(A=c.getAttribute("src"),(A!==(E.src==null?null:E.src)||c.getAttribute("type")!==(E.type==null?null:E.type)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&A&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var A=E.name==null?null:""+E.name;if(E.type==="hidden"&&c.getAttribute("name")===A)return c}else return c;if(c=ho(c.nextSibling),c===null)break}return null}function fie(c,h,g){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=ho(c.nextSibling),c===null))return null;return c}function TB(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=ho(c.nextSibling),c===null))return null;return c}function zN(c){return c.data==="$?"||c.data==="$~"}function BN(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function hie(c,h){var g=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||g.readyState!=="loading")h();else{var x=function(){h(),g.removeEventListener("DOMContentLoaded",x)};g.addEventListener("DOMContentLoaded",x),c._reactRetry=x}}function ho(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var jN=null;function EB(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"||g==="/&"){if(h===0)return ho(c.nextSibling);h--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||h++}c=c.nextSibling}return null}function NB(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(h===0)return c;h--}else g!=="/$"&&g!=="/&"||h++}c=c.previousSibling}return null}function $B(c,h,g){switch(h=_1(g),c){case"html":if(c=h.documentElement,!c)throw Error(r(452));return c;case"head":if(c=h.head,!c)throw Error(r(453));return c;case"body":if(c=h.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function qy(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);gp(c)}var po=new Map,IB=new Set;function P1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Yu=ee.d;ee.d={f:pie,r:mie,D:gie,C:yie,L:vie,m:bie,X:wie,S:xie,M:Sie};function pie(){var c=Yu.f(),h=E1();return c||h}function mie(c){var h=Yn(c);h!==null&&h.tag===5&&h.type==="form"?G3(h):Yu.r(c)}var nm=typeof document>"u"?null:document;function AB(c,h,g){var x=nm;if(x&&typeof h=="string"&&h){var E=Vs(h);E='link[rel="'+c+'"][href="'+E+'"]',typeof g=="string"&&(E+='[crossorigin="'+g+'"]'),IB.has(E)||(IB.add(E),c={rel:c,crossOrigin:g,href:h},x.querySelector(E)===null&&(h=x.createElement("link"),hi(h,"link",c),ss(h),x.head.appendChild(h)))}}function gie(c){Yu.D(c),AB("dns-prefetch",c,null)}function yie(c,h){Yu.C(c,h),AB("preconnect",c,h)}function vie(c,h,g){Yu.L(c,h,g);var x=nm;if(x&&c&&h){var E='link[rel="preload"][as="'+Vs(h)+'"]';h==="image"&&g&&g.imageSrcSet?(E+='[imagesrcset="'+Vs(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(E+='[imagesizes="'+Vs(g.imageSizes)+'"]')):E+='[href="'+Vs(c)+'"]';var A=E;switch(h){case"style":A=rm(c);break;case"script":A=sm(c)}po.has(A)||(c=f({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:c,as:h},g),po.set(A,c),x.querySelector(E)!==null||h==="style"&&x.querySelector(Ky(A))||h==="script"&&x.querySelector(Xy(A))||(h=x.createElement("link"),hi(h,"link",c),ss(h),x.head.appendChild(h)))}}function bie(c,h){Yu.m(c,h);var g=nm;if(g&&c){var x=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+Vs(x)+'"][href="'+Vs(c)+'"]',A=E;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=sm(c)}if(!po.has(A)&&(c=f({rel:"modulepreload",href:c},h),po.set(A,c),g.querySelector(E)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Xy(A)))return}x=g.createElement("link"),hi(x,"link",c),ss(x),g.head.appendChild(x)}}}function xie(c,h,g){Yu.S(c,h,g);var x=nm;if(x&&c){var E=ki(x).hoistableStyles,A=rm(c);h=h||"default";var U=E.get(A);if(!U){var Z={loading:0,preload:null};if(U=x.querySelector(Ky(A)))Z.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":h},g),(g=po.get(A))&&UN(c,g);var le=U=x.createElement("link");ss(le),hi(le,"link",c),le._p=new Promise(function(De,We){le.onload=De,le.onerror=We}),le.addEventListener("load",function(){Z.loading|=1}),le.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,M1(U,h,x)}U={type:"stylesheet",instance:U,count:1,state:Z},E.set(A,U)}}}function wie(c,h){Yu.X(c,h);var g=nm;if(g&&c){var x=ki(g).hoistableScripts,E=sm(c),A=x.get(E);A||(A=g.querySelector(Xy(E)),A||(c=f({src:c,async:!0},h),(h=po.get(E))&&VN(c,h),A=g.createElement("script"),ss(A),hi(A,"link",c),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},x.set(E,A))}}function Sie(c,h){Yu.M(c,h);var g=nm;if(g&&c){var x=ki(g).hoistableScripts,E=sm(c),A=x.get(E);A||(A=g.querySelector(Xy(E)),A||(c=f({src:c,async:!0,type:"module"},h),(h=po.get(E))&&VN(c,h),A=g.createElement("script"),ss(A),hi(A,"link",c),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},x.set(E,A))}}function OB(c,h,g,x){var E=(E=Ie.current)?P1(E):null;if(!E)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=rm(g.href),g=ki(E).hoistableStyles,x=g.get(h),x||(x={type:"style",instance:null,count:0,state:null},g.set(h,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=rm(g.href);var A=ki(E).hoistableStyles,U=A.get(c);if(U||(E=E.ownerDocument||E,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(c,U),(A=E.querySelector(Ky(c)))&&!A._p&&(U.instance=A,U.state.loading=5),po.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},po.set(c,g),A||Cie(E,c,g,U.state))),h&&x===null)throw Error(r(528,""));return U}if(h&&x!==null)throw Error(r(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=sm(g),g=ki(E).hoistableScripts,x=g.get(h),x||(x={type:"script",instance:null,count:0,state:null},g.set(h,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function rm(c){return'href="'+Vs(c)+'"'}function Ky(c){return'link[rel="stylesheet"]['+c+"]"}function RB(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function Cie(c,h,g,x){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?x.loading=1:(h=c.createElement("link"),x.preload=h,h.addEventListener("load",function(){return x.loading|=1}),h.addEventListener("error",function(){return x.loading|=2}),hi(h,"link",g),ss(h),c.head.appendChild(h))}function sm(c){return'[src="'+Vs(c)+'"]'}function Xy(c){return"script[async]"+c}function DB(c,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var x=c.querySelector('style[data-href~="'+Vs(g.href)+'"]');if(x)return h.instance=x,ss(x),x;var E=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(c.ownerDocument||c).createElement("style"),ss(x),hi(x,"style",E),M1(x,g.precedence,c),h.instance=x;case"stylesheet":E=rm(g.href);var A=c.querySelector(Ky(E));if(A)return h.state.loading|=4,h.instance=A,ss(A),A;x=RB(g),(E=po.get(E))&&UN(x,E),A=(c.ownerDocument||c).createElement("link"),ss(A);var U=A;return U._p=new Promise(function(Z,le){U.onload=Z,U.onerror=le}),hi(A,"link",x),h.state.loading|=4,M1(A,g.precedence,c),h.instance=A;case"script":return A=sm(g.src),(E=c.querySelector(Xy(A)))?(h.instance=E,ss(E),E):(x=g,(E=po.get(A))&&(x=f({},g),VN(x,E)),c=c.ownerDocument||c,E=c.createElement("script"),ss(E),hi(E,"link",x),c.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(x=h.instance,h.state.loading|=4,M1(x,g.precedence,c));return h.instance}function M1(c,h,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=x.length?x[x.length-1]:null,A=E,U=0;U<x.length;U++){var Z=x[U];if(Z.dataset.precedence===h)A=Z;else if(A!==E)break}A?A.parentNode.insertBefore(c,A.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(c,h.firstChild))}function UN(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function VN(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var L1=null;function _B(c,h,g){if(L1===null){var x=new Map,E=L1=new Map;E.set(g,x)}else E=L1,x=E.get(g),x||(x=new Map,E.set(g,x));if(x.has(c))return x;for(x.set(c,null),g=g.getElementsByTagName(c),E=0;E<g.length;E++){var A=g[E];if(!(A[Da]||A[ur]||c==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var U=A.getAttribute(h)||"";U=c+U;var Z=x.get(U);Z?Z.push(A):x.set(U,[A])}}return x}function PB(c,h,g){c=c.ownerDocument||c,c.head.insertBefore(g,h==="title"?c.querySelector("head > title"):null)}function kie(c,h,g){if(g===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;return h.rel==="stylesheet"?(c=h.disabled,typeof h.precedence=="string"&&c==null):!0;case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function MB(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function Tie(c,h,g,x){if(g.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var E=rm(x.href),A=h.querySelector(Ky(E));if(A){h=A._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=F1.bind(c),h.then(c,c)),g.state.loading|=4,g.instance=A,ss(A);return}A=h.ownerDocument||h,x=RB(x),(E=po.get(E))&&UN(x,E),A=A.createElement("link"),ss(A);var U=A;U._p=new Promise(function(Z,le){U.onload=Z,U.onerror=le}),hi(A,"link",x),g.instance=A}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(c.count++,g=F1.bind(c),h.addEventListener("load",g),h.addEventListener("error",g))}}var WN=0;function Eie(c,h){return c.stylesheets&&c.count===0&&B1(c,c.stylesheets),0<c.count||0<c.imgCount?function(g){var x=setTimeout(function(){if(c.stylesheets&&B1(c,c.stylesheets),c.unsuspend){var A=c.unsuspend;c.unsuspend=null,A()}},6e4+h);0<c.imgBytes&&WN===0&&(WN=62500*aie());var E=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&B1(c,c.stylesheets),c.unsuspend)){var A=c.unsuspend;c.unsuspend=null,A()}},(c.imgBytes>WN?50:800)+h);return c.unsuspend=g,function(){c.unsuspend=null,clearTimeout(x),clearTimeout(E)}}:null}function F1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)B1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var z1=null;function B1(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,z1=new Map,h.forEach(Nie,c),z1=null,F1.call(c))}function Nie(c,h){if(!(h.state.loading&4)){var g=z1.get(c);if(g)var x=g.get(null);else{g=new Map,z1.set(c,g);for(var E=c.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<E.length;A++){var U=E[A];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(g.set(U.dataset.precedence,U),x=U)}x&&g.set(null,x)}E=h.instance,U=E.getAttribute("data-precedence"),A=g.get(U)||x,A===x&&g.set(null,E),g.set(U,E),this.count++,x=F1.bind(this),E.addEventListener("load",x),E.addEventListener("error",x),A?A.parentNode.insertBefore(E,A.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(E,c.firstChild)),h.state.loading|=4}}var Yy={$$typeof:C,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function $ie(c,h,g,x,E,A,U,Z,le){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.hiddenUpdates=Nl(null),this.identifierPrefix=x,this.onUncaughtError=E,this.onCaughtError=A,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function LB(c,h,g,x,E,A,U,Z,le,De,We,Xe){return c=new $ie(c,h,g,U,le,De,We,Xe,Z),h=1,A===!0&&(h|=24),A=Ma(3,null,null,h),c.current=A,A.stateNode=c,h=CE(),h.refCount++,c.pooledCache=h,h.refCount++,A.memoizedState={element:x,isDehydrated:g,cache:h},NE(A),c}function FB(c){return c?(c=ia,c):ia}function zB(c,h,g,x,E,A){E=FB(E),x.context===null?x.context=E:x.pendingContext=E,x=rd(h),x.payload={element:g},A=A===void 0?null:A,A!==null&&(x.callback=A),g=sd(c,x,h),g!==null&&(ca(g,c,h),$y(g,c,h))}function BB(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<h?g:h}}function HN(c,h){BB(c,h),(c=c.alternate)&&BB(c,h)}function jB(c){if(c.tag===13||c.tag===31){var h=kr(c,67108864);h!==null&&ca(h,c,67108864),HN(c,67108864)}}function UB(c){if(c.tag===13||c.tag===31){var h=ja();h=ey(h);var g=kr(c,h);g!==null&&ca(g,c,h),HN(c,h)}}var j1=!0;function Iie(c,h,g,x){var E=V.T;V.T=null;var A=ee.p;try{ee.p=2,GN(c,h,g,x)}finally{ee.p=A,V.T=E}}function Aie(c,h,g,x){var E=V.T;V.T=null;var A=ee.p;try{ee.p=8,GN(c,h,g,x)}finally{ee.p=A,V.T=E}}function GN(c,h,g,x){if(j1){var E=qN(x);if(E===null)RN(c,h,x,U1,g),WB(c,x);else if(Rie(E,c,h,g,x))x.stopPropagation();else if(WB(c,x),h&4&&-1<Oie.indexOf(c)){for(;E!==null;){var A=Yn(E);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var U=Ko(A.pendingLanes);if(U!==0){var Z=A;for(Z.pendingLanes|=2,Z.entangledLanes|=2;U;){var le=1<<31-mt(U);Z.entanglements[1]|=le,U&=~le}zl(A),(Mn&6)===0&&(k1=Lt()+500,Wy(0))}}break;case 31:case 13:Z=kr(A,2),Z!==null&&ca(Z,A,2),E1(),HN(A,2)}if(A=qN(x),A===null&&RN(c,h,x,U1,g),A===E)break;E=A}E!==null&&x.stopPropagation()}else RN(c,h,x,null,g)}}function qN(c){return c=bp(c),KN(c)}var U1=null;function KN(c){if(U1=null,c=Al(c),c!==null){var h=i(c);if(h===null)c=null;else{var g=h.tag;if(g===13){if(c=a(h),c!==null)return c;c=null}else if(g===31){if(c=o(h),c!==null)return c;c=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return U1=c,null}function VB(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case an:return 2;case Bt:return 8;case kn:case _n:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var XN=!1,md=null,gd=null,yd=null,Zy=new Map,Qy=new Map,vd=[],Oie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WB(c,h){switch(c){case"focusin":case"focusout":md=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":yd=null;break;case"pointerover":case"pointerout":Zy.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qy.delete(h.pointerId)}}function Jy(c,h,g,x,E,A){return c===null||c.nativeEvent!==A?(c={blockedOn:h,domEventName:g,eventSystemFlags:x,nativeEvent:A,targetContainers:[E]},h!==null&&(h=Yn(h),h!==null&&jB(h)),c):(c.eventSystemFlags|=x,h=c.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),c)}function Rie(c,h,g,x,E){switch(h){case"focusin":return md=Jy(md,c,h,g,x,E),!0;case"dragenter":return gd=Jy(gd,c,h,g,x,E),!0;case"mouseover":return yd=Jy(yd,c,h,g,x,E),!0;case"pointerover":var A=E.pointerId;return Zy.set(A,Jy(Zy.get(A)||null,c,h,g,x,E)),!0;case"gotpointercapture":return A=E.pointerId,Qy.set(A,Jy(Qy.get(A)||null,c,h,g,x,E)),!0}return!1}function HB(c){var h=Al(c.target);if(h!==null){var g=i(h);if(g!==null){if(h=g.tag,h===13){if(h=a(g),h!==null){c.blockedOn=h,Cf(c.priority,function(){UB(g)});return}}else if(h===31){if(h=o(g),h!==null){c.blockedOn=h,Cf(c.priority,function(){UB(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function V1(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var g=qN(c.nativeEvent);if(g===null){g=c.nativeEvent;var x=new g.constructor(g.type,g);so=x,g.target.dispatchEvent(x),so=null}else return h=Yn(g),h!==null&&jB(h),c.blockedOn=g,!1;h.shift()}return!0}function GB(c,h,g){V1(c)&&g.delete(h)}function Die(){XN=!1,md!==null&&V1(md)&&(md=null),gd!==null&&V1(gd)&&(gd=null),yd!==null&&V1(yd)&&(yd=null),Zy.forEach(GB),Qy.forEach(GB)}function W1(c,h){c.blockedOn===h&&(c.blockedOn=null,XN||(XN=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Die)))}var H1=null;function qB(c){H1!==c&&(H1=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){H1===c&&(H1=null);for(var h=0;h<c.length;h+=3){var g=c[h],x=c[h+1],E=c[h+2];if(typeof x!="function"){if(KN(x||g)===null)continue;break}var A=Yn(g);A!==null&&(c.splice(h,3),h-=3,qE(A,{pending:!0,data:E,method:g.method,action:x},x,E))}}))}function im(c){function h(le){return W1(le,c)}md!==null&&W1(md,c),gd!==null&&W1(gd,c),yd!==null&&W1(yd,c),Zy.forEach(h),Qy.forEach(h);for(var g=0;g<vd.length;g++){var x=vd[g];x.blockedOn===c&&(x.blockedOn=null)}for(;0<vd.length&&(g=vd[0],g.blockedOn===null);)HB(g),g.blockedOn===null&&vd.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var E=g[x],A=g[x+1],U=E[rs]||null;if(typeof A=="function")U||qB(g);else if(U){var Z=null;if(A&&A.hasAttribute("formAction")){if(E=A,U=A[rs]||null)Z=U.formAction;else if(KN(E)!==null)continue}else Z=U.action;typeof Z=="function"?g[x+1]=Z:(g.splice(x,3),x-=3),qB(g)}}}function KB(){function c(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(U){return E=U})},focusReset:"manual",scroll:"manual"})}function h(){E!==null&&(E(),E=null),x||setTimeout(g,20)}function g(){if(!x&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,E=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(g,100),function(){x=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),E!==null&&(E(),E=null)}}}function YN(c){this._internalRoot=c}G1.prototype.render=YN.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));var g=h.current,x=ja();zB(g,x,c,h,null,null)},G1.prototype.unmount=YN.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;zB(c.current,2,null,c,null,null),E1(),h[Vi]=null}};function G1(c){this._internalRoot=c}G1.prototype.unstable_scheduleHydration=function(c){if(c){var h=Sf();c={blockedOn:null,target:c,priority:h};for(var g=0;g<vd.length&&h!==0&&h<vd[g].priority;g++);vd.splice(g,0,c),g===0&&HB(c)}};var XB=e.version;if(XB!=="19.2.3")throw Error(r(527,XB,"19.2.3"));ee.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(h),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var _ie={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q1.isDisabled&&q1.supportsFiber)try{Br=q1.inject(_ie),_r=q1}catch{}}return tv.createRoot=function(c,h){if(!s(c))throw Error(r(299));var g=!1,x="",E=nz,A=rz,U=sz;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(A=h.onCaughtError),h.onRecoverableError!==void 0&&(U=h.onRecoverableError)),h=LB(c,1,!1,null,null,g,x,null,E,A,U,KB),c[Vi]=h.current,ON(c),new YN(h)},tv.hydrateRoot=function(c,h,g){if(!s(c))throw Error(r(299));var x=!1,E="",A=nz,U=rz,Z=sz,le=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(A=g.onUncaughtError),g.onCaughtError!==void 0&&(U=g.onCaughtError),g.onRecoverableError!==void 0&&(Z=g.onRecoverableError),g.formState!==void 0&&(le=g.formState)),h=LB(c,1,!0,h,g??null,x,E,le,A,U,Z,KB),h.context=FB(null),g=h.current,x=ja(),x=ey(x),E=rd(x),E.callback=null,sd(g,E,x),g=x,h.current.lanes=g,no(h,g),zl(h),c[Vi]=h.current,ON(c),new G1(h)},tv.version="19.2.3",tv}var ij;function Hie(){if(ij)return JN.exports;ij=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),JN.exports=Wie(),JN.exports}var Gie=Hie();const qie=Ja(Gie),Kie="modulepreload",Xie=function(t){return"/gramsheba-ai/"+t},aj={},QG=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=u;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=u(n.map(d=>{if(d=Xie(d),d in aj)return;aj[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Kie,f||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((y,v)=>{m.addEventListener("load",y),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var oj="popstate";function Yie(t={}){function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return NA("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Gv(s)}return Qie(e,n,null,t)}function Lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zie(){return Math.random().toString(36).substring(2,10)}function lj(t,e){return{usr:t.state,key:t.key,idx:e}}function NA(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mg(e):e,state:n,key:e&&e.key||r||Zie()}}function Gv({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Qie(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let b=d(),w=b==null?null:b-u;u=b,l&&l({action:o,location:v.location,delta:w})}function p(b,w){o="PUSH";let S=NA(v.location,b,w);u=d()+1;let C=lj(S,u),T=v.createHref(S);try{a.pushState(C,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(T)}i&&l&&l({action:o,location:v.location,delta:1})}function m(b,w){o="REPLACE";let S=NA(v.location,b,w);u=d();let C=lj(S,u),T=v.createHref(S);a.replaceState(C,"",T),i&&l&&l({action:o,location:v.location,delta:0})}function y(b){return Jie(b)}let v={get action(){return o},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(oj,f),l=b,()=>{s.removeEventListener(oj,f),l=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(b){return a.go(b)}};return v}function Jie(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gv(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function JG(t,e,n="/"){return eae(t,e,n,!1)}function eae(t,e,n,r){let s=typeof e=="string"?mg(e):e,i=pc(s.pathname||"/",n);if(i==null)return null;let a=eq(t);tae(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=fae(i);o=cae(a[l],u,r)}return o}function eq(t,e=[],n=[],r="",s=!1){let i=(a,o,l=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Lr(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=cc([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Lr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),eq(a.children,e,p,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:lae(f,a.index),routesMeta:p})};return t.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let l of tq(a.path))i(a,o,!0,l)}),e}function tq(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=tq(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function tae(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uae(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nae=/^:[\w-]+$/,rae=3,sae=2,iae=1,aae=10,oae=-2,uj=t=>t==="*";function lae(t,e){let n=t.split("/"),r=n.length;return n.some(uj)&&(r+=oae),e&&(r+=sae),n.filter(s=>!uj(s)).reduce((s,i)=>s+(nae.test(i)?rae:i===""?iae:aae),r)}function uae(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function cae(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=dS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=dS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:cc([i,f.pathname]),pathnameBase:gae(cc([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=cc([i,f.pathnameBase]))}return a}function dS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dae(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=o[p]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[p];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function dae(t,e=!1,n=!0){fl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var nq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hae=t=>nq.test(t);function pae(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?mg(t):t,i;if(n)if(hae(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),fl(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?i=cj(n.substring(1),"/"):i=cj(n,e)}else i=e;return{pathname:i,search:yae(r),hash:vae(s)}}function cj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function r$(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mae(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rq(t){let e=mae(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function sq(t,e,n,r=!1){let s;typeof t=="string"?s=mg(t):(s={...t},Lr(!s.pathname||!s.pathname.includes("?"),r$("?","pathname","search",s)),Lr(!s.pathname||!s.pathname.includes("#"),r$("#","pathname","hash",s)),Lr(!s.search||!s.search.includes("#"),r$("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=pae(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var cc=t=>t.join("/").replace(/\/\/+/g,"/"),gae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,bae=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xae(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function wae(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function aq(t,e){let n=t;if(typeof n!="string"||!nq.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(iq)try{let i=new URL(window.location.href),a=n.startsWith("//")?new URL(i.protocol+n):new URL(n),o=pc(a.pathname,e);a.origin===i.origin&&o!=null?n=o+a.search+a.hash:s=!0}catch{fl(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oq=["POST","PUT","PATCH","DELETE"];new Set(oq);var Sae=["GET",...oq];new Set(Sae);var gg=$.createContext(null);gg.displayName="DataRouter";var qC=$.createContext(null);qC.displayName="DataRouterState";var Cae=$.createContext(!1),lq=$.createContext({isTransitioning:!1});lq.displayName="ViewTransition";var kae=$.createContext(new Map);kae.displayName="Fetchers";var Tae=$.createContext(null);Tae.displayName="Await";var Bo=$.createContext(null);Bo.displayName="Navigation";var _b=$.createContext(null);_b.displayName="Location";var Nc=$.createContext({outlet:null,matches:[],isDataRoute:!1});Nc.displayName="Route";var uD=$.createContext(null);uD.displayName="RouteError";var uq="REACT_ROUTER_ERROR",Eae="REDIRECT",Nae="ROUTE_ERROR_RESPONSE";function $ae(t){if(t.startsWith(`${uq}:${Eae}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Iae(t){if(t.startsWith(`${uq}:${Nae}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bae(e.status,e.statusText,e.data)}catch{}}function Aae(t,{relative:e}={}){Lr(Pb(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=$.useContext(Bo),{hash:s,pathname:i,search:a}=Mb(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:cc([n,i])),r.createHref({pathname:o,search:a,hash:s})}function Pb(){return $.useContext(_b)!=null}function Qd(){return Lr(Pb(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(_b).location}var cq="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dq(t){$.useContext(Bo).static||$.useLayoutEffect(t)}function KC(){let{isDataRoute:t}=$.useContext(Nc);return t?Vae():Oae()}function Oae(){Lr(Pb(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(gg),{basename:e,navigator:n}=$.useContext(Bo),{matches:r}=$.useContext(Nc),{pathname:s}=Qd(),i=JSON.stringify(rq(r)),a=$.useRef(!1);return dq(()=>{a.current=!0}),$.useCallback((l,u={})=>{if(fl(a.current,cq),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=sq(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:cc([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}$.createContext(null);function Mb(t,{relative:e}={}){let{matches:n}=$.useContext(Nc),{pathname:r}=Qd(),s=JSON.stringify(rq(n));return $.useMemo(()=>sq(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Rae(t,e){return fq(t,e)}function fq(t,e,n,r,s){Lr(Pb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(Bo),{matches:a}=$.useContext(Nc),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let S=f&&f.path||"";pq(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Qd(),m;if(e){let S=typeof e=="string"?mg(e):e;Lr(d==="/"||S.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let y=m.pathname||"/",v=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=JG(t,{pathname:v});fl(f||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),fl(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Lae(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:cc([d,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:cc([d,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,n,r,s);return e&&w?$.createElement(_b.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function Dae(){let t=Uae(),e=xae(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:i},"ErrorBoundary")," or"," ",$.createElement("code",{style:i},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:s},n):null,a)}var _ae=$.createElement(Dae,null),hq=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Iae(t.digest);n&&(t=n)}let e=t!==void 0?$.createElement(Nc.Provider,{value:this.props.routeContext},$.createElement(uD.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?$.createElement(Pae,{error:t},e):e}};hq.contextType=Cae;var s$=new WeakMap;function Pae({children:t,error:e}){let{basename:n}=$.useContext(Bo);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=$ae(e.digest);if(r){let s=s$.get(e);if(s)throw s;let i=aq(r.location,n);if(iq&&!s$.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw s$.set(e,a),a}return $.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Mae({routeContext:t,match:e,children:n}){let r=$.useContext(gg);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Nc.Provider,{value:t},n)}function Lae(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Lr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,l=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:m}=n,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=n&&r?(d,f)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:wae(n.matches),errorInfo:f})}:void 0;return i.reduceRight((d,f,p)=>{let m,y=!1,v=null,b=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||_ae,o&&(l<0&&p===0?(pq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):l===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,p+1)),S=()=>{let C;return m?C=v:y?C=b:f.route.Component?C=$.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,$.createElement(Mae,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?$.createElement(hq,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):S()},null)}function cD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fae(t){let e=$.useContext(gg);return Lr(e,cD(t)),e}function zae(t){let e=$.useContext(qC);return Lr(e,cD(t)),e}function Bae(t){let e=$.useContext(Nc);return Lr(e,cD(t)),e}function dD(t){let e=Bae(t),n=e.matches[e.matches.length-1];return Lr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jae(){return dD("useRouteId")}function Uae(){let t=$.useContext(uD),e=zae("useRouteError"),n=dD("useRouteError");return t!==void 0?t:e.errors?.[n]}function Vae(){let{router:t}=Fae("useNavigate"),e=dD("useNavigate"),n=$.useRef(!1);return dq(()=>{n.current=!0}),$.useCallback(async(s,i={})=>{fl(n.current,cq),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var dj={};function pq(t,e,n){!e&&!dj[t]&&(dj[t]=!0,fl(!1,n))}$.memo(Wae);function Wae({routes:t,future:e,state:n,onError:r}){return fq(t,void 0,n,r,e)}function nh(t){Lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hae({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){Lr(!Pb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:o,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[o,s,i,a]);typeof n=="string"&&(n=mg(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,y=$.useMemo(()=>{let v=pc(u,o);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:m},navigationType:r}},[o,u,d,f,p,m,r]);return fl(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:$.createElement(Bo.Provider,{value:l},$.createElement(_b.Provider,{children:e,value:y}))}function Gae({children:t,location:e}){return Rae($A(t),e)}function $A(t,e=[]){let n=[];return $.Children.forEach(t,(r,s)=>{if(!$.isValidElement(r))return;let i=[...e,s];if(r.type===$.Fragment){n.push.apply(n,$A(r.props.children,i));return}Lr(r.type===nh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$A(r.props.children,i)),n.push(a)}),n}var Mw="get",Lw="application/x-www-form-urlencoded";function XC(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function qae(t){return XC(t)&&t.tagName.toLowerCase()==="button"}function Kae(t){return XC(t)&&t.tagName.toLowerCase()==="form"}function Xae(t){return XC(t)&&t.tagName.toLowerCase()==="input"}function Yae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zae(t,e){return t.button===0&&(!e||e==="_self")&&!Yae(t)}var K1=null;function Qae(){if(K1===null)try{new FormData(document.createElement("form"),0),K1=!1}catch{K1=!0}return K1}var Jae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function i$(t){return t!=null&&!Jae.has(t)?(fl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lw}"`),null):t}function eoe(t,e){let n,r,s,i,a;if(Kae(t)){let o=t.getAttribute("action");r=o?pc(o,e):null,n=t.getAttribute("method")||Mw,s=i$(t.getAttribute("enctype"))||Lw,i=new FormData(t)}else if(qae(t)||Xae(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?pc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Mw,s=i$(t.getAttribute("formenctype"))||i$(o.getAttribute("enctype"))||Lw,i=new FormData(o,t),!Qae()){let{name:u,type:d,value:f}=t;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(XC(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mw,r=null,s=Lw,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fD(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function toe(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&pc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function noe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function roe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function soe(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await noe(i,n);return a.links?a.links():[]}return[]}));return loe(r.flat(1).filter(roe).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fj(t,e,n,r,s,i){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return i==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function ioe(t,e,{includeHydrateFallback:n}={}){return aoe(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function aoe(t){return[...new Set(t)]}function ooe(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function loe(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(ooe(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function mq(){let t=$.useContext(gg);return fD(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uoe(){let t=$.useContext(qC);return fD(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hD=$.createContext(void 0);hD.displayName="FrameworkContext";function gq(){let t=$.useContext(hD);return fD(t,"You must render this element inside a <HydratedRouter> element"),t}function coe(t,e){let n=$.useContext(hD),[r,s]=$.useState(!1),[i,a]=$.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=$.useRef(null);$.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(S=>{a(S.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),$.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{s(!0)},y=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:nv(o,m),onBlur:nv(l,y),onMouseEnter:nv(u,m),onMouseLeave:nv(d,y),onTouchStart:nv(f,m)}]:[!1,p,{}]}function nv(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function doe({page:t,...e}){let{router:n}=mq(),r=$.useMemo(()=>JG(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?$.createElement(hoe,{page:t,matches:r,...e}):null}function foe(t){let{manifest:e,routeModules:n}=gq(),[r,s]=$.useState([]);return $.useEffect(()=>{let i=!1;return soe(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function hoe({page:t,matches:e,...n}){let r=Qd(),{manifest:s,routeModules:i}=gq(),{basename:a}=mq(),{loaderData:o,matches:l}=uoe(),u=$.useMemo(()=>fj(t,e,l,s,r,"data"),[t,e,l,s,r]),d=$.useMemo(()=>fj(t,e,l,s,r,"assets"),[t,e,l,s,r]),f=$.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(e.forEach(w=>{let S=s.routes[w.route.id];!S||!S.hasLoader||(!u.some(C=>C.route.id===w.route.id)&&w.route.id in o&&i[w.route.id]?.shouldRevalidate||S.hasClientLoader?v=!0:y.add(w.route.id))}),y.size===0)return[];let b=toe(t,a,"data");return v&&y.size>0&&b.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,o,r,s,u,e,t,i]),p=$.useMemo(()=>ioe(d,s),[d,s]),m=foe(d);return $.createElement($.Fragment,null,f.map(y=>$.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>$.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>$.createElement("link",{key:y,nonce:n.nonce,...v})))}function poe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var moe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{moe&&(window.__reactRouterVersion="7.11.0")}catch{}function goe({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=$.useRef();s.current==null&&(s.current=Yie({window:r,v5Compat:!0}));let i=s.current,[a,o]=$.useState({action:i.action,location:i.location}),l=$.useCallback(u=>{n===!1?o(u):$.startTransition(()=>o(u))},[n]);return $.useLayoutEffect(()=>i.listen(l),[i,l]),$.createElement(Hae,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:n})}var yq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vq=$.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},y){let{basename:v,unstable_useTransitions:b}=$.useContext(Bo),w=typeof u=="string"&&yq.test(u),S=aq(u,v);u=S.to;let C=Aae(u,{relative:s}),[T,N,O]=coe(r,m),_=xoe(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:b});function F(z){e&&e(z),z.defaultPrevented||_(z)}let L=$.createElement("a",{...m,...O,href:S.absoluteURL||C,onClick:S.isExternal||i?e:F,ref:poe(y,N),target:l,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?$.createElement($.Fragment,null,L,$.createElement(doe,{page:C})):L});vq.displayName="Link";var yoe=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...u},d){let f=Mb(a,{relative:u.relative}),p=Qd(),m=$.useContext(qC),{navigator:y,basename:v}=$.useContext(Bo),b=m!=null&&Toe(f)&&o===!0,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,S=p.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(S=S.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&v&&(C=pc(C,v)||C);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=S===w||!s&&S.startsWith(w)&&S.charAt(T)==="/",O=C!=null&&(C===w||!s&&C.startsWith(w)&&C.charAt(w.length)==="/"),_={isActive:N,isPending:O,isTransitioning:b},F=N?e:void 0,L;typeof r=="function"?L=r(_):L=[r,N?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(_):i;return $.createElement(vq,{...u,"aria-current":F,className:L,ref:d,style:z,to:a,viewTransition:o},typeof l=="function"?l(_):l)});yoe.displayName="NavLink";var voe=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Mw,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},y)=>{let{unstable_useTransitions:v}=$.useContext(Bo),b=Coe(),w=koe(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&yq.test(o),T=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let O=N.nativeEvent.submitter,_=O?.getAttribute("formmethod")||a,F=()=>b(O||N.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p});v&&n!==!1?$.startTransition(()=>F()):F()};return $.createElement("form",{ref:y,method:S,action:w,onSubmit:r?l:T,...m,"data-discover":!C&&t==="render"?"true":void 0})});voe.displayName="Form";function boe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bq(t){let e=$.useContext(gg);return Lr(e,boe(t)),e}function xoe(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=KC(),d=Qd(),f=Mb(t,{relative:i});return $.useCallback(p=>{if(Zae(p,e)){p.preventDefault();let m=n!==void 0?n:Gv(d)===Gv(f),y=()=>u(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o});l?$.startTransition(()=>y()):y()}},[d,u,f,n,r,e,t,s,i,a,o,l])}var woe=0,Soe=()=>`__${String(++woe)}__`;function Coe(){let{router:t}=bq("useSubmit"),{basename:e}=$.useContext(Bo),n=jae(),r=t.fetch,s=t.navigate;return $.useCallback(async(i,a={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=eoe(i,e);if(a.navigate===!1){let p=a.fetcherKey||Soe();await r(p,n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,s,e,n])}function koe(t,{relative:e}={}){let{basename:n}=$.useContext(Bo),r=$.useContext(Nc);Lr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Mb(t||".",{relative:e})},a=Qd();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:cc([n,i.pathname])),Gv(i)}function Toe(t,{relative:e}={}){let n=$.useContext(lq);Lr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bq("useViewTransitionState"),s=Mb(t,{relative:e});if(!n.isTransitioning)return!1;let i=pc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=pc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dS(s.pathname,a)!=null||dS(s.pathname,i)!=null}var Lb=ZG();const X1=Ja(Lb);function mc(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const nu="$$material";function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}function Eoe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Noe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $oe=(function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Noe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Eoe(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),$i="-ms-",hS="-moz-",Ln="-webkit-",xq="comm",pD="rule",mD="decl",Ioe="@import",wq="@keyframes",Aoe="@layer",Ooe=Math.abs,YC=String.fromCharCode,Roe=Object.assign;function Doe(t,e){return gi(t,0)^45?(((e<<2^gi(t,0))<<2^gi(t,1))<<2^gi(t,2))<<2^gi(t,3):0}function Sq(t){return t.trim()}function _oe(t,e){return(t=e.exec(t))?t[0]:t}function Fn(t,e,n){return t.replace(e,n)}function IA(t,e){return t.indexOf(e)}function gi(t,e){return t.charCodeAt(e)|0}function qv(t,e,n){return t.slice(e,n)}function Hl(t){return t.length}function gD(t){return t.length}function Y1(t,e){return e.push(t),t}function Poe(t,e){return t.map(e).join("")}var ZC=1,Vm=1,Cq=0,wa=0,xs=0,yg="";function QC(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:ZC,column:Vm,length:a,return:""}}function rv(t,e){return Roe(QC("",null,null,"",null,null,0),t,{length:-t.length},e)}function Moe(){return xs}function Loe(){return xs=wa>0?gi(yg,--wa):0,Vm--,xs===10&&(Vm=1,ZC--),xs}function Ka(){return xs=wa<Cq?gi(yg,wa++):0,Vm++,xs===10&&(Vm=1,ZC++),xs}function ru(){return gi(yg,wa)}function Fw(){return wa}function Fb(t,e){return qv(yg,t,e)}function Kv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kq(t){return ZC=Vm=1,Cq=Hl(yg=t),wa=0,[]}function Tq(t){return yg="",t}function zw(t){return Sq(Fb(wa-1,AA(t===91?t+2:t===40?t+1:t)))}function Foe(t){for(;(xs=ru())&&xs<33;)Ka();return Kv(t)>2||Kv(xs)>3?"":" "}function zoe(t,e){for(;--e&&Ka()&&!(xs<48||xs>102||xs>57&&xs<65||xs>70&&xs<97););return Fb(t,Fw()+(e<6&&ru()==32&&Ka()==32))}function AA(t){for(;Ka();)switch(xs){case t:return wa;case 34:case 39:t!==34&&t!==39&&AA(xs);break;case 40:t===41&&AA(t);break;case 92:Ka();break}return wa}function Boe(t,e){for(;Ka()&&t+xs!==57;)if(t+xs===84&&ru()===47)break;return"/*"+Fb(e,wa-1)+"*"+YC(t===47?t:Ka())}function joe(t){for(;!Kv(ru());)Ka();return Fb(t,wa)}function Uoe(t){return Tq(Bw("",null,null,null,[""],t=kq(t),0,[0],t))}function Bw(t,e,n,r,s,i,a,o,l){for(var u=0,d=0,f=a,p=0,m=0,y=0,v=1,b=1,w=1,S=0,C="",T=s,N=i,O=r,_=C;b;)switch(y=S,S=Ka()){case 40:if(y!=108&&gi(_,f-1)==58){IA(_+=Fn(zw(S),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:_+=zw(S);break;case 9:case 10:case 13:case 32:_+=Foe(y);break;case 92:_+=zoe(Fw()-1,7);continue;case 47:switch(ru()){case 42:case 47:Y1(Voe(Boe(Ka(),Fw()),e,n),l);break;default:_+="/"}break;case 123*v:o[u++]=Hl(_)*w;case 125*v:case 59:case 0:switch(S){case 0:case 125:b=0;case 59+d:w==-1&&(_=Fn(_,/\f/g,"")),m>0&&Hl(_)-f&&Y1(m>32?pj(_+";",r,n,f-1):pj(Fn(_," ","")+";",r,n,f-2),l);break;case 59:_+=";";default:if(Y1(O=hj(_,e,n,u,d,s,o,C,T=[],N=[],f),i),S===123)if(d===0)Bw(_,e,O,O,T,i,f,o,N);else switch(p===99&&gi(_,3)===110?100:p){case 100:case 108:case 109:case 115:Bw(t,O,O,r&&Y1(hj(t,O,O,0,0,s,o,C,s,T=[],f),N),s,N,f,o,r?T:N);break;default:Bw(_,O,O,O,[""],N,0,o,N)}}u=d=m=0,v=w=1,C=_="",f=a;break;case 58:f=1+Hl(_),m=y;default:if(v<1){if(S==123)--v;else if(S==125&&v++==0&&Loe()==125)continue}switch(_+=YC(S),S*v){case 38:w=d>0?1:(_+="\f",-1);break;case 44:o[u++]=(Hl(_)-1)*w,w=1;break;case 64:ru()===45&&(_+=zw(Ka())),p=ru(),d=f=Hl(C=_+=joe(Fw())),S++;break;case 45:y===45&&Hl(_)==2&&(v=0)}}return i}function hj(t,e,n,r,s,i,a,o,l,u,d){for(var f=s-1,p=s===0?i:[""],m=gD(p),y=0,v=0,b=0;y<r;++y)for(var w=0,S=qv(t,f+1,f=Ooe(v=a[y])),C=t;w<m;++w)(C=Sq(v>0?p[w]+" "+S:Fn(S,/&\f/g,p[w])))&&(l[b++]=C);return QC(t,e,n,s===0?pD:o,l,u,d)}function Voe(t,e,n){return QC(t,e,n,xq,YC(Moe()),qv(t,2,-2),0)}function pj(t,e,n,r){return QC(t,e,n,mD,qv(t,0,r),qv(t,r+1,-1),r)}function Om(t,e){for(var n="",r=gD(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Woe(t,e,n,r){switch(t.type){case Aoe:if(t.children.length)break;case Ioe:case mD:return t.return=t.return||t.value;case xq:return"";case wq:return t.return=t.value+"{"+Om(t.children,r)+"}";case pD:t.value=t.props.join(",")}return Hl(n=Om(t.children,r))?t.return=t.value+"{"+n+"}":""}function Hoe(t){var e=gD(t);return function(n,r,s,i){for(var a="",o=0;o<e;o++)a+=t[o](n,r,s,i)||"";return a}}function Goe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Eq(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var qoe=function(e,n,r){for(var s=0,i=0;s=i,i=ru(),s===38&&i===12&&(n[r]=1),!Kv(i);)Ka();return Fb(e,wa)},Koe=function(e,n){var r=-1,s=44;do switch(Kv(s)){case 0:s===38&&ru()===12&&(n[r]=1),e[r]+=qoe(wa-1,n,r);break;case 2:e[r]+=zw(s);break;case 4:if(s===44){e[++r]=ru()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=YC(s)}while(s=Ka());return e},Xoe=function(e,n){return Tq(Koe(kq(e),n))},mj=new WeakMap,Yoe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!mj.get(r))&&!s){mj.set(e,!0);for(var i=[],a=Xoe(n,i),o=r.props,l=0,u=0;l<a.length;l++)for(var d=0;d<o.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,o[d]):o[d]+" "+a[l]}}},Zoe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Nq(t,e){switch(Doe(t,e)){case 5103:return Ln+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ln+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ln+t+hS+t+$i+t+t;case 6828:case 4268:return Ln+t+$i+t+t;case 6165:return Ln+t+$i+"flex-"+t+t;case 5187:return Ln+t+Fn(t,/(\w+).+(:[^]+)/,Ln+"box-$1$2"+$i+"flex-$1$2")+t;case 5443:return Ln+t+$i+"flex-item-"+Fn(t,/flex-|-self/,"")+t;case 4675:return Ln+t+$i+"flex-line-pack"+Fn(t,/align-content|flex-|-self/,"")+t;case 5548:return Ln+t+$i+Fn(t,"shrink","negative")+t;case 5292:return Ln+t+$i+Fn(t,"basis","preferred-size")+t;case 6060:return Ln+"box-"+Fn(t,"-grow","")+Ln+t+$i+Fn(t,"grow","positive")+t;case 4554:return Ln+Fn(t,/([^-])(transform)/g,"$1"+Ln+"$2")+t;case 6187:return Fn(Fn(Fn(t,/(zoom-|grab)/,Ln+"$1"),/(image-set)/,Ln+"$1"),t,"")+t;case 5495:case 3959:return Fn(t,/(image-set\([^]*)/,Ln+"$1$`$1");case 4968:return Fn(Fn(t,/(.+:)(flex-)?(.*)/,Ln+"box-pack:$3"+$i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ln+t+t;case 4095:case 3583:case 4068:case 2532:return Fn(t,/(.+)-inline(.+)/,Ln+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hl(t)-1-e>6)switch(gi(t,e+1)){case 109:if(gi(t,e+4)!==45)break;case 102:return Fn(t,/(.+:)(.+)-([^]+)/,"$1"+Ln+"$2-$3$1"+hS+(gi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~IA(t,"stretch")?Nq(Fn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gi(t,e+1)!==115)break;case 6444:switch(gi(t,Hl(t)-3-(~IA(t,"!important")&&10))){case 107:return Fn(t,":",":"+Ln)+t;case 101:return Fn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ln+(gi(t,14)===45?"inline-":"")+"box$3$1"+Ln+"$2$3$1"+$i+"$2box$3")+t}break;case 5936:switch(gi(t,e+11)){case 114:return Ln+t+$i+Fn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ln+t+$i+Fn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ln+t+$i+Fn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ln+t+$i+t+t}return t}var Qoe=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case mD:e.return=Nq(e.value,e.length);break;case wq:return Om([rv(e,{value:Fn(e.value,"@","@"+Ln)})],s);case pD:if(e.length)return Poe(e.props,function(i){switch(_oe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Om([rv(e,{props:[Fn(i,/:(read-\w+)/,":"+hS+"$1")]})],s);case"::placeholder":return Om([rv(e,{props:[Fn(i,/:(plac\w+)/,":"+Ln+"input-$1")]}),rv(e,{props:[Fn(i,/:(plac\w+)/,":"+hS+"$1")]}),rv(e,{props:[Fn(i,/:(plac\w+)/,$i+"input-$1")]})],s)}return""})}},Joe=[Qoe],ele=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||Joe,i={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)i[b[w]]=!0;o.push(v)});var l,u=[Yoe,Zoe];{var d,f=[Woe,Goe(function(v){d.insert(v)})],p=Hoe(u.concat(s,f)),m=function(b){return Om(Uoe(b),p)};l=function(b,w,S,C){d=S,m(b?b+"{"+w.styles+"}":w.styles),C&&(y.inserted[w.name]=!0)}}var y={key:n,sheet:new $oe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return y.sheet.hydrate(o),y},a$={exports:{}},Bn={};var gj;function tle(){if(gj)return Bn;gj=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,S=t?Symbol.for("react.scope"):60119;function C(N){if(typeof N=="object"&&N!==null){var O=N.$$typeof;switch(O){case e:switch(N=N.type,N){case l:case u:case r:case i:case s:case f:return N;default:switch(N=N&&N.$$typeof,N){case o:case d:case y:case m:case a:return N;default:return O}}case n:return O}}}function T(N){return C(N)===u}return Bn.AsyncMode=l,Bn.ConcurrentMode=u,Bn.ContextConsumer=o,Bn.ContextProvider=a,Bn.Element=e,Bn.ForwardRef=d,Bn.Fragment=r,Bn.Lazy=y,Bn.Memo=m,Bn.Portal=n,Bn.Profiler=i,Bn.StrictMode=s,Bn.Suspense=f,Bn.isAsyncMode=function(N){return T(N)||C(N)===l},Bn.isConcurrentMode=T,Bn.isContextConsumer=function(N){return C(N)===o},Bn.isContextProvider=function(N){return C(N)===a},Bn.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Bn.isForwardRef=function(N){return C(N)===d},Bn.isFragment=function(N){return C(N)===r},Bn.isLazy=function(N){return C(N)===y},Bn.isMemo=function(N){return C(N)===m},Bn.isPortal=function(N){return C(N)===n},Bn.isProfiler=function(N){return C(N)===i},Bn.isStrictMode=function(N){return C(N)===s},Bn.isSuspense=function(N){return C(N)===f},Bn.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===u||N===i||N===s||N===f||N===p||typeof N=="object"&&N!==null&&(N.$$typeof===y||N.$$typeof===m||N.$$typeof===a||N.$$typeof===o||N.$$typeof===d||N.$$typeof===b||N.$$typeof===w||N.$$typeof===S||N.$$typeof===v)},Bn.typeOf=C,Bn}var yj;function nle(){return yj||(yj=1,a$.exports=tle()),a$.exports}var o$,vj;function rle(){if(vj)return o$;vj=1;var t=nle(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(y){return t.isMemo(y)?s:i[y.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(y,v,b){if(typeof v!="string"){if(p){var w=f(v);w&&w!==p&&m(y,w,b)}var S=l(v);u&&(S=S.concat(u(v)));for(var C=a(y),T=a(v),N=0;N<S.length;++N){var O=S[N];if(!n[O]&&!(b&&b[O])&&!(T&&T[O])&&!(C&&C[O])){var _=d(v,O);try{o(y,O,_)}catch{}}}}return y}return o$=m,o$}rle();var sle=!0;function $q(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var yD=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||sle===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},vD=function(e,n,r){yD(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function ile(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ale={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ole=/[A-Z]|^ms/g,lle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Iq=function(e){return e.charCodeAt(1)===45},bj=function(e){return e!=null&&typeof e!="boolean"},l$=Eq(function(t){return Iq(t)?t:t.replace(ole,"-$&").toLowerCase()}),xj=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(lle,function(r,s,i){return Gl={name:s,styles:i,next:Gl},s})}return ale[e]!==1&&!Iq(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xv(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Gl={name:s.name,styles:s.styles,next:Gl},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Gl={name:a.name,styles:a.styles,next:Gl},a=a.next;var o=i.styles+";";return o}return ule(t,e,n)}case"function":{if(t!==void 0){var l=Gl,u=n(t);return Gl=l,Xv(t,e,u)}break}}var d=n;if(e==null)return d;var f=e[d];return f!==void 0?f:d}function ule(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Xv(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":bj(o)&&(r+=l$(i)+":"+xj(i,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)bj(a[l])&&(r+=l$(i)+":"+xj(i,a[l])+";");else{var u=Xv(t,e,a);switch(i){case"animation":case"animationName":{r+=l$(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var wj=/label:\s*([^\s;{]+)\s*(;|$)/g,Gl;function zb(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Gl=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Xv(n,e,i);else{var a=i;s+=a[0]}for(var o=1;o<t.length;o++)if(s+=Xv(n,e,t[o]),r){var l=i;s+=l[o]}wj.lastIndex=0;for(var u="",d;(d=wj.exec(s))!==null;)u+="-"+d[1];var f=ile(s)+u;return{name:f,styles:s,next:Gl}}var cle=function(e){return e()},Aq=cS.useInsertionEffect?cS.useInsertionEffect:!1,Oq=Aq||cle,Sj=Aq||$.useLayoutEffect,Rq=$.createContext(typeof HTMLElement<"u"?ele({key:"css"}):null);Rq.Provider;var bD=function(e){return $.forwardRef(function(n,r){var s=$.useContext(Rq);return e(n,s,r)})},Bb=$.createContext({}),xD={}.hasOwnProperty,OA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dle=function(e,n){var r={};for(var s in n)xD.call(n,s)&&(r[s]=n[s]);return r[OA]=e,r},fle=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return yD(n,r,s),Oq(function(){return vD(n,r,s)}),null},hle=bD(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[OA],i=[r],a="";typeof t.className=="string"?a=$q(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var o=zb(i,void 0,$.useContext(Bb));a+=e.key+"-"+o.name;var l={};for(var u in t)xD.call(t,u)&&u!=="css"&&u!==OA&&(l[u]=t[u]);return l.className=a,n&&(l.ref=n),$.createElement($.Fragment,null,$.createElement(fle,{cache:e,serialized:o,isStringTag:typeof s=="string"}),$.createElement(s,l))}),ple=hle,Cj=function(e,n){var r=arguments;if(n==null||!xD.call(n,"css"))return $.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=ple,i[1]=dle(e,n);for(var a=2;a<s;a++)i[a]=r[a];return $.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Cj||(Cj={}));var mle=bD(function(t,e){var n=t.styles,r=zb([n],void 0,$.useContext(Bb)),s=$.useRef();return Sj(function(){var i=e.key+"-global",a=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",i),a.hydrate([l])),s.current=[a,o],function(){a.flush()}},[e]),Sj(function(){var i=s.current,a=i[0],o=i[1];if(o){i[1]=!1;return}if(r.next!==void 0&&vD(e,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function vg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return zb(e)}function Jd(){var t=vg.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var gle=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yle=Eq(function(t){return gle.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),vle=yle,ble=function(e){return e!=="theme"},kj=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?vle:ble},Tj=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(a){return e.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},xle=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return yD(n,r,s),Oq(function(){return vD(n,r,s)}),null},wle=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,a;n!==void 0&&(i=n.label,a=n.target);var o=Tj(e,n,r),l=o||kj(s),u=!l("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{var p=d[0];f.push(p[0]);for(var m=d.length,y=1;y<m;y++)f.push(d[y],p[y])}var v=bD(function(b,w,S){var C=u&&b.as||s,T="",N=[],O=b;if(b.theme==null){O={};for(var _ in b)O[_]=b[_];O.theme=$.useContext(Bb)}typeof b.className=="string"?T=$q(w.registered,N,b.className):b.className!=null&&(T=b.className+" ");var F=zb(f.concat(N),w.registered,O);T+=w.key+"-"+F.name,a!==void 0&&(T+=" "+a);var L=u&&o===void 0?kj(C):l,z={};for(var P in b)u&&P==="as"||L(P)&&(z[P]=b[P]);return z.className=T,S&&(z.ref=S),$.createElement($.Fragment,null,$.createElement(xle,{cache:w,serialized:F,isStringTag:typeof C=="string"}),$.createElement(C,z))});return v.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=f,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(b,w){var S=t(b,fS({},n,w,{shouldForwardProp:Tj(v,w,!0)}));return S.apply(void 0,f)},v}},Sle=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],RA=wle.bind(null);Sle.forEach(function(t){RA[t]=RA(t)});function Cle(t){return t==null||Object.keys(t).length===0}function Dq(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(Cle(s)?n:s):e;return D.jsx(mle,{styles:r})}function _q(t,e){return RA(t,e)}function kle(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Ej=[];function Id(t){return Ej[0]=t,zb(Ej)}var u$={exports:{}},er={};var Nj;function Tle(){if(Nj)return er;Nj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case t:switch(v=v.type,v){case n:case s:case r:case l:case u:case p:return v;default:switch(v=v&&v.$$typeof,v){case a:case o:case f:case d:return v;case i:return v;default:return b}}case e:return b}}}return er.ContextConsumer=i,er.ContextProvider=a,er.Element=t,er.ForwardRef=o,er.Fragment=n,er.Lazy=f,er.Memo=d,er.Portal=e,er.Profiler=s,er.StrictMode=r,er.Suspense=l,er.SuspenseList=u,er.isContextConsumer=function(v){return y(v)===i},er.isContextProvider=function(v){return y(v)===a},er.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},er.isForwardRef=function(v){return y(v)===o},er.isFragment=function(v){return y(v)===n},er.isLazy=function(v){return y(v)===f},er.isMemo=function(v){return y(v)===d},er.isPortal=function(v){return y(v)===e},er.isProfiler=function(v){return y(v)===s},er.isStrictMode=function(v){return y(v)===r},er.isSuspense=function(v){return y(v)===l},er.isSuspenseList=function(v){return y(v)===u},er.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===s||v===r||v===l||v===u||typeof v=="object"&&v!==null&&(v.$$typeof===f||v.$$typeof===d||v.$$typeof===a||v.$$typeof===i||v.$$typeof===o||v.$$typeof===m||v.getModuleId!==void 0)},er.typeOf=y,er}var $j;function Ele(){return $j||($j=1,u$.exports=Tle()),u$.exports}var Pq=Ele();function Zl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Mq(t){if($.isValidElement(t)||Pq.isValidElementType(t)||!Zl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Mq(t[n])}),e}function Js(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Zl(t)&&Zl(e)&&Object.keys(e).forEach(s=>{$.isValidElement(e[s])||Pq.isValidElementType(e[s])?r[s]=e[s]:Zl(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Zl(t[s])?r[s]=Js(t[s],e[s],n):n.clone?r[s]=Zl(e[s])?Mq(e[s]):e[s]:r[s]=e[s]}),r}const Nle=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function $le(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=t,i=Nle(e),a=Object.keys(i);function o(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function u(p,m){const y=a.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(y!==-1&&typeof e[a[y]]=="number"?e[a[y]]:m)-r/100}${n})`}function d(p){return a.indexOf(p)+1<a.length?u(p,a[a.indexOf(p)+1]):o(p)}function f(p){const m=a.indexOf(p);return m===0?o(a[1]):m===a.length-1?l(a[m]):u(p,a[a.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:a,values:i,up:o,down:l,between:u,only:d,not:f,unit:n,...s}}function Ij(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{const i=/min-width:\s*([0-9.]+)/;return+(r.match(i)?.[1]||0)-+(s.match(i)?.[1]||0)});return n.length?n.reduce((r,s)=>{const i=e[s];return delete r[s],r[s]=i,r},{...e}):e}function Ile(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Ale(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(s).up(i)}function Ole(t){const e=(i,a)=>i.replace("@media",a?`@container ${a}`:"@container");function n(i,a){i.up=(...o)=>e(t.breakpoints.up(...o),a),i.down=(...o)=>e(t.breakpoints.down(...o),a),i.between=(...o)=>e(t.breakpoints.between(...o),a),i.only=(...o)=>e(t.breakpoints.only(...o),a),i.not=(...o)=>{const l=e(t.breakpoints.not(...o),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},s=i=>(n(r,i),r);return n(s),{...t,containerQueries:s}}const Rle={borderRadius:4};function Fv(t,e){return e?Js(t,e,{clone:!1}):t}const JC={xs:0,sm:600,md:900,lg:1200,xl:1536},Aj={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${JC[t]}px)`},Dle={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:JC[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function hl(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||Aj;return e.reduce((a,o,l)=>(a[i.up(i.keys[l])]=n(e[l]),a),{})}if(typeof e=="object"){const i=r.breakpoints||Aj;return Object.keys(e).reduce((a,o)=>{if(Ile(i.keys,o)){const l=Ale(r.containerQueries?r:Dle,o);l&&(a[l]=n(e[o],o))}else if(Object.keys(i.values||JC).includes(o)){const l=i.up(o);a[l]=n(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return n(e)}function Lq(t={}){return t.keys?.reduce((n,r)=>{const s=t.up(r);return n[s]={},n},{})||{}}function DA(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function _le(t,...e){const n=Lq(t),r=[n,...e].reduce((s,i)=>Js(s,i),{});return DA(Object.keys(n),r)}function Ple(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function c$({values:t,breakpoints:e,base:n}){const r=n||Ple(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((a,o,l)=>(Array.isArray(t)?(a[o]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(a[o]=t[o]!=null?t[o]:t[i],i=o):a[o]=t,a),{})}function Je(t){if(typeof t!="string")throw new Error(mc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function ek(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function pS(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=ek(t,n)||r,e&&(s=e(s,r,t)),s}function cs(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,u=ek(l,r)||{};return hl(a,o,f=>{let p=pS(u,s,f);return f===p&&typeof f=="string"&&(p=pS(u,s,`${e}${f==="default"?"":Je(f)}`,f)),n===!1?p:{[n]:p}})};return i.propTypes={},i.filterProps=[e],i}function Mle(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Lle={m:"margin",p:"padding"},Fle={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Oj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zle=Mle(t=>{if(t.length>2)if(Oj[t])t=Oj[t];else return[t];const[e,n]=t.split(""),r=Lle[e],s=Fle[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),wD=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],SD=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...wD,...SD];function jb(t,e,n,r){const s=ek(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?i=>typeof i=="string"?i:typeof s=="string"?s.startsWith("var(")&&i===0?0:s.startsWith("var(")&&i===1?s:`calc(${i} * ${s})`:s*i:Array.isArray(s)?i=>{if(typeof i=="string")return i;const a=Math.abs(i),o=s[a];return i>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof s=="function"?s:()=>{}}function tk(t){return jb(t,"spacing",8)}function Ah(t,e){return typeof e=="string"||e==null?e:t(e)}function Ble(t,e){return n=>t.reduce((r,s)=>(r[s]=Ah(e,n),r),{})}function jle(t,e,n,r){if(!e.includes(n))return null;const s=zle(n),i=Ble(s,r),a=t[n];return hl(t,a,i)}function Fq(t,e){const n=tk(t.theme);return Object.keys(t).map(r=>jle(t,e,r,n)).reduce(Fv,{})}function Vr(t){return Fq(t,wD)}Vr.propTypes={};Vr.filterProps=wD;function Wr(t){return Fq(t,SD)}Wr.propTypes={};Wr.filterProps=SD;function zq(t=8,e=tk({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=e(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function nk(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Fv(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function ko(t){return typeof t!="number"?t:`${t}px solid`}function jo(t,e){return cs({prop:t,themeKey:"borders",transform:e})}const Ule=jo("border",ko),Vle=jo("borderTop",ko),Wle=jo("borderRight",ko),Hle=jo("borderBottom",ko),Gle=jo("borderLeft",ko),qle=jo("borderColor"),Kle=jo("borderTopColor"),Xle=jo("borderRightColor"),Yle=jo("borderBottomColor"),Zle=jo("borderLeftColor"),Qle=jo("outline",ko),Jle=jo("outlineColor"),rk=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=jb(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ah(e,r)});return hl(t,t.borderRadius,n)}return null};rk.propTypes={};rk.filterProps=["borderRadius"];nk(Ule,Vle,Wle,Hle,Gle,qle,Kle,Xle,Yle,Zle,rk,Qle,Jle);const sk=t=>{if(t.gap!==void 0&&t.gap!==null){const e=jb(t.theme,"spacing",8),n=r=>({gap:Ah(e,r)});return hl(t,t.gap,n)}return null};sk.propTypes={};sk.filterProps=["gap"];const ik=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=jb(t.theme,"spacing",8),n=r=>({columnGap:Ah(e,r)});return hl(t,t.columnGap,n)}return null};ik.propTypes={};ik.filterProps=["columnGap"];const ak=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=jb(t.theme,"spacing",8),n=r=>({rowGap:Ah(e,r)});return hl(t,t.rowGap,n)}return null};ak.propTypes={};ak.filterProps=["rowGap"];const eue=cs({prop:"gridColumn"}),tue=cs({prop:"gridRow"}),nue=cs({prop:"gridAutoFlow"}),rue=cs({prop:"gridAutoColumns"}),sue=cs({prop:"gridAutoRows"}),iue=cs({prop:"gridTemplateColumns"}),aue=cs({prop:"gridTemplateRows"}),oue=cs({prop:"gridTemplateAreas"}),lue=cs({prop:"gridArea"});nk(sk,ik,ak,eue,tue,nue,rue,sue,iue,aue,oue,lue);function Rm(t,e){return e==="grey"?e:t}const uue=cs({prop:"color",themeKey:"palette",transform:Rm}),cue=cs({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rm}),due=cs({prop:"backgroundColor",themeKey:"palette",transform:Rm});nk(uue,cue,due);function Va(t){return t<=1&&t!==0?`${t*100}%`:t}const fue=cs({prop:"width",transform:Va}),CD=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||JC[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Va(n)}};return hl(t,t.maxWidth,e)}return null};CD.filterProps=["maxWidth"];const hue=cs({prop:"minWidth",transform:Va}),pue=cs({prop:"height",transform:Va}),mue=cs({prop:"maxHeight",transform:Va}),gue=cs({prop:"minHeight",transform:Va});cs({prop:"size",cssProperty:"width",transform:Va});cs({prop:"size",cssProperty:"height",transform:Va});const yue=cs({prop:"boxSizing"});nk(fue,CD,hue,pue,mue,gue,yue);const Ub={border:{themeKey:"borders",transform:ko},borderTop:{themeKey:"borders",transform:ko},borderRight:{themeKey:"borders",transform:ko},borderBottom:{themeKey:"borders",transform:ko},borderLeft:{themeKey:"borders",transform:ko},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ko},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rk},color:{themeKey:"palette",transform:Rm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rm},backgroundColor:{themeKey:"palette",transform:Rm},p:{style:Wr},pt:{style:Wr},pr:{style:Wr},pb:{style:Wr},pl:{style:Wr},px:{style:Wr},py:{style:Wr},padding:{style:Wr},paddingTop:{style:Wr},paddingRight:{style:Wr},paddingBottom:{style:Wr},paddingLeft:{style:Wr},paddingX:{style:Wr},paddingY:{style:Wr},paddingInline:{style:Wr},paddingInlineStart:{style:Wr},paddingInlineEnd:{style:Wr},paddingBlock:{style:Wr},paddingBlockStart:{style:Wr},paddingBlockEnd:{style:Wr},m:{style:Vr},mt:{style:Vr},mr:{style:Vr},mb:{style:Vr},ml:{style:Vr},mx:{style:Vr},my:{style:Vr},margin:{style:Vr},marginTop:{style:Vr},marginRight:{style:Vr},marginBottom:{style:Vr},marginLeft:{style:Vr},marginX:{style:Vr},marginY:{style:Vr},marginInline:{style:Vr},marginInlineStart:{style:Vr},marginInlineEnd:{style:Vr},marginBlock:{style:Vr},marginBlockStart:{style:Vr},marginBlockEnd:{style:Vr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:sk},rowGap:{style:ak},columnGap:{style:ik},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Va},maxWidth:{style:CD},minWidth:{transform:Va},height:{transform:Va},maxHeight:{transform:Va},minHeight:{transform:Va},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function vue(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function bue(t,e){return typeof t=="function"?t(e):t}function xue(){function t(n,r,s,i){const a={[n]:r,theme:s},o=i[n];if(!o)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:f}=o;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const p=ek(s,u)||{};return f?f(a):hl(a,r,y=>{let v=pS(p,d,y);return y===v&&typeof y=="string"&&(v=pS(p,d,`${n}${y==="default"?"":Je(y)}`,y)),l===!1?v:{[l]:v}})}function e(n){const{sx:r,theme:s={},nested:i}=n||{};if(!r)return null;const a=s.unstable_sxConfig??Ub;function o(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const d=Lq(s.breakpoints),f=Object.keys(d);let p=d;return Object.keys(u).forEach(m=>{const y=bue(u[m],s);if(y!=null)if(typeof y=="object")if(a[m])p=Fv(p,t(m,y,s,a));else{const v=hl({theme:s},y,b=>({[m]:b}));vue(v,y)?p[m]=e({sx:y,theme:s,nested:!0}):p=Fv(p,v)}else p=Fv(p,t(m,y,s,a))}),!i&&s.modularCssLayers?{"@layer sx":Ij(s,DA(f,p))}:Ij(s,DA(f,p))}return Array.isArray(r)?r.map(o):o(r)}return e}const Pd=xue();Pd.filterProps=["sx"];function wue(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function bg(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={},...a}=t,o=$le(n),l=zq(s);let u=Js({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Rle,...i}},a);return u=Ole(u),u.applyStyles=wue,u=e.reduce((d,f)=>Js(d,f),u),u.unstable_sxConfig={...Ub,...a?.unstable_sxConfig},u.unstable_sx=function(f){return Pd({sx:f,theme:this})},u}function Sue(t){return Object.keys(t).length===0}function kD(t=null){const e=$.useContext(Bb);return!e||Sue(e)?t:e}const Cue=bg();function Vb(t=Cue){return kD(t)}function d$(t){const e=Id(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function Bq({styles:t,themeId:e,defaultTheme:n={}}){const r=Vb(n),s=e&&r[e]||r;let i=typeof t=="function"?t(s):t;return s.modularCssLayers&&(Array.isArray(i)?i=i.map(a=>d$(typeof a=="function"?a(s):a)):i=d$(i)),D.jsx(Dq,{styles:i})}const kue=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??Ub;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function ok(t){const{sx:e,...n}=t,{systemProps:r,otherProps:s}=kue(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...a)=>{const o=e(...a);return Zl(o)?{...r,...o}:r}:i={...r,...e},{...s,sx:i}}const Rj=t=>t,Tue=()=>{let t=Rj;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Rj}}},jq=Tue();function Uq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Uq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Uq(t))&&(r&&(r+=" "),r+=e);return r}function Eue(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=_q("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Pd);return $.forwardRef(function(l,u){const d=Vb(n),{className:f,component:p="div",...m}=ok(l);return D.jsx(i,{as:p,ref:u,className:et(f,s?s(r):r),theme:e&&d[e]||d,...m})})}const Nue={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ut(t,e,n="Mui"){const r=Nue[e];return r?`${n}-${r}`:`${jq.generate(t)}-${e}`}function qt(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Ut(t,s,n)}),r}function Vq(t){const{variants:e,...n}=t,r={variants:e,style:Id(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=Id(s.style))}),r}const $ue=bg();function f$(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function ph(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function Iue(t){return t?(e,n)=>n[t]:null}function Aue(t,e,n){t.theme=Rue(t.theme)?n:t.theme[e]||t.theme}function jw(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(s=>jw(t,s,n));if(Array.isArray(r?.variants)){let s;if(r.isProcessed)s=n?ph(r.style,n):r.style;else{const{variants:i,...a}=r;s=n?ph(Id(a),n):a}return Wq(t,r.variants,[s],n)}return r?.isProcessed?n?ph(Id(r.style),n):r.style:n?ph(Id(r),n):r}function Wq(t,e,n=[],r=void 0){let s;e:for(let i=0;i<e.length;i+=1){const a=e[i];if(typeof a.props=="function"){if(s??={...t,...t.ownerState,ownerState:t.ownerState},!a.props(s))continue}else for(const o in a.props)if(t[o]!==a.props[o]&&t.ownerState?.[o]!==a.props[o])continue e;typeof a.style=="function"?(s??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?ph(Id(a.style(s)),r):a.style(s))):n.push(r?ph(Id(a.style),r):a.style)}return n}function Hq(t={}){const{themeId:e,defaultTheme:n=$ue,rootShouldForwardProp:r=f$,slotShouldForwardProp:s=f$}=t;function i(o){Aue(o,e,n)}return(o,l={})=>{kle(o,O=>O.filter(_=>_!==Pd));const{name:u,slot:d,skipVariantsResolver:f,skipSx:p,overridesResolver:m=Iue(_ue(d)),...y}=l,v=u&&u.startsWith("Mui")||d?"components":"custom",b=f!==void 0?f:d&&d!=="Root"&&d!=="root"||!1,w=p||!1;let S=f$;d==="Root"||d==="root"?S=r:d?S=s:Due(o)&&(S=void 0);const C=_q(o,{shouldForwardProp:S,label:Oue(),...y}),T=O=>{if(O.__emotion_real===O)return O;if(typeof O=="function")return function(F){return jw(F,O,F.theme.modularCssLayers?v:void 0)};if(Zl(O)){const _=Vq(O);return function(L){return _.variants?jw(L,_,L.theme.modularCssLayers?v:void 0):L.theme.modularCssLayers?ph(_.style,v):_.style}}return O},N=(...O)=>{const _=[],F=O.map(T),L=[];if(_.push(i),u&&m&&L.push(function(H){const X=H.theme.components?.[u]?.styleOverrides;if(!X)return null;const V={};for(const ee in X)V[ee]=jw(H,X[ee],H.theme.modularCssLayers?"theme":void 0);return m(H,V)}),u&&!b&&L.push(function(H){const X=H.theme?.components?.[u]?.variants;return X?Wq(H,X,[],H.theme.modularCssLayers?"theme":void 0):null}),w||L.push(Pd),Array.isArray(F[0])){const R=F.shift(),H=new Array(_.length).fill(""),q=new Array(L.length).fill("");let X;X=[...H,...R,...q],X.raw=[...H,...R.raw,...q],_.unshift(X)}const z=[..._,...F,...L],P=C(...z);return o.muiName&&(P.muiName=o.muiName),P};return C.withConfig&&(N.withConfig=C.withConfig),N}}function Oue(t,e){return void 0}function Rue(t){for(const e in t)return!1;return!0}function Due(t){return typeof t=="string"&&t.charCodeAt(0)>96}function _ue(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const TD=Hq();function Yv(t,e,n=!1){const r={...e};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const i=s;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const a=t[i],o=e[i];if(!o)r[i]=a||{};else if(!a)r[i]=o;else{r[i]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=l;r[i][u]=Yv(a[u],o[u],n)}}}else i==="className"&&n&&e.className?r.className=et(t?.className,e?.className):i==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[i]===void 0&&(r[i]=t[i])}return r}function Pue(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Yv(e.components[n].defaultProps,r)}function ED({props:t,name:e,defaultTheme:n,themeId:r}){let s=Vb(n);return r&&(s=s[r]||s),Pue({theme:s,name:e,props:t})}const hu=typeof window<"u"?$.useLayoutEffect:$.useEffect;function Mue(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function ND(t,e=0,n=1){return Mue(t,e,n)}function Lue(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Md(t){if(t.type)return t;if(t.charAt(0)==="#")return Md(Lue(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(mc(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(mc(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const Fue=t=>{const e=Md(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Tv=(t,e)=>{try{return Fue(t)}catch{return t}};function lk(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Gq(t){t=Md(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),a=(u,d=(u+n/30)%12)=>s-i*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),lk({type:o,values:l})}function _A(t){t=Md(t);let e=t.type==="hsl"||t.type==="hsla"?Md(Gq(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function zue(t,e){const n=_A(t),r=_A(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function mS(t,e){return t=Md(t),e=ND(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,lk(t)}function Yf(t,e,n){try{return mS(t,e)}catch{return t}}function uk(t,e){if(t=Md(t),e=ND(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return lk(t)}function Hn(t,e,n){try{return uk(t,e)}catch{return t}}function ck(t,e){if(t=Md(t),e=ND(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return lk(t)}function Gn(t,e,n){try{return ck(t,e)}catch{return t}}function Bue(t,e=.15){return _A(t)>.5?uk(t,e):ck(t,e)}function Z1(t,e,n){try{return Bue(t,e)}catch{return t}}const qq=$.createContext(null);function $D(){return $.useContext(qq)}const jue=typeof Symbol=="function"&&Symbol.for,Uue=jue?Symbol.for("mui.nested"):"__THEME_NESTED__";function Vue(t,e){return typeof e=="function"?e(t):{...t,...e}}function Wue(t){const{children:e,theme:n}=t,r=$D(),s=$.useMemo(()=>{const i=r===null?{...n}:Vue(r,n);return i!=null&&(i[Uue]=r!==null),i},[n,r]);return D.jsx(qq.Provider,{value:s,children:e})}const Kq=$.createContext();function Hue({value:t,...e}){return D.jsx(Kq.Provider,{value:t??!0,...e})}const Xq=()=>$.useContext(Kq)??!1,Yq=$.createContext(void 0);function Gue({value:t,children:e}){return D.jsx(Yq.Provider,{value:t,children:e})}function que(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?Yv(s.defaultProps,r,e.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?Yv(s,r,e.components.mergeClassNameAndStyle):r}function Kue({props:t,name:e}){const n=$.useContext(Yq);return que({props:t,name:e,theme:{components:n}})}let Dj=0;function Xue(t){const[e,n]=$.useState(t),r=t||e;return $.useEffect(()=>{e==null&&(Dj+=1,n(`mui-${Dj}`))},[e]),r}const Yue={...cS},_j=Yue.useId;function xg(t){if(_j!==void 0){const e=_j();return t??e}return Xue(t)}function Zue(t){const e=kD(),n=xg()||"",{modularCssLayers:r}=t;let s="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?s="":typeof r=="string"?s=r.replace(/mui(?!\.)/g,s):s=`@layer ${s};`,hu(()=>{const i=document.querySelector("head");if(!i)return;const a=i.firstChild;if(s){if(a&&a.hasAttribute?.("data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===n)return;const o=document.createElement("style");o.setAttribute("data-mui-layer-order",n),o.textContent=s,i.prepend(o)}else i.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[s,n]),s?D.jsx(Bq,{styles:s}):null}const Pj={};function Mj(t,e,n,r=!1){return $.useMemo(()=>{const s=t&&e[t]||e;if(typeof n=="function"){const i=n(s),a=t?{...e,[t]:i}:i;return r?()=>a:a}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function Zq(t){const{children:e,theme:n,themeId:r}=t,s=kD(Pj),i=$D()||Pj,a=Mj(r,s,n),o=Mj(r,i,n,!0),l=(r?a[r]:a).direction==="rtl",u=Zue(a);return D.jsx(Wue,{theme:o,children:D.jsx(Bb.Provider,{value:a,children:D.jsx(Hue,{value:l,children:D.jsxs(Gue,{value:r?a[r].components:a.components,children:[u,e]})})})})}const Lj={theme:void 0};function Que(t){let e,n;return function(s){let i=e;return(i===void 0||s.theme!==n)&&(Lj.theme=s.theme,i=Vq(t(Lj)),e=i,n=s.theme),i}}const ID="mode",AD="color-scheme",Jue="data-color-scheme";function ece(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:s=ID,colorSchemeStorageKey:i=AD,attribute:a=Jue,colorSchemeNode:o="document.documentElement",nonce:l}=t||{};let u="",d=a;if(a==="class"&&(d=".%s"),a==="data"&&(d="[data-%s]"),d.startsWith(".")){const p=d.substring(1);u+=`${o}.classList.remove('${p}'.replace('%s', light), '${p}'.replace('%s', dark));
      ${o}.classList.add('${p}'.replace('%s', colorScheme));`}const f=d.match(/\[([^[\]]+)\]/);if(f){const[p,m]=f[1].split("=");m||(u+=`${o}.removeAttribute('${p}'.replace('%s', light));
      ${o}.removeAttribute('${p}'.replace('%s', dark));`),u+=`
      ${o}.setAttribute('${p}'.replace('%s', colorScheme), ${m?`${m}.replace('%s', colorScheme)`:'""'});`}else d!==".%s"&&(u+=`${o}.setAttribute('${d}', colorScheme);`);return D.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${s}') || '${e}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function tce(){}const nce=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return tce;const r=s=>{const i=s.newValue;s.key===t&&n(i)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function h$(){}function Fj(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Qq(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function rce(t){return Qq(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function sce(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:s=[],modeStorageKey:i=ID,colorSchemeStorageKey:a=AD,storageWindow:o=typeof window>"u"?void 0:window,storageManager:l=nce,noSsr:u=!1}=t,d=s.join(","),f=s.length>1,p=$.useMemo(()=>l?.({key:i,storageWindow:o}),[l,i,o]),m=$.useMemo(()=>l?.({key:`${a}-light`,storageWindow:o}),[l,a,o]),y=$.useMemo(()=>l?.({key:`${a}-dark`,storageWindow:o}),[l,a,o]),[v,b]=$.useState(()=>{const F=p?.get(e)||e,L=m?.get(n)||n,z=y?.get(r)||r;return{mode:F,systemMode:Fj(F),lightColorScheme:L,darkColorScheme:z}}),[w,S]=$.useState(u||!f);$.useEffect(()=>{S(!0)},[]);const C=rce(v),T=$.useCallback(F=>{b(L=>{if(F===L.mode)return L;const z=F??e;return p?.set(z),{...L,mode:z,systemMode:Fj(z)}})},[p,e]),N=$.useCallback(F=>{F?typeof F=="string"?F&&!d.includes(F)?console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`):b(L=>{const z={...L};return Qq(L,P=>{P==="light"&&(m?.set(F),z.lightColorScheme=F),P==="dark"&&(y?.set(F),z.darkColorScheme=F)}),z}):b(L=>{const z={...L},P=F.light===null?n:F.light,R=F.dark===null?r:F.dark;return P&&(d.includes(P)?(z.lightColorScheme=P,m?.set(P)):console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`)),R&&(d.includes(R)?(z.darkColorScheme=R,y?.set(R)):console.error(`\`${R}\` does not exist in \`theme.colorSchemes\`.`)),z}):b(L=>(m?.set(n),y?.set(r),{...L,lightColorScheme:n,darkColorScheme:r}))},[d,m,y,n,r]),O=$.useCallback(F=>{v.mode==="system"&&b(L=>{const z=F?.matches?"dark":"light";return L.systemMode===z?L:{...L,systemMode:z}})},[v.mode]),_=$.useRef(O);return _.current=O,$.useEffect(()=>{if(typeof window.matchMedia!="function"||!f)return;const F=(...z)=>_.current(...z),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(F),F(L),()=>{L.removeListener(F)}},[f]),$.useEffect(()=>{if(f){const F=p?.subscribe(P=>{(!P||["light","dark","system"].includes(P))&&T(P||e)})||h$,L=m?.subscribe(P=>{(!P||d.match(P))&&N({light:P})})||h$,z=y?.subscribe(P=>{(!P||d.match(P))&&N({dark:P})})||h$;return()=>{F(),L(),z()}}},[N,T,d,e,o,f,p,m,y]),{...v,mode:w?v.mode:void 0,systemMode:w?v.systemMode:void 0,colorScheme:w?C:void 0,setMode:T,setColorScheme:N}}const ice="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ace(t){const{themeId:e,theme:n={},modeStorageKey:r=ID,colorSchemeStorageKey:s=AD,disableTransitionOnChange:i=!1,defaultColorScheme:a,resolveTheme:o}=t,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=$.createContext(void 0),d=()=>$.useContext(u)||l,f={},p={};function m(w){const{children:S,theme:C,modeStorageKey:T=r,colorSchemeStorageKey:N=s,disableTransitionOnChange:O=i,storageManager:_,storageWindow:F=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:z=typeof document>"u"?void 0:document.documentElement,disableNestedContext:P=!1,disableStyleSheetGeneration:R=!1,defaultMode:H="system",forceThemeRerender:q=!1,noSsr:X}=w,V=$.useRef(!1),ee=$D(),J=$.useContext(u),te=!!J&&!P,ce=$.useMemo(()=>C||(typeof n=="function"?n():n),[C]),G=ce[e],ne=G||ce,{colorSchemes:ae=f,components:be=p,cssVarPrefix:$e}=ne,Ie=Object.keys(ae).filter(an=>!!ae[an]).join(","),Me=$.useMemo(()=>Ie.split(","),[Ie]),st=typeof a=="string"?a:a.light,se=typeof a=="string"?a:a.dark,je=ae[st]&&ae[se]?H:ae[ne.defaultColorScheme]?.palette?.mode||ne.palette?.mode,{mode:Ge,setMode:Se,systemMode:yt,lightColorScheme:Qe,darkColorScheme:ut,colorScheme:kt,setColorScheme:Dt}=sce({supportedColorSchemes:Me,defaultLightColorScheme:st,defaultDarkColorScheme:se,modeStorageKey:T,colorSchemeStorageKey:N,defaultMode:je,storageManager:_,storageWindow:F,noSsr:X});let Ot=Ge,fn=kt;te&&(Ot=J.mode,fn=J.colorScheme);let Zt=fn||ne.defaultColorScheme;ne.vars&&!q&&(Zt=ne.defaultColorScheme);const Ht=$.useMemo(()=>{const an=ne.generateThemeVars?.()||ne.vars,Bt={...ne,components:be,colorSchemes:ae,cssVarPrefix:$e,vars:an};if(typeof Bt.generateSpacing=="function"&&(Bt.spacing=Bt.generateSpacing()),Zt){const kn=ae[Zt];kn&&typeof kn=="object"&&Object.keys(kn).forEach(_n=>{kn[_n]&&typeof kn[_n]=="object"?Bt[_n]={...Bt[_n],...kn[_n]}:Bt[_n]=kn[_n]})}return o?o(Bt):Bt},[ne,Zt,be,ae,$e]),pt=ne.colorSchemeSelector;hu(()=>{if(fn&&z&&pt&&pt!=="media"){const an=pt;let Bt=pt;if(an==="class"&&(Bt=".%s"),an==="data"&&(Bt="[data-%s]"),an?.startsWith("data-")&&!an.includes("%s")&&(Bt=`[${an}="%s"]`),Bt.startsWith("."))z.classList.remove(...Me.map(kn=>Bt.substring(1).replace("%s",kn))),z.classList.add(Bt.substring(1).replace("%s",fn));else{const kn=Bt.replace("%s",fn).match(/\[([^\]]+)\]/);if(kn){const[_n,Jr]=kn[1].split("=");Jr||Me.forEach(vn=>{z.removeAttribute(_n.replace(fn,vn))}),z.setAttribute(_n,Jr?Jr.replace(/"|'/g,""):"")}else z.setAttribute(Bt,fn)}}},[fn,pt,z,Me]),$.useEffect(()=>{let an;if(O&&V.current&&L){const Bt=L.createElement("style");Bt.appendChild(L.createTextNode(ice)),L.head.appendChild(Bt),window.getComputedStyle(L.body),an=setTimeout(()=>{L.head.removeChild(Bt)},1)}return()=>{clearTimeout(an)}},[fn,O,L]),$.useEffect(()=>(V.current=!0,()=>{V.current=!1}),[]);const fr=$.useMemo(()=>({allColorSchemes:Me,colorScheme:fn,darkColorScheme:ut,lightColorScheme:Qe,mode:Ot,setColorScheme:Dt,setMode:Se,systemMode:yt}),[Me,fn,ut,Qe,Ot,Dt,Se,yt,Ht.colorSchemeSelector]);let Lt=!0;(R||ne.cssVariables===!1||te&&ee?.cssVarPrefix===$e)&&(Lt=!1);const hr=D.jsxs($.Fragment,{children:[D.jsx(Zq,{themeId:G?e:void 0,theme:Ht,children:S}),Lt&&D.jsx(Dq,{styles:Ht.generateStyleSheets?.()||[]})]});return te?hr:D.jsx(u.Provider,{value:fr,children:hr})}const y=typeof a=="string"?a:a.light,v=typeof a=="string"?a:a.dark;return{CssVarsProvider:m,useColorScheme:d,getInitColorSchemeScript:w=>ece({colorSchemeStorageKey:s,defaultLightColorScheme:y,defaultDarkColorScheme:v,modeStorageKey:r,...w})}}function oce(t=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${t?`${t}-`:""}${r}${e(...s)})`}const zj=(t,e,n,r=[])=>{let s=t;e.forEach((i,a)=>{a===e.length-1?Array.isArray(s)?s[Number(i)]=n:s&&typeof s=="object"&&(s[i]=n):s&&typeof s=="object"&&(s[i]||(s[i]=r.includes(i)?[]:{}),s=s[i])})},lce=(t,e,n)=>{function r(s,i=[],a=[]){Object.entries(s).forEach(([o,l])=>{(!n||n&&!n([...i,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...i,o],Array.isArray(l)?[...a,o]:a):e([...i,o],l,a))})}r(t)},uce=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function p$(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},i={},a={};return lce(t,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(o,l))){const d=`--${n?`${n}-`:""}${o.join("-")}`,f=uce(o,l);Object.assign(s,{[d]:f}),zj(i,o,`var(${d})`,u),zj(a,o,`var(${d}, ${f})`,u)}},o=>o[0]==="vars"),{css:s,vars:i,varsWithDefaults:a}}function cce(t,e={}){const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:i}=e,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...u}=t,{vars:d,css:f,varsWithDefaults:p}=p$(u,e);let m=p;const y={},{[l]:v,...b}=a;if(Object.entries(b||{}).forEach(([T,N])=>{const{vars:O,css:_,varsWithDefaults:F}=p$(N,e);m=Js(m,F),y[T]={css:_,vars:O}}),v){const{css:T,vars:N,varsWithDefaults:O}=p$(v,e);m=Js(m,O),y[l]={css:T,vars:N}}function w(T,N){let O=s;if(s==="class"&&(O=".%s"),s==="data"&&(O="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(O=`[${s}="%s"]`),T){if(O==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${a[T]?.palette?.mode||T})`]:{":root":N}};if(O)return t.defaultColorScheme===T?`:root, ${O.replace("%s",String(T))}`:O.replace("%s",String(T))}return":root"}return{vars:m,generateThemeVars:()=>{let T={...d};return Object.entries(y).forEach(([,{vars:N}])=>{T=Js(T,N)}),T},generateStyleSheets:()=>{const T=[],N=t.defaultColorScheme||"light";function O(L,z){Object.keys(z).length&&T.push(typeof L=="string"?{[L]:{...z}}:L)}O(n(void 0,{...f}),f);const{[N]:_,...F}=y;if(_){const{css:L}=_,z=a[N]?.palette?.mode,P=!r&&z?{colorScheme:z,...L}:{...L};O(n(N,{...P}),P)}return Object.entries(F).forEach(([L,{css:z}])=>{const P=a[L]?.palette?.mode,R=!r&&P?{colorScheme:P,...z}:{...z};O(n(L,{...R}),R)}),i&&T.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),T}}}function dce(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Vt(t,e,n=void 0){const r={};for(const s in t){const i=t[s];let a="",o=!0;for(let l=0;l<i.length;l+=1){const u=i[l];u&&(a+=(o===!0?"":" ")+e(u),o=!1,n&&n[u]&&(a+=" "+n[u]))}r[s]=a}return r}const fce=bg(),hce=TD("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Je(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),pce=t=>ED({props:t,name:"MuiContainer",defaultTheme:fce}),mce=(t,e)=>{const n=l=>Ut(e,l),{classes:r,fixed:s,disableGutters:i,maxWidth:a}=t,o={root:["root",a&&`maxWidth${Je(String(a))}`,s&&"fixed",i&&"disableGutters"]};return Vt(o,n,r)};function gce(t={}){const{createStyledComponent:e=hce,useThemeProps:n=pce,componentName:r="MuiContainer"}=t,s=e(({theme:a,ownerState:o})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!o.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}}),({theme:a,ownerState:o})=>o.fixed&&Object.keys(a.breakpoints.values).reduce((l,u)=>{const d=u,f=a.breakpoints.values[d];return f!==0&&(l[a.breakpoints.up(d)]={maxWidth:`${f}${a.breakpoints.unit}`}),l},{}),({theme:a,ownerState:o})=>({...o.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},...o.maxWidth&&o.maxWidth!=="xs"&&{[a.breakpoints.up(o.maxWidth)]:{maxWidth:`${a.breakpoints.values[o.maxWidth]}${a.breakpoints.unit}`}}}));return $.forwardRef(function(o,l){const u=n(o),{className:d,component:f="div",disableGutters:p=!1,fixed:m=!1,maxWidth:y="lg",classes:v,...b}=u,w={...u,component:f,disableGutters:p,fixed:m,maxWidth:y},S=mce(w,r);return D.jsx(s,{as:f,ownerState:w,className:et(S.root,d),ref:l,...b})})}function zv(t,e){return $.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const yce=(t,e)=>t.filter(n=>e.includes(n)),wg=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((s,i)=>{n((a,o)=>{i<=t.keys.length-1&&(i===0?Object.assign(a,o):a[t.up(t.keys[i])]=o)},s)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:yce(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const a=e[i];a!==void 0&&n((o,l)=>{r===i?Object.assign(o,l):o[t.up(i)]=l},a)}}):(typeof e=="number"||typeof e=="string")&&n((s,i)=>{Object.assign(s,i)},e)};function gS(t){return`--Grid-${t}Spacing`}function dk(t){return`--Grid-parent-${t}Spacing`}const Bj="--Grid-columns",Dm="--Grid-parent-columns",vce=({theme:t,ownerState:e})=>{const n={};return wg(t.breakpoints,e.size,(r,s)=>{let i={};s==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),s==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof s=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${s} / var(${Dm}) - (var(${Dm}) - ${s}) * (var(${dk("column")}) / var(${Dm})))`}),r(n,i)}),n},bce=({theme:t,ownerState:e})=>{const n={};return wg(t.breakpoints,e.offset,(r,s)=>{let i={};s==="auto"&&(i={marginLeft:"auto"}),typeof s=="number"&&(i={marginLeft:s===0?"0px":`calc(100% * ${s} / var(${Dm}) + var(${dk("column")}) * ${s} / var(${Dm}))`}),r(n,i)}),n},xce=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[Bj]:12};return wg(t.breakpoints,e.columns,(r,s)=>{const i=s??12;r(n,{[Bj]:i,"> *":{[Dm]:i}})}),n},wce=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return wg(t.breakpoints,e.rowSpacing,(r,s)=>{const i=typeof s=="string"?s:t.spacing?.(s);r(n,{[gS("row")]:i,"> *":{[dk("row")]:i}})}),n},Sce=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return wg(t.breakpoints,e.columnSpacing,(r,s)=>{const i=typeof s=="string"?s:t.spacing?.(s);r(n,{[gS("column")]:i,"> *":{[dk("column")]:i}})}),n},Cce=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return wg(t.breakpoints,e.direction,(r,s)=>{r(n,{flexDirection:s})}),n},kce=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${gS("row")}) var(${gS("column")})`}}),Tce=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},Ece=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([s,i])=>{n(i)&&r.push(`spacing-${s}-${String(i)}`)}),r}return[]},Nce=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function $ce(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const Ice=bg(),Ace=TD("div",{name:"MuiGrid",slot:"Root"});function Oce(t){return ED({props:t,name:"MuiGrid",defaultTheme:Ice})}function Rce(t={}){const{createStyledComponent:e=Ace,useThemeProps:n=Oce,useTheme:r=Vb,componentName:s="MuiGrid"}=t,i=(u,d)=>{const{container:f,direction:p,spacing:m,wrap:y,size:v}=u,b={root:["root",f&&"container",y!=="wrap"&&`wrap-xs-${String(y)}`,...Nce(p),...Tce(v),...f?Ece(m,d.breakpoints.keys[0]):[]]};return Vt(b,w=>Ut(s,w),{})};function a(u,d,f=()=>!0){const p={};return u===null||(Array.isArray(u)?u.forEach((m,y)=>{m!==null&&f(m)&&d.keys[y]&&(p[d.keys[y]]=m)}):typeof u=="object"?Object.keys(u).forEach(m=>{const y=u[m];y!=null&&f(y)&&(p[m]=y)}):p[d.keys[0]]=u),p}const o=e(xce,Sce,wce,vce,Cce,kce,bce),l=$.forwardRef(function(d,f){const p=r(),m=n(d),y=ok(m);$ce(y,p.breakpoints);const{className:v,children:b,columns:w=12,container:S=!1,component:C="div",direction:T="row",wrap:N="wrap",size:O={},offset:_={},spacing:F=0,rowSpacing:L=F,columnSpacing:z=F,unstable_level:P=0,...R}=y,H=a(O,p.breakpoints,G=>G!==!1),q=a(_,p.breakpoints),X=d.columns??(P?void 0:w),V=d.spacing??(P?void 0:F),ee=d.rowSpacing??d.spacing??(P?void 0:L),J=d.columnSpacing??d.spacing??(P?void 0:z),te={...y,level:P,columns:X,container:S,direction:T,wrap:N,spacing:V,rowSpacing:ee,columnSpacing:J,size:H,offset:q},ce=i(te,p);return D.jsx(o,{ref:f,as:C,ownerState:te,className:et(ce.root,v),...R,children:$.Children.map(b,G=>$.isValidElement(G)&&zv(G,["Grid"])&&S&&G.props.container?$.cloneElement(G,{unstable_level:G.props?.unstable_level??P+1}):G)})});return l.muiName="Grid",l}const Dce=bg(),_ce=TD("div",{name:"MuiStack",slot:"Root"});function Pce(t){return ED({props:t,name:"MuiStack",defaultTheme:Dce})}function Mce(t,e){const n=$.Children.toArray(t).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push($.cloneElement(e,{key:`separator-${i}`})),r),[])}const Lce=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Fce=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...hl({theme:e},c$({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=tk(e),s=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),i=c$({values:t.direction,base:s}),a=c$({values:t.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((l,u,d)=>{if(!i[l]){const p=u>0?i[d[u-1]]:"column";i[l]=p}}),n=Js(n,hl({theme:e},a,(l,u)=>t.useFlexGap?{gap:Ah(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Lce(u?i[u]:t.direction)}`]:Ah(r,l)}}))}return n=_le(e.breakpoints,n),n};function zce(t={}){const{createStyledComponent:e=_ce,useThemeProps:n=Pce,componentName:r="MuiStack"}=t,s=()=>Vt({root:["root"]},l=>Ut(r,l),{}),i=e(Fce);return $.forwardRef(function(l,u){const d=n(l),f=ok(d),{component:p="div",direction:m="column",spacing:y=0,divider:v,children:b,className:w,useFlexGap:S=!1,...C}=f,T={direction:m,spacing:y,useFlexGap:S},N=s();return D.jsx(i,{as:p,ownerState:T,ref:u,className:et(N.root,w),...C,children:v?Mce(b,v):b})})}const Zv={black:"#000",white:"#fff"},Bce={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},am={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},om={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},sv={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},lm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},um={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Jq(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Zv.white,default:Zv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const e8=Jq();function t8(){return{text:{primary:Zv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Zv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const PA=t8();function jj(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=ck(t.main,s):e==="dark"&&(t.dark=uk(t.main,i)))}function Uj(t,e,n,r,s){const i=s.light||s,a=s.dark||s*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(i*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function jce(t="light"){return t==="dark"?{main:lm[200],light:lm[50],dark:lm[400]}:{main:lm[700],light:lm[400],dark:lm[800]}}function Uce(t="light"){return t==="dark"?{main:am[200],light:am[50],dark:am[400]}:{main:am[500],light:am[300],dark:am[700]}}function Vce(t="light"){return t==="dark"?{main:om[500],light:om[300],dark:om[700]}:{main:om[700],light:om[400],dark:om[800]}}function Wce(t="light"){return t==="dark"?{main:um[400],light:um[300],dark:um[700]}:{main:um[700],light:um[500],dark:um[900]}}function Hce(t="light"){return t==="dark"?{main:cm[400],light:cm[300],dark:cm[700]}:{main:cm[800],light:cm[500],dark:cm[900]}}function Gce(t="light"){return t==="dark"?{main:sv[400],light:sv[300],dark:sv[700]}:{main:"#ed6c02",light:sv[500],dark:sv[900]}}function qce(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function OD(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:s,...i}=t,a=t.primary||jce(e),o=t.secondary||Uce(e),l=t.error||Vce(e),u=t.info||Wce(e),d=t.success||Hce(e),f=t.warning||Gce(e);function p(b){return s?qce(b):zue(b,PA.text.primary)>=n?PA.text.primary:e8.text.primary}const m=({color:b,name:w,mainShade:S=500,lightShade:C=300,darkShade:T=700})=>{if(b={...b},!b.main&&b[S]&&(b.main=b[S]),!b.hasOwnProperty("main"))throw new Error(mc(11,w?` (${w})`:"",S));if(typeof b.main!="string")throw new Error(mc(12,w?` (${w})`:"",JSON.stringify(b.main)));return s?(Uj(s,b,"light",C,r),Uj(s,b,"dark",T,r)):(jj(b,"light",C,r),jj(b,"dark",T,r)),b.contrastText||(b.contrastText=p(b.main)),b};let y;return e==="light"?y=Jq():e==="dark"&&(y=t8()),Js({common:{...Zv},mode:e,primary:m({color:a,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:d,name:"success"}),grey:Bce,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r,...y},i)}function Kce(t){const e={};return Object.entries(t).forEach(r=>{const[s,i]=r;typeof i=="object"&&(e[s]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Xce(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Yce(t){return Math.round(t*1e5)/1e5}const Vj={textTransform:"uppercase"},Wj='"Roboto", "Helvetica", "Arial", sans-serif';function n8(t,e){const{fontFamily:n=Wj,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...f}=typeof e=="function"?e(t):e,p=r/14,m=d||(b=>`${b/l*p}rem`),y=(b,w,S,C,T)=>({fontFamily:n,fontWeight:b,fontSize:m(w),lineHeight:S,...n===Wj?{letterSpacing:`${Yce(C/w)}em`}:{},...T,...u}),v={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(i,48,1.167,0),h4:y(i,34,1.235,.25),h5:y(i,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(i,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(i,16,1.5,.15),body2:y(i,14,1.43,.15),button:y(a,14,1.75,.4,Vj),caption:y(i,12,1.66,.4),overline:y(i,12,2.66,1,Vj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Js({htmlFontSize:l,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:a,fontWeightBold:o,...v},f,{clone:!1})}const Zce=.2,Qce=.14,Jce=.12;function Er(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Zce})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Qce})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Jce})`].join(",")}const ede=["none",Er(0,2,1,-1,0,1,1,0,0,1,3,0),Er(0,3,1,-2,0,2,2,0,0,1,5,0),Er(0,3,3,-2,0,3,4,0,0,1,8,0),Er(0,2,4,-1,0,4,5,0,0,1,10,0),Er(0,3,5,-1,0,5,8,0,0,1,14,0),Er(0,3,5,-1,0,6,10,0,0,1,18,0),Er(0,4,5,-2,0,7,10,1,0,2,16,1),Er(0,5,5,-3,0,8,10,1,0,3,14,2),Er(0,5,6,-3,0,9,12,1,0,3,16,2),Er(0,6,6,-3,0,10,14,1,0,4,18,3),Er(0,6,7,-4,0,11,15,1,0,4,20,3),Er(0,7,8,-4,0,12,17,2,0,5,22,4),Er(0,7,8,-4,0,13,19,2,0,5,24,4),Er(0,7,9,-4,0,14,21,2,0,5,26,4),Er(0,8,9,-5,0,15,22,2,0,6,28,5),Er(0,8,10,-5,0,16,24,2,0,6,30,5),Er(0,8,11,-5,0,17,26,2,0,6,32,5),Er(0,9,11,-5,0,18,28,2,0,7,34,6),Er(0,9,12,-6,0,19,29,2,0,7,36,6),Er(0,10,13,-6,0,20,31,3,0,8,38,7),Er(0,10,13,-6,0,21,33,3,0,8,40,7),Er(0,10,14,-6,0,22,35,3,0,8,42,7),Er(0,11,14,-7,0,23,36,3,0,9,44,8),Er(0,11,15,-7,0,24,38,3,0,9,46,8)],tde={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nde={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Hj(t){return`${Math.round(t)}ms`}function rde(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function sde(t){const e={...tde,...t.easing},n={...nde,...t.duration};return{getAutoHeightDuration:rde,create:(s=["all"],i={})=>{const{duration:a=n.standard,easing:o=e.easeInOut,delay:l=0,...u}=i;return(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof a=="string"?a:Hj(a)} ${o} ${typeof l=="string"?l:Hj(l)}`).join(",")},...t,easing:e,duration:n}}const ide={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ade(t){return Zl(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function r8(t={}){const e={...t};function n(r){const s=Object.entries(r);for(let i=0;i<s.length;i++){const[a,o]=s[i];!ade(o)||a.startsWith("unstable_")?delete r[a]:Zl(o)&&(r[a]={...o},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Gj(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const ode=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function lde(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:mS(e,ode(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${Gj(n)})`:ck(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${Gj(n)})`:uk(e,n)}})}function MA(t={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:i={},transitions:a={},typography:o={},shape:l,colorSpace:u,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(mc(20));const f=OD({...i,colorSpace:u}),p=bg(t);let m=Js(p,{mixins:Xce(p.breakpoints,r),palette:f,shadows:ede.slice(),typography:n8(f,o),transitions:sde(a),zIndex:{...ide}});return m=Js(m,d),m=e.reduce((y,v)=>Js(y,v),m),m.unstable_sxConfig={...Ub,...d?.unstable_sxConfig},m.unstable_sx=function(v){return Pd({sx:v,theme:this})},m.toRuntimeSource=r8,lde(m),m}function LA(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const ude=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=LA(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function s8(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function i8(t){return t==="dark"?ude:[]}function cde(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:s,...i}=t,a=OD({...e,colorSpace:s});return{palette:a,opacity:{...s8(a.mode),...n},overlays:r||i8(a.mode),...i}}function dde(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const fde=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],hde=t=>(e,n)=>{const r=t.rootSelector||":root",s=t.colorSchemeSelector;let i=s;if(s==="class"&&(i=".%s"),s==="data"&&(i="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(i=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return fde(t.cssVarPrefix).forEach(o=>{a[o]=n[o],delete n[o]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:i?{[i.replace("%s",e)]:a,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function pde(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function He(t,e,n){!t[e]&&n&&(t[e]=n)}function Ev(t){return typeof t!="string"||!t.startsWith("hsl")?t:Gq(t)}function Zu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Tv(Ev(t[e])))}function mde(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Bl=t=>{try{return t()}catch{}},gde=(t="mui")=>oce(t);function m$(t,e,n,r,s){if(!n)return;n=n===!0?{}:n;const i=s==="dark"?"dark":"light";if(!r){e[s]=cde({...n,palette:{mode:i,...n?.palette},colorSpace:t});return}const{palette:a,...o}=MA({...r,palette:{mode:i,...n?.palette},colorSpace:t});return e[s]={...n,palette:a,opacity:{...s8(i),...n?.opacity},overlays:n?.overlays||i8(i)},o}function yde(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:i="mui",nativeColor:a=!1,shouldSkipGeneratingVar:o=dde,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=t,f=Object.keys(n)[0],p=r||(n.light&&f!=="light"?"light":f),m=gde(i),{[p]:y,light:v,dark:b,...w}=n,S={...w};let C=y;if((p==="dark"&&!("dark"in n)||p==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(mc(21,p));let T;a&&(T="oklch");const N=m$(T,S,C,d,p);v&&!S.light&&m$(T,S,v,void 0,"light"),b&&!S.dark&&m$(T,S,b,void 0,"dark");let O={defaultColorScheme:p,...N,cssVarPrefix:i,colorSchemeSelector:l,rootSelector:u,getCssVar:m,colorSchemes:S,font:{...Kce(N.typography),...N.font},spacing:mde(d.spacing)};Object.keys(O.colorSchemes).forEach(P=>{const R=O.colorSchemes[P].palette,H=X=>{const V=X.split("-"),ee=V[1],J=V[2];return m(X,R[ee][J])};R.mode==="light"&&(He(R.common,"background","#fff"),He(R.common,"onBackground","#000")),R.mode==="dark"&&(He(R.common,"background","#000"),He(R.common,"onBackground","#fff"));function q(X,V,ee){if(T){let J;return X===Yf&&(J=`transparent ${((1-ee)*100).toFixed(0)}%`),X===Hn&&(J=`#000 ${(ee*100).toFixed(0)}%`),X===Gn&&(J=`#fff ${(ee*100).toFixed(0)}%`),`color-mix(in ${T}, ${V}, ${J})`}return X(V,ee)}if(pde(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){He(R.Alert,"errorColor",q(Hn,R.error.light,.6)),He(R.Alert,"infoColor",q(Hn,R.info.light,.6)),He(R.Alert,"successColor",q(Hn,R.success.light,.6)),He(R.Alert,"warningColor",q(Hn,R.warning.light,.6)),He(R.Alert,"errorFilledBg",H("palette-error-main")),He(R.Alert,"infoFilledBg",H("palette-info-main")),He(R.Alert,"successFilledBg",H("palette-success-main")),He(R.Alert,"warningFilledBg",H("palette-warning-main")),He(R.Alert,"errorFilledColor",Bl(()=>R.getContrastText(R.error.main))),He(R.Alert,"infoFilledColor",Bl(()=>R.getContrastText(R.info.main))),He(R.Alert,"successFilledColor",Bl(()=>R.getContrastText(R.success.main))),He(R.Alert,"warningFilledColor",Bl(()=>R.getContrastText(R.warning.main))),He(R.Alert,"errorStandardBg",q(Gn,R.error.light,.9)),He(R.Alert,"infoStandardBg",q(Gn,R.info.light,.9)),He(R.Alert,"successStandardBg",q(Gn,R.success.light,.9)),He(R.Alert,"warningStandardBg",q(Gn,R.warning.light,.9)),He(R.Alert,"errorIconColor",H("palette-error-main")),He(R.Alert,"infoIconColor",H("palette-info-main")),He(R.Alert,"successIconColor",H("palette-success-main")),He(R.Alert,"warningIconColor",H("palette-warning-main")),He(R.AppBar,"defaultBg",H("palette-grey-100")),He(R.Avatar,"defaultBg",H("palette-grey-400")),He(R.Button,"inheritContainedBg",H("palette-grey-300")),He(R.Button,"inheritContainedHoverBg",H("palette-grey-A100")),He(R.Chip,"defaultBorder",H("palette-grey-400")),He(R.Chip,"defaultAvatarColor",H("palette-grey-700")),He(R.Chip,"defaultIconColor",H("palette-grey-700")),He(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),He(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),He(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),He(R.LinearProgress,"primaryBg",q(Gn,R.primary.main,.62)),He(R.LinearProgress,"secondaryBg",q(Gn,R.secondary.main,.62)),He(R.LinearProgress,"errorBg",q(Gn,R.error.main,.62)),He(R.LinearProgress,"infoBg",q(Gn,R.info.main,.62)),He(R.LinearProgress,"successBg",q(Gn,R.success.main,.62)),He(R.LinearProgress,"warningBg",q(Gn,R.warning.main,.62)),He(R.Skeleton,"bg",T?q(Yf,R.text.primary,.11):`rgba(${H("palette-text-primaryChannel")} / 0.11)`),He(R.Slider,"primaryTrack",q(Gn,R.primary.main,.62)),He(R.Slider,"secondaryTrack",q(Gn,R.secondary.main,.62)),He(R.Slider,"errorTrack",q(Gn,R.error.main,.62)),He(R.Slider,"infoTrack",q(Gn,R.info.main,.62)),He(R.Slider,"successTrack",q(Gn,R.success.main,.62)),He(R.Slider,"warningTrack",q(Gn,R.warning.main,.62));const X=T?q(Hn,R.background.default,.6825):Z1(R.background.default,.8);He(R.SnackbarContent,"bg",X),He(R.SnackbarContent,"color",Bl(()=>T?PA.text.primary:R.getContrastText(X))),He(R.SpeedDialAction,"fabHoverBg",Z1(R.background.paper,.15)),He(R.StepConnector,"border",H("palette-grey-400")),He(R.StepContent,"border",H("palette-grey-400")),He(R.Switch,"defaultColor",H("palette-common-white")),He(R.Switch,"defaultDisabledColor",H("palette-grey-100")),He(R.Switch,"primaryDisabledColor",q(Gn,R.primary.main,.62)),He(R.Switch,"secondaryDisabledColor",q(Gn,R.secondary.main,.62)),He(R.Switch,"errorDisabledColor",q(Gn,R.error.main,.62)),He(R.Switch,"infoDisabledColor",q(Gn,R.info.main,.62)),He(R.Switch,"successDisabledColor",q(Gn,R.success.main,.62)),He(R.Switch,"warningDisabledColor",q(Gn,R.warning.main,.62)),He(R.TableCell,"border",q(Gn,q(Yf,R.divider,1),.88)),He(R.Tooltip,"bg",q(Yf,R.grey[700],.92))}if(R.mode==="dark"){He(R.Alert,"errorColor",q(Gn,R.error.light,.6)),He(R.Alert,"infoColor",q(Gn,R.info.light,.6)),He(R.Alert,"successColor",q(Gn,R.success.light,.6)),He(R.Alert,"warningColor",q(Gn,R.warning.light,.6)),He(R.Alert,"errorFilledBg",H("palette-error-dark")),He(R.Alert,"infoFilledBg",H("palette-info-dark")),He(R.Alert,"successFilledBg",H("palette-success-dark")),He(R.Alert,"warningFilledBg",H("palette-warning-dark")),He(R.Alert,"errorFilledColor",Bl(()=>R.getContrastText(R.error.dark))),He(R.Alert,"infoFilledColor",Bl(()=>R.getContrastText(R.info.dark))),He(R.Alert,"successFilledColor",Bl(()=>R.getContrastText(R.success.dark))),He(R.Alert,"warningFilledColor",Bl(()=>R.getContrastText(R.warning.dark))),He(R.Alert,"errorStandardBg",q(Hn,R.error.light,.9)),He(R.Alert,"infoStandardBg",q(Hn,R.info.light,.9)),He(R.Alert,"successStandardBg",q(Hn,R.success.light,.9)),He(R.Alert,"warningStandardBg",q(Hn,R.warning.light,.9)),He(R.Alert,"errorIconColor",H("palette-error-main")),He(R.Alert,"infoIconColor",H("palette-info-main")),He(R.Alert,"successIconColor",H("palette-success-main")),He(R.Alert,"warningIconColor",H("palette-warning-main")),He(R.AppBar,"defaultBg",H("palette-grey-900")),He(R.AppBar,"darkBg",H("palette-background-paper")),He(R.AppBar,"darkColor",H("palette-text-primary")),He(R.Avatar,"defaultBg",H("palette-grey-600")),He(R.Button,"inheritContainedBg",H("palette-grey-800")),He(R.Button,"inheritContainedHoverBg",H("palette-grey-700")),He(R.Chip,"defaultBorder",H("palette-grey-700")),He(R.Chip,"defaultAvatarColor",H("palette-grey-300")),He(R.Chip,"defaultIconColor",H("palette-grey-300")),He(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),He(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),He(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),He(R.LinearProgress,"primaryBg",q(Hn,R.primary.main,.5)),He(R.LinearProgress,"secondaryBg",q(Hn,R.secondary.main,.5)),He(R.LinearProgress,"errorBg",q(Hn,R.error.main,.5)),He(R.LinearProgress,"infoBg",q(Hn,R.info.main,.5)),He(R.LinearProgress,"successBg",q(Hn,R.success.main,.5)),He(R.LinearProgress,"warningBg",q(Hn,R.warning.main,.5)),He(R.Skeleton,"bg",T?q(Yf,R.text.primary,.13):`rgba(${H("palette-text-primaryChannel")} / 0.13)`),He(R.Slider,"primaryTrack",q(Hn,R.primary.main,.5)),He(R.Slider,"secondaryTrack",q(Hn,R.secondary.main,.5)),He(R.Slider,"errorTrack",q(Hn,R.error.main,.5)),He(R.Slider,"infoTrack",q(Hn,R.info.main,.5)),He(R.Slider,"successTrack",q(Hn,R.success.main,.5)),He(R.Slider,"warningTrack",q(Hn,R.warning.main,.5));const X=T?q(Gn,R.background.default,.985):Z1(R.background.default,.98);He(R.SnackbarContent,"bg",X),He(R.SnackbarContent,"color",Bl(()=>T?e8.text.primary:R.getContrastText(X))),He(R.SpeedDialAction,"fabHoverBg",Z1(R.background.paper,.15)),He(R.StepConnector,"border",H("palette-grey-600")),He(R.StepContent,"border",H("palette-grey-600")),He(R.Switch,"defaultColor",H("palette-grey-300")),He(R.Switch,"defaultDisabledColor",H("palette-grey-600")),He(R.Switch,"primaryDisabledColor",q(Hn,R.primary.main,.55)),He(R.Switch,"secondaryDisabledColor",q(Hn,R.secondary.main,.55)),He(R.Switch,"errorDisabledColor",q(Hn,R.error.main,.55)),He(R.Switch,"infoDisabledColor",q(Hn,R.info.main,.55)),He(R.Switch,"successDisabledColor",q(Hn,R.success.main,.55)),He(R.Switch,"warningDisabledColor",q(Hn,R.warning.main,.55)),He(R.TableCell,"border",q(Hn,q(Yf,R.divider,1),.68)),He(R.Tooltip,"bg",q(Yf,R.grey[700],.92))}Zu(R.background,"default"),Zu(R.background,"paper"),Zu(R.common,"background"),Zu(R.common,"onBackground"),Zu(R,"divider"),Object.keys(R).forEach(X=>{const V=R[X];X!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&He(R[X],"mainChannel",Tv(Ev(V.main))),V.light&&He(R[X],"lightChannel",Tv(Ev(V.light))),V.dark&&He(R[X],"darkChannel",Tv(Ev(V.dark))),V.contrastText&&He(R[X],"contrastTextChannel",Tv(Ev(V.contrastText))),X==="text"&&(Zu(R[X],"primary"),Zu(R[X],"secondary")),X==="action"&&(V.active&&Zu(R[X],"active"),V.selected&&Zu(R[X],"selected")))})}),O=e.reduce((P,R)=>Js(P,R),O);const _={prefix:i,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:hde(O),enableContrastVars:a},{vars:F,generateThemeVars:L,generateStyleSheets:z}=cce(O,_);return O.vars=F,Object.entries(O.colorSchemes[O.defaultColorScheme]).forEach(([P,R])=>{O[P]=R}),O.generateThemeVars=L,O.generateStyleSheets=z,O.generateSpacing=function(){return zq(d.spacing,tk(this))},O.getColorSchemeSelector=dce(l),O.spacing=O.generateSpacing(),O.shouldSkipGeneratingVar=o,O.unstable_sxConfig={...Ub,...d?.unstable_sxConfig},O.unstable_sx=function(R){return Pd({sx:R,theme:this})},O.toRuntimeSource=r8,O}function qj(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:OD({...n===!0?{}:n.palette,mode:e})})}function fk(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:i=n?.mode,...a}=t,o=i||"light",l=s?.[o],u={...s,...n?{[o]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return MA(t,...e);let d=n;"palette"in t||u[o]&&(u[o]!==!0?d=u[o].palette:o==="dark"&&(d={mode:"dark"}));const f=MA({...t,palette:d},...e);return f.defaultColorScheme=o,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},qj(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},qj(f,"light",u.light)),f}return!n&&!("light"in u)&&o==="light"&&(u.light=!0),yde({...a,colorSchemes:u,defaultColorScheme:o,...typeof r!="boolean"&&r},...e)}const RD=fk();function Sg(){const t=Vb(RD);return t[nu]||t}function a8(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Uo=t=>a8(t)&&t!=="classes",it=Hq({themeId:nu,defaultTheme:RD,rootShouldForwardProp:Uo});function vde({theme:t,...e}){const n=nu in t?t[nu]:void 0;return D.jsx(Zq,{...e,themeId:n?nu:void 0,theme:n||t})}const Q1={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:bde}=ace({themeId:nu,theme:()=>fk({cssVariables:!0}),colorSchemeStorageKey:Q1.colorSchemeStorageKey,modeStorageKey:Q1.modeStorageKey,defaultColorScheme:{light:Q1.defaultLightColorScheme,dark:Q1.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:n8(t.palette,t.typography)};return e.unstable_sx=function(r){return Pd({sx:r,theme:this})},e}}),xde=bde;function wde({theme:t,...e}){const n=$.useMemo(()=>{if(typeof t=="function")return t;const r=nu in t?t[nu]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?D.jsx(vde,{theme:n,...e}):D.jsx(xde,{theme:t,...e})}function Sde(t){return D.jsx(Bq,{...t,defaultTheme:RD,themeId:nu})}function DD(t){return function(n){return D.jsx(Sde,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function Cde(){return ok}function Wt(t){return Kue(t)}const FA=typeof DD({})=="function",kde=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),Tde=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),o8=(t,e=!1)=>{const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([i,a])=>{const o=t.getColorSchemeSelector(i);o.startsWith("@")?n[o]={":root":{colorScheme:a.palette?.mode}}:n[o.replace(/\s*&/,"")]={colorScheme:a.palette?.mode}});let r={html:kde(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...Tde(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const s=t.components?.MuiCssBaseline?.styleOverrides;return s&&(r=[r,s]),r},Uw="mui-ecs",Ede=t=>{const e=o8(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${Uw})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,s])=>{const i=t.getColorSchemeSelector(r);i.startsWith("@")?n[i]={[`:root:not(:has(.${Uw}))`]:{colorScheme:s.palette?.mode}}:n[i.replace(/\s*&/,"")]={[`&:not(:has(.${Uw}))`]:{colorScheme:s.palette?.mode}}}),e},Nde=DD(FA?({theme:t,enableColorScheme:e})=>o8(t,e):({theme:t})=>Ede(t));function $de(t){const e=Wt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return D.jsxs($.Fragment,{children:[FA&&D.jsx(Nde,{enableColorScheme:r}),!FA&&!r&&D.jsx("span",{className:Uw,style:{display:"none"}}),n]})}function Kj(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}const sn=Que;function Ide(t){return Ut("MuiSvgIcon",t)}qt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ade=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${Je(e)}`,`fontSize${Je(n)}`]};return Vt(s,Ide,r)},Ode=it("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Je(n.color)}`],e[`fontSize${Je(n.fontSize)}`]]}})(sn(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),zA=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:p="0 0 24 24",...m}=r,y=$.isValidElement(s)&&s.type==="svg",v={...r,color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:y},b={};d||(b.viewBox=p);const w=Ade(v);return D.jsxs(Ode,{as:o,className:et(w.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...b,...m,...y&&s.props,ownerState:v,children:[y?s.props.children:s,f?D.jsx("title",{children:f}):null]})});zA.muiName="SvgIcon";function zn(t,e){function n(r,s){return D.jsx(zA,{"data-testid":void 0,ref:s,...r,children:t})}return n.muiName=zA.muiName,$.memo($.forwardRef(n))}function _D(t,e=166){let n;function r(...s){const i=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function pl(t){return t&&t.ownerDocument||document}function ml(t){return pl(t).defaultView||window}function Xj(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Yj(t){const{controlled:e,default:n,name:r,state:s="value"}=t,{current:i}=$.useRef(e!==void 0),[a,o]=$.useState(n),l=i?e:a,u=$.useCallback(d=>{i||o(d)},[]);return[l,u]}function Ch(t){const e=$.useRef(t);return hu(()=>{e.current=t}),$.useRef((...n)=>(0,e.current)(...n)).current}function ti(...t){const e=$.useRef(void 0),n=$.useCallback(r=>{const s=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,o=a(r);return typeof o=="function"?o:()=>{a(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i?.())}},t);return $.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function Rde(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function Dde(t,e){if(!t)return e;function n(a,o){const l={};return Object.keys(o).forEach(u=>{Rde(u,o[u])&&typeof a[u]=="function"&&(l[u]=(...d)=>{a[u](...d),o[u](...d)})}),l}if(typeof t=="function"||typeof e=="function")return a=>{const o=typeof e=="function"?e(a):e,l=typeof t=="function"?t({...a,...o}):t,u=et(a?.className,o?.className,l?.className),d=n(l,o);return{...o,...l,...d,...!!u&&{className:u},...o?.style&&l?.style&&{style:{...o.style,...l.style}},...o?.sx&&l?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,s=n(t,r),i=et(r?.className,t?.className);return{...e,...t,...s,...!!i&&{className:i},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function l8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},BA(t,e)}function u8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,BA(t,e)}const Zj={disabled:!1},yS=ls.createContext(null);var _de=function(e){return e.scrollTop},Nv="unmounted",rh="exited",sh="entering",Sm="entered",jA="exiting",wl=(function(t){u8(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=s,o=a&&!a.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?o?(l=rh,i.appearStatus=sh):l=Sm:r.unmountOnExit||r.mountOnEnter?l=Nv:l=rh,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===Nv?{status:rh}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==sh&&a!==Sm&&(i=sh):(a===sh||a===Sm)&&(i=jA)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,o;return i=a=o=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,o=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:o}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===sh){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:X1.findDOMNode(this);a&&_de(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rh&&this.setState({status:Nv})},n.performEnter=function(s){var i=this,a=this.props.enter,o=this.context?this.context.isMounting:s,l=this.props.nodeRef?[o]:[X1.findDOMNode(this),o],u=l[0],d=l[1],f=this.getTimeouts(),p=o?f.appear:f.enter;if(!s&&!a||Zj.disabled){this.safeSetState({status:Sm},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:sh},function(){i.props.onEntering(u,d),i.onTransitionEnd(p,function(){i.safeSetState({status:Sm},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:X1.findDOMNode(this);if(!i||Zj.disabled){this.safeSetState({status:rh},function(){s.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:jA},function(){s.props.onExiting(o),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:rh},function(){s.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,i.nextCallback=null,s(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:X1.findDOMNode(this),o=s==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Nv)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var o=l8(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ls.createElement(yS.Provider,{value:null},typeof a=="function"?a(s,o):ls.cloneElement(ls.Children.only(a),o))},e})(ls.Component);wl.contextType=yS;wl.propTypes={};function dm(){}wl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dm,onEntering:dm,onEntered:dm,onExit:dm,onExiting:dm,onExited:dm};wl.UNMOUNTED=Nv;wl.EXITED=rh;wl.ENTERING=sh;wl.ENTERED=Sm;wl.EXITING=jA;function Pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(t,e){var n=function(i){return e&&$.isValidElement(i)?e(i):i},r=Object.create(null);return t&&$.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function Mde(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var a,o={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];o[r[l][a]]=n(u)}o[l]=n(l)}for(a=0;a<s.length;a++)o[s[a]]=n(s[a]);return o}function mh(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Lde(t,e){return PD(t.children,function(n){return $.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:mh(n,"appear",t),enter:mh(n,"enter",t),exit:mh(n,"exit",t)})})}function Fde(t,e,n){var r=PD(t.children),s=Mde(e,r);return Object.keys(s).forEach(function(i){var a=s[i];if($.isValidElement(a)){var o=i in e,l=i in r,u=e[i],d=$.isValidElement(u)&&!u.props.in;l&&(!o||d)?s[i]=$.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:mh(a,"exit",t),enter:mh(a,"enter",t)}):!l&&o&&!d?s[i]=$.cloneElement(a,{in:!1}):l&&o&&$.isValidElement(u)&&(s[i]=$.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:mh(a,"exit",t),enter:mh(a,"enter",t)}))}}),s}var zde=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Bde={component:"div",childFactory:function(e){return e}},MD=(function(t){u8(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=i.handleExited.bind(Pde(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var a=i.children,o=i.handleExited,l=i.firstRender;return{children:l?Lde(s,o):Fde(s,a,o),firstRender:!1}},n.handleExited=function(s,i){var a=PD(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(o){var l=fS({},o.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,a=s.childFactory,o=l8(s,["component","childFactory"]),l=this.state.contextValue,u=zde(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,i===null?ls.createElement(yS.Provider,{value:l},u):ls.createElement(yS.Provider,{value:l},ls.createElement(i,o,u))},e})(ls.Component);MD.propTypes={};MD.defaultProps=Bde;const Qj={};function c8(t,e){const n=$.useRef(Qj);return n.current===Qj&&(n.current=t(e)),n}const jde=[];function Ude(t){$.useEffect(t,jde)}class LD{static create(){return new LD}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function d8(){const t=c8(LD.create).current;return Ude(t.disposeEffect),t}const FD=t=>t.scrollTop;function Wm(t,e){const{timeout:n,easing:r,style:s={}}=t;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function Hm(t){return typeof t=="string"}function f8(t,e,n){return t===void 0||Hm(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function h8(t,e,n){return typeof t=="function"?t(e,n):t}function p8(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Jj(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function m8(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const m=et(n?.className,i,s?.className,r?.className),y={...n?.style,...s?.style,...r?.style},v={...n,...s,...r};return m.length>0&&(v.className=m),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:void 0}}const a=p8({...s,...r}),o=Jj(r),l=Jj(s),u=e(a),d=et(u?.className,n?.className,i,s?.className,r?.className),f={...u?.style,...n?.style,...s?.style,...r?.style},p={...u,...n,...l,...o};return d.length>0&&(p.className=d),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:u.ref}}function hn(t,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...l}=e,{component:u,slots:d={[t]:void 0},slotProps:f={[t]:void 0},...p}=i,m=d[t]||r,y=h8(f[t],s),{props:{component:v,...b},internalRef:w}=m8({className:n,...l,externalForwardedProps:t==="root"?p:void 0,externalSlotProps:y}),S=ti(w,y?.ref,e.ref),C=t==="root"?v||u:v,T=f8(m,{...t==="root"&&!u&&!d[t]&&a,...t!=="root"&&!d[t]&&a,...b,...C&&!o&&{as:C},...C&&o&&{component:C},ref:S},s);return[m,T]}function Vde(t){return Ut("MuiPaper",t)}qt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Wde=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Vt(i,Vde,s)},Hde=it("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(sn(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ef=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPaper"}),s=Sg(),{className:i,component:a="div",elevation:o=1,square:l=!1,variant:u="elevation",...d}=r,f={...r,component:a,elevation:o,square:l,variant:u},p=Wde(f);return D.jsx(Hde,{as:a,ownerState:f,className:et(p.root,i),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[o],...s.vars&&{"--Paper-overlay":s.vars.overlays?.[o]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${mS("#fff",LA(o))}, ${mS("#fff",LA(o))})`}},...d.style}})});function e4(t){try{return t.matches(":focus-visible")}catch{}return!1}class vS{static create(){return new vS}static use(){const e=c8(vS.create).current,[n,r]=$.useState(!1);return e.shouldMount=n,e.setShouldMount=r,$.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=qde(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function Gde(){return vS.use()}function qde(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function Kde(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:a,in:o,onExited:l,timeout:u}=t,[d,f]=$.useState(!1),p=et(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},y=et(n.child,d&&n.childLeaving,r&&n.childPulsate);return!o&&!d&&f(!0),$.useEffect(()=>{if(!o&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,o,u]),D.jsx("span",{className:p,style:m,children:D.jsx("span",{className:y})})}const Co=qt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),UA=550,Xde=80,Yde=Jd`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Zde=Jd`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Qde=Jd`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Jde=it("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),efe=it(Kde,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Co.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Yde};
    animation-duration: ${UA}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Co.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Co.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Co.childLeaving} {
    opacity: 0;
    animation-name: ${Zde};
    animation-duration: ${UA}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Co.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Qde};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,tfe=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:a,...o}=r,[l,u]=$.useState([]),d=$.useRef(0),f=$.useRef(null);$.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const p=$.useRef(!1),m=d8(),y=$.useRef(null),v=$.useRef(null),b=$.useCallback(T=>{const{pulsate:N,rippleX:O,rippleY:_,rippleSize:F,cb:L}=T;u(z=>[...z,D.jsx(efe,{classes:{ripple:et(i.ripple,Co.ripple),rippleVisible:et(i.rippleVisible,Co.rippleVisible),ripplePulsate:et(i.ripplePulsate,Co.ripplePulsate),child:et(i.child,Co.child),childLeaving:et(i.childLeaving,Co.childLeaving),childPulsate:et(i.childPulsate,Co.childPulsate)},timeout:UA,pulsate:N,rippleX:O,rippleY:_,rippleSize:F},d.current)]),d.current+=1,f.current=L},[i]),w=$.useCallback((T={},N={},O=()=>{})=>{const{pulsate:_=!1,center:F=s||N.pulsate,fakeElement:L=!1}=N;if(T?.type==="mousedown"&&p.current){p.current=!1;return}T?.type==="touchstart"&&(p.current=!0);const z=L?null:v.current,P=z?z.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,H,q;if(F||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)R=Math.round(P.width/2),H=Math.round(P.height/2);else{const{clientX:X,clientY:V}=T.touches&&T.touches.length>0?T.touches[0]:T;R=Math.round(X-P.left),H=Math.round(V-P.top)}if(F)q=Math.sqrt((2*P.width**2+P.height**2)/3),q%2===0&&(q+=1);else{const X=Math.max(Math.abs((z?z.clientWidth:0)-R),R)*2+2,V=Math.max(Math.abs((z?z.clientHeight:0)-H),H)*2+2;q=Math.sqrt(X**2+V**2)}T?.touches?y.current===null&&(y.current=()=>{b({pulsate:_,rippleX:R,rippleY:H,rippleSize:q,cb:O})},m.start(Xde,()=>{y.current&&(y.current(),y.current=null)})):b({pulsate:_,rippleX:R,rippleY:H,rippleSize:q,cb:O})},[s,b,m]),S=$.useCallback(()=>{w({},{pulsate:!0})},[w]),C=$.useCallback((T,N)=>{if(m.clear(),T?.type==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{C(T,N)});return}y.current=null,u(O=>O.length>0?O.slice(1):O),f.current=N},[m]);return $.useImperativeHandle(n,()=>({pulsate:S,start:w,stop:C}),[S,w,C]),D.jsx(Jde,{className:et(Co.root,i.root,a),ref:v,...o,children:D.jsx(MD,{component:null,exit:!0,children:l})})});function nfe(t){return Ut("MuiButtonBase",t)}const rfe=qt("MuiButtonBase",["root","disabled","focusVisible"]),sfe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,a=Vt({root:["root",e&&"disabled",n&&"focusVisible"]},nfe,s);return n&&r&&(a.root+=` ${r}`),a},ife=it("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${rfe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gm=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:f=!1,focusRipple:p=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:v,onClick:b,onContextMenu:w,onDragLeave:S,onFocus:C,onFocusVisible:T,onKeyDown:N,onKeyUp:O,onMouseDown:_,onMouseLeave:F,onMouseUp:L,onTouchEnd:z,onTouchMove:P,onTouchStart:R,tabIndex:H=0,TouchRippleProps:q,touchRippleRef:X,type:V,...ee}=r,J=$.useRef(null),te=Gde(),ce=ti(te.ref,X),[G,ne]=$.useState(!1);u&&G&&ne(!1),$.useImperativeHandle(s,()=>({focusVisible:()=>{ne(!0),J.current.focus()}}),[]);const ae=te.shouldMount&&!d&&!u;$.useEffect(()=>{G&&p&&!d&&te.pulsate()},[d,p,G,te]);const be=Qu(te,"start",_,f),$e=Qu(te,"stop",w,f),Ie=Qu(te,"stop",S,f),Me=Qu(te,"stop",L,f),st=Qu(te,"stop",pt=>{G&&pt.preventDefault(),F&&F(pt)},f),se=Qu(te,"start",R,f),je=Qu(te,"stop",z,f),Ge=Qu(te,"stop",P,f),Se=Qu(te,"stop",pt=>{e4(pt.target)||ne(!1),v&&v(pt)},!1),yt=Ch(pt=>{J.current||(J.current=pt.currentTarget),e4(pt.target)&&(ne(!0),T&&T(pt)),C&&C(pt)}),Qe=()=>{const pt=J.current;return l&&l!=="button"&&!(pt.tagName==="A"&&pt.href)},ut=Ch(pt=>{p&&!pt.repeat&&G&&pt.key===" "&&te.stop(pt,()=>{te.start(pt)}),pt.target===pt.currentTarget&&Qe()&&pt.key===" "&&pt.preventDefault(),N&&N(pt),pt.target===pt.currentTarget&&Qe()&&pt.key==="Enter"&&!u&&(pt.preventDefault(),b&&b(pt))}),kt=Ch(pt=>{p&&pt.key===" "&&G&&!pt.defaultPrevented&&te.stop(pt,()=>{te.pulsate(pt)}),O&&O(pt),b&&pt.target===pt.currentTarget&&Qe()&&pt.key===" "&&!pt.defaultPrevented&&b(pt)});let Dt=l;Dt==="button"&&(ee.href||ee.to)&&(Dt=y);const Ot={};if(Dt==="button"){const pt=!!ee.formAction;Ot.type=V===void 0&&!pt?"button":V,Ot.disabled=u}else!ee.href&&!ee.to&&(Ot.role="button"),u&&(Ot["aria-disabled"]=u);const fn=ti(n,J),Zt={...r,centerRipple:i,component:l,disabled:u,disableRipple:d,disableTouchRipple:f,focusRipple:p,tabIndex:H,focusVisible:G},Ht=sfe(Zt);return D.jsxs(ife,{as:Dt,className:et(Ht.root,o),ownerState:Zt,onBlur:Se,onClick:b,onContextMenu:$e,onFocus:yt,onKeyDown:ut,onKeyUp:kt,onMouseDown:be,onMouseLeave:st,onMouseUp:Me,onDragLeave:Ie,onTouchEnd:je,onTouchMove:Ge,onTouchStart:se,ref:fn,tabIndex:u?-1:H,type:V,...Ot,...ee,children:[a,ae?D.jsx(tfe,{ref:ce,center:i,...q}):null]})});function Qu(t,e,n,r=!1){return Ch(s=>(n&&n(s),r||t[e](s),!0))}function afe(t){return typeof t.main=="string"}function ofe(t,e=[]){if(!afe(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Gr(t=[]){return([,e])=>e&&ofe(e,t)}function lfe(t){return Ut("MuiAlert",t)}const t4=qt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function ufe(t){return Ut("MuiCircularProgress",t)}qt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const el=44,VA=Jd`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,WA=Jd`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,cfe=typeof VA!="string"?vg`
        animation: ${VA} 1.4s linear infinite;
      `:null,dfe=typeof WA!="string"?vg`
        animation: ${WA} 1.4s ease-in-out infinite;
      `:null,ffe=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,i={root:["root",n,`color${Je(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Je(n)}`,s&&"circleDisableShrink"]};return Vt(i,ufe,e)},hfe=it("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Je(n.color)}`]]}})(sn(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:cfe||{animation:`${VA} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),pfe=it("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),mfe=it("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Je(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(sn(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:dfe||{animation:`${WA} 1.4s ease-in-out infinite`}}]}))),gfe=it("circle",{name:"MuiCircularProgress",slot:"Track"})(sn(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),tf=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:a=!1,enableTrackSlot:o=!1,size:l=40,style:u,thickness:d=3.6,value:f=0,variant:p="indeterminate",...m}=r,y={...r,color:i,disableShrink:a,size:l,thickness:d,value:f,variant:p,enableTrackSlot:o},v=ffe(y),b={},w={},S={};if(p==="determinate"){const C=2*Math.PI*((el-d)/2);b.strokeDasharray=C.toFixed(3),S["aria-valuenow"]=Math.round(f),b.strokeDashoffset=`${((100-f)/100*C).toFixed(3)}px`,w.transform="rotate(-90deg)"}return D.jsx(hfe,{className:et(v.root,s),style:{width:l,height:l,...w,...u},ownerState:y,ref:n,role:"progressbar",...S,...m,children:D.jsxs(pfe,{className:v.svg,ownerState:y,viewBox:`${el/2} ${el/2} ${el} ${el}`,children:[o?D.jsx(gfe,{className:v.track,ownerState:y,cx:el,cy:el,r:(el-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,D.jsx(mfe,{className:v.circle,style:b,ownerState:y,cx:el,cy:el,r:(el-d)/2,fill:"none",strokeWidth:d})]})})});function yfe(t){return Ut("MuiIconButton",t)}const n4=qt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),vfe=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i,loading:a}=t,o={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${Je(r)}`,s&&`edge${Je(s)}`,`size${Je(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Vt(o,yfe,e)},bfe=it(Gm,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Je(n.color)}`],n.edge&&e[`edge${Je(n.edge)}`],e[`size${Je(n.size)}`]]}})(sn(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),sn(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${n4.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${n4.loading}`]:{color:"transparent"}}))),xfe=it("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Oh=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:a,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium",id:f,loading:p=null,loadingIndicator:m,...y}=r,v=xg(f),b=m??D.jsx(tf,{"aria-labelledby":v,color:"inherit",size:16}),w={...r,edge:s,color:o,disabled:l,disableFocusRipple:u,loading:p,loadingIndicator:b,size:d},S=vfe(w);return D.jsxs(bfe,{id:p?v:f,className:et(S.root,a),centerRipple:!0,focusRipple:!u,disabled:l||p,ref:n,...y,ownerState:w,children:[typeof p=="boolean"&&D.jsx("span",{className:S.loadingWrapper,style:{display:"contents"},children:D.jsx(xfe,{className:S.loadingIndicator,ownerState:w,children:p&&b})}),i]})}),wfe=zn(D.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),Sfe=zn(D.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Cfe=zn(D.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),kfe=zn(D.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Tfe=zn(D.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Efe=t=>{const{variant:e,color:n,severity:r,classes:s}=t,i={root:["root",`color${Je(n||r)}`,`${e}${Je(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Vt(i,lfe,s)},Nfe=it(ef,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Je(n.color||n.severity)}`]]}})(sn(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Gr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${t4.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Gr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${t4.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Gr(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),$fe=it("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ife=it("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),Afe=it("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),r4={success:D.jsx(wfe,{fontSize:"inherit"}),warning:D.jsx(Sfe,{fontSize:"inherit"}),error:D.jsx(Cfe,{fontSize:"inherit"}),info:D.jsx(kfe,{fontSize:"inherit"})},Li=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiAlert"}),{action:s,children:i,className:a,closeText:o="Close",color:l,components:u={},componentsProps:d={},icon:f,iconMapping:p=r4,onClose:m,role:y="alert",severity:v="success",slotProps:b={},slots:w={},variant:S="standard",...C}=r,T={...r,color:l,severity:v,variant:S,colorSeverity:l||v},N=Efe(T),O={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...w},slotProps:{...d,...b}},[_,F]=hn("root",{ref:n,shouldForwardComponentProp:!0,className:et(N.root,a),elementType:Nfe,externalForwardedProps:{...O,...C},ownerState:T,additionalProps:{role:y,elevation:0}}),[L,z]=hn("icon",{className:N.icon,elementType:$fe,externalForwardedProps:O,ownerState:T}),[P,R]=hn("message",{className:N.message,elementType:Ife,externalForwardedProps:O,ownerState:T}),[H,q]=hn("action",{className:N.action,elementType:Afe,externalForwardedProps:O,ownerState:T}),[X,V]=hn("closeButton",{elementType:Oh,externalForwardedProps:O,ownerState:T}),[ee,J]=hn("closeIcon",{elementType:Tfe,externalForwardedProps:O,ownerState:T});return D.jsxs(_,{...F,children:[f!==!1?D.jsx(L,{...z,children:f||p[v]||r4[v]}):null,D.jsx(P,{...R,children:i}),s!=null?D.jsx(H,{...q,children:s}):null,s==null&&m?D.jsx(H,{...q,children:D.jsx(X,{size:"small","aria-label":o,title:o,color:"inherit",onClick:m,...V,children:D.jsx(ee,{fontSize:"small",...J})})}):null]})});function Ofe(t){return Ut("MuiTypography",t)}const s4=qt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Rfe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Dfe=Cde(),_fe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:a}=t,o={root:["root",i,t.align!=="inherit"&&`align${Je(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return Vt(o,Ofe,a)},Pfe=it("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Je(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(sn(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Je(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),i4={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},rt=$.forwardRef(function(e,n){const{color:r,...s}=Wt({props:e,name:"MuiTypography"}),i=!Rfe[r],a=Dfe({...s,...i&&{color:r}}),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:f=!1,paragraph:p=!1,variant:m="body1",variantMapping:y=i4,...v}=a,b={...a,align:o,color:r,className:l,component:u,gutterBottom:d,noWrap:f,paragraph:p,variant:m,variantMapping:y},w=u||(p?"p":y[m]||i4[m])||"span",S=_fe(b);return D.jsx(Pfe,{as:w,ref:n,className:et(S.root,l),...v,ownerState:b,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...v.style}})});function Mfe(t){return Ut("MuiAppBar",t)}qt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Lfe=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${Je(e)}`,`position${Je(n)}`]};return Vt(s,Mfe,r)},a4=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,Ffe=it(ef,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Je(n.position)}`],e[`color${Je(n.color)}`]]}})(sn(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Gr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?a4(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?a4(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),g8=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:a=!1,position:o="fixed",...l}=r,u={...r,color:i,position:o,enableColorOnDark:a},d=Lfe(u);return D.jsx(Ffe,{square:!0,component:"header",ownerState:u,elevation:4,className:et(d.root,s,o==="fixed"&&"mui-fixed"),ref:n,...l})});function zfe(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...i}=t,a=s?{}:h8(n,r),{props:o,internalRef:l}=m8({...i,externalSlotProps:a}),u=ti(l,a?.ref,t.additionalProps?.ref);return f8(e,{...o,ref:u},r)}function Cg(t){return parseInt($.version,10)>=19?t?.props?.ref||null:t?.ref||null}function Bfe(t){return typeof t=="function"?t():t}const jfe=$.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[a,o]=$.useState(null),l=ti($.isValidElement(r)?Cg(r):null,n);if(hu(()=>{i||o(Bfe(s)||document.body)},[s,i]),hu(()=>{if(a&&!i)return Xj(n,a),()=>{Xj(n,null)}},[n,a,i]),i){if($.isValidElement(r)){const u={ref:l};return $.cloneElement(r,u)}return r}return a&&Lb.createPortal(r,a)}),Ufe=zn(D.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Vfe(t){return Ut("MuiChip",t)}const gn=qt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Wfe=t=>{const{classes:e,disabled:n,size:r,color:s,iconColor:i,onDelete:a,clickable:o,variant:l}=t,u={root:["root",l,n&&"disabled",`size${Je(r)}`,`color${Je(s)}`,o&&"clickable",o&&`clickableColor${Je(s)}`,a&&"deletable",a&&`deletableColor${Je(s)}`,`${l}${Je(s)}`],label:["label",`label${Je(r)}`],avatar:["avatar",`avatar${Je(r)}`,`avatarColor${Je(s)}`],icon:["icon",`icon${Je(r)}`,`iconColor${Je(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Je(r)}`,`deleteIconColor${Je(s)}`,`deleteIcon${Je(l)}Color${Je(s)}`]};return Vt(u,Vfe,e)},Hfe=it("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:s,clickable:i,onDelete:a,size:o,variant:l}=n;return[{[`& .${gn.avatar}`]:e.avatar},{[`& .${gn.avatar}`]:e[`avatar${Je(o)}`]},{[`& .${gn.avatar}`]:e[`avatarColor${Je(r)}`]},{[`& .${gn.icon}`]:e.icon},{[`& .${gn.icon}`]:e[`icon${Je(o)}`]},{[`& .${gn.icon}`]:e[`iconColor${Je(s)}`]},{[`& .${gn.deleteIcon}`]:e.deleteIcon},{[`& .${gn.deleteIcon}`]:e[`deleteIcon${Je(o)}`]},{[`& .${gn.deleteIcon}`]:e[`deleteIconColor${Je(r)}`]},{[`& .${gn.deleteIcon}`]:e[`deleteIcon${Je(l)}Color${Je(r)}`]},e.root,e[`size${Je(o)}`],e[`color${Je(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${Je(r)}`],a&&e.deletable,a&&r!=="default"&&e[`deletableColor${Je(r)}`],e[l],e[`${l}${Je(r)}`]]}})(sn(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${gn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${gn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${gn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${gn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${gn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${gn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${gn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${gn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${gn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Gr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${gn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${gn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${gn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${gn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(Gr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${gn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${gn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Gr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${gn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${gn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${gn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${gn.avatar}`]:{marginLeft:4},[`& .${gn.avatarSmall}`]:{marginLeft:2},[`& .${gn.icon}`]:{marginLeft:4},[`& .${gn.iconSmall}`]:{marginLeft:2},[`& .${gn.deleteIcon}`]:{marginRight:5},[`& .${gn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Gr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${gn.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${gn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${gn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),Gfe=it("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Je(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function o4(t){return t.key==="Backspace"||t.key==="Delete"}const Oo=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiChip"}),{avatar:s,className:i,clickable:a,color:o="default",component:l,deleteIcon:u,disabled:d=!1,icon:f,label:p,onClick:m,onDelete:y,onKeyDown:v,onKeyUp:b,size:w="medium",variant:S="filled",tabIndex:C,skipFocusWhenDisabled:T=!1,slots:N={},slotProps:O={},..._}=r,F=$.useRef(null),L=ti(F,n),z=Ie=>{Ie.stopPropagation(),y&&y(Ie)},P=Ie=>{Ie.currentTarget===Ie.target&&o4(Ie)&&Ie.preventDefault(),v&&v(Ie)},R=Ie=>{Ie.currentTarget===Ie.target&&y&&o4(Ie)&&y(Ie),b&&b(Ie)},H=a!==!1&&m?!0:a,q=H||y?Gm:l||"div",X={...r,component:q,disabled:d,size:w,color:o,iconColor:$.isValidElement(f)&&f.props.color||o,onDelete:!!y,clickable:H,variant:S},V=Wfe(X),ee=q===Gm?{component:l||"div",focusVisibleClassName:V.focusVisible,...y&&{disableRipple:!0}}:{};let J=null;y&&(J=u&&$.isValidElement(u)?$.cloneElement(u,{className:et(u.props.className,V.deleteIcon),onClick:z}):D.jsx(Ufe,{className:V.deleteIcon,onClick:z}));let te=null;s&&$.isValidElement(s)&&(te=$.cloneElement(s,{className:et(V.avatar,s.props.className)}));let ce=null;f&&$.isValidElement(f)&&(ce=$.cloneElement(f,{className:et(V.icon,f.props.className)}));const G={slots:N,slotProps:O},[ne,ae]=hn("root",{elementType:Hfe,externalForwardedProps:{...G,..._},ownerState:X,shouldForwardComponentProp:!0,ref:L,className:et(V.root,i),additionalProps:{disabled:H&&d?!0:void 0,tabIndex:T&&d?-1:C,...ee},getSlotProps:Ie=>({...Ie,onClick:Me=>{Ie.onClick?.(Me),m?.(Me)},onKeyDown:Me=>{Ie.onKeyDown?.(Me),P(Me)},onKeyUp:Me=>{Ie.onKeyUp?.(Me),R(Me)}})}),[be,$e]=hn("label",{elementType:Gfe,externalForwardedProps:G,ownerState:X,className:V.label});return D.jsxs(ne,{as:q,...ae,children:[te||ce,D.jsx(be,{...$e,children:p}),J]})});function J1(t){return parseInt(t,10)||0}const qfe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Kfe(t){for(const e in t)return!1;return!0}function l4(t){return Kfe(t)||t.outerHeightStyle===0&&!t.overflowing}const Xfe=$.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:i=1,style:a,value:o,...l}=e,{current:u}=$.useRef(o!=null),d=$.useRef(null),f=ti(n,d),p=$.useRef(null),m=$.useRef(null),y=$.useCallback(()=>{const C=d.current,T=m.current;if(!C||!T)return;const O=ml(C).getComputedStyle(C);if(O.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=O.width,T.value=C.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const _=O.boxSizing,F=J1(O.paddingBottom)+J1(O.paddingTop),L=J1(O.borderBottomWidth)+J1(O.borderTopWidth),z=T.scrollHeight;T.value="x";const P=T.scrollHeight;let R=z;i&&(R=Math.max(Number(i)*P,R)),s&&(R=Math.min(Number(s)*P,R)),R=Math.max(R,P);const H=R+(_==="border-box"?F+L:0),q=Math.abs(R-z)<=1;return{outerHeightStyle:H,overflowing:q}},[s,i,e.placeholder]),v=Ch(()=>{const C=d.current,T=y();if(!C||!T||l4(T))return!1;const N=T.outerHeightStyle;return p.current!=null&&p.current!==N}),b=$.useCallback(()=>{const C=d.current,T=y();if(!C||!T||l4(T))return;const N=T.outerHeightStyle;p.current!==N&&(p.current=N,C.style.height=`${N}px`),C.style.overflow=T.overflowing?"hidden":""},[y]),w=$.useRef(-1);hu(()=>{const C=_D(b),T=d?.current;if(!T)return;const N=ml(T);N.addEventListener("resize",C);let O;return typeof ResizeObserver<"u"&&(O=new ResizeObserver(()=>{v()&&(O.unobserve(T),cancelAnimationFrame(w.current),b(),w.current=requestAnimationFrame(()=>{O.observe(T)}))}),O.observe(T)),()=>{C.clear(),cancelAnimationFrame(w.current),N.removeEventListener("resize",C),O&&O.disconnect()}},[y,b,v]),hu(()=>{b()});const S=C=>{u||b();const T=C.target,N=T.value.length,O=T.value.endsWith(`
`),_=T.selectionStart===N;O&&_&&T.setSelectionRange(N,N),r&&r(C)};return D.jsxs($.Fragment,{children:[D.jsx("textarea",{value:o,onChange:S,ref:f,rows:i,style:a,...l}),D.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:{...qfe.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function kg({props:t,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=t[s],n&&typeof t[s]>"u"&&(r[s]=n[s]),r),{})}const hk=$.createContext(void 0);function np(){return $.useContext(hk)}function u4(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function bS(t,e=!1){return t&&(u4(t.value)&&t.value!==""||e&&u4(t.defaultValue)&&t.defaultValue!=="")}function Yfe(t){return t.startAdornment}function Zfe(t){return Ut("MuiInputBase",t)}const qm=qt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var c4;const pk=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Je(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},mk=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Qfe=t=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:i,focused:a,formControl:o,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:f,size:p,startAdornment:m,type:y}=t,v={root:["root",`color${Je(n)}`,r&&"disabled",s&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",p&&p!=="medium"&&`size${Je(p)}`,d&&"multiline",m&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",d&&"inputMultiline",p==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return Vt(v,Zfe,e)},gk=it("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pk})(sn(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${qm.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),yk=it("input",{name:"MuiInputBase",slot:"Input",overridesResolver:mk})(sn(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${qm.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${qm.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),d4=DD({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),zD=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:i,autoFocus:a,className:o,color:l,components:u={},componentsProps:d={},defaultValue:f,disabled:p,disableInjectingGlobalStyles:m,endAdornment:y,error:v,fullWidth:b=!1,id:w,inputComponent:S="input",inputProps:C={},inputRef:T,margin:N,maxRows:O,minRows:_,multiline:F=!1,name:L,onBlur:z,onChange:P,onClick:R,onFocus:H,onKeyDown:q,onKeyUp:X,placeholder:V,readOnly:ee,renderSuffix:J,rows:te,size:ce,slotProps:G={},slots:ne={},startAdornment:ae,type:be="text",value:$e,...Ie}=r,Me=C.value!=null?C.value:$e,{current:st}=$.useRef(Me!=null),se=$.useRef(),je=$.useCallback(vn=>{},[]),Ge=ti(se,T,C.ref,je),[Se,yt]=$.useState(!1),Qe=np(),ut=kg({props:r,muiFormControl:Qe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ut.focused=Qe?Qe.focused:Se,$.useEffect(()=>{!Qe&&p&&Se&&(yt(!1),z&&z())},[Qe,p,Se,z]);const kt=Qe&&Qe.onFilled,Dt=Qe&&Qe.onEmpty,Ot=$.useCallback(vn=>{bS(vn)?kt&&kt():Dt&&Dt()},[kt,Dt]);hu(()=>{st&&Ot({value:Me})},[Me,Ot,st]);const fn=vn=>{H&&H(vn),C.onFocus&&C.onFocus(vn),Qe&&Qe.onFocus?Qe.onFocus(vn):yt(!0)},Zt=vn=>{z&&z(vn),C.onBlur&&C.onBlur(vn),Qe&&Qe.onBlur?Qe.onBlur(vn):yt(!1)},Ht=(vn,...es)=>{if(!st){const Br=vn.target||se.current;if(Br==null)throw new Error(mc(1));Ot({value:Br.value})}C.onChange&&C.onChange(vn,...es),P&&P(vn,...es)};$.useEffect(()=>{Ot(se.current)},[]);const pt=vn=>{se.current&&vn.currentTarget===vn.target&&se.current.focus(),R&&R(vn)};let fr=S,Lt=C;F&&fr==="input"&&(te?Lt={type:void 0,minRows:te,maxRows:te,...Lt}:Lt={type:void 0,maxRows:O,minRows:_,...Lt},fr=Xfe);const hr=vn=>{Ot(vn.animationName==="mui-auto-fill-cancel"?se.current:{value:"x"})};$.useEffect(()=>{Qe&&Qe.setAdornedStart(!!ae)},[Qe,ae]);const an={...r,color:ut.color||"primary",disabled:ut.disabled,endAdornment:y,error:ut.error,focused:ut.focused,formControl:Qe,fullWidth:b,hiddenLabel:ut.hiddenLabel,multiline:F,size:ut.size,startAdornment:ae,type:be},Bt=Qfe(an),kn=ne.root||u.Root||gk,_n=G.root||d.root||{},Jr=ne.input||u.Input||yk;return Lt={...Lt,...G.input??d.input},D.jsxs($.Fragment,{children:[!m&&typeof d4=="function"&&(c4||(c4=D.jsx(d4,{}))),D.jsxs(kn,{..._n,ref:n,onClick:pt,...Ie,...!Hm(kn)&&{ownerState:{...an,..._n.ownerState}},className:et(Bt.root,_n.className,o,ee&&"MuiInputBase-readOnly"),children:[ae,D.jsx(hk.Provider,{value:null,children:D.jsx(Jr,{"aria-invalid":ut.error,"aria-describedby":s,autoComplete:i,autoFocus:a,defaultValue:f,disabled:ut.disabled,id:w,onAnimationStart:hr,name:L,placeholder:V,readOnly:ee,required:ut.required,rows:te,value:Me,onKeyDown:q,onKeyUp:X,type:be,...Lt,...!Hm(Jr)&&{as:fr,ownerState:{...an,...Lt.ownerState}},ref:Ge,className:et(Bt.input,Lt.className,ee&&"MuiInputBase-readOnly"),onBlur:Zt,onChange:Ht,onFocus:fn})}),y,J?J({...ut,startAdornment:ae}):null]})]})});function Jfe(t){return Ut("MuiInput",t)}const iv={...qm,...qt("MuiInput",["root","underline","input"])};function ehe(t){return Ut("MuiOutlinedInput",t)}const jl={...qm,...qt("MuiOutlinedInput",["root","notchedOutline","input"])};function the(t){return Ut("MuiFilledInput",t)}const Zf={...qm,...qt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},nhe=zn(D.jsx("path",{d:"M7 10l5 5 5-5z"})),rhe=zn(D.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function she(t){return Ut("MuiAvatar",t)}qt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const ihe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Vt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},she,e)},ahe=it("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(sn(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),ohe=it("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lhe=it(rhe,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function uhe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[s,i]=$.useState(!1);return $.useEffect(()=>{if(!n&&!r)return;i(!1);let a=!0;const o=new Image;return o.onload=()=>{a&&i("loaded")},o.onerror=()=>{a&&i("error")},o.crossOrigin=t,o.referrerPolicy=e,o.src=n,r&&(o.srcset=r),()=>{a=!1}},[t,e,n,r]),s}const g$=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiAvatar"}),{alt:s,children:i,className:a,component:o="div",slots:l={},slotProps:u={},imgProps:d,sizes:f,src:p,srcSet:m,variant:y="circular",...v}=r;let b=null;const w={...r,component:o,variant:y},S=uhe({...d,...typeof u.img=="function"?u.img(w):u.img,src:p,srcSet:m}),C=p||m,T=C&&S!=="error";w.colorDefault=!T,delete w.ownerState;const N=ihe(w),[O,_]=hn("root",{ref:n,className:et(N.root,a),elementType:ahe,externalForwardedProps:{slots:l,slotProps:u,component:o,...v},ownerState:w}),[F,L]=hn("img",{className:N.img,elementType:ohe,externalForwardedProps:{slots:l,slotProps:{img:{...d,...u.img}}},additionalProps:{alt:s,src:p,srcSet:m,sizes:f},ownerState:w}),[z,P]=hn("fallback",{className:N.fallback,elementType:lhe,externalForwardedProps:{slots:l,slotProps:u},shouldForwardComponentProp:!0,ownerState:w});return T?b=D.jsx(F,{...L}):i||i===0?b=i:C&&s?b=s[0]:b=D.jsx(z,{...P}),D.jsx(O,{..._,children:b})}),che={entering:{opacity:1},entered:{opacity:1}},HA=$.forwardRef(function(e,n){const r=Sg(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:o,easing:l,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:m,onExited:y,onExiting:v,style:b,timeout:w=s,TransitionComponent:S=wl,...C}=e,T=$.useRef(null),N=ti(T,Cg(o),n),O=q=>X=>{if(q){const V=T.current;X===void 0?q(V):q(V,X)}},_=O(p),F=O((q,X)=>{FD(q);const V=Wm({style:b,timeout:w,easing:l},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",V),q.style.transition=r.transitions.create("opacity",V),d&&d(q,X)}),L=O(f),z=O(v),P=O(q=>{const X=Wm({style:b,timeout:w,easing:l},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",X),q.style.transition=r.transitions.create("opacity",X),m&&m(q)}),R=O(y),H=q=>{i&&i(T.current,q)};return D.jsx(S,{appear:a,in:u,nodeRef:T,onEnter:F,onEntered:L,onEntering:_,onExit:P,onExited:R,onExiting:z,addEndListener:H,timeout:w,...C,children:(q,{ownerState:X,...V})=>$.cloneElement(o,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...che[q],...b,...o.props.style},ref:N,...V})})});function dhe(t){return Ut("MuiBackdrop",t)}qt("MuiBackdrop",["root","invisible"]);const fhe=t=>{const{classes:e,invisible:n}=t;return Vt({root:["root",n&&"invisible"]},dhe,e)},hhe=it("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),y8=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiBackdrop"}),{children:s,className:i,component:a="div",invisible:o=!1,open:l,components:u={},componentsProps:d={},slotProps:f={},slots:p={},TransitionComponent:m,transitionDuration:y,...v}=r,b={...r,component:a,invisible:o},w=fhe(b),S={transition:m,root:u.Root,...p},C={...d,...f},T={component:a,slots:S,slotProps:C},[N,O]=hn("root",{elementType:hhe,externalForwardedProps:T,className:et(w.root,i),ownerState:b}),[_,F]=hn("transition",{elementType:HA,externalForwardedProps:T,ownerState:b});return D.jsx(_,{in:l,timeout:y,...v,...F,children:D.jsx(N,{"aria-hidden":!0,...O,classes:w,ref:n,children:s})})});function phe(t){return Ut("MuiBottomNavigation",t)}qt("MuiBottomNavigation",["root"]);const mhe=t=>{const{classes:e}=t;return Vt({root:["root"]},phe,e)},ghe=it("div",{name:"MuiBottomNavigation",slot:"Root"})(sn(({theme:t})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper}))),yhe=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiBottomNavigation"}),{children:s,className:i,component:a="div",onChange:o,showLabels:l=!1,value:u,...d}=r,f={...r,component:a,showLabels:l},p=mhe(f);return D.jsx(ghe,{as:a,className:et(p.root,i),ref:n,ownerState:f,...d,children:$.Children.map(s,(m,y)=>{if(!$.isValidElement(m))return null;const v=m.props.value===void 0?y:m.props.value;return $.cloneElement(m,{selected:v===u,showLabel:m.props.showLabel!==void 0?m.props.showLabel:l,value:v,onChange:o})})})});function vhe(t){return Ut("MuiBottomNavigationAction",t)}const v8=qt("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),bhe=t=>{const{classes:e,showLabel:n,selected:r}=t;return Vt({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},vhe,e)},xhe=it(Gm,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.showLabel&&!n.selected&&e.iconOnly]}})(sn(({theme:t})=>({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1",[`&.${v8.selected}`]:{color:(t.vars||t).palette.primary.main},variants:[{props:({showLabel:e,selected:n})=>!e&&!n,style:{paddingTop:14}},{props:({showLabel:e,selected:n,label:r})=>!e&&!n&&!r,style:{paddingTop:0}}]}))),whe=it("span",{name:"MuiBottomNavigationAction",slot:"Label"})(sn(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s",[`&.${v8.selected}`]:{fontSize:t.typography.pxToRem(14)},variants:[{props:({showLabel:e,selected:n})=>!e&&!n,style:{opacity:0,transitionDelay:"0s"}}]}))),She=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiBottomNavigationAction"}),{className:s,icon:i,label:a,onChange:o,onClick:l,selected:u,showLabel:d,value:f,slots:p={},slotProps:m={},...y}=r,v=r,b=bhe(v),w=_=>{o&&o(_,f),l&&l(_)},S={slots:p,slotProps:m},[C,T]=hn("root",{elementType:xhe,externalForwardedProps:{...S,...y},shouldForwardComponentProp:!0,ownerState:v,ref:n,className:et(b.root,s),additionalProps:{focusRipple:!0},getSlotProps:_=>({..._,onClick:F=>{_.onClick?.(F),w(F)}})}),[N,O]=hn("label",{elementType:whe,externalForwardedProps:S,ownerState:v,className:b.label});return D.jsxs(C,{...T,children:[i,D.jsx(N,{...O,children:a})]})}),Che=qt("MuiBox",["root"]),khe=fk(),$n=Eue({themeId:nu,defaultTheme:khe,defaultClassName:Che.root,generateClassName:jq.generate});function The(t){return Ut("MuiButton",t)}const Qf=qt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Ehe=$.createContext({}),Nhe=$.createContext(void 0),$he=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,loading:a,loadingPosition:o,classes:l}=t,u={root:["root",a&&"loading",i,`${i}${Je(e)}`,`size${Je(s)}`,`${i}Size${Je(s)}`,`color${Je(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${Je(o)}`],startIcon:["icon","startIcon",`iconSize${Je(s)}`],endIcon:["icon","endIcon",`iconSize${Je(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Vt(u,The,l);return{...l,...d}},b8=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Ihe=it(Gm,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Je(n.color)}`],e[`size${Je(n.size)}`],e[`${n.variant}Size${Je(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(sn(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Qf.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Qf.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Qf.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Qf.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Gr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Qf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Qf.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Qf.loading}`]:{color:"transparent"}}}]}})),Ahe=it("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Je(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...b8]})),Ohe=it("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Je(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...b8]})),Rhe=it("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),f4=it("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),_i=$.forwardRef(function(e,n){const r=$.useContext(Ehe),s=$.useContext(Nhe),i=Yv(r,e),a=Wt({props:i,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:d,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:v,fullWidth:b=!1,id:w,loading:S=null,loadingIndicator:C,loadingPosition:T="center",size:N="medium",startIcon:O,type:_,variant:F="text",...L}=a,z=xg(w),P=C??D.jsx(tf,{"aria-labelledby":z,color:"inherit",size:16}),R={...a,color:l,component:u,disabled:f,disableElevation:p,disableFocusRipple:m,fullWidth:b,loading:S,loadingIndicator:P,loadingPosition:T,size:N,type:_,variant:F},H=$he(R),q=(O||S&&T==="start")&&D.jsx(Ahe,{className:H.startIcon,ownerState:R,children:O||D.jsx(f4,{className:H.loadingIconPlaceholder,ownerState:R})}),X=(y||S&&T==="end")&&D.jsx(Ohe,{className:H.endIcon,ownerState:R,children:y||D.jsx(f4,{className:H.loadingIconPlaceholder,ownerState:R})}),V=s||"",ee=typeof S=="boolean"?D.jsx("span",{className:H.loadingWrapper,style:{display:"contents"},children:S&&D.jsx(Rhe,{className:H.loadingIndicator,ownerState:R,children:P})}):null;return D.jsxs(Ihe,{ownerState:R,className:et(r.className,H.root,d,V),component:u,disabled:f||S,focusRipple:!m,focusVisibleClassName:et(H.focusVisible,v),ref:n,type:_,id:S?z:w,...L,classes:H,children:[q,T!=="end"&&ee,o,T==="end"&&ee,X]})});function Dhe(t){return Ut("MuiCard",t)}qt("MuiCard",["root"]);const _he=t=>{const{classes:e}=t;return Vt({root:["root"]},Dhe,e)},Phe=it(ef,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Ar=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiCard"}),{className:s,raised:i=!1,...a}=r,o={...r,raised:i},l=_he(o);return D.jsx(Phe,{className:et(l.root,s),elevation:i?8:void 0,ref:n,ownerState:o,...a})});function Mhe(t){return Ut("MuiCardActions",t)}qt("MuiCardActions",["root","spacing"]);const Lhe=t=>{const{classes:e,disableSpacing:n}=t;return Vt({root:["root",!n&&"spacing"]},Mhe,e)},Fhe=it("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),GA=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i,...a}=r,o={...r,disableSpacing:s},l=Lhe(o);return D.jsx(Fhe,{className:et(l.root,i),ownerState:o,ref:n,...a})});function zhe(t){return Ut("MuiCardContent",t)}qt("MuiCardContent",["root"]);const Bhe=t=>{const{classes:e}=t;return Vt({root:["root"]},zhe,e)},jhe=it("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),qr=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiCardContent"}),{className:s,component:i="div",...a}=r,o={...r,component:i},l=Bhe(o);return D.jsx(jhe,{as:i,className:et(l.root,s),ownerState:o,ref:n,...a})});function Uhe(t){return Ut("MuiCardMedia",t)}qt("MuiCardMedia",["root","media","img"]);const Vhe=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Vt({root:["root",n&&"media",r&&"img"]},Uhe,e)},Whe=it("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:s}=n;return[e.root,r&&e.media,s&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),Hhe=["video","audio","picture","iframe","img"],Ghe=["picture","img"],qA=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiCardMedia"}),{children:s,className:i,component:a="div",image:o,src:l,style:u,...d}=r,f=Hhe.includes(a),p=!f&&o?{backgroundImage:`url("${o}")`,...u}:u,m={...r,component:a,isMediaComponent:f,isImageComponent:Ghe.includes(a)},y=Vhe(m);return D.jsx(Whe,{className:et(y.root,i),as:a,role:!f&&o?"img":void 0,ref:n,style:p,ownerState:m,src:f?o||l:void 0,...d,children:s})}),x8=gce({createStyledComponent:it("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Je(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Wt({props:t,name:"MuiContainer"})});function w8(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function qhe(t){const e=pl(t);return e.body===t?ml(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Bv(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function h4(t){return parseInt(ml(t).getComputedStyle(t).paddingRight,10)||0}function Khe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function p4(t,e,n,r,s){const i=[e,n,...r];[].forEach.call(t.children,a=>{const o=!i.includes(a),l=!Khe(a);o&&l&&Bv(a,s)})}function y$(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function Xhe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(qhe(r)){const a=w8(ml(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${h4(r)+a}px`;const o=pl(r).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${h4(l)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=pl(r).body;else{const a=r.parentElement,o=ml(r);i=a?.nodeName==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:o})=>{i?a.style.setProperty(o,i):a.style.removeProperty(o)})}}function Yhe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Zhe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Bv(e.modalRef,!1);const s=Yhe(n);p4(n,e.mount,e.modalRef,s,!0);const i=y$(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=y$(this.containers,i=>i.modals.includes(e)),s=this.containers[r];s.restore||(s.restore=Xhe(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=y$(this.containers,a=>a.modals.includes(e)),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Bv(e.modalRef,n),p4(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&Bv(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function $v(t){let e=t.activeElement;for(;e?.shadowRoot?.activeElement!=null;)e=e.shadowRoot.activeElement;return e}const Qhe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Jhe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function epe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function tpe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||epe(t))}function npe(t){const e=[],n=[];return Array.from(t.querySelectorAll(Qhe)).forEach((r,s)=>{const i=Jhe(r);i===-1||!tpe(r)||(i===0?e.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function rpe(){return!0}function spe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=npe,isEnabled:a=rpe,open:o}=t,l=$.useRef(!1),u=$.useRef(null),d=$.useRef(null),f=$.useRef(null),p=$.useRef(null),m=$.useRef(!1),y=$.useRef(null),v=ti(Cg(e),y),b=$.useRef(null);$.useEffect(()=>{!o||!y.current||(m.current=!n)},[n,o]),$.useEffect(()=>{if(!o||!y.current)return;const C=pl(y.current),T=$v(C);return y.current.contains(T)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{s||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[o]),$.useEffect(()=>{if(!o||!y.current)return;const C=pl(y.current),T=$v(C),N=F=>{b.current=F,!(r||!a()||F.key!=="Tab")&&T===y.current&&F.shiftKey&&(l.current=!0,d.current&&d.current.focus())},O=()=>{const F=y.current;if(F===null)return;const L=$v(C);if(!C.hasFocus()||!a()||l.current){l.current=!1;return}if(F.contains(L)||r&&L!==u.current&&L!==d.current)return;if(L!==p.current)p.current=null;else if(p.current!==null)return;if(!m.current)return;let z=[];if((L===u.current||L===d.current)&&(z=i(y.current)),z.length>0){const P=!!(b.current?.shiftKey&&b.current?.key==="Tab"),R=z[0],H=z[z.length-1];typeof R!="string"&&typeof H!="string"&&(P?H.focus():R.focus())}else F.focus()};C.addEventListener("focusin",O),C.addEventListener("keydown",N,!0);const _=setInterval(()=>{const F=$v(C);F&&F.tagName==="BODY"&&O()},50);return()=>{clearInterval(_),C.removeEventListener("focusin",O),C.removeEventListener("keydown",N,!0)}},[n,r,s,a,o,i]);const w=C=>{f.current===null&&(f.current=C.relatedTarget),m.current=!0,p.current=C.target;const T=e.props.onFocus;T&&T(C)},S=C=>{f.current===null&&(f.current=C.relatedTarget),m.current=!0};return D.jsxs($.Fragment,{children:[D.jsx("div",{tabIndex:o?0:-1,onFocus:S,ref:u,"data-testid":"sentinelStart"}),$.cloneElement(e,{ref:v,onFocus:w}),D.jsx("div",{tabIndex:o?0:-1,onFocus:S,ref:d,"data-testid":"sentinelEnd"})]})}function ipe(t){return typeof t=="function"?t():t}function ape(t){return t?t.props.hasOwnProperty("in"):!1}const m4=()=>{},ew=new Zhe;function ope(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:i,onTransitionExited:a,children:o,onClose:l,open:u,rootRef:d}=t,f=$.useRef({}),p=$.useRef(null),m=$.useRef(null),y=ti(m,d),[v,b]=$.useState(!u),w=ape(o);let S=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(S=!1);const C=()=>pl(p.current),T=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),N=()=>{ew.mount(T(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},O=Ch(()=>{const X=ipe(e)||C().body;ew.add(T(),X),m.current&&N()}),_=()=>ew.isTopModal(T()),F=Ch(X=>{p.current=X,X&&(u&&_()?N():m.current&&Bv(m.current,S))}),L=$.useCallback(()=>{ew.remove(T(),S)},[S]);$.useEffect(()=>()=>{L()},[L]),$.useEffect(()=>{u?O():(!w||!s)&&L()},[u,L,w,s,O]);const z=X=>V=>{X.onKeyDown?.(V),!(V.key!=="Escape"||V.which===229||!_())&&(n||(V.stopPropagation(),l&&l(V,"escapeKeyDown")))},P=X=>V=>{X.onClick?.(V),V.target===V.currentTarget&&l&&l(V,"backdropClick")};return{getRootProps:(X={})=>{const V=p8(t);delete V.onTransitionEnter,delete V.onTransitionExited;const ee={...V,...X};return{role:"presentation",...ee,onKeyDown:z(ee),ref:y}},getBackdropProps:(X={})=>{const V=X;return{"aria-hidden":!0,...V,onClick:P(V),open:u}},getTransitionProps:()=>{const X=()=>{b(!1),i&&i()},V=()=>{b(!0),a&&a(),s&&L()};return{onEnter:Kj(X,o?.props.onEnter??m4),onExited:Kj(V,o?.props.onExited??m4)}},rootRef:y,portalRef:F,isTopModal:_,exited:v,hasTransition:w}}function lpe(t){return Ut("MuiModal",t)}qt("MuiModal",["root","hidden","backdrop"]);const upe=t=>{const{open:e,exited:n,classes:r}=t;return Vt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},lpe,r)},cpe=it("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(sn(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),dpe=it(y8,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),S8=$.forwardRef(function(e,n){const r=Wt({name:"MuiModal",props:e}),{BackdropComponent:s=dpe,BackdropProps:i,classes:a,className:o,closeAfterTransition:l=!1,children:u,container:d,component:f,components:p={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:b=!1,disablePortal:w=!1,disableRestoreFocus:S=!1,disableScrollLock:C=!1,hideBackdrop:T=!1,keepMounted:N=!1,onClose:O,onTransitionEnter:_,onTransitionExited:F,open:L,slotProps:z={},slots:P={},theme:R,...H}=r,q={...r,closeAfterTransition:l,disableAutoFocus:y,disableEnforceFocus:v,disableEscapeKeyDown:b,disablePortal:w,disableRestoreFocus:S,disableScrollLock:C,hideBackdrop:T,keepMounted:N},{getRootProps:X,getBackdropProps:V,getTransitionProps:ee,portalRef:J,isTopModal:te,exited:ce,hasTransition:G}=ope({...q,rootRef:n}),ne={...q,exited:ce},ae=upe(ne),be={};if(u.props.tabIndex===void 0&&(be.tabIndex="-1"),G){const{onEnter:je,onExited:Ge}=ee();be.onEnter=je,be.onExited=Ge}const $e={slots:{root:p.Root,backdrop:p.Backdrop,...P},slotProps:{...m,...z}},[Ie,Me]=hn("root",{ref:n,elementType:cpe,externalForwardedProps:{...$e,...H,component:f},getSlotProps:X,ownerState:ne,className:et(o,ae?.root,!ne.open&&ne.exited&&ae?.hidden)}),[st,se]=hn("backdrop",{ref:i?.ref,elementType:s,externalForwardedProps:$e,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:je=>V({...je,onClick:Ge=>{je?.onClick&&je.onClick(Ge)}}),className:et(i?.className,ae?.backdrop),ownerState:ne});return!N&&!L&&(!G||ce)?null:D.jsx(jfe,{ref:J,container:d,disablePortal:w,children:D.jsxs(Ie,{...Me,children:[!T&&s?D.jsx(st,{...se}):null,D.jsx(spe,{disableEnforceFocus:v,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:te,open:L,children:$.cloneElement(u,be)})]})})});function fpe(t){return Ut("MuiDialog",t)}const v$=qt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),hpe=$.createContext({}),ppe=it(y8,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),mpe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=t,a={root:["root"],container:["container",`scroll${Je(n)}`],paper:["paper",`paperScroll${Je(n)}`,`paperWidth${Je(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return Vt(a,fpe,e)},gpe=it(S8,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),ype=it("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Je(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),vpe=it(ef,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Je(n.scroll)}`],e[`paperWidth${Je(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(sn(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${v$.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${v$.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${v$.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),bpe=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiDialog"}),s=Sg(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:d,children:f,className:p,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:v=!1,maxWidth:b="sm",onClick:w,onClose:S,open:C,PaperComponent:T=ef,PaperProps:N={},scroll:O="paper",slots:_={},slotProps:F={},TransitionComponent:L=HA,transitionDuration:z=i,TransitionProps:P,...R}=r,H={...r,disableEscapeKeyDown:m,fullScreen:y,fullWidth:v,maxWidth:b,scroll:O},q=mpe(H),X=$.useRef(),V=yt=>{X.current=yt.target===yt.currentTarget},ee=yt=>{w&&w(yt),X.current&&(X.current=null,S&&S(yt,"backdropClick"))},J=xg(o),te=$.useMemo(()=>({titleId:J}),[J]),ce={transition:L,..._},G={transition:P,paper:N,backdrop:d,...F},ne={slots:ce,slotProps:G},[ae,be]=hn("root",{elementType:gpe,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:H,className:et(q.root,p),ref:n}),[$e,Ie]=hn("backdrop",{elementType:ppe,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:H}),[Me,st]=hn("paper",{elementType:vpe,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:H,className:et(q.paper,N.className)}),[se,je]=hn("container",{elementType:ype,externalForwardedProps:ne,ownerState:H,className:q.container}),[Ge,Se]=hn("transition",{elementType:HA,externalForwardedProps:ne,ownerState:H,additionalProps:{appear:!0,in:C,timeout:z,role:"presentation"}});return D.jsx(ae,{closeAfterTransition:!0,slots:{backdrop:$e},slotProps:{backdrop:{transitionDuration:z,as:u,...Ie}},disableEscapeKeyDown:m,onClose:S,open:C,onClick:ee,...be,...R,children:D.jsx(Ge,{...Se,children:D.jsx(se,{onMouseDown:V,...je,children:D.jsx(Me,{as:T,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":J,"aria-modal":l,...st,children:D.jsx(hpe.Provider,{value:te,children:f})})})})})});function xpe(t){return Ut("MuiDivider",t)}const g4=qt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),wpe=t=>{const{absolute:e,children:n,classes:r,flexItem:s,light:i,orientation:a,textAlign:o,variant:l}=t;return Vt({root:["root",e&&"absolute",l,i&&"light",a==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},xpe,r)},Spe=it("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(sn(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Cpe=it("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(sn(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),gc=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiDivider"}),{absolute:s=!1,children:i,className:a,orientation:o="horizontal",component:l=i||o==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:f=l!=="hr"?"separator":void 0,textAlign:p="center",variant:m="fullWidth",...y}=r,v={...r,absolute:s,component:l,flexItem:u,light:d,orientation:o,role:f,textAlign:p,variant:m},b=wpe(v);return D.jsx(Spe,{as:l,className:et(b.root,a),role:f,ref:n,ownerState:v,"aria-orientation":f==="separator"&&(l!=="hr"||o==="vertical")?o:void 0,...y,children:i?D.jsx(Cpe,{className:b.wrapper,ownerState:v,children:i}):null})});gc&&(gc.muiSkipListHighlight=!0);function kpe(t,e,n){const r=e.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),i=ml(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=i.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?s?`translateX(${s.right+o-r.left}px)`:`translateX(${i.innerWidth+o-r.left}px)`:t==="right"?s?`translateX(-${r.right-s.left-o}px)`:`translateX(-${r.left+r.width-o}px)`:t==="up"?s?`translateY(${s.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function Tpe(t){return typeof t=="function"?t():t}function tw(t,e,n){const r=Tpe(n),s=kpe(t,e,r);s&&(e.style.webkitTransform=s,e.style.transform=s)}const C8=$.forwardRef(function(e,n){const r=Sg(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:u,direction:d="down",easing:f=s,in:p,onEnter:m,onEntered:y,onEntering:v,onExit:b,onExited:w,onExiting:S,style:C,timeout:T=i,TransitionComponent:N=wl,...O}=e,_=$.useRef(null),F=ti(Cg(l),_,n),L=J=>te=>{J&&(te===void 0?J(_.current):J(_.current,te))},z=L((J,te)=>{tw(d,J,u),FD(J),m&&m(J,te)}),P=L((J,te)=>{const ce=Wm({timeout:T,style:C,easing:f},{mode:"enter"});J.style.webkitTransition=r.transitions.create("-webkit-transform",{...ce}),J.style.transition=r.transitions.create("transform",{...ce}),J.style.webkitTransform="none",J.style.transform="none",v&&v(J,te)}),R=L(y),H=L(S),q=L(J=>{const te=Wm({timeout:T,style:C,easing:f},{mode:"exit"});J.style.webkitTransition=r.transitions.create("-webkit-transform",te),J.style.transition=r.transitions.create("transform",te),tw(d,J,u),b&&b(J)}),X=L(J=>{J.style.webkitTransition="",J.style.transition="",w&&w(J)}),V=J=>{a&&a(_.current,J)},ee=$.useCallback(()=>{_.current&&tw(d,_.current,u)},[d,u]);return $.useEffect(()=>{if(p||d==="down"||d==="right")return;const J=_D(()=>{_.current&&tw(d,_.current,u)}),te=ml(_.current);return te.addEventListener("resize",J),()=>{J.clear(),te.removeEventListener("resize",J)}},[d,p,u]),$.useEffect(()=>{p||ee()},[p,ee]),D.jsx(N,{nodeRef:_,onEnter:z,onEntered:R,onEntering:P,onExit:q,onExited:X,onExiting:H,addEndListener:V,appear:o,in:p,timeout:T,...O,children:(J,{ownerState:te,...ce})=>$.cloneElement(l,{ref:F,style:{visibility:J==="exited"&&!p?"hidden":void 0,...C,...l.props.style},...ce})})}),Epe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:s,size:i,hiddenLabel:a,multiline:o}=t,l={root:["root",!n&&"underline",r&&"adornedStart",s&&"adornedEnd",i==="small"&&`size${Je(i)}`,a&&"hiddenLabel",o&&"multiline"],input:["input"]},u=Vt(l,the,e);return{...e,...u}},Npe=it(gk,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...pk(t,e),!n.disableUnderline&&e.underline]}})(sn(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Zf.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Zf.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Zf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Zf.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Zf.disabled}, .${Zf.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Zf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Gr()).map(([a])=>({props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[a]?.main}`}}})),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:o})=>a.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),$pe=it(yk,{name:"MuiFilledInput",slot:"Input",overridesResolver:mk})(sn(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),BD=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:i={},componentsProps:a,fullWidth:o=!1,hiddenLabel:l,inputComponent:u="input",multiline:d=!1,slotProps:f,slots:p={},type:m="text",...y}=r,v={...r,disableUnderline:s,fullWidth:o,inputComponent:u,multiline:d,type:m},b=Epe(r),w={root:{ownerState:v},input:{ownerState:v}},S=f??a?Js(w,f??a):w,C=p.root??i.Root??Npe,T=p.input??i.Input??$pe;return D.jsx(zD,{slots:{root:C,input:T},slotProps:S,fullWidth:o,inputComponent:u,multiline:d,ref:n,type:m,...y,classes:b})});BD.muiName="Input";function Ipe(t){return Ut("MuiFormControl",t)}qt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ape=t=>{const{classes:e,margin:n,fullWidth:r}=t,s={root:["root",n!=="none"&&`margin${Je(n)}`,r&&"fullWidth"]};return Vt(s,Ipe,e)},Ope=it("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Je(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),k8=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiFormControl"}),{children:s,className:i,color:a="primary",component:o="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:f=!1,hiddenLabel:p=!1,margin:m="none",required:y=!1,size:v="medium",variant:b="outlined",...w}=r,S={...r,color:a,component:o,disabled:l,error:u,fullWidth:f,hiddenLabel:p,margin:m,required:y,size:v,variant:b},C=Ape(S),[T,N]=$.useState(()=>{let X=!1;return s&&$.Children.forEach(s,V=>{if(!zv(V,["Input","Select"]))return;const ee=zv(V,["Select"])?V.props.input:V;ee&&Yfe(ee.props)&&(X=!0)}),X}),[O,_]=$.useState(()=>{let X=!1;return s&&$.Children.forEach(s,V=>{zv(V,["Input","Select"])&&(bS(V.props,!0)||bS(V.props.inputProps,!0))&&(X=!0)}),X}),[F,L]=$.useState(!1);l&&F&&L(!1);const z=d!==void 0&&!l?d:F;let P;$.useRef(!1);const R=$.useCallback(()=>{_(!0)},[]),H=$.useCallback(()=>{_(!1)},[]),q=$.useMemo(()=>({adornedStart:T,setAdornedStart:N,color:a,disabled:l,error:u,filled:O,focused:z,fullWidth:f,hiddenLabel:p,size:v,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:H,onFilled:R,registerEffect:P,required:y,variant:b}),[T,a,l,u,O,z,f,p,P,H,R,y,v,b]);return D.jsx(hk.Provider,{value:q,children:D.jsx(Ope,{as:o,ownerState:S,className:et(C.root,i),ref:n,...w,children:s})})});function Rpe(t){return Ut("MuiFormHelperText",t)}const y4=qt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var v4;const Dpe=t=>{const{classes:e,contained:n,size:r,disabled:s,error:i,filled:a,focused:o,required:l}=t,u={root:["root",s&&"disabled",i&&"error",r&&`size${Je(r)}`,n&&"contained",o&&"focused",a&&"filled",l&&"required"]};return Vt(u,Rpe,e)},_pe=it("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Je(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(sn(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${y4.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${y4.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Ppe=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiFormHelperText"}),{children:s,className:i,component:a="p",disabled:o,error:l,filled:u,focused:d,margin:f,required:p,variant:m,...y}=r,v=np(),b=kg({props:r,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),w={...r,component:a,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete w.ownerState;const S=Dpe(w);return D.jsx(_pe,{as:a,className:et(S.root,i),ref:n,...y,ownerState:w,children:s===" "?v4||(v4=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function Mpe(t){return Ut("MuiFormLabel",t)}const jv=qt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Lpe=t=>{const{classes:e,color:n,focused:r,disabled:s,error:i,filled:a,required:o}=t,l={root:["root",`color${Je(n)}`,s&&"disabled",i&&"error",a&&"filled",r&&"focused",o&&"required"],asterisk:["asterisk",i&&"error"]};return Vt(l,Mpe,e)},Fpe=it("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(sn(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{[`&.${jv.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${jv.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${jv.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),zpe=it("span",{name:"MuiFormLabel",slot:"Asterisk"})(sn(({theme:t})=>({[`&.${jv.error}`]:{color:(t.vars||t).palette.error.main}}))),Bpe=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiFormLabel"}),{children:s,className:i,color:a,component:o="label",disabled:l,error:u,filled:d,focused:f,required:p,...m}=r,y=np(),v=kg({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),b={...r,color:v.color||"primary",component:o,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},w=Lpe(b);return D.jsxs(Fpe,{as:o,ownerState:b,className:et(w.root,i),ref:n,...m,children:[s,v.required&&D.jsxs(zpe,{ownerState:b,"aria-hidden":!0,className:w.asterisk,children:["","*"]})]})}),tr=Rce({createStyledComponent:it("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>Wt({props:t,name:"MuiGrid"}),useTheme:Sg});function KA(t){return`scale(${t}, ${t**2})`}const jpe={entering:{opacity:1,transform:KA(1)},entered:{opacity:1,transform:"none"}},b$=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),XA=$.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:i,easing:a,in:o,onEnter:l,onEntered:u,onEntering:d,onExit:f,onExited:p,onExiting:m,style:y,timeout:v="auto",TransitionComponent:b=wl,...w}=e,S=d8(),C=$.useRef(),T=Sg(),N=$.useRef(null),O=ti(N,Cg(i),n),_=X=>V=>{if(X){const ee=N.current;V===void 0?X(ee):X(ee,V)}},F=_(d),L=_((X,V)=>{FD(X);const{duration:ee,delay:J,easing:te}=Wm({style:y,timeout:v,easing:a},{mode:"enter"});let ce;v==="auto"?(ce=T.transitions.getAutoHeightDuration(X.clientHeight),C.current=ce):ce=ee,X.style.transition=[T.transitions.create("opacity",{duration:ce,delay:J}),T.transitions.create("transform",{duration:b$?ce:ce*.666,delay:J,easing:te})].join(","),l&&l(X,V)}),z=_(u),P=_(m),R=_(X=>{const{duration:V,delay:ee,easing:J}=Wm({style:y,timeout:v,easing:a},{mode:"exit"});let te;v==="auto"?(te=T.transitions.getAutoHeightDuration(X.clientHeight),C.current=te):te=V,X.style.transition=[T.transitions.create("opacity",{duration:te,delay:ee}),T.transitions.create("transform",{duration:b$?te:te*.666,delay:b$?ee:ee||te*.333,easing:J})].join(","),X.style.opacity=0,X.style.transform=KA(.75),f&&f(X)}),H=_(p),q=X=>{v==="auto"&&S.start(C.current||0,X),r&&r(N.current,X)};return D.jsx(b,{appear:s,in:o,nodeRef:N,onEnter:L,onEntered:z,onEntering:F,onExit:R,onExited:H,onExiting:P,addEndListener:q,timeout:v==="auto"?null:v,...w,children:(X,{ownerState:V,...ee})=>$.cloneElement(i,{style:{opacity:0,transform:KA(.75),visibility:X==="exited"&&!o?"hidden":void 0,...jpe[X],...y,...i.props.style},ref:O,...ee})})});XA&&(XA.muiSupportAuto=!0);const Upe=t=>{const{classes:e,disableUnderline:n}=t,s=Vt({root:["root",!n&&"underline"],input:["input"]},Jfe,e);return{...e,...s}},Vpe=it(gk,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...pk(t,e),!n.disableUnderline&&e.underline]}})(sn(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${iv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${iv.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${iv.disabled}, .${iv.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${iv.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Gr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Wpe=it(yk,{name:"MuiInput",slot:"Input",overridesResolver:mk})({}),jD=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:i={},componentsProps:a,fullWidth:o=!1,inputComponent:l="input",multiline:u=!1,slotProps:d,slots:f={},type:p="text",...m}=r,y=Upe(r),b={root:{ownerState:{disableUnderline:s}}},w=d??a?Js(d??a,b):b,S=f.root??i.Root??Vpe,C=f.input??i.Input??Wpe;return D.jsx(zD,{slots:{root:S,input:C},slotProps:w,fullWidth:o,inputComponent:l,multiline:u,ref:n,type:p,...m,classes:y})});jD.muiName="Input";function Hpe(t){return Ut("MuiInputAdornment",t)}const b4=qt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var x4;const Gpe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Je(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},qpe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:a}=t,o={root:["root",n&&"disablePointerEvents",s&&`position${Je(s)}`,a,r&&"hiddenLabel",i&&`size${Je(i)}`]};return Vt(o,Hpe,e)},Kpe=it("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Gpe})(sn(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${b4.positionStart}&:not(.${b4.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Xpe=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiInputAdornment"}),{children:s,className:i,component:a="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:u,variant:d,...f}=r,p=np()||{};let m=d;d&&p.variant,p&&!m&&(m=p.variant);const y={...r,hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:o,position:u,variant:m},v=qpe(y);return D.jsx(hk.Provider,{value:null,children:D.jsx(Kpe,{as:a,ownerState:y,className:et(v.root,i),ref:n,...f,children:typeof s=="string"&&!l?D.jsx(rt,{color:"textSecondary",children:s}):D.jsxs($.Fragment,{children:[u==="start"?x4||(x4=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,s]})})})});function Ype(t){return Ut("MuiInputLabel",t)}qt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Zpe=t=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:i,variant:a,required:o}=t,l={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="medium"&&`size${Je(r)}`,a],asterisk:[o&&"asterisk"]},u=Vt(l,Ype,e);return{...e,...u}},Qpe=it(Bpe,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${jv.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(sn(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),T8=$.forwardRef(function(e,n){const r=Wt({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:i,shrink:a,variant:o,className:l,...u}=r,d=np();let f=a;typeof f>"u"&&d&&(f=d.filled||d.focused||d.adornedStart);const p=kg({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),m={...r,disableAnimation:s,formControl:d,shrink:f,size:p.size,variant:p.variant,required:p.required,focused:p.focused},y=Zpe(m);return D.jsx(Qpe,{"data-shrink":f,ref:n,className:et(y.root,l),...u,ownerState:m,classes:y})});function Jpe(t){return Ut("MuiLinearProgress",t)}qt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const YA=4,ZA=Jd`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,eme=typeof ZA!="string"?vg`
        animation: ${ZA} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,QA=Jd`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,tme=typeof QA!="string"?vg`
        animation: ${QA} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,JA=Jd`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,nme=typeof JA!="string"?vg`
        animation: ${JA} 3s infinite linear;
      `:null,rme=t=>{const{classes:e,variant:n,color:r}=t,s={root:["root",`color${Je(r)}`,n],dashed:["dashed",`dashedColor${Je(r)}`],bar1:["bar","bar1",`barColor${Je(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Je(r)}`,n==="buffer"&&`color${Je(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Vt(s,Jpe,e)},UD=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),sme=it("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Je(n.color)}`],e[n.variant]]}})(sn(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{backgroundColor:UD(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),ime=it("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Je(n.color)}`]]}})(sn(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(Gr()).map(([e])=>{const n=UD(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),nme||{animation:`${JA} 3s infinite linear`}),ame=it("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${Je(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(sn(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${YA}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${YA}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:eme||{animation:`${ZA} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),ome=it("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${Je(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(sn(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(Gr()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:UD(t,e),transition:`transform .${YA}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:tme||{animation:`${QA} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),VD=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:a,valueBuffer:o,variant:l="indeterminate",...u}=r,d={...r,color:i,variant:l},f=rme(d),p=Xq(),m={},y={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&a!==void 0){m["aria-valuenow"]=Math.round(a),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let v=a-100;p&&(v=-v),y.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&o!==void 0){let v=(o||0)-100;p&&(v=-v),y.bar2.transform=`translateX(${v}%)`}return D.jsxs(sme,{className:et(f.root,s),ownerState:d,role:"progressbar",...m,ref:n,...u,children:[l==="buffer"?D.jsx(ime,{className:f.dashed,ownerState:d}):null,D.jsx(ame,{className:f.bar1,ownerState:d,style:y.bar1}),l==="determinate"?null:D.jsx(ome,{className:f.bar2,ownerState:d,style:y.bar2})]})}),su=$.createContext({});function lme(t){return Ut("MuiList",t)}qt("MuiList",["root","padding","dense","subheader"]);const ume=t=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=t;return Vt({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},lme,e)},cme=it("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ld=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiList"}),{children:s,className:i,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:u,...d}=r,f=$.useMemo(()=>({dense:o}),[o]),p={...r,component:a,dense:o,disablePadding:l},m=ume(p);return D.jsx(su.Provider,{value:f,children:D.jsxs(cme,{as:a,className:et(m.root,i),ref:n,ownerState:p,...d,children:[u,s]})})});function dme(t){return Ut("MuiListItem",t)}qt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const fme=qt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function hme(t){return Ut("MuiListItemSecondaryAction",t)}qt("MuiListItemSecondaryAction",["root","disableGutters"]);const pme=t=>{const{disableGutters:e,classes:n}=t;return Vt({root:["root",e&&"disableGutters"]},hme,n)},mme=it("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),E8=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiListItemSecondaryAction"}),{className:s,...i}=r,a=$.useContext(su),o={...r,disableGutters:a.disableGutters},l=pme(o);return D.jsx(mme,{className:et(l.root,s),ownerState:o,ref:n,...i})});E8.muiName="ListItemSecondaryAction";const gme=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},yme=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:s,disablePadding:i,divider:a,hasSecondaryAction:o}=t;return Vt({root:["root",r&&"dense",!s&&"gutters",!i&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},dme,n)},vme=it("div",{name:"MuiListItem",slot:"Root",overridesResolver:gme})(sn(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${fme.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),bme=it("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),oc=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiListItem"}),{alignItems:s="center",children:i,className:a,component:o,components:l={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:f,...p}={},dense:m=!1,disableGutters:y=!1,disablePadding:v=!1,divider:b=!1,secondaryAction:w,slotProps:S={},slots:C={},...T}=r,N=$.useContext(su),O=$.useMemo(()=>({dense:m||N.dense||!1,alignItems:s,disableGutters:y}),[s,N.dense,m,y]),_=$.useRef(null),F=$.Children.toArray(i),L=F.length&&zv(F[F.length-1],["ListItemSecondaryAction"]),z={...r,alignItems:s,dense:O.dense,disableGutters:y,disablePadding:v,divider:b,hasSecondaryAction:L},P=yme(z),R=ti(_,n),H={slots:C,slotProps:S},[q,X]=hn("secondaryAction",{elementType:E8,externalForwardedProps:H,ownerState:z,className:P.secondaryAction}),V=C.root||l.Root||vme,ee=S.root||u.root||{},J={className:et(P.root,ee.className,a),...T};let te=o||"li";return L?(te=!J.component&&!o?"div":te,d==="li"&&(te==="li"?te="div":J.component==="li"&&(J.component="div")),D.jsx(su.Provider,{value:O,children:D.jsxs(bme,{as:d,className:et(P.container,f),ref:R,ownerState:z,...p,children:[D.jsx(V,{...ee,...!Hm(V)&&{as:te,ownerState:{...z,...ee.ownerState}},...J,children:F}),F.pop()]})})):D.jsx(su.Provider,{value:O,children:D.jsxs(V,{...ee,as:te,ref:R,...!Hm(V)&&{ownerState:{...z,...ee.ownerState}},...J,children:[F,w&&D.jsx(q,{...X,children:w})]})})});function xme(t){return Ut("MuiListItemAvatar",t)}qt("MuiListItemAvatar",["root","alignItemsFlexStart"]);const wme=t=>{const{alignItems:e,classes:n}=t;return Vt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},xme,n)},Sme=it("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),w4=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiListItemAvatar"}),{className:s,...i}=r,a=$.useContext(su),o={...r,alignItems:a.alignItems},l=wme(o);return D.jsx(Sme,{className:et(l.root,s),ownerState:o,ref:n,...i})});function Cme(t){return Ut("MuiListItemIcon",t)}const S4=qt("MuiListItemIcon",["root","alignItemsFlexStart"]),kme=t=>{const{alignItems:e,classes:n}=t;return Vt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Cme,n)},Tme=it("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(sn(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),WD=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiListItemIcon"}),{className:s,...i}=r,a=$.useContext(su),o={...r,alignItems:a.alignItems},l=kme(o);return D.jsx(Tme,{className:et(l.root,s),ownerState:o,ref:n,...i})});function Eme(t){return Ut("MuiListItemText",t)}const $m=qt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Nme=t=>{const{classes:e,inset:n,primary:r,secondary:s,dense:i}=t;return Vt({root:["root",n&&"inset",i&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},Eme,e)},$me=it("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${$m.primary}`]:e.primary},{[`& .${$m.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${s4.root}:where(& .${$m.primary})`]:{display:"block"},[`.${s4.root}:where(& .${$m.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Ql=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiListItemText"}),{children:s,className:i,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:f,slots:p={},slotProps:m={},...y}=r,{dense:v}=$.useContext(su);let b=l??s,w=d;const S={...r,disableTypography:a,inset:o,primary:!!b,secondary:!!w,dense:v},C=Nme(S),T={slots:p,slotProps:{primary:u,secondary:f,...m}},[N,O]=hn("root",{className:et(C.root,i),elementType:$me,externalForwardedProps:{...T,...y},ownerState:S,ref:n}),[_,F]=hn("primary",{className:C.primary,elementType:rt,externalForwardedProps:T,ownerState:S}),[L,z]=hn("secondary",{className:C.secondary,elementType:rt,externalForwardedProps:T,ownerState:S});return b!=null&&b.type!==rt&&!a&&(b=D.jsx(_,{variant:v?"body2":"body1",component:F?.variant?void 0:"span",...F,children:b})),w!=null&&w.type!==rt&&!a&&(w=D.jsx(L,{variant:"body2",color:"textSecondary",...z,children:w})),D.jsxs(N,{...O,children:[b,w]})});function x$(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function C4(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function N8(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function av(t,e,n,r,s,i){let a=!1,o=s(t,e,e?n:!1);for(;o;){if(o===t.firstChild){if(a)return!1;a=!0}const l=r?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!N8(o,i)||l)o=s(t,o,n);else return o.focus(),!0}return!1}const Ime=$.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:f="selectedMenu",...p}=e,m=$.useRef(null),y=$.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});hu(()=>{s&&m.current.focus()},[s]),$.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:T})=>{const N=!m.current.style.width;if(C.clientHeight<m.current.clientHeight&&N){const O=`${w8(ml(C))}px`;m.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=O,m.current.style.width=`calc(100% + ${O})`}return m.current}}),[]);const v=C=>{const T=m.current,N=C.key;if(C.ctrlKey||C.metaKey||C.altKey){d&&d(C);return}const _=$v(pl(T));if(N==="ArrowDown")C.preventDefault(),av(T,_,u,l,x$);else if(N==="ArrowUp")C.preventDefault(),av(T,_,u,l,C4);else if(N==="Home")C.preventDefault(),av(T,null,u,l,x$);else if(N==="End")C.preventDefault(),av(T,null,u,l,C4);else if(N.length===1){const F=y.current,L=N.toLowerCase(),z=performance.now();F.keys.length>0&&(z-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&L!==F.keys[0]&&(F.repeating=!1)),F.lastTime=z,F.keys.push(L);const P=_&&!F.repeating&&N8(_,F);F.previousKeyMatched&&(P||av(T,_,!1,l,x$,F))?C.preventDefault():F.previousKeyMatched=!1}d&&d(C)},b=ti(m,n);let w=-1;$.Children.forEach(a,(C,T)=>{if(!$.isValidElement(C)){w===T&&(w+=1,w>=a.length&&(w=-1));return}C.props.disabled||(f==="selectedMenu"&&C.props.selected||w===-1)&&(w=T),w===T&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(w+=1,w>=a.length&&(w=-1))});const S=$.Children.map(a,(C,T)=>{if(T===w){const N={};return i&&(N.autoFocus=!0),C.props.tabIndex===void 0&&f==="selectedMenu"&&(N.tabIndex=0),$.cloneElement(C,N)}return C});return D.jsx(Ld,{role:"menu",ref:b,className:o,onKeyDown:v,tabIndex:s?0:-1,...p,children:S})});function Ame(t){return Ut("MuiPopover",t)}qt("MuiPopover",["root","paper"]);function k4(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function T4(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function E4(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function nw(t){return typeof t=="function"?t():t}const Ome=t=>{const{classes:e}=t;return Vt({root:["root"],paper:["paper"]},Ame,e)},Rme=it(S8,{name:"MuiPopover",slot:"Root"})({}),$8=it(ef,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Dme=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPopover"}),{action:s,anchorEl:i,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:u,className:d,container:f,elevation:p=8,marginThreshold:m=16,open:y,PaperProps:v={},slots:b={},slotProps:w={},transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:T="auto",TransitionProps:N={},disableScrollLock:O=!1,..._}=r,F=$.useRef(),L={...r,anchorOrigin:a,anchorReference:l,elevation:p,marginThreshold:m,transformOrigin:S,TransitionComponent:C,transitionDuration:T,TransitionProps:N},z=Ome(L),P=$.useCallback(()=>{if(l==="anchorPosition")return o;const je=nw(i),Se=(je&&je.nodeType===1?je:pl(F.current).body).getBoundingClientRect();return{top:Se.top+k4(Se,a.vertical),left:Se.left+T4(Se,a.horizontal)}},[i,a.horizontal,a.vertical,o,l]),R=$.useCallback(je=>({vertical:k4(je,S.vertical),horizontal:T4(je,S.horizontal)}),[S.horizontal,S.vertical]),H=$.useCallback(je=>{const Ge={width:je.offsetWidth,height:je.offsetHeight},Se=R(Ge);if(l==="none")return{top:null,left:null,transformOrigin:E4(Se)};const yt=P();let Qe=yt.top-Se.vertical,ut=yt.left-Se.horizontal;const kt=Qe+Ge.height,Dt=ut+Ge.width,Ot=ml(nw(i)),fn=Ot.innerHeight-m,Zt=Ot.innerWidth-m;if(m!==null&&Qe<m){const Ht=Qe-m;Qe-=Ht,Se.vertical+=Ht}else if(m!==null&&kt>fn){const Ht=kt-fn;Qe-=Ht,Se.vertical+=Ht}if(m!==null&&ut<m){const Ht=ut-m;ut-=Ht,Se.horizontal+=Ht}else if(Dt>Zt){const Ht=Dt-Zt;ut-=Ht,Se.horizontal+=Ht}return{top:`${Math.round(Qe)}px`,left:`${Math.round(ut)}px`,transformOrigin:E4(Se)}},[i,l,P,R,m]),[q,X]=$.useState(y),V=$.useCallback(()=>{const je=F.current;if(!je)return;const Ge=H(je);Ge.top!==null&&je.style.setProperty("top",Ge.top),Ge.left!==null&&(je.style.left=Ge.left),je.style.transformOrigin=Ge.transformOrigin,X(!0)},[H]);$.useEffect(()=>(O&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[i,O,V]);const ee=()=>{V()},J=()=>{X(!1)};$.useEffect(()=>{y&&V()}),$.useImperativeHandle(s,()=>y?{updatePosition:()=>{V()}}:null,[y,V]),$.useEffect(()=>{if(!y)return;const je=_D(()=>{V()}),Ge=ml(nw(i));return Ge.addEventListener("resize",je),()=>{je.clear(),Ge.removeEventListener("resize",je)}},[i,y,V]);let te=T;const ce={slots:{transition:C,...b},slotProps:{transition:N,paper:v,...w}},[G,ne]=hn("transition",{elementType:XA,externalForwardedProps:ce,ownerState:L,getSlotProps:je=>({...je,onEntering:(Ge,Se)=>{je.onEntering?.(Ge,Se),ee()},onExited:Ge=>{je.onExited?.(Ge),J()}}),additionalProps:{appear:!0,in:y}});T==="auto"&&!G.muiSupportAuto&&(te=void 0);const ae=f||(i?pl(nw(i)).body:void 0),[be,{slots:$e,slotProps:Ie,...Me}]=hn("root",{ref:n,elementType:Rme,externalForwardedProps:{...ce,..._},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:Dde(typeof w.backdrop=="function"?w.backdrop(L):w.backdrop,{invisible:!0})},container:ae,open:y},ownerState:L,className:et(z.root,d)}),[st,se]=hn("paper",{ref:F,className:z.paper,elementType:$8,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:{elevation:p,style:q?void 0:{opacity:0}},ownerState:L});return D.jsx(be,{...Me,...!Hm(be)&&{slots:$e,slotProps:Ie,disableScrollLock:O},children:D.jsx(G,{...ne,timeout:te,children:D.jsx(st,{...se,children:u})})})});function _me(t){return Ut("MuiMenu",t)}qt("MuiMenu",["root","paper","list"]);const Pme={vertical:"top",horizontal:"right"},Mme={vertical:"top",horizontal:"left"},Lme=t=>{const{classes:e}=t;return Vt({root:["root"],paper:["paper"],list:["list"]},_me,e)},Fme=it(Dme,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),zme=it($8,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Bme=it(Ime,{name:"MuiMenu",slot:"List"})({outline:0}),I8=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:i,className:a,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:u,open:d,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:y,...v}={},variant:b="selectedMenu",slots:w={},slotProps:S={},...C}=r,T=Xq(),N={...r,autoFocus:s,disableAutoFocusItem:o,MenuListProps:l,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:v,variant:b},O=Lme(N),_=s&&!o&&d,F=$.useRef(null),L=(te,ce)=>{F.current&&F.current.adjustStyleForScrollbar(te,{direction:T?"rtl":"ltr"}),y&&y(te,ce)},z=te=>{te.key==="Tab"&&(te.preventDefault(),u&&u(te,"tabKeyDown"))};let P=-1;$.Children.map(i,(te,ce)=>{$.isValidElement(te)&&(te.props.disabled||(b==="selectedMenu"&&te.props.selected||P===-1)&&(P=ce))});const R={slots:w,slotProps:{list:l,transition:v,paper:f,...S}},H=zfe({elementType:w.root,externalSlotProps:S.root,ownerState:N,className:[O.root,a]}),[q,X]=hn("paper",{className:O.paper,elementType:zme,externalForwardedProps:R,shouldForwardComponentProp:!0,ownerState:N}),[V,ee]=hn("list",{className:et(O.list,l.className),elementType:Bme,shouldForwardComponentProp:!0,externalForwardedProps:R,getSlotProps:te=>({...te,onKeyDown:ce=>{z(ce),te.onKeyDown?.(ce)}}),ownerState:N}),J=typeof R.slotProps.transition=="function"?R.slotProps.transition(N):R.slotProps.transition;return D.jsx(Fme,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?Pme:Mme,slots:{root:w.root,paper:q,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:H,paper:X,backdrop:typeof S.backdrop=="function"?S.backdrop(N):S.backdrop,transition:{...J,onEntering:(...te)=>{L(...te),J?.onEntering?.(...te)}}},open:d,ref:n,transitionDuration:m,ownerState:N,...C,classes:p,children:D.jsx(V,{actions:F,autoFocus:s&&(P===-1||o),autoFocusItem:_,variant:b,...ee,children:i})})});function jme(t){return Ut("MuiMenuItem",t)}const ov=qt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ume=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Vme=t=>{const{disabled:e,dense:n,divider:r,disableGutters:s,selected:i,classes:a}=t,l=Vt({root:["root",n&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},jme,a);return{...a,...l}},Wme=it(Gm,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ume})(sn(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ov.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${ov.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${ov.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${ov.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ov.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${g4.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${g4.inset}`]:{marginLeft:52},[`& .${$m.root}`]:{marginTop:0,marginBottom:0},[`& .${$m.inset}`]:{paddingLeft:36},[`& .${S4.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${S4.root} svg`]:{fontSize:"1.25rem"}}}]}))),Iv=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:f,className:p,...m}=r,y=$.useContext(su),v=$.useMemo(()=>({dense:a||y.dense||!1,disableGutters:l}),[y.dense,a,l]),b=$.useRef(null);hu(()=>{s&&b.current&&b.current.focus()},[s]);const w={...r,dense:v.dense,divider:o,disableGutters:l},S=Vme(r),C=ti(b,n);let T;return r.disabled||(T=f!==void 0?f:-1),D.jsx(su.Provider,{value:v,children:D.jsx(Wme,{ref:C,role:d,tabIndex:T,component:i,focusVisibleClassName:et(S.focusVisible,u),className:et(S.root,p),...m,ownerState:w,classes:S})})});function Hme(t){return Ut("MuiNativeSelect",t)}const HD=qt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Gme=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:a}=t,o={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${Je(n)}`,i&&"iconOpen",r&&"disabled"]};return Vt(o,Hme,e)},A8=it("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${HD.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),qme=it(A8,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Uo,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${HD.multiple}`]:e.multiple}]}})({}),O8=it("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${HD.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Kme=it(O8,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Je(n.variant)}`],n.open&&e.iconOpen]}})({}),Xme=$.forwardRef(function(e,n){const{className:r,disabled:s,error:i,IconComponent:a,inputRef:o,variant:l="standard",...u}=e,d={...e,disabled:s,variant:l,error:i},f=Gme(d);return D.jsxs($.Fragment,{children:[D.jsx(qme,{ownerState:d,className:et(f.select,r),disabled:s,ref:o||n,...u}),e.multiple?null:D.jsx(Kme,{as:a,ownerState:d,className:f.icon})]})});var N4;const Yme=it("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Uo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Zme=it("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Uo})(sn(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Qme(t){const{children:e,classes:n,className:r,label:s,notched:i,...a}=t,o=s!=null&&s!=="",l={...t,notched:i,withLabel:o};return D.jsx(Yme,{"aria-hidden":!0,className:r,ownerState:l,...a,children:D.jsx(Zme,{ownerState:l,children:o?D.jsx("span",{children:s}):N4||(N4=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Jme=t=>{const{classes:e}=t,r=Vt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ehe,e);return{...e,...r}},ege=it(gk,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pk})(sn(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${jl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${jl.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${jl.focused} .${jl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Gr()).map(([n])=>({props:{color:n},style:{[`&.${jl.focused} .${jl.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${jl.error} .${jl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${jl.disabled} .${jl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),tge=it(Qme,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(sn(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),nge=it(yk,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:mk})(sn(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),GD=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:i=!1,inputComponent:a="input",label:o,multiline:l=!1,notched:u,slots:d={},slotProps:f={},type:p="text",...m}=r,y=Jme(r),v=np(),b=kg({props:r,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...r,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:v,fullWidth:i,hiddenLabel:b.hiddenLabel,multiline:l,size:b.size,type:p},S=d.root??s.Root??ege,C=d.input??s.Input??nge,[T,N]=hn("notchedOutline",{elementType:tge,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:d,slotProps:f},additionalProps:{label:o!=null&&o!==""&&b.required?D.jsxs($.Fragment,{children:[o,"","*"]}):o}});return D.jsx(zD,{slots:{root:S,input:C},slotProps:f,renderSuffix:O=>D.jsx(T,{...N,notched:typeof u<"u"?u:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:i,inputComponent:a,multiline:l,ref:n,type:p,...m,classes:{...y,notchedOutline:null}})});GD.muiName="Input";function R8(t){return Ut("MuiSelect",t)}const lv=qt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var $4;const rge=it(A8,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${lv.select}`]:e.select},{[`&.${lv.select}`]:e[n.variant]},{[`&.${lv.error}`]:e.error},{[`&.${lv.multiple}`]:e.multiple}]}})({[`&.${lv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),sge=it(O8,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Je(n.variant)}`],n.open&&e.iconOpen]}})({}),ige=it("input",{shouldForwardProp:t=>a8(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function I4(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function age(t){return t==null||typeof t=="string"&&!t.trim()}const oge=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:a}=t,o={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${Je(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Vt(o,R8,e)},lge=$.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":s,autoFocus:i,autoWidth:a,children:o,className:l,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:p,error:m=!1,IconComponent:y,inputRef:v,labelId:b,MenuProps:w={},multiple:S,name:C,onBlur:T,onChange:N,onClose:O,onFocus:_,onKeyDown:F,onMouseDown:L,onOpen:z,open:P,readOnly:R,renderValue:H,required:q,SelectDisplayProps:X={},tabIndex:V,type:ee,value:J,variant:te="standard",...ce}=e,[G,ne]=Yj({controlled:J,default:d,name:"Select"}),[ae,be]=Yj({controlled:P,default:u,name:"Select"}),$e=$.useRef(null),Ie=$.useRef(null),[Me,st]=$.useState(null),{current:se}=$.useRef(P!=null),[je,Ge]=$.useState(),Se=ti(n,v),yt=$.useCallback($t=>{Ie.current=$t,$t&&st($t)},[]),Qe=Me?.parentNode;$.useImperativeHandle(Se,()=>({focus:()=>{Ie.current.focus()},node:$e.current,value:G}),[G]),$.useEffect(()=>{u&&ae&&Me&&!se&&(Ge(a?null:Qe.clientWidth),Ie.current.focus())},[Me,a]),$.useEffect(()=>{i&&Ie.current.focus()},[i]),$.useEffect(()=>{if(!b)return;const $t=pl(Ie.current).getElementById(b);if($t){const Tn=()=>{getSelection().isCollapsed&&Ie.current.focus()};return $t.addEventListener("click",Tn),()=>{$t.removeEventListener("click",Tn)}}},[b]);const ut=($t,Tn)=>{$t?z&&z(Tn):O&&O(Tn),se||(Ge(a?null:Qe.clientWidth),be($t))},kt=$t=>{L?.($t),$t.button===0&&($t.preventDefault(),Ie.current.focus(),ut(!0,$t))},Dt=$t=>{ut(!1,$t)},Ot=$.Children.toArray(o),fn=$t=>{const Tn=Ot.find(Cr=>Cr.props.value===$t.target.value);Tn!==void 0&&(ne(Tn.props.value),N&&N($t,Tn))},Zt=$t=>Tn=>{let Cr;if(Tn.currentTarget.hasAttribute("tabindex")){if(S){Cr=Array.isArray(G)?G.slice():[];const lt=G.indexOf($t.props.value);lt===-1?Cr.push($t.props.value):Cr.splice(lt,1)}else Cr=$t.props.value;if($t.props.onClick&&$t.props.onClick(Tn),G!==Cr&&(ne(Cr),N)){const lt=Tn.nativeEvent||Tn,qo=new lt.constructor(lt.type,lt);Object.defineProperty(qo,"target",{writable:!0,value:{value:Cr,name:C}}),N(qo,$t)}S||ut(!1,Tn)}},Ht=$t=>{R||([" ","ArrowUp","ArrowDown","Enter"].includes($t.key)&&($t.preventDefault(),ut(!0,$t)),F?.($t))},pt=Me!==null&&ae,fr=$t=>{!pt&&T&&(Object.defineProperty($t,"target",{writable:!0,value:{value:G,name:C}}),T($t))};delete ce["aria-invalid"];let Lt,hr;const an=[];let Bt=!1;(bS({value:G})||p)&&(H?Lt=H(G):Bt=!0);const kn=Ot.map($t=>{if(!$.isValidElement($t))return null;let Tn;if(S){if(!Array.isArray(G))throw new Error(mc(2));Tn=G.some(Cr=>I4(Cr,$t.props.value)),Tn&&Bt&&an.push($t.props.children)}else Tn=I4(G,$t.props.value),Tn&&Bt&&(hr=$t.props.children);return $.cloneElement($t,{"aria-selected":Tn?"true":"false",onClick:Zt($t),onKeyUp:Cr=>{Cr.key===" "&&Cr.preventDefault(),$t.props.onKeyUp&&$t.props.onKeyUp(Cr)},role:"option",selected:Tn,value:void 0,"data-value":$t.props.value})});Bt&&(S?an.length===0?Lt=null:Lt=an.reduce(($t,Tn,Cr)=>($t.push(Tn),Cr<an.length-1&&$t.push(", "),$t),[]):Lt=hr);let _n=je;!a&&se&&Me&&(_n=Qe.clientWidth);let Jr;typeof V<"u"?Jr=V:Jr=f?null:0;const vn=X.id||(C?`mui-component-select-${C}`:void 0),es={...e,variant:te,value:G,open:pt,error:m},Br=oge(es),_r={...w.PaperProps,...typeof w.slotProps?.paper=="function"?w.slotProps.paper(es):w.slotProps?.paper},ts={...w.MenuListProps,...typeof w.slotProps?.list=="function"?w.slotProps.list(es):w.slotProps?.list},mt=xg();return D.jsxs($.Fragment,{children:[D.jsx(rge,{as:"div",ref:yt,tabIndex:Jr,role:"combobox","aria-controls":pt?mt:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":pt?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[b,vn].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":q?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:Ht,onMouseDown:f||R?null:kt,onBlur:fr,onFocus:_,...X,ownerState:es,className:et(X.className,Br.select,l),id:vn,children:age(Lt)?$4||($4=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Lt}),D.jsx(ige,{"aria-invalid":m,value:Array.isArray(G)?G.join(","):G,name:C,ref:$e,"aria-hidden":!0,onChange:fn,tabIndex:-1,disabled:f,className:Br.nativeInput,autoFocus:i,required:q,...ce,ownerState:es}),D.jsx(sge,{as:y,className:Br.icon,ownerState:es}),D.jsx(I8,{id:`menu-${C||""}`,anchorEl:Qe,open:pt,onClose:Dt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:mt,...ts},paper:{..._r,style:{minWidth:_n,..._r!=null?_r.style:null}}},children:kn})]})}),uge=t=>{const{classes:e}=t,r=Vt({root:["root"]},R8,e);return{...e,...r}},qD={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Uo(t)&&t!=="variant"},cge=it(jD,qD)(""),dge=it(GD,qD)(""),fge=it(BD,qD)(""),KD=$.forwardRef(function(e,n){const r=Wt({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=nhe,id:f,input:p,inputProps:m,label:y,labelId:v,MenuProps:b,multiple:w=!1,native:S=!1,onClose:C,onOpen:T,open:N,renderValue:O,SelectDisplayProps:_,variant:F="outlined",...L}=r,z=S?Xme:lge,P=np(),R=kg({props:r,muiFormControl:P,states:["variant","error"]}),H=R.variant||F,q={...r,variant:H,classes:a},X=uge(q),{root:V,...ee}=X,J=p||{standard:D.jsx(cge,{ownerState:q}),outlined:D.jsx(dge,{label:y,ownerState:q}),filled:D.jsx(fge,{ownerState:q})}[H],te=ti(n,Cg(J));return D.jsx($.Fragment,{children:$.cloneElement(J,{inputComponent:z,inputProps:{children:i,error:R.error,IconComponent:d,variant:H,type:void 0,multiple:w,...S?{id:f}:{autoWidth:s,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:b,onClose:C,onOpen:T,open:N,renderValue:O,SelectDisplayProps:{id:f,..._}},...m,classes:m?Js(ee,m.classes):ee,...p?p.props.inputProps:{}},...(w&&S||u)&&H==="outlined"?{notched:!0}:{},ref:te,className:et(J.props.className,o,X.root),...!p&&{variant:H},...L})})});KD.muiName="Select";const vr=zce({createStyledComponent:it("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>Wt({props:t,name:"MuiStack"})});function hge(t){return Ut("MuiToolbar",t)}qt("MuiToolbar",["root","gutters","regular","dense"]);const pge=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Vt({root:["root",!n&&"gutters",r]},hge,e)},mge=it("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(sn(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),D8=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:a=!1,variant:o="regular",...l}=r,u={...r,component:i,disableGutters:a,variant:o},d=pge(u);return D.jsx(mge,{as:i,className:et(d.root,s),ref:n,ownerState:u,...l})});function gge(t){return Ut("MuiTextField",t)}qt("MuiTextField",["root"]);const yge={standard:jD,filled:BD,outlined:GD},vge=t=>{const{classes:e}=t;return Vt({root:["root"]},gge,e)},bge=it(k8,{name:"MuiTextField",slot:"Root"})({}),Ju=$.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:a,className:o,color:l="primary",defaultValue:u,disabled:d=!1,error:f=!1,FormHelperTextProps:p,fullWidth:m=!1,helperText:y,id:v,InputLabelProps:b,inputProps:w,InputProps:S,inputRef:C,label:T,maxRows:N,minRows:O,multiline:_=!1,name:F,onBlur:L,onChange:z,onFocus:P,placeholder:R,required:H=!1,rows:q,select:X=!1,SelectProps:V,slots:ee={},slotProps:J={},type:te,value:ce,variant:G="outlined",...ne}=r,ae={...r,autoFocus:i,color:l,disabled:d,error:f,fullWidth:m,multiline:_,required:H,select:X,variant:G},be=vge(ae),$e=xg(v),Ie=y&&$e?`${$e}-helper-text`:void 0,Me=T&&$e?`${$e}-label`:void 0,st=yge[G],se={slots:ee,slotProps:{input:S,inputLabel:b,htmlInput:w,formHelperText:p,select:V,...J}},je={},Ge=se.slotProps.inputLabel;G==="outlined"&&(Ge&&typeof Ge.shrink<"u"&&(je.notched=Ge.shrink),je.label=T),X&&((!V||!V.native)&&(je.id=void 0),je["aria-describedby"]=void 0);const[Se,yt]=hn("root",{elementType:bge,shouldForwardComponentProp:!0,externalForwardedProps:{...se,...ne},ownerState:ae,className:et(be.root,o),ref:n,additionalProps:{disabled:d,error:f,fullWidth:m,required:H,color:l,variant:G}}),[Qe,ut]=hn("input",{elementType:st,externalForwardedProps:se,additionalProps:je,ownerState:ae}),[kt,Dt]=hn("inputLabel",{elementType:T8,externalForwardedProps:se,ownerState:ae}),[Ot,fn]=hn("htmlInput",{elementType:"input",externalForwardedProps:se,ownerState:ae}),[Zt,Ht]=hn("formHelperText",{elementType:Ppe,externalForwardedProps:se,ownerState:ae}),[pt,fr]=hn("select",{elementType:KD,externalForwardedProps:se,ownerState:ae}),Lt=D.jsx(Qe,{"aria-describedby":Ie,autoComplete:s,autoFocus:i,defaultValue:u,fullWidth:m,multiline:_,name:F,rows:q,maxRows:N,minRows:O,type:te,value:ce,id:$e,inputRef:C,onBlur:L,onChange:z,onFocus:P,placeholder:R,inputProps:fn,slots:{input:ee.htmlInput?Ot:void 0},...ut});return D.jsxs(Se,{...yt,children:[T!=null&&T!==""&&D.jsx(kt,{htmlFor:$e,id:Me,...Dt,children:T}),X?D.jsx(pt,{"aria-describedby":Ie,id:$e,labelId:Me,value:ce,input:Lt,...fr,children:a}):Lt,y&&D.jsx(Zt,{id:Ie,...Ht,children:y})]})}),eO=zn(D.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),XD=zn([D.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),D.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),Km=zn(D.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),tO=zn(D.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),xge=zn(D.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"})),wge=zn(D.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),xS=zn(D.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),Sge=zn(D.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),nO=zn(D.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),Cge=zn([D.jsx("path",{d:"M9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"},"0"),D.jsx("path",{d:"M8 10V8H5.09C6.47 5.61 9.05 4 12 4c3.72 0 6.85 2.56 7.74 6h2.06c-.93-4.56-4.96-8-9.8-8-3.27 0-6.18 1.58-8 4.01V4H2v6zm8 4v2h2.91c-1.38 2.39-3.96 4-6.91 4-3.72 0-6.85-2.56-7.74-6H2.2c.93 4.56 4.96 8 9.8 8 3.27 0 6.18-1.58 8-4.01V20h2v-6z"},"1")]),_8=zn(D.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),kge=zn(D.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"})),Tge=zn(D.jsx("path",{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4z"})),Ege=zn([D.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),D.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")]),Nge=zn(D.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"})),$ge=zn(D.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),rO=zn(D.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),P8=zn(D.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),Ige=zn(D.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),YD=zn(D.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),M8=zn(D.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"})),Qv=zn(D.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Age=zn(D.jsx("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53zM2 3.05 5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0"})),Kt=t=>typeof t=="string",uv=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},A4=t=>t==null?"":""+t,Oge=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Rge=/###/g,O4=t=>t&&t.indexOf("###")>-1?t.replace(Rge,"."):t,R4=t=>!t||Kt(t),Uv=(t,e,n)=>{const r=Kt(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(R4(t))return{};const i=O4(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return R4(t)?{}:{obj:t,k:O4(r[s])}},D4=(t,e,n)=>{const{obj:r,k:s}=Uv(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Uv(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Uv(t,a,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},Dge=(t,e,n,r)=>{const{obj:s,k:i}=Uv(t,e,Object);s[i]=s[i]||[],s[i].push(n)},wS=(t,e)=>{const{obj:n,k:r}=Uv(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},_ge=(t,e,n)=>{const r=wS(t,n);return r!==void 0?r:wS(e,n)},L8=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Kt(t[r])||t[r]instanceof String||Kt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):L8(t[r],e[r],n):t[r]=e[r]);return t},fm=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Pge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Mge=t=>Kt(t)?t.replace(/[&<>"'\/]/g,e=>Pge[e]):t;class Lge{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Fge=[" ",",","?","!",";"],zge=new Lge(20),Bge=(t,e,n)=>{e=e||"",n=n||"";const r=Fge.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=zge.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},sO=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=a}return s},Jv=t=>t?.replace("_","-"),jge={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};let Uge=class iO{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||jge,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(Kt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new iO(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new iO(this.logger,e)}};var Jl=new Uge;let vk=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...n])})}};class _4 extends vk{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):Kt(r)&&i?o.push(...r.split(i)):o.push(r)));const l=wS(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!Kt(r)?l:sO(this.data?.[e]?.[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),D4(this.data,o,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(Kt(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,a={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let l=wS(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?L8(l,r,i):l={...l,...r},D4(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var F8={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{e=this.processors[i]?.process(e,n,r,s)??e}),e}};const z8=Symbol("i18next/PATH_KEY");function Vge(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>(n?.revoke?.(),s===z8?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function aO(t,e){const{[z8]:n}=t(Vge());return n.join(e?.keySeparator??".")}const P4={},w$=t=>!Kt(t)&&typeof t!="boolean"&&typeof t!="number";class SS extends vk{constructor(e,n={}){super(),Oge(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);if(s?.res===void 0)return!1;const i=w$(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Bge(e,r,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Kt(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:Kt(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=aO(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return p?i?{res:`${u}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${d}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:o;const m=this.resolve(e,s);let y=m?.res;const v=m?.usedKey||o,b=m?.exactUsedKey||o,w=["[object Number]","[object Function]","[object RegExp]"],S=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,T=s.count!==void 0&&!Kt(s.count),N=SS.hasDefaultValue(s),O=T?this.pluralResolver.getSuffix(f,s.count,s):"",_=s.ordinal&&T?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",F=T&&!s.ordinal&&s.count===0,L=F&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${O}`]||s[`defaultValue${_}`]||s.defaultValue;let z=y;C&&!y&&N&&(z=L);const P=w$(z),R=Object.prototype.toString.apply(z);if(C&&z&&P&&w.indexOf(R)<0&&!(Kt(S)&&Array.isArray(z))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,z,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(m.res=H,m.usedParams=this.getUsedParamsDetails(s),m):H}if(a){const H=Array.isArray(z),q=H?[]:{},X=H?b:v;for(const V in z)if(Object.prototype.hasOwnProperty.call(z,V)){const ee=`${X}${a}${V}`;N&&!y?q[V]=this.translate(ee,{...s,defaultValue:w$(L)?L[V]:void 0,joinArrays:!1,ns:l}):q[V]=this.translate(ee,{...s,joinArrays:!1,ns:l}),q[V]===ee&&(q[V]=z[V])}y=q}}else if(C&&Kt(S)&&Array.isArray(y))y=y.join(S),y&&(y=this.extendTranslation(y,e,s,r));else{let H=!1,q=!1;!this.isValidLookup(y)&&N&&(H=!0,y=L),this.isValidLookup(y)||(q=!0,y=o);const V=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:y,ee=N&&L!==y&&this.options.updateMissing;if(q||H||ee){if(this.logger.log(ee?"updateKey":"missingKey",f,u,o,ee?L:y),a){const G=this.resolve(o,{...s,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let G=0;G<te.length;G++)J.push(te[G]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(s.lng||this.language):J.push(s.lng||this.language);const ce=(G,ne,ae)=>{const be=N&&ae!==y?ae:V;this.options.missingKeyHandler?this.options.missingKeyHandler(G,u,ne,be,ee,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(G,u,ne,be,ee,s),this.emit("missingKey",G,u,ne,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?J.forEach(G=>{const ne=this.pluralResolver.getSuffixes(G,s);F&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ne.indexOf(`${this.options.pluralSeparator}zero`)<0&&ne.push(`${this.options.pluralSeparator}zero`),ne.forEach(ae=>{ce([G],o+ae,s[`defaultValue${ae}`]||L)})}):ce(J,o,L))}y=this.extendTranslation(y,e,s,m,r),q&&y===o&&this.options.appendNamespaceToMissingKey&&(y=`${u}${d}${o}`),(q||H)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${o}`:o,H?y:void 0,s))}return i?(m.res=y,m.usedParams=this.getUsedParamsDetails(s),m):y}extendTranslation(e,n,r,s,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=Kt(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let d=r.replace&&!Kt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language||s.usedLng,r),l){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;u<p&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>i?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=Kt(a)?[a]:a;return e!=null&&o?.length&&r.applyPostProcessor!==!1&&(e=F8.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,a,o;return Kt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;s=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!Kt(n.count),m=p&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(Kt(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(o=b,!P4[`${v[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(P4[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(w=>{if(this.isValidLookup(r))return;a=w;const S=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,w,b,n);else{let T;p&&(T=this.pluralResolver.getSuffix(w,n.count,n));const N=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&T.indexOf(O)===0&&S.push(d+T.replace(O,this.options.pluralSeparator)),S.push(d+T),m&&S.push(d+N)),y){const _=`${d}${this.options.contextSeparator||"_"}${n.context}`;S.push(_),p&&(n.ordinal&&T.indexOf(O)===0&&S.push(_+T.replace(O,this.options.pluralSeparator)),S.push(_+T),m&&S.push(_+N))}}let C;for(;C=S.pop();)this.isValidLookup(r)||(i=C,r=this.getResource(w,b,C,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Kt(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class M4{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jl.create("languageUtils")}getScriptPartFromCode(e){if(e=Jv(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Jv(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Kt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Kt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Kt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Kt(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const L4={zero:0,one:1,two:2,few:3,many:4,other:5},F4={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Wge{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Jl.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Jv(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),F4;if(!e.match(/-|_/))return F4;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>L4[s]-L4[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const z4=(t,e,n,r=".",s=!0)=>{let i=_ge(t,e,n);return!i&&s&&Kt(n)&&(i=sO(t,n,r),i===void 0&&(i=sO(e,n,r))),i},S$=t=>t.replace(/\$/g,"$$$$");class B4{constructor(e={}){this.logger=Jl.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:y,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:w,alwaysFormat:S}=e.interpolation;this.escape=n!==void 0?n:Mge,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?fm(i):a||"{{",this.suffix=o?fm(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?fm(p):m||fm("$t("),this.nestingSuffix=y?fm(y):v||fm(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=w||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const w=z4(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...s,...n,interpolationkey:m}):w}const y=m.split(this.formatSeparator),v=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(z4(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...s,...n,interpolationkey:v})};this.resetRegExp();const d=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>S$(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?S$(this.escape(m)):S$(m)}].forEach(m=>{for(o=0;i=m.regex.exec(e);){const y=i[1].trim();if(a=u(y),a===void 0)if(typeof d=="function"){const b=d(e,i,s);a=Kt(b)?b:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(f){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!Kt(a)&&!this.useRawValueToEscape&&(a=A4(a));const v=m.safeValue(a);if(e=e.replace(i[0],v),f?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,a;const o=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,a);const m=p.match(/'/g),y=p.match(/"/g);((m?.length??0)%2===0&&!y||y.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),u&&(a={...u,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${d}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!Kt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!Kt(i))return i;Kt(i)||(i=A4(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const Hge=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},j4=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=t(Jv(r),s),e[a]=o),o(n)}},Gge=t=>(e,n,r)=>t(Jv(n),r)(e);class qge{constructor(e={}){this.logger=Jl.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?j4:Gge;this.formats={number:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return o=>a.format(o)}),currency:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return o=>a.format(o)}),datetime:r((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return o=>a.format(o)}),relativetime:r((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return o=>a.format(o,i.range||"day")}),list:r((s,i)=>{const a=new Intl.ListFormat(s,{...i});return o=>a.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=j4(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:d}=Hge(l);if(this.formats[u]){let f=o;try{const p=s?.formatParams?.[s.interpolationkey]||{},m=p.locale||p.lng||s.locale||s.lng||r;f=this.formats[u](o,m,{...d,...s,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const Kge=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Xge extends vk{constructor(e,n,r,s={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Jl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},o={},l={};return e.forEach(u=>{let d=!0;n.forEach(f=>{const p=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,d=!1,a[p]===void 0&&(a[p]=!0),i[p]===void 0&&(i[p]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Dge(l.loaded,[i],a),Kge(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(f=>{o[u][f]===void 0&&(o[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Kt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Kt(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,s,i,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,r,s,l):d=u(e,n,r,s),d&&typeof d.then=="function"?d.then(f=>o(null,f)).catch(o):o(null,d)}catch(d){o(d)}else u(e,n,r,s,o,l)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const U4=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Kt(t[1])&&(e.defaultValue=t[1]),Kt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),V4=t=>(Kt(t.ns)&&(t.ns=[t.ns]),Kt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Kt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),rw=()=>{},Yge=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Vv extends vk{constructor(e={},n){if(super(),this.options=V4(e),this.services={},this.logger=Jl,this.modules={external:[]},Yge(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Kt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=U4();this.options={...r,...this.options,...V4(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Jl.init(s(this.modules.logger),this.options):Jl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=qge;const d=new M4(this.options);this.store=new _4(this.options.resources,this.options);const f=this.services;f.logger=Jl,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Wge(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new B4(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Xge(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...y)=>{this.emit(m,...y)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new SS(this.services,this.options),this.translator.on("*",(m,...y)=>{this.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=rw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const o=uv(),l=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=rw){let r=n;const s=Kt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const s=uv();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=rw),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&F8.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=uv();this.emit("languageChanging",e);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const l=Kt(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Kt(o)?[o]:o);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{i(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const s=(i,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(o)):l={...a},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(i)?d=i.map(f=>(typeof f=="function"&&(f=aO(f,{...this.options,...a})),`${l.keyPrefix}${u}${f}`)):(typeof i=="function"&&(i=aO(i,{...this.options,...a})),d=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(d,l)};return Kt(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=uv();return this.options.ns?(Kt(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=uv();Kt(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new M4(U4());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Vv(e,n);return r.createInstance=Vv.createInstance,r}cloneInstance(e={},n=rw){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Vv(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((d,f)=>(d[f]={...l[u][f]},d),l[u]),l),{});i.store=new _4(o,s),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new B4(s)),i.translator=new SS(i.services,s),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const na=Vv.createInstance();na.createInstance;na.dir;na.init;na.loadResources;na.reloadResources;na.use;na.changeLanguage;na.getFixedT;na.t;na.exists;na.setDefaultNamespace;na.hasLoadedNamespace;na.loadNamespaces;na.loadLanguages;const Zge=(t,e,n,r)=>{const s=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Rh(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...s):console?.warn&&console.warn(...s)},W4={},B8=(t,e,n,r)=>{Rh(n)&&W4[n]||(Rh(n)&&(W4[n]=new Date),Zge(t,e,n,r))},j8=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},oO=(t,e,n)=>{t.loadNamespaces(e,j8(t,n))},H4=(t,e,n,r)=>{if(Rh(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return oO(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,j8(t,r))},Qge=(t,e,n={})=>!e.languages||!e.languages.length?(B8(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),Rh=t=>typeof t=="string",Jge=t=>typeof t=="object"&&t!==null,eye=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,tye={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},nye=t=>tye[t],rye=t=>t.replace(eye,nye);let lO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:rye,transDefaultProps:void 0};const sye=(t={})=>{lO={...lO,...t}},iye=()=>lO;let U8;const aye=t=>{U8=t},oye=()=>U8,lye={type:"3rdParty",init(t){sye(t.options.react),aye(t)}},uye=$.createContext();class cye{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var C$={exports:{}},k$={};var G4;function dye(){if(G4)return k$;G4=1;var t=pg();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(f,p){var m=p(),y=r({inst:{value:m,getSnapshot:p}}),v=y[0].inst,b=y[1];return i(function(){v.value=m,v.getSnapshot=p,l(v)&&b({inst:v})},[f,m,p]),s(function(){return l(v)&&b({inst:v}),f(function(){l(v)&&b({inst:v})})},[f]),a(m),m}function l(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return k$.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,k$}var q4;function V8(){return q4||(q4=1,C$.exports=dye()),C$.exports}var fye=V8();const hye=(t,e)=>Rh(e)?e:Jge(e)&&Rh(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,pye={t:hye,ready:!1},mye=()=>()=>{},$a=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:s}=$.useContext(uye)||{},i=n||r||oye();i&&!i.reportNamespaces&&(i.reportNamespaces=new cye),i||B8(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=$.useMemo(()=>({...iye(),...i?.options?.react,...e}),[i,e]),{useSuspense:o,keyPrefix:l}=a,u=s||i?.options?.defaultNS,d=Rh(u)?[u]:u||["translation"],f=$.useMemo(()=>d,d);i?.reportNamespaces?.addUsedNamespaces?.(f);const p=$.useRef(0),m=$.useCallback(L=>{if(!i)return mye;const{bindI18n:z,bindI18nStore:P}=a,R=()=>{p.current+=1,L()};return z&&i.on(z,R),P&&i.store.on(P,R),()=>{z&&z.split(" ").forEach(H=>i.off(H,R)),P&&P.split(" ").forEach(H=>i.store.off(H,R))}},[i,a]),y=$.useRef(),v=$.useCallback(()=>{if(!i)return pye;const L=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(X=>Qge(X,i,a)),z=e.lng||i.language,P=p.current,R=y.current;if(R&&R.ready===L&&R.lng===z&&R.keyPrefix===l&&R.revision===P)return R;const q={t:i.getFixedT(z,a.nsMode==="fallback"?f:f[0],l),ready:L,lng:z,keyPrefix:l,revision:P};return y.current=q,q},[i,f,l,a,e.lng]),[b,w]=$.useState(0),{t:S,ready:C}=fye.useSyncExternalStore(m,v,v);$.useEffect(()=>{if(i&&!C&&!o){const L=()=>w(z=>z+1);e.lng?H4(i,e.lng,f,L):oO(i,f,L)}},[i,e.lng,f,C,o,b]);const T=i||{},N=$.useRef(null),O=$.useRef(),_=L=>{const z=Object.getOwnPropertyDescriptors(L);z.__original&&delete z.__original;const P=Object.create(Object.getPrototypeOf(L),z);if(!Object.prototype.hasOwnProperty.call(P,"__original"))try{Object.defineProperty(P,"__original",{value:L,writable:!1,enumerable:!1,configurable:!1})}catch{}return P},F=$.useMemo(()=>{const L=T,z=L?.language;let P=L;L&&(N.current&&N.current.__original===L?O.current!==z?(P=_(L),N.current=P,O.current=z):P=N.current:(P=_(L),N.current=P,O.current=z));const R=[S,P,C];return R.t=S,R.i18n=P,R.ready=C,R},[S,T,C,T.resolvedLanguage,T.language,T.languages]);if(i&&o&&!C)throw new Promise(L=>{const z=()=>L();e.lng?H4(i,e.lng,f,z):oO(i,f,z)});return F},K4=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},s=()=>e,o={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,o);return o},gye=(t=>t?K4(t):K4),yye=t=>t;function vye(t,e=yye){const n=ls.useSyncExternalStore(t.subscribe,ls.useCallback(()=>e(t.getState()),[t,e]),ls.useCallback(()=>e(t.getInitialState()),[t,e]));return ls.useDebugValue(n),n}const X4=t=>{const e=gye(t),n=r=>vye(e,r);return Object.assign(n,e),n},bye=(t=>t?X4(t):X4);function xye(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const uO=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return uO(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return uO(r)(n)}}}},wye=(t,e)=>(n,r,s)=>{let i={storage:xye(()=>localStorage),partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...e},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const d=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},f=s.setState;s.setState=(v,b)=>(f(v,b),d());const p=t((...v)=>(n(...v),d()),r,s);s.getInitialState=()=>p;let m;const y=()=>{var v,b;if(!u)return;a=!1,o.forEach(S=>{var C;return S((C=r())!=null?C:p)});const w=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(v=r())!=null?v:p))||void 0;return uO(u.getItem.bind(u))(i.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==i.version){if(i.migrate){const C=i.migrate(S.state,S.version);return C instanceof Promise?C.then(T=>[!0,T]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var C;const[T,N]=S;if(m=i.merge(N,(C=r())!=null?C:p),n(m,!0),T)return d()}).then(()=>{w?.(m,void 0),m=r(),a=!0,l.forEach(S=>S(m))}).catch(S=>{w?.(void 0,S)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||y(),m||p},Sye=wye,Ro=bye(Sye((t,e)=>({user:null,setUser:n=>t({user:n}),isOnline:navigator.onLine,setOnlineStatus:n=>t({isOnline:n}),language:"en",setLanguage:n=>t({language:n}),symptomsHistory:[],addSymptomRecord:n=>t(r=>({symptomsHistory:[n,...r.symptomsHistory].slice(0,50)})),vitalsHistory:[],addVitalsRecord:n=>t(r=>({vitalsHistory:[n,...r.vitalsHistory].slice(0,100)})),queuedConsultations:[],addConsultation:n=>t(r=>({queuedConsultations:[...r.queuedConsultations,n]})),removeConsultation:n=>t(r=>({queuedConsultations:r.queuedConsultations.filter(s=>s.id!==n)})),downloadedContent:[],addDownloadedContent:n=>t(r=>({downloadedContent:[...r.downloadedContent,n]})),modelsLoaded:!1,setModelsLoaded:n=>t({modelsLoaded:n})}),{name:"rural-health-storage",partialize:t=>({user:t.user,language:t.language,symptomsHistory:t.symptomsHistory,vitalsHistory:t.vitalsHistory,downloadedContent:t.downloadedContent,queuedConsultations:t.queuedConsultations})})),Cye=()=>{const{i18n:t}=$a(),{setLanguage:e}=Ro(),[n,r]=ls.useState(null),s=[{code:"en",name:"English"},{code:"bn",name:""}],i=l=>{r(l.currentTarget)},a=()=>{r(null)},o=l=>{t.changeLanguage(l),e(l),a()};return D.jsxs(D.Fragment,{children:[D.jsx(Oh,{color:"inherit",onClick:i,children:D.jsx(kge,{})}),D.jsx(I8,{anchorEl:n,open:!!n,onClose:a,children:s.map(l=>D.jsx(Iv,{onClick:()=>o(l.code),selected:t.language===l.code,children:D.jsx(Ql,{children:l.name})},l.code))})]})},kye=()=>{const{t}=$a();return D.jsx(g8,{position:"fixed",elevation:2,children:D.jsxs(D8,{children:[D.jsx(Tge,{sx:{mr:2}}),D.jsx(rt,{variant:"h6",component:"div",sx:{flexGrow:1},children:"GramSheba AI"}),D.jsx(Cye,{})]})})},Tye=()=>{const t=KC(),e=Qd(),{t:n}=$a(),r=[{label:n("nav.dashboard"),value:"/",icon:D.jsx(xge,{})},{label:n("nav.symptomChecker"),value:"/symptom-checker",icon:D.jsx(eO,{})},{label:n("nav.vitalsMonitor"),value:"/vitals",icon:D.jsx(nO,{})},{label:n("nav.healthEducation"),value:"/education",icon:D.jsx(P8,{})},{label:n("nav.telemedicine"),value:"/telemedicine",icon:D.jsx(M8,{})}];return D.jsx($n,{sx:{position:"fixed",bottom:0,left:0,right:0,zIndex:1e3,bgcolor:"background.paper",boxShadow:3},children:D.jsx(yhe,{value:e.pathname,onChange:(s,i)=>{t(i)},showLabels:!0,sx:{width:"100%","& .MuiBottomNavigationAction-root":{minWidth:{xs:"64px",sm:"80px"},padding:{xs:"6px 0",sm:"6px 12px"},"& .MuiBottomNavigationAction-label":{fontSize:{xs:"0.65rem",sm:"0.75rem"},"&.Mui-selected":{fontSize:{xs:"0.7rem",sm:"0.8rem"}}},"& .MuiSvgIcon-root":{fontSize:{xs:"1.3rem",sm:"1.5rem"}}}},children:r.map(s=>D.jsx(She,{label:s.label,value:s.value,icon:s.icon},s.value))})})},ZD=()=>{const{isOnline:t,setOnlineStatus:e}=Ro();return $.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[e]),t},Eye=()=>{const t=ZD(),{t:e}=$a();return D.jsx(C8,{direction:"down",in:!t,mountOnEnter:!0,unmountOnExit:!0,children:D.jsxs(Li,{icon:D.jsx(Age,{}),severity:"warning",sx:{position:"fixed",top:64,left:0,right:0,zIndex:1300,borderRadius:0},children:[e("common.offline")," - Data will sync when connection is restored"]})})},Nye=({children:t})=>D.jsxs($n,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[D.jsx(kye,{}),D.jsx(Eye,{}),D.jsx(x8,{maxWidth:"lg",sx:{flex:1,py:3,mt:8},children:t}),D.jsx(Tye,{})]}),$ye=()=>D.jsxs($n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",bgcolor:"background.default"},children:[D.jsx(tf,{size:60}),D.jsx(rt,{variant:"h6",sx:{mt:2},children:"Loading..."})]}),W8=6048e5,Iye=864e5,Y4=Symbol.for("constructDateFrom");function Fd(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Y4 in t?t[Y4](e):t instanceof Date?new t.constructor(e):new Date(e)}function Sl(t,e){return Fd(e||t,t)}let Aye={};function bk(){return Aye}function eb(t,e){const n=bk(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Sl(t,e?.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function CS(t,e){return eb(t,{...e,weekStartsOn:1})}function H8(t,e){const n=Sl(t,e?.in),r=n.getFullYear(),s=Fd(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=CS(s),a=Fd(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=CS(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Z4(t){const e=Sl(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Oye(t,...e){const n=Fd.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Q4(t,e){const n=Sl(t,e?.in);return n.setHours(0,0,0,0),n}function Rye(t,e,n){const[r,s]=Oye(n?.in,t,e),i=Q4(r),a=Q4(s),o=+i-Z4(i),l=+a-Z4(a);return Math.round((o-l)/Iye)}function Dye(t,e){const n=H8(t,e),r=Fd(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),CS(r)}function _ye(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Pye(t){return!(!_ye(t)&&typeof t!="number"||isNaN(+Sl(t)))}function Mye(t,e){const n=Sl(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Lye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fye=(t,e,n)=>{let r;const s=Lye[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function T$(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uye={date:T$({formats:zye,defaultWidth:"full"}),time:T$({formats:Bye,defaultWidth:"full"}),dateTime:T$({formats:jye,defaultWidth:"full"})},Vye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wye=(t,e,n,r)=>Vye[t];function cv(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Hye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Qye={ordinalNumber:Zye,era:cv({values:Hye,defaultWidth:"wide"}),quarter:cv({values:Gye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cv({values:qye,defaultWidth:"wide"}),day:cv({values:Kye,defaultWidth:"wide"}),dayPeriod:cv({values:Xye,defaultWidth:"wide",formattingValues:Yye,defaultFormattingWidth:"wide"})};function dv(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?eve(o,f=>f.test(a)):Jye(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Jye(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eve(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tve(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const nve=/^(\d+)(th|st|nd|rd)?/i,rve=/\d+/i,sve={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ive={any:[/^b/i,/^(a|c)/i]},ave={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ove={any:[/1/i,/2/i,/3/i,/4/i]},lve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pve={ordinalNumber:tve({matchPattern:nve,parsePattern:rve,valueCallback:t=>parseInt(t,10)}),era:dv({matchPatterns:sve,defaultMatchWidth:"wide",parsePatterns:ive,defaultParseWidth:"any"}),quarter:dv({matchPatterns:ave,defaultMatchWidth:"wide",parsePatterns:ove,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dv({matchPatterns:lve,defaultMatchWidth:"wide",parsePatterns:uve,defaultParseWidth:"any"}),day:dv({matchPatterns:cve,defaultMatchWidth:"wide",parsePatterns:dve,defaultParseWidth:"any"}),dayPeriod:dv({matchPatterns:fve,defaultMatchWidth:"any",parsePatterns:hve,defaultParseWidth:"any"})},mve={code:"en-US",formatDistance:Fye,formatLong:Uye,formatRelative:Wye,localize:Qye,match:pve,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gve(t,e){const n=Sl(t,e?.in);return Rye(n,Mye(n))+1}function yve(t,e){const n=Sl(t,e?.in),r=+CS(n)-+Dye(n);return Math.round(r/W8)+1}function G8(t,e){const n=Sl(t,e?.in),r=n.getFullYear(),s=bk(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=Fd(e?.in||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=eb(a,e),l=Fd(e?.in||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=eb(l,e);return+n>=+o?r+1:+n>=+u?r:r-1}function vve(t,e){const n=bk(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=G8(t,e),i=Fd(e?.in||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),eb(i,e)}function bve(t,e){const n=Sl(t,e?.in),r=+eb(n,e)-+vve(n,e);return Math.round(r/W8)+1}function qn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return qn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):qn(n+1,2)},d(t,e){return qn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return qn(t.getHours()%12||12,e.length)},H(t,e){return qn(t.getHours(),e.length)},m(t,e){return qn(t.getMinutes(),e.length)},s(t,e){return qn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return qn(s,e.length)}},hm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J4={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return xd.y(t,e)},Y:function(t,e,n,r){const s=G8(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return qn(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):qn(i,e.length)},R:function(t,e){const n=H8(t);return qn(n,e.length)},u:function(t,e){const n=t.getFullYear();return qn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return qn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return qn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return qn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=bve(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):qn(s,e.length)},I:function(t,e,n){const r=yve(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):qn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xd.d(t,e)},D:function(t,e,n){const r=gve(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):qn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return qn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return qn(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return qn(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=hm.noon:r===0?s=hm.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=hm.evening:r>=12?s=hm.afternoon:r>=4?s=hm.morning:s=hm.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xd.s(t,e)},S:function(t,e){return xd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return tU(r);case"XXXX":case"XX":return ih(r);default:return ih(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return tU(r);case"xxxx":case"xx":return ih(r);default:return ih(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eU(r,":");default:return"GMT"+ih(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eU(r,":");default:return"GMT"+ih(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return qn(r,e.length)},T:function(t,e,n){return qn(+t,e.length)}};function eU(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+qn(i,2)}function tU(t,e){return t%60===0?(t>0?"-":"+")+qn(Math.abs(t)/60,2):ih(t,e)}function ih(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=qn(Math.trunc(r/60),2),i=qn(r%60,2);return n+s+e+i}const nU=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},q8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},xve=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return nU(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",nU(r,e)).replace("{{time}}",q8(s,e))},wve={p:q8,P:xve},Sve=/^D+$/,Cve=/^Y+$/,kve=["D","DD","YY","YYYY"];function Tve(t){return Sve.test(t)}function Eve(t){return Cve.test(t)}function Nve(t,e,n){const r=$ve(t,e,n);if(console.warn(r),kve.includes(t))throw new RangeError(r)}function $ve(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ive=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ave=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ove=/^'([^]*?)'?$/,Rve=/''/g,Dve=/[a-zA-Z]/;function kS(t,e,n){const r=bk(),s=r.locale??mve,i=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Sl(t,n?.in);if(!Pye(o))throw new RangeError("Invalid time value");let l=e.match(Ave).map(d=>{const f=d[0];if(f==="p"||f==="P"){const p=wve[f];return p(d,s.formatLong)}return d}).join("").match(Ive).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:_ve(d)};if(J4[f])return{isToken:!0,value:d};if(f.match(Dve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(d=>{if(!d.isToken)return d.value;const f=d.value;(Eve(f)||Tve(f))&&Nve(f,e,String(t));const p=J4[f[0]];return p(o,f,s.localize,u)}).join("")}function _ve(t){const e=t.match(Ove);return e?e[1].replace(Rve,"'"):t}var Vw={exports:{}},Pve=Vw.exports,rU;function Mve(){return rU||(rU=1,(function(t,e){(function(n,r){t.exports=r()})(Pve,function(){var n=function(k,I){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,j){M.__proto__=j}||function(M,j){for(var W in j)Object.prototype.hasOwnProperty.call(j,W)&&(M[W]=j[W])})(k,I)},r=function(){return(r=Object.assign||function(k){for(var I,M=1,j=arguments.length;M<j;M++)for(var W in I=arguments[M])Object.prototype.hasOwnProperty.call(I,W)&&(k[W]=I[W]);return k}).apply(this,arguments)};function s(k,I,M){for(var j,W=0,K=I.length;W<K;W++)!j&&W in I||((j=j||Array.prototype.slice.call(I,0,W))[W]=I[W]);return k.concat(j||Array.prototype.slice.call(I))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Mie,a=Object.keys,o=Array.isArray;function l(k,I){return typeof I!="object"||a(I).forEach(function(M){k[M]=I[M]}),k}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var u=Object.getPrototypeOf,d={}.hasOwnProperty;function f(k,I){return d.call(k,I)}function p(k,I){typeof I=="function"&&(I=I(u(k))),(typeof Reflect>"u"?a:Reflect.ownKeys)(I).forEach(function(M){y(k,M,I[M])})}var m=Object.defineProperty;function y(k,I,M,j){m(k,I,l(M&&f(M,"get")&&typeof M.get=="function"?{get:M.get,set:M.set,configurable:!0}:{value:M,configurable:!0,writable:!0},j))}function v(k){return{from:function(I){return k.prototype=Object.create(I.prototype),y(k.prototype,"constructor",k),{extend:p.bind(null,k.prototype)}}}}var b=Object.getOwnPropertyDescriptor,w=[].slice;function S(k,I,M){return w.call(k,I,M)}function C(k,I){return I(k)}function T(k){if(!k)throw new Error("Assertion Failed")}function N(k){i.setImmediate?setImmediate(k):setTimeout(k,0)}function O(k,I){if(typeof I=="string"&&f(k,I))return k[I];if(!I)return k;if(typeof I!="string"){for(var M=[],j=0,W=I.length;j<W;++j){var K=O(k,I[j]);M.push(K)}return M}var re=I.indexOf(".");if(re!==-1){var ie=k[I.substr(0,re)];return ie==null?void 0:O(ie,I.substr(re+1))}}function _(k,I,M){if(k&&I!==void 0&&!("isFrozen"in Object&&Object.isFrozen(k)))if(typeof I!="string"&&"length"in I){T(typeof M!="string"&&"length"in M);for(var j=0,W=I.length;j<W;++j)_(k,I[j],M[j])}else{var K,re,ie=I.indexOf(".");ie!==-1?(K=I.substr(0,ie),(re=I.substr(ie+1))===""?M===void 0?o(k)&&!isNaN(parseInt(K))?k.splice(K,1):delete k[K]:k[K]=M:_(ie=!(ie=k[K])||!f(k,K)?k[K]={}:ie,re,M)):M===void 0?o(k)&&!isNaN(parseInt(I))?k.splice(I,1):delete k[I]:k[I]=M}}function F(k){var I,M={};for(I in k)f(k,I)&&(M[I]=k[I]);return M}var L=[].concat;function z(k){return L.apply([],k)}var an="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(z([8,16,32,64].map(function(k){return["Int","Uint","Float"].map(function(I){return I+k+"Array"})}))).filter(function(k){return i[k]}),P=new Set(an.map(function(k){return i[k]})),R=null;function H(k){return R=new WeakMap,k=(function I(M){if(!M||typeof M!="object")return M;var j=R.get(M);if(j)return j;if(o(M)){j=[],R.set(M,j);for(var W=0,K=M.length;W<K;++W)j.push(I(M[W]))}else if(P.has(M.constructor))j=M;else{var re,ie=u(M);for(re in j=ie===Object.prototype?{}:Object.create(ie),R.set(M,j),M)f(M,re)&&(j[re]=I(M[re]))}return j})(k),R=null,k}var q={}.toString;function X(k){return q.call(k).slice(8,-1)}var V=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ee=typeof V=="symbol"?function(k){var I;return k!=null&&(I=k[V])&&I.apply(k)}:function(){return null};function J(k,I){return I=k.indexOf(I),0<=I&&k.splice(I,1),0<=I}var te={};function ce(k){var I,M,j,W;if(arguments.length===1){if(o(k))return k.slice();if(this===te&&typeof k=="string")return[k];if(W=ee(k)){for(M=[];!(j=W.next()).done;)M.push(j.value);return M}if(k==null)return[k];if(typeof(I=k.length)!="number")return[k];for(M=new Array(I);I--;)M[I]=k[I];return M}for(I=arguments.length,M=new Array(I);I--;)M[I]=arguments[I];return M}var G=typeof Symbol<"u"?function(k){return k[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},hr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Hi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(hr),ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(k,I){this.name=k,this.message=I}function be(k,I){return k+". Errors: "+Object.keys(I).map(function(M){return I[M].toString()}).filter(function(M,j,W){return W.indexOf(M)===j}).join(`
`)}function $e(k,I,M,j){this.failures=I,this.failedKeys=j,this.successCount=M,this.message=be(k,I)}function Ie(k,I){this.name="BulkError",this.failures=Object.keys(I).map(function(M){return I[M]}),this.failuresByPos=I,this.message=be(k,this.failures)}v(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v($e).from(ae),v(Ie).from(ae);var Me=Hi.reduce(function(k,I){return k[I]=I+"Error",k},{}),st=ae,se=Hi.reduce(function(k,I){var M=I+"Error";function j(W,K){this.name=M,W?typeof W=="string"?(this.message="".concat(W).concat(K?`
 `+K:""),this.inner=K||null):typeof W=="object"&&(this.message="".concat(W.name," ").concat(W.message),this.inner=W):(this.message=ne[I]||M,this.inner=null)}return v(j).from(st),k[I]=j,k},{});se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError;var je=hr.reduce(function(k,I){return k[I+"Error"]=se[I],k},{}),Ge=Hi.reduce(function(k,I){return["Syntax","Type","Range"].indexOf(I)===-1&&(k[I+"Error"]=se[I]),k},{});function Se(){}function yt(k){return k}function Qe(k,I){return k==null||k===yt?I:function(M){return I(k(M))}}function ut(k,I){return function(){k.apply(this,arguments),I.apply(this,arguments)}}function kt(k,I){return k===Se?I:function(){var M=k.apply(this,arguments);M!==void 0&&(arguments[0]=M);var j=this.onsuccess,W=this.onerror;this.onsuccess=null,this.onerror=null;var K=I.apply(this,arguments);return j&&(this.onsuccess=this.onsuccess?ut(j,this.onsuccess):j),W&&(this.onerror=this.onerror?ut(W,this.onerror):W),K!==void 0?K:M}}function Dt(k,I){return k===Se?I:function(){k.apply(this,arguments);var M=this.onsuccess,j=this.onerror;this.onsuccess=this.onerror=null,I.apply(this,arguments),M&&(this.onsuccess=this.onsuccess?ut(M,this.onsuccess):M),j&&(this.onerror=this.onerror?ut(j,this.onerror):j)}}function Ot(k,I){return k===Se?I:function(M){var j=k.apply(this,arguments);l(M,j);var W=this.onsuccess,K=this.onerror;return this.onsuccess=null,this.onerror=null,M=I.apply(this,arguments),W&&(this.onsuccess=this.onsuccess?ut(W,this.onsuccess):W),K&&(this.onerror=this.onerror?ut(K,this.onerror):K),j===void 0?M===void 0?void 0:M:l(j,M)}}function fn(k,I){return k===Se?I:function(){return I.apply(this,arguments)!==!1&&k.apply(this,arguments)}}function Zt(k,I){return k===Se?I:function(){var M=k.apply(this,arguments);if(M&&typeof M.then=="function"){for(var j=this,W=arguments.length,K=new Array(W);W--;)K[W]=arguments[W];return M.then(function(){return I.apply(j,K)})}return I.apply(this,arguments)}}Ge.ModifyError=$e,Ge.DexieError=ae,Ge.BulkError=Ie;var Ht=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pt(k){Ht=k}var fr={},Lt=100,an=typeof Promise>"u"?[]:(function(){var k=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[k,u(k),k];var I=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[I,u(I),k]})(),hr=an[0],Hi=an[1],an=an[2],Hi=Hi&&Hi.then,Bt=hr&&hr.constructor,kn=!!an,_n=function(k,I){$t.push([k,I]),vn&&(queueMicrotask(Px),vn=!1)},Jr=!0,vn=!0,es=[],Br=[],_r=yt,ts={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:Se},mt=ts,$t=[],Tn=0,Cr=[];function lt(k){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var I=this._PSD=mt;if(typeof k!="function"){if(k!==fr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ko(this,this._value))}this._state=null,this._value=null,++I.ref,(function M(j,W){try{W(function(K){if(j._state===null){if(K===j)throw new TypeError("A promise cannot be resolved with itself.");var re=j._lib&&Nl();K&&typeof K.then=="function"?M(j,function(ie,he){K instanceof lt?K._then(ie,he):K.then(ie,he)}):(j._state=!0,j._value=K,xf(j)),re&&no()}},Ko.bind(null,j))}catch(K){Ko(j,K)}})(this,k)}var qo={get:function(){var k=mt,I=Cf;function M(j,W){var K=this,re=!k.global&&(k!==mt||I!==Cf),ie=re&&!Vi(),he=new lt(function(ge,Ce){ku(K,new bf(gp(j,k,re,ie),gp(W,k,re,ie),ge,Ce,k))});return this._consoleTask&&(he._consoleTask=this._consoleTask),he}return M.prototype=fr,M},set:function(k){y(this,"then",k&&k.prototype===fr?qo:{get:function(){return k},set:qo.set})}};function bf(k,I,M,j,W){this.onFulfilled=typeof k=="function"?k:null,this.onRejected=typeof I=="function"?I:null,this.resolve=M,this.reject=j,this.psd=W}function Ko(k,I){var M,j;Br.push(I),k._state===null&&(M=k._lib&&Nl(),I=_r(I),k._state=!1,k._value=I,j=k,es.some(function(W){return W._value===j._value})||es.push(j),xf(k),M&&no())}function xf(k){var I=k._listeners;k._listeners=[];for(var M=0,j=I.length;M<j;++M)ku(k,I[M]);var W=k._PSD;--W.ref||W.finalize(),Tn===0&&(++Tn,_n(function(){--Tn==0&&Jg()},[]))}function ku(k,I){if(k._state!==null){var M=k._state?I.onFulfilled:I.onRejected;if(M===null)return(k._state?I.resolve:I.reject)(k._value);++I.psd.ref,++Tn,_n(sE,[M,k,I])}else k._listeners.push(I)}function sE(k,I,M){try{var j,W=I._value;!I._state&&Br.length&&(Br=[]),j=Ht&&I._consoleTask?I._consoleTask.run(function(){return k(W)}):k(W),I._state||Br.indexOf(W)!==-1||(function(K){for(var re=es.length;re;)if(es[--re]._value===K._value)return es.splice(re,1)})(I),M.resolve(j)}catch(K){M.reject(K)}finally{--Tn==0&&Jg(),--M.psd.ref||M.psd.finalize()}}function Px(){Da(ts,function(){Nl()&&no()})}function Nl(){var k=Jr;return vn=Jr=!1,k}function no(){var k,I,M;do for(;0<$t.length;)for(k=$t,$t=[],M=k.length,I=0;I<M;++I){var j=k[I];j[0].apply(null,j[1])}while(0<$t.length);vn=Jr=!0}function Jg(){var k=es;es=[],k.forEach(function(j){j._PSD.onunhandled.call(null,j._value,j)});for(var I=Cr.slice(0),M=I.length;M;)I[--M]()}function wf(k){return new lt(fr,!1,k)}function sr(k,I){var M=mt;return function(){var j=Nl(),W=mt;try{return Il(M,!0),k.apply(this,arguments)}catch(K){I&&I(K)}finally{Il(W,!1),j&&no()}}}p(lt.prototype,{then:qo,_then:function(k,I){ku(this,new bf(null,null,k,I,mt))},catch:function(k){if(arguments.length===1)return this.then(null,k);var I=k,M=arguments[1];return typeof I=="function"?this.then(null,function(j){return(j instanceof I?M:wf)(j)}):this.then(null,function(j){return(j&&j.name===I?M:wf)(j)})},finally:function(k){return this.then(function(I){return lt.resolve(k()).then(function(){return I})},function(I){return lt.resolve(k()).then(function(){return wf(I)})})},timeout:function(k,I){var M=this;return k<1/0?new lt(function(j,W){var K=setTimeout(function(){return W(new se.Timeout(I))},k);M.then(j,W).finally(clearTimeout.bind(null,K))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(lt.prototype,Symbol.toStringTag,"Dexie.Promise"),ts.env=ty(),p(lt,{all:function(){var k=ce.apply(null,arguments).map(jc);return new lt(function(I,M){k.length===0&&I([]);var j=k.length;k.forEach(function(W,K){return lt.resolve(W).then(function(re){k[K]=re,--j||I(k)},M)})})},resolve:function(k){return k instanceof lt?k:k&&typeof k.then=="function"?new lt(function(I,M){k.then(I,M)}):new lt(fr,!0,k)},reject:wf,race:function(){var k=ce.apply(null,arguments).map(jc);return new lt(function(I,M){k.map(function(j){return lt.resolve(j).then(I,M)})})},PSD:{get:function(){return mt},set:function(k){return mt=k}},totalEchoes:{get:function(){return Cf}},newPSD:ur,usePSD:Da,scheduler:{get:function(){return _n},set:function(k){_n=k}},rejectionMapper:{get:function(){return _r},set:function(k){_r=k}},follow:function(k,I){return new lt(function(M,j){return ur(function(W,K){var re=mt;re.unhandleds=[],re.onunhandled=K,re.finalize=ut(function(){var ie,he=this;ie=function(){he.unhandleds.length===0?W():K(he.unhandleds[0])},Cr.push(function ge(){ie(),Cr.splice(Cr.indexOf(ge),1)}),++Tn,_n(function(){--Tn==0&&Jg()},[])},re.finalize),k()},I,M,j)})}}),Bt&&(Bt.allSettled&&y(lt,"allSettled",function(){var k=ce.apply(null,arguments).map(jc);return new lt(function(I){k.length===0&&I([]);var M=k.length,j=new Array(M);k.forEach(function(W,K){return lt.resolve(W).then(function(re){return j[K]={status:"fulfilled",value:re}},function(re){return j[K]={status:"rejected",reason:re}}).then(function(){return--M||I(j)})})})}),Bt.any&&typeof AggregateError<"u"&&y(lt,"any",function(){var k=ce.apply(null,arguments).map(jc);return new lt(function(I,M){k.length===0&&M(new AggregateError([]));var j=k.length,W=new Array(j);k.forEach(function(K,re){return lt.resolve(K).then(function(ie){return I(ie)},function(ie){W[re]=ie,--j||M(new AggregateError(W))})})})}),Bt.withResolvers&&(lt.withResolvers=Bt.withResolvers));var ns={awaits:0,echoes:0,id:0},ey=0,Bc=[],Sf=0,Cf=0,$l=0;function ur(k,I,M,j){var W=mt,K=Object.create(W);return K.parent=W,K.ref=0,K.global=!1,K.id=++$l,ts.env,K.env=kn?{Promise:lt,PromiseProp:{value:lt,configurable:!0,writable:!0},all:lt.all,race:lt.race,allSettled:lt.allSettled,any:lt.any,resolve:lt.resolve,reject:lt.reject}:{},I&&l(K,I),++W.ref,K.finalize=function(){--this.parent.ref||this.parent.finalize()},j=Da(K,k,M,j),K.ref===0&&K.finalize(),j}function rs(){return ns.id||(ns.id=++ey),++ns.awaits,ns.echoes+=Lt,ns.id}function Vi(){return!!ns.awaits&&(--ns.awaits==0&&(ns.id=0),ns.echoes=ns.awaits*Lt,!0)}function jc(k){return ns.echoes&&k&&k.constructor===Bt?(rs(),k.then(function(I){return Vi(),I},function(I){return Vi(),Yn(I)})):k}function iE(){var k=Bc[Bc.length-1];Bc.pop(),Il(k,!1)}function Il(k,I){var M,j=mt;(I?!ns.echoes||Sf++&&k===mt:!Sf||--Sf&&k===mt)||queueMicrotask(I?(function(W){++Cf,ns.echoes&&--ns.echoes!=0||(ns.echoes=ns.awaits=ns.id=0),Bc.push(mt),Il(W,!0)}).bind(null,k):iE),k!==mt&&(mt=k,j===ts&&(ts.env=ty()),kn&&(M=ts.env.Promise,I=k.env,(j.global||k.global)&&(Object.defineProperty(i,"Promise",I.PromiseProp),M.all=I.all,M.race=I.race,M.resolve=I.resolve,M.reject=I.reject,I.allSettled&&(M.allSettled=I.allSettled),I.any&&(M.any=I.any))))}function ty(){var k=i.Promise;return kn?{Promise:k,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:k.all,race:k.race,allSettled:k.allSettled,any:k.any,resolve:k.resolve,reject:k.reject}:{}}function Da(k,I,M,j,W){var K=mt;try{return Il(k,!0),I(M,j,W)}finally{Il(K,!1)}}function gp(k,I,M,j){return typeof k!="function"?k:function(){var W=mt;M&&rs(),Il(I,!0);try{return k.apply(this,arguments)}finally{Il(W,!1),j&&queueMicrotask(Vi)}}}function Al(k){Promise===Bt&&ns.echoes===0?Sf===0?k():enqueueNativeMicroTask(k):setTimeout(k,0)}(""+Hi).indexOf("[native code]")===-1&&(rs=Vi=Se);var Yn=lt.reject,_a="",ki="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ss="String expected.",Tu=[],kf="__dbnames",Xo="readonly",Ol="readwrite";function Eu(k,I){return k?I?function(){return k.apply(this,arguments)&&I.apply(this,arguments)}:k:I}var ny={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Tf(k){return typeof k!="string"||/\./.test(k)?function(I){return I}:function(I){return I[k]===void 0&&k in I&&delete(I=H(I))[k],I}}function Mx(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ln(k,I){try{var M=Ef(k),j=Ef(I);if(M!==j)return M==="Array"?1:j==="Array"?-1:M==="binary"?1:j==="binary"?-1:M==="string"?1:j==="string"?-1:M==="Date"?1:j!=="Date"?NaN:-1;switch(M){case"number":case"Date":case"string":return I<k?1:k<I?-1:0;case"binary":return(function(W,K){for(var re=W.length,ie=K.length,he=re<ie?re:ie,ge=0;ge<he;++ge)if(W[ge]!==K[ge])return W[ge]<K[ge]?-1:1;return re===ie?0:re<ie?-1:1})(ro(k),ro(I));case"Array":return(function(W,K){for(var re=W.length,ie=K.length,he=re<ie?re:ie,ge=0;ge<he;++ge){var Ce=ln(W[ge],K[ge]);if(Ce!==0)return Ce}return re===ie?0:re<ie?-1:1})(k,I)}}catch{}return NaN}function Ef(k){var I=typeof k;return I!="object"?I:ArrayBuffer.isView(k)?"binary":(k=X(k),k==="ArrayBuffer"?"binary":k)}function ro(k){return k instanceof Uint8Array?k:ArrayBuffer.isView(k)?new Uint8Array(k.buffer,k.byteOffset,k.byteLength):new Uint8Array(k)}function ui(k,I,M){var j=k.schema.yProps;return j?(I&&0<M.numFailures&&(I=I.filter(function(W,K){return!M.failures[K]})),Promise.all(j.map(function(W){return W=W.updatesTable,I?k.db.table(W).where("k").anyOf(I).delete():k.db.table(W).clear()})).then(function(){return M})):M}var Uc=(Lx.prototype.execute=function(k){var I=this["@@propmod"];if(I.add!==void 0){var M=I.add;if(o(M))return s(s([],o(k)?k:[],!0),M).sort();if(typeof M=="number")return(Number(k)||0)+M;if(typeof M=="bigint")try{return BigInt(k)+M}catch{return BigInt(0)+M}throw new TypeError("Invalid term ".concat(M))}if(I.remove!==void 0){var j=I.remove;if(o(j))return o(k)?k.filter(function(W){return!j.includes(W)}).sort():[];if(typeof j=="number")return Number(k)-j;if(typeof j=="bigint")try{return BigInt(k)-j}catch{return BigInt(0)-j}throw new TypeError("Invalid subtrahend ".concat(j))}return M=(M=I.replacePrefix)===null||M===void 0?void 0:M[0],M&&typeof k=="string"&&k.startsWith(M)?I.replacePrefix[1]+k.substring(M.length):k},Lx);function Lx(k){this["@@propmod"]=k}function yp(k,I){for(var M=a(I),j=M.length,W=!1,K=0;K<j;++K){var re=M[K],ie=I[re],he=O(k,re);ie instanceof Uc?(_(k,re,ie.execute(he)),W=!0):he!==ie&&(_(k,re,ie),W=!0)}return W}var ry=(Pn.prototype._trans=function(k,I,M){var j=this._tx||mt.trans,W=this.name,K=Ht&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(k==="readonly"?"read":"write"," ").concat(this.name));function re(ge,Ce,ue){if(!ue.schema[W])throw new se.NotFound("Table "+W+" not part of transaction");return I(ue.idbtrans,ue)}var ie=Nl();try{var he=j&&j.db._novip===this.db._novip?j===mt.trans?j._promise(k,re,M):ur(function(){return j._promise(k,re,M)},{trans:j,transless:mt.transless||mt}):(function ge(Ce,ue,Te,ye){if(Ce.idbdb&&(Ce._state.openComplete||mt.letThrough||Ce._vip)){var xe=Ce._createTransaction(ue,Te,Ce._dbSchema);try{xe.create(),Ce._state.PR1398_maxLoop=3}catch(we){return we.name===Me.InvalidState&&Ce.isOpen()&&0<--Ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ce.close({disableAutoOpen:!1}),Ce.open().then(function(){return ge(Ce,ue,Te,ye)})):Yn(we)}return xe._promise(ue,function(we,ke){return ur(function(){return mt.trans=xe,ye(we,ke,xe)})}).then(function(we){if(ue==="readwrite")try{xe.idbtrans.commit()}catch{}return ue==="readonly"?we:xe._completion.then(function(){return we})})}if(Ce._state.openComplete)return Yn(new se.DatabaseClosed(Ce._state.dbOpenError));if(!Ce._state.isBeingOpened){if(!Ce._state.autoOpen)return Yn(new se.DatabaseClosed);Ce.open().catch(Se)}return Ce._state.dbReadyPromise.then(function(){return ge(Ce,ue,Te,ye)})})(this.db,k,[this.name],re);return K&&(he._consoleTask=K,he=he.catch(function(ge){return console.trace(ge),Yn(ge)})),he}finally{ie&&no()}},Pn.prototype.get=function(k,I){var M=this;return k&&k.constructor===Object?this.where(k).first(I):k==null?Yn(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(j){return M.core.get({trans:j,key:k}).then(function(W){return M.hook.reading.fire(W)})}).then(I)},Pn.prototype.where=function(k){if(typeof k=="string")return new this.db.WhereClause(this,k);if(o(k))return new this.db.WhereClause(this,"[".concat(k.join("+"),"]"));var I=a(k);if(I.length===1)return this.where(I[0]).equals(k[I[0]]);var M=this.schema.indexes.concat(this.schema.primKey).filter(function(ie){if(ie.compound&&I.every(function(ge){return 0<=ie.keyPath.indexOf(ge)})){for(var he=0;he<I.length;++he)if(I.indexOf(ie.keyPath[he])===-1)return!1;return!0}return!1}).sort(function(ie,he){return ie.keyPath.length-he.keyPath.length})[0];if(M&&this.db._maxKey!==_a){var K=M.keyPath.slice(0,I.length);return this.where(K).equals(K.map(function(he){return k[he]}))}!M&&Ht&&console.warn("The query ".concat(JSON.stringify(k)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(I.join("+"),"]"));var j=this.schema.idxByName;function W(ie,he){return ln(ie,he)===0}var re=I.reduce(function(ue,he){var ge=ue[0],Ce=ue[1],ue=j[he],Te=k[he];return[ge||ue,ge||!ue?Eu(Ce,ue&&ue.multi?function(ye){return ye=O(ye,he),o(ye)&&ye.some(function(xe){return W(Te,xe)})}:function(ye){return W(Te,O(ye,he))}):Ce]},[null,null]),K=re[0],re=re[1];return K?this.where(K.name).equals(k[K.keyPath]).filter(re):M?this.filter(re):this.where(I).equals("")},Pn.prototype.filter=function(k){return this.toCollection().and(k)},Pn.prototype.count=function(k){return this.toCollection().count(k)},Pn.prototype.offset=function(k){return this.toCollection().offset(k)},Pn.prototype.limit=function(k){return this.toCollection().limit(k)},Pn.prototype.each=function(k){return this.toCollection().each(k)},Pn.prototype.toArray=function(k){return this.toCollection().toArray(k)},Pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Pn.prototype.orderBy=function(k){return new this.db.Collection(new this.db.WhereClause(this,o(k)?"[".concat(k.join("+"),"]"):k))},Pn.prototype.reverse=function(){return this.toCollection().reverse()},Pn.prototype.mapToClass=function(k){var I,M=this.db,j=this.name;function W(){return I!==null&&I.apply(this,arguments)||this}(this.schema.mappedClass=k).prototype instanceof Mx&&((function(he,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function Ce(){this.constructor=he}n(he,ge),he.prototype=ge===null?Object.create(ge):(Ce.prototype=ge.prototype,new Ce)})(W,I=k),Object.defineProperty(W.prototype,"db",{get:function(){return M},enumerable:!1,configurable:!0}),W.prototype.table=function(){return j},k=W);for(var K=new Set,re=k.prototype;re;re=u(re))Object.getOwnPropertyNames(re).forEach(function(he){return K.add(he)});function ie(he){if(!he)return he;var ge,Ce=Object.create(k.prototype);for(ge in he)if(!K.has(ge))try{Ce[ge]=he[ge]}catch{}return Ce}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ie,this.hook("reading",ie),k},Pn.prototype.defineClass=function(){return this.mapToClass(function(k){l(this,k)})},Pn.prototype.add=function(k,I){var M=this,j=this.schema.primKey,W=j.auto,K=j.keyPath,re=k;return K&&W&&(re=Tf(K)(k)),this._trans("readwrite",function(ie){return M.core.mutate({trans:ie,type:"add",keys:I!=null?[I]:null,values:[re]})}).then(function(ie){return ie.numFailures?lt.reject(ie.failures[0]):ie.lastResult}).then(function(ie){if(K)try{_(k,K,ie)}catch{}return ie})},Pn.prototype.upsert=function(k,I){var M=this,j=this.schema.primKey.keyPath;return this._trans("readwrite",function(W){return M.core.get({trans:W,key:k}).then(function(K){var re=K??{};return yp(re,I),j&&_(re,j,k),M.core.mutate({trans:W,type:"put",values:[re],keys:[k],upsert:!0,updates:{keys:[k],changeSpecs:[I]}}).then(function(ie){return ie.numFailures?lt.reject(ie.failures[0]):!!K})})})},Pn.prototype.update=function(k,I){return typeof k!="object"||o(k)?this.where(":id").equals(k).modify(I):(k=O(k,this.schema.primKey.keyPath),k===void 0?Yn(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(k).modify(I))},Pn.prototype.put=function(k,I){var M=this,j=this.schema.primKey,W=j.auto,K=j.keyPath,re=k;return K&&W&&(re=Tf(K)(k)),this._trans("readwrite",function(ie){return M.core.mutate({trans:ie,type:"put",values:[re],keys:I!=null?[I]:null})}).then(function(ie){return ie.numFailures?lt.reject(ie.failures[0]):ie.lastResult}).then(function(ie){if(K)try{_(k,K,ie)}catch{}return ie})},Pn.prototype.delete=function(k){var I=this;return this._trans("readwrite",function(M){return I.core.mutate({trans:M,type:"delete",keys:[k]}).then(function(j){return ui(I,[k],j)}).then(function(j){return j.numFailures?lt.reject(j.failures[0]):void 0})})},Pn.prototype.clear=function(){var k=this;return this._trans("readwrite",function(I){return k.core.mutate({trans:I,type:"deleteRange",range:ny}).then(function(M){return ui(k,null,M)})}).then(function(I){return I.numFailures?lt.reject(I.failures[0]):void 0})},Pn.prototype.bulkGet=function(k){var I=this;return this._trans("readonly",function(M){return I.core.getMany({keys:k,trans:M}).then(function(j){return j.map(function(W){return I.hook.reading.fire(W)})})})},Pn.prototype.bulkAdd=function(k,I,M){var j=this,W=Array.isArray(I)?I:void 0,K=(M=M||(W?void 0:I))?M.allKeys:void 0;return this._trans("readwrite",function(re){var ge=j.schema.primKey,ie=ge.auto,ge=ge.keyPath;if(ge&&W)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(W&&W.length!==k.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var he=k.length,ge=ge&&ie?k.map(Tf(ge)):k;return j.core.mutate({trans:re,type:"add",keys:W,values:ge,wantResults:K}).then(function(xe){var ue=xe.numFailures,Te=xe.results,ye=xe.lastResult,xe=xe.failures;if(ue===0)return K?Te:ye;throw new Ie("".concat(j.name,".bulkAdd(): ").concat(ue," of ").concat(he," operations failed"),xe)})})},Pn.prototype.bulkPut=function(k,I,M){var j=this,W=Array.isArray(I)?I:void 0,K=(M=M||(W?void 0:I))?M.allKeys:void 0;return this._trans("readwrite",function(re){var ge=j.schema.primKey,ie=ge.auto,ge=ge.keyPath;if(ge&&W)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(W&&W.length!==k.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var he=k.length,ge=ge&&ie?k.map(Tf(ge)):k;return j.core.mutate({trans:re,type:"put",keys:W,values:ge,wantResults:K}).then(function(xe){var ue=xe.numFailures,Te=xe.results,ye=xe.lastResult,xe=xe.failures;if(ue===0)return K?Te:ye;throw new Ie("".concat(j.name,".bulkPut(): ").concat(ue," of ").concat(he," operations failed"),xe)})})},Pn.prototype.bulkUpdate=function(k){var I=this,M=this.core,j=k.map(function(re){return re.key}),W=k.map(function(re){return re.changes}),K=[];return this._trans("readwrite",function(re){return M.getMany({trans:re,keys:j,cache:"clone"}).then(function(ie){var he=[],ge=[];k.forEach(function(ue,Te){var ye=ue.key,xe=ue.changes,we=ie[Te];if(we){for(var ke=0,Ae=Object.keys(xe);ke<Ae.length;ke++){var _e=Ae[ke],Ve=xe[_e];if(_e===I.schema.primKey.keyPath){if(ln(Ve,ye)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else _(we,_e,Ve)}K.push(Te),he.push(ye),ge.push(we)}});var Ce=he.length;return M.mutate({trans:re,type:"put",keys:he,values:ge,updates:{keys:j,changeSpecs:W}}).then(function(ue){var Te=ue.numFailures,ye=ue.failures;if(Te===0)return Ce;for(var xe=0,we=Object.keys(ye);xe<we.length;xe++){var ke,Ae=we[xe],_e=K[Number(Ae)];_e!=null&&(ke=ye[Ae],delete ye[Ae],ye[_e]=ke)}throw new Ie("".concat(I.name,".bulkUpdate(): ").concat(Te," of ").concat(Ce," operations failed"),ye)})})})},Pn.prototype.bulkDelete=function(k){var I=this,M=k.length;return this._trans("readwrite",function(j){return I.core.mutate({trans:j,type:"delete",keys:k}).then(function(W){return ui(I,k,W)})}).then(function(re){var W=re.numFailures,K=re.lastResult,re=re.failures;if(W===0)return K;throw new Ie("".concat(I.name,".bulkDelete(): ").concat(W," of ").concat(M," operations failed"),re)})},Pn);function Pn(){}function Nf(k){function I(re,ie){if(ie){for(var he=arguments.length,ge=new Array(he-1);--he;)ge[he-1]=arguments[he];return M[re].subscribe.apply(null,ge),k}if(typeof re=="string")return M[re]}var M={};I.addEventType=K;for(var j=1,W=arguments.length;j<W;++j)K(arguments[j]);return I;function K(re,ie,he){if(typeof re!="object"){var ge;ie=ie||fn;var Ce={subscribers:[],fire:he=he||Se,subscribe:function(ue){Ce.subscribers.indexOf(ue)===-1&&(Ce.subscribers.push(ue),Ce.fire=ie(Ce.fire,ue))},unsubscribe:function(ue){Ce.subscribers=Ce.subscribers.filter(function(Te){return Te!==ue}),Ce.fire=Ce.subscribers.reduce(ie,he)}};return M[re]=I[re]=Ce}a(ge=re).forEach(function(ue){var Te=ge[ue];if(o(Te))K(ue,ge[ue][0],ge[ue][1]);else{if(Te!=="asap")throw new se.InvalidArgument("Invalid event config");var ye=K(ue,yt,function(){for(var xe=arguments.length,we=new Array(xe);xe--;)we[xe]=arguments[xe];ye.subscribers.forEach(function(ke){N(function(){ke.apply(null,we)})})})}})}}function Vs(k,I){return v(I).from({prototype:k}),I}function Rl(k,I){return!(k.filter||k.algorithm||k.or)&&(I?k.justLimit:!k.replayFilter)}function vp(k,I){k.filter=Eu(k.filter,I)}function $f(k,I,M){var j=k.replayFilter;k.replayFilter=j?function(){return Eu(j(),I())}:I,k.justLimit=M&&!j}function Yo(k,I){if(k.isPrimKey)return I.primaryKey;var M=I.getIndexByKeyPath(k.index);if(!M)throw new se.Schema("KeyPath "+k.index+" on object store "+I.name+" is not indexed");return M}function sy(k,I,M){var j=Yo(k,I.schema);return I.openCursor({trans:M,values:!k.keysOnly,reverse:k.dir==="prev",unique:!!k.unique,query:{index:j,range:k.range}})}function If(k,I,M,j){var W=k.replayFilter?Eu(k.filter,k.replayFilter()):k.filter;if(k.or){var K={},re=function(ie,he,ge){var Ce,ue;W&&!W(he,ge,function(Te){return he.stop(Te)},function(Te){return he.fail(Te)})||((ue=""+(Ce=he.primaryKey))=="[object ArrayBuffer]"&&(ue=""+new Uint8Array(Ce)),f(K,ue)||(K[ue]=!0,I(ie,he,ge)))};return Promise.all([k.or._iterate(re,M),Nu(sy(k,j,M),k.algorithm,re,!k.keysOnly&&k.valueMapper)])}return Nu(sy(k,j,M),Eu(k.algorithm,W),I,!k.keysOnly&&k.valueMapper)}function Nu(k,I,M,j){var W=sr(j?function(K,re,ie){return M(j(K),re,ie)}:M);return k.then(function(K){if(K)return K.start(function(){var re=function(){return K.continue()};I&&!I(K,function(ie){return re=ie},function(ie){K.stop(ie),re=Se},function(ie){K.fail(ie),re=Se})||W(K.value,K,function(ie){return re=ie}),re()})})}var aE=(En.prototype._read=function(k,I){var M=this._ctx;return M.error?M.table._trans(null,Yn.bind(null,M.error)):M.table._trans("readonly",k).then(I)},En.prototype._write=function(k){var I=this._ctx;return I.error?I.table._trans(null,Yn.bind(null,I.error)):I.table._trans("readwrite",k,"locked")},En.prototype._addAlgorithm=function(k){var I=this._ctx;I.algorithm=Eu(I.algorithm,k)},En.prototype._iterate=function(k,I){return If(this._ctx,k,I,this._ctx.table.core)},En.prototype.clone=function(k){var I=Object.create(this.constructor.prototype),M=Object.create(this._ctx);return k&&l(M,k),I._ctx=M,I},En.prototype.raw=function(){return this._ctx.valueMapper=null,this},En.prototype.each=function(k){var I=this._ctx;return this._read(function(M){return If(I,k,M,I.table.core)})},En.prototype.count=function(k){var I=this;return this._read(function(M){var j=I._ctx,W=j.table.core;if(Rl(j,!0))return W.count({trans:M,query:{index:Yo(j,W.schema),range:j.range}}).then(function(re){return Math.min(re,j.limit)});var K=0;return If(j,function(){return++K,!1},M,W).then(function(){return K})}).then(k)},En.prototype.sortBy=function(k,I){var M=k.split(".").reverse(),j=M[0],W=M.length-1;function K(he,ge){return ge?K(he[M[ge]],ge-1):he[j]}var re=this._ctx.dir==="next"?1:-1;function ie(he,ge){return ln(K(he,W),K(ge,W))*re}return this.toArray(function(he){return he.sort(ie)}).then(I)},En.prototype.toArray=function(k){var I=this;return this._read(function(M){var j=I._ctx;if(j.dir==="next"&&Rl(j,!0)&&0<j.limit){var W=j.valueMapper,K=Yo(j,j.table.core.schema);return j.table.core.query({trans:M,limit:j.limit,values:!0,query:{index:K,range:j.range}}).then(function(ie){return ie=ie.result,W?ie.map(W):ie})}var re=[];return If(j,function(ie){return re.push(ie)},M,j.table.core).then(function(){return re})},k)},En.prototype.offset=function(k){var I=this._ctx;return k<=0||(I.offset+=k,Rl(I)?$f(I,function(){var M=k;return function(j,W){return M===0||(M===1?--M:W(function(){j.advance(M),M=0}),!1)}}):$f(I,function(){var M=k;return function(){return--M<0}})),this},En.prototype.limit=function(k){return this._ctx.limit=Math.min(this._ctx.limit,k),$f(this._ctx,function(){var I=k;return function(M,j,W){return--I<=0&&j(W),0<=I}},!0),this},En.prototype.until=function(k,I){return vp(this._ctx,function(M,j,W){return!k(M.value)||(j(W),I)}),this},En.prototype.first=function(k){return this.limit(1).toArray(function(I){return I[0]}).then(k)},En.prototype.last=function(k){return this.reverse().first(k)},En.prototype.filter=function(k){var I;return vp(this._ctx,function(M){return k(M.value)}),(I=this._ctx).isMatch=Eu(I.isMatch,k),this},En.prototype.and=function(k){return this.filter(k)},En.prototype.or=function(k){return new this.db.WhereClause(this._ctx.table,k,this)},En.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},En.prototype.desc=function(){return this.reverse()},En.prototype.eachKey=function(k){var I=this._ctx;return I.keysOnly=!I.isMatch,this.each(function(M,j){k(j.key,j)})},En.prototype.eachUniqueKey=function(k){return this._ctx.unique="unique",this.eachKey(k)},En.prototype.eachPrimaryKey=function(k){var I=this._ctx;return I.keysOnly=!I.isMatch,this.each(function(M,j){k(j.primaryKey,j)})},En.prototype.keys=function(k){var I=this._ctx;I.keysOnly=!I.isMatch;var M=[];return this.each(function(j,W){M.push(W.key)}).then(function(){return M}).then(k)},En.prototype.primaryKeys=function(k){var I=this._ctx;if(I.dir==="next"&&Rl(I,!0)&&0<I.limit)return this._read(function(j){var W=Yo(I,I.table.core.schema);return I.table.core.query({trans:j,values:!1,limit:I.limit,query:{index:W,range:I.range}})}).then(function(j){return j.result}).then(k);I.keysOnly=!I.isMatch;var M=[];return this.each(function(j,W){M.push(W.primaryKey)}).then(function(){return M}).then(k)},En.prototype.uniqueKeys=function(k){return this._ctx.unique="unique",this.keys(k)},En.prototype.firstKey=function(k){return this.limit(1).keys(function(I){return I[0]}).then(k)},En.prototype.lastKey=function(k){return this.reverse().firstKey(k)},En.prototype.distinct=function(){var k=this._ctx,k=k.index&&k.table.schema.idxByName[k.index];if(!k||!k.multi)return this;var I={};return vp(this._ctx,function(W){var j=W.primaryKey.toString(),W=f(I,j);return I[j]=!0,!W}),this},En.prototype.modify=function(k){var I=this,M=this._ctx;return this._write(function(j){var W=typeof k=="function"?k:function(we){return yp(we,k)},K=M.table.core,ge=K.schema.primaryKey,re=ge.outbound,ie=ge.extractKey,he=200,ge=I.db._options.modifyChunkSize;ge&&(he=typeof ge=="object"?ge[K.name]||ge["*"]||200:ge);function Ce(we,_e){var Ae=_e.failures,_e=_e.numFailures;Te+=we-_e;for(var Ve=0,Ke=a(Ae);Ve<Ke.length;Ve++){var at=Ke[Ve];ue.push(Ae[at])}}var ue=[],Te=0,ye=[],xe=k===iy;return I.clone().primaryKeys().then(function(we){function ke(_e){var Ve=Math.min(he,we.length-_e),Ke=we.slice(_e,_e+Ve);return(xe?Promise.resolve([]):K.getMany({trans:j,keys:Ke,cache:"immutable"})).then(function(at){var dt=[],tt=[],ot=re?[]:null,ct=xe?Ke:[];if(!xe)for(var nt=0;nt<Ve;++nt){var vt=at[nt],_t={value:H(vt),primKey:we[_e+nt]};W.call(_t,_t.value,_t)!==!1&&(_t.value==null?ct.push(we[_e+nt]):re||ln(ie(vt),ie(_t.value))===0?(tt.push(_t.value),re&&ot.push(we[_e+nt])):(ct.push(we[_e+nt]),dt.push(_t.value)))}return Promise.resolve(0<dt.length&&K.mutate({trans:j,type:"add",values:dt}).then(function(Gt){for(var Qt in Gt.failures)ct.splice(parseInt(Qt),1);Ce(dt.length,Gt)})).then(function(){return(0<tt.length||Ae&&typeof k=="object")&&K.mutate({trans:j,type:"put",keys:ot,values:tt,criteria:Ae,changeSpec:typeof k!="function"&&k,isAdditionalChunk:0<_e}).then(function(Gt){return Ce(tt.length,Gt)})}).then(function(){return(0<ct.length||Ae&&xe)&&K.mutate({trans:j,type:"delete",keys:ct,criteria:Ae,isAdditionalChunk:0<_e}).then(function(Gt){return ui(M.table,ct,Gt)}).then(function(Gt){return Ce(ct.length,Gt)})}).then(function(){return we.length>_e+Ve&&ke(_e+he)})})}var Ae=Rl(M)&&M.limit===1/0&&(typeof k!="function"||xe)&&{index:M.index,range:M.range};return ke(0).then(function(){if(0<ue.length)throw new $e("Error modifying one or more objects",ue,Te,ye);return we.length})})})},En.prototype.delete=function(){var k=this._ctx,I=k.range;return!Rl(k)||k.table.schema.yProps||!k.isPrimKey&&I.type!==3?this.modify(iy):this._write(function(M){var j=k.table.core.schema.primaryKey,W=I;return k.table.core.count({trans:M,query:{index:j,range:W}}).then(function(K){return k.table.core.mutate({trans:M,type:"deleteRange",range:W}).then(function(he){var ie=he.failures,he=he.numFailures;if(he)throw new $e("Could not delete some values",Object.keys(ie).map(function(ge){return ie[ge]}),K-he);return K-he})})})},En);function En(){}var iy=function(k,I){return I.value=null};function ay(k,I){return k<I?-1:k===I?0:1}function oE(k,I){return I<k?-1:k===I?0:1}function Wi(k,I,M){return k=k instanceof $u?new k.Collection(k):k,k._ctx.error=new(M||TypeError)(I),k}function Zo(k){return new k.Collection(k,function(){return bp("")}).limit(0)}function sa(k,I,M,j){var W,K,re,ie,he,ge,Ce,ue=M.length;if(!M.every(function(xe){return typeof xe=="string"}))return Wi(k,ss);function Te(xe){W=xe==="next"?function(ke){return ke.toUpperCase()}:function(ke){return ke.toLowerCase()},K=xe==="next"?function(ke){return ke.toLowerCase()}:function(ke){return ke.toUpperCase()},re=xe==="next"?ay:oE;var we=M.map(function(ke){return{lower:K(ke),upper:W(ke)}}).sort(function(ke,Ae){return re(ke.lower,Ae.lower)});ie=we.map(function(ke){return ke.upper}),he=we.map(function(ke){return ke.lower}),Ce=(ge=xe)==="next"?"":j}Te("next"),k=new k.Collection(k,function(){return so(ie[0],he[ue-1]+j)}),k._ondirectionchange=function(xe){Te(xe)};var ye=0;return k._addAlgorithm(function(xe,we,ke){var Ae=xe.key;if(typeof Ae!="string")return!1;var _e=K(Ae);if(I(_e,he,ye))return!0;for(var Ve=null,Ke=ye;Ke<ue;++Ke){var at=(function(dt,tt,ot,ct,nt,vt){for(var _t=Math.min(dt.length,ct.length),Gt=-1,Qt=0;Qt<_t;++Qt){var Gs=tt[Qt];if(Gs!==ct[Qt])return nt(dt[Qt],ot[Qt])<0?dt.substr(0,Qt)+ot[Qt]+ot.substr(Qt+1):nt(dt[Qt],ct[Qt])<0?dt.substr(0,Qt)+ct[Qt]+ot.substr(Qt+1):0<=Gt?dt.substr(0,Gt)+tt[Gt]+ot.substr(Gt+1):null;nt(dt[Qt],Gs)<0&&(Gt=Qt)}return _t<ct.length&&vt==="next"?dt+ot.substr(dt.length):_t<dt.length&&vt==="prev"?dt.substr(0,ot.length):Gt<0?null:dt.substr(0,Gt)+ct[Gt]+ot.substr(Gt+1)})(Ae,_e,ie[Ke],he[Ke],re,ge);at===null&&Ve===null?ye=Ke+1:(Ve===null||0<re(Ve,at))&&(Ve=at)}return we(Ve!==null?function(){xe.continue(Ve+Ce)}:ke),!1}),k}function so(k,I,M,j){return{type:2,lower:k,upper:I,lowerOpen:M,upperOpen:j}}function bp(k){return{type:1,lower:k,upper:k}}var $u=(Object.defineProperty(pr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),pr.prototype.between=function(k,I,M,j){M=M!==!1,j=j===!0;try{return 0<this._cmp(k,I)||this._cmp(k,I)===0&&(M||j)&&(!M||!j)?Zo(this):new this.Collection(this,function(){return so(k,I,!M,!j)})}catch{return Wi(this,ki)}},pr.prototype.equals=function(k){return k==null?Wi(this,ki):new this.Collection(this,function(){return bp(k)})},pr.prototype.above=function(k){return k==null?Wi(this,ki):new this.Collection(this,function(){return so(k,void 0,!0)})},pr.prototype.aboveOrEqual=function(k){return k==null?Wi(this,ki):new this.Collection(this,function(){return so(k,void 0,!1)})},pr.prototype.below=function(k){return k==null?Wi(this,ki):new this.Collection(this,function(){return so(void 0,k,!1,!0)})},pr.prototype.belowOrEqual=function(k){return k==null?Wi(this,ki):new this.Collection(this,function(){return so(void 0,k)})},pr.prototype.startsWith=function(k){return typeof k!="string"?Wi(this,ss):this.between(k,k+_a,!0,!0)},pr.prototype.startsWithIgnoreCase=function(k){return k===""?this.startsWith(k):sa(this,function(I,M){return I.indexOf(M[0])===0},[k],_a)},pr.prototype.equalsIgnoreCase=function(k){return sa(this,function(I,M){return I===M[0]},[k],"")},pr.prototype.anyOfIgnoreCase=function(){var k=ce.apply(te,arguments);return k.length===0?Zo(this):sa(this,function(I,M){return M.indexOf(I)!==-1},k,"")},pr.prototype.startsWithAnyOfIgnoreCase=function(){var k=ce.apply(te,arguments);return k.length===0?Zo(this):sa(this,function(I,M){return M.some(function(j){return I.indexOf(j)===0})},k,_a)},pr.prototype.anyOf=function(){var k=this,I=ce.apply(te,arguments),M=this._cmp;try{I.sort(M)}catch{return Wi(this,ki)}if(I.length===0)return Zo(this);var j=new this.Collection(this,function(){return so(I[0],I[I.length-1])});j._ondirectionchange=function(K){M=K==="next"?k._ascending:k._descending,I.sort(M)};var W=0;return j._addAlgorithm(function(K,re,ie){for(var he=K.key;0<M(he,I[W]);)if(++W===I.length)return re(ie),!1;return M(he,I[W])===0||(re(function(){K.continue(I[W])}),!1)}),j},pr.prototype.notEqual=function(k){return this.inAnyRange([[-1/0,k],[k,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},pr.prototype.noneOf=function(){var k=ce.apply(te,arguments);if(k.length===0)return new this.Collection(this);try{k.sort(this._ascending)}catch{return Wi(this,ki)}var I=k.reduce(function(M,j){return M?M.concat([[M[M.length-1][1],j]]):[[-1/0,j]]},null);return I.push([k[k.length-1],this.db._maxKey]),this.inAnyRange(I,{includeLowers:!1,includeUppers:!1})},pr.prototype.inAnyRange=function(Ae,I){var M=this,j=this._cmp,W=this._ascending,K=this._descending,re=this._min,ie=this._max;if(Ae.length===0)return Zo(this);if(!Ae.every(function(_e){return _e[0]!==void 0&&_e[1]!==void 0&&W(_e[0],_e[1])<=0}))return Wi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var he=!I||I.includeLowers!==!1,ge=I&&I.includeUppers===!0,Ce,ue=W;function Te(_e,Ve){return ue(_e[0],Ve[0])}try{(Ce=Ae.reduce(function(_e,Ve){for(var Ke=0,at=_e.length;Ke<at;++Ke){var dt=_e[Ke];if(j(Ve[0],dt[1])<0&&0<j(Ve[1],dt[0])){dt[0]=re(dt[0],Ve[0]),dt[1]=ie(dt[1],Ve[1]);break}}return Ke===at&&_e.push(Ve),_e},[])).sort(Te)}catch{return Wi(this,ki)}var ye=0,xe=ge?function(_e){return 0<W(_e,Ce[ye][1])}:function(_e){return 0<=W(_e,Ce[ye][1])},we=he?function(_e){return 0<K(_e,Ce[ye][0])}:function(_e){return 0<=K(_e,Ce[ye][0])},ke=xe,Ae=new this.Collection(this,function(){return so(Ce[0][0],Ce[Ce.length-1][1],!he,!ge)});return Ae._ondirectionchange=function(_e){ue=_e==="next"?(ke=xe,W):(ke=we,K),Ce.sort(Te)},Ae._addAlgorithm(function(_e,Ve,Ke){for(var at,dt=_e.key;ke(dt);)if(++ye===Ce.length)return Ve(Ke),!1;return!xe(at=dt)&&!we(at)||(M._cmp(dt,Ce[ye][1])===0||M._cmp(dt,Ce[ye][0])===0||Ve(function(){ue===W?_e.continue(Ce[ye][0]):_e.continue(Ce[ye][1])}),!1)}),Ae},pr.prototype.startsWithAnyOf=function(){var k=ce.apply(te,arguments);return k.every(function(I){return typeof I=="string"})?k.length===0?Zo(this):this.inAnyRange(k.map(function(I){return[I,I+_a]})):Wi(this,"startsWithAnyOf() only works with strings")},pr);function pr(){}function Pa(k){return sr(function(I){return Iu(I),k(I.target.error),!1})}function Iu(k){k.stopPropagation&&k.stopPropagation(),k.preventDefault&&k.preventDefault()}var Vc="storagemutated",Au="x-storagemutated-1",Ws=Nf(null,Vc),oy=(Ti.prototype._lock=function(){return T(!mt.global),++this._reculock,this._reculock!==1||mt.global||(mt.lockOwnerFor=this),this},Ti.prototype._unlock=function(){if(T(!mt.global),--this._reculock==0)for(mt.global||(mt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var k=this._blockedFuncs.shift();try{Da(k[1],k[0])}catch{}}return this},Ti.prototype._locked=function(){return this._reculock&&mt.lockOwnerFor!==this},Ti.prototype.create=function(k){var I=this;if(!this.mode)return this;var M=this.db.idbdb,j=this.db._state.dbOpenError;if(T(!this.idbtrans),!k&&!M)switch(j&&j.name){case"DatabaseClosedError":throw new se.DatabaseClosed(j);case"MissingAPIError":throw new se.MissingAPI(j.message,j);default:throw new se.OpenFailed(j)}if(!this.active)throw new se.TransactionInactive;return T(this._completion._state===null),(k=this.idbtrans=k||(this.db.core||M).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=sr(function(W){Iu(W),I._reject(k.error)}),k.onabort=sr(function(W){Iu(W),I.active&&I._reject(new se.Abort(k.error)),I.active=!1,I.on("abort").fire(W)}),k.oncomplete=sr(function(){I.active=!1,I._resolve(),"mutatedParts"in k&&Ws.storagemutated.fire(k.mutatedParts)}),this},Ti.prototype._promise=function(k,I,M){var j=this;if(k==="readwrite"&&this.mode!=="readwrite")return Yn(new se.ReadOnly("Transaction is readonly"));if(!this.active)return Yn(new se.TransactionInactive);if(this._locked())return new lt(function(K,re){j._blockedFuncs.push([function(){j._promise(k,I,M).then(K,re)},mt])});if(M)return ur(function(){var K=new lt(function(re,ie){j._lock();var he=I(re,ie,j);he&&he.then&&he.then(re,ie)});return K.finally(function(){return j._unlock()}),K._lib=!0,K});var W=new lt(function(K,re){var ie=I(K,re,j);ie&&ie.then&&ie.then(K,re)});return W._lib=!0,W},Ti.prototype._root=function(){return this.parent?this.parent._root():this},Ti.prototype.waitFor=function(k){var I,M=this._root(),j=lt.resolve(k);M._waitingFor?M._waitingFor=M._waitingFor.then(function(){return j}):(M._waitingFor=j,M._waitingQueue=[],I=M.idbtrans.objectStore(M.storeNames[0]),(function K(){for(++M._spinCount;M._waitingQueue.length;)M._waitingQueue.shift()();M._waitingFor&&(I.get(-1/0).onsuccess=K)})());var W=M._waitingFor;return new lt(function(K,re){j.then(function(ie){return M._waitingQueue.push(sr(K.bind(null,ie)))},function(ie){return M._waitingQueue.push(sr(re.bind(null,ie)))}).finally(function(){M._waitingFor===W&&(M._waitingFor=null)})})},Ti.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},Ti.prototype.table=function(k){var I=this._memoizedTables||(this._memoizedTables={});if(f(I,k))return I[k];var M=this.schema[k];if(!M)throw new se.NotFound("Table "+k+" not part of transaction");return M=new this.db.Table(k,M,this),M.core=this.db.core.table(k),I[k]=M},Ti);function Ti(){}function io(k,I,M,j,W,K,re,ie){return{name:k,keyPath:I,unique:M,multi:j,auto:W,compound:K,src:(M&&!re?"&":"")+(j?"*":"")+(W?"++":"")+xp(I),type:ie}}function xp(k){return typeof k=="string"?k:k?"["+[].join.call(k,"+")+"]":""}function Wc(k,I,M){return{name:k,primKey:I,indexes:M,mappedClass:null,idxByName:(j=function(W){return[W.name,W]},M.reduce(function(W,K,re){return re=j(K,re),re&&(W[re[0]]=re[1]),W},{}))};var j}var Hc=function(k){try{return k.only([[]]),Hc=function(){return[[]]},[[]]}catch{return Hc=function(){return _a},_a}};function Gc(k){return k==null?function(){}:typeof k=="string"?(I=k).split(".").length===1?function(M){return M[I]}:function(M){return O(M,I)}:function(M){return O(M,k)};var I}function Af(k){return[].slice.call(k)}var Fx=0;function ds(k){return k==null?":id":typeof k=="string"?k:"[".concat(k.join("+"),"]")}function Ou(k,I,he){function j(ke){if(ke.type===3)return null;if(ke.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ye=ke.lower,xe=ke.upper,we=ke.lowerOpen,ke=ke.upperOpen;return ye===void 0?xe===void 0?null:I.upperBound(xe,!!ke):xe===void 0?I.lowerBound(ye,!!we):I.bound(ye,xe,!!we,!!ke)}function W(Te){var ye,xe=Te.name;return{name:xe,schema:Te,mutate:function(we){var ke=we.trans,Ae=we.type,_e=we.keys,Ve=we.values,Ke=we.range;return new Promise(function(at,dt){at=sr(at);var tt=ke.objectStore(xe),ot=tt.keyPath==null,ct=Ae==="put"||Ae==="add";if(!ct&&Ae!=="delete"&&Ae!=="deleteRange")throw new Error("Invalid operation type: "+Ae);var nt,vt=(_e||Ve||{length:1}).length;if(_e&&Ve&&_e.length!==Ve.length)throw new Error("Given keys array must have same length as given values array.");if(vt===0)return at({numFailures:0,failures:{},results:[],lastResult:void 0});function _t(hs){++Gs,Iu(hs)}var Gt=[],Qt=[],Gs=0;if(Ae==="deleteRange"){if(Ke.type===4)return at({numFailures:Gs,failures:Qt,results:[],lastResult:void 0});Ke.type===3?Gt.push(nt=tt.clear()):Gt.push(nt=tt.delete(j(Ke)))}else{var ot=ct?ot?[Ve,_e]:[Ve,null]:[_e,null],jt=ot[0],fs=ot[1];if(ct)for(var kr=0;kr<vt;++kr)Gt.push(nt=fs&&fs[kr]!==void 0?tt[Ae](jt[kr],fs[kr]):tt[Ae](jt[kr])),nt.onerror=_t;else for(kr=0;kr<vt;++kr)Gt.push(nt=tt[Ae](jt[kr])),nt.onerror=_t}function Lf(hs){hs=hs.target.result,Gt.forEach(function(ia,wy){return ia.error!=null&&(Qt[wy]=ia.error)}),at({numFailures:Gs,failures:Qt,results:Ae==="delete"?_e:Gt.map(function(ia){return ia.result}),lastResult:hs})}nt.onerror=function(hs){_t(hs),Lf(hs)},nt.onsuccess=Lf})},getMany:function(we){var ke=we.trans,Ae=we.keys;return new Promise(function(_e,Ve){_e=sr(_e);for(var Ke,at=ke.objectStore(xe),dt=Ae.length,tt=new Array(dt),ot=0,ct=0,nt=function(Gt){Gt=Gt.target,tt[Gt._pos]=Gt.result,++ct===ot&&_e(tt)},vt=Pa(Ve),_t=0;_t<dt;++_t)Ae[_t]!=null&&((Ke=at.get(Ae[_t]))._pos=_t,Ke.onsuccess=nt,Ke.onerror=vt,++ot);ot===0&&_e(tt)})},get:function(we){var ke=we.trans,Ae=we.key;return new Promise(function(_e,Ve){_e=sr(_e);var Ke=ke.objectStore(xe).get(Ae);Ke.onsuccess=function(at){return _e(at.target.result)},Ke.onerror=Pa(Ve)})},query:(ye=ge,function(we){return new Promise(function(ke,Ae){ke=sr(ke);var _e,Ve,Ke,ot=we.trans,at=we.values,dt=we.limit,nt=we.query,tt=dt===1/0?void 0:dt,ct=nt.index,nt=nt.range,ot=ot.objectStore(xe),ct=ct.isPrimaryKey?ot:ot.index(ct.name),nt=j(nt);if(dt===0)return ke({result:[]});ye?((tt=at?ct.getAll(nt,tt):ct.getAllKeys(nt,tt)).onsuccess=function(vt){return ke({result:vt.target.result})},tt.onerror=Pa(Ae)):(_e=0,Ve=!at&&"openKeyCursor"in ct?ct.openKeyCursor(nt):ct.openCursor(nt),Ke=[],Ve.onsuccess=function(vt){var _t=Ve.result;return _t?(Ke.push(at?_t.value:_t.primaryKey),++_e===dt?ke({result:Ke}):void _t.continue()):ke({result:Ke})},Ve.onerror=Pa(Ae))})}),openCursor:function(we){var ke=we.trans,Ae=we.values,_e=we.query,Ve=we.reverse,Ke=we.unique;return new Promise(function(at,dt){at=sr(at);var ct=_e.index,tt=_e.range,ot=ke.objectStore(xe),ot=ct.isPrimaryKey?ot:ot.index(ct.name),ct=Ve?Ke?"prevunique":"prev":Ke?"nextunique":"next",nt=!Ae&&"openKeyCursor"in ot?ot.openKeyCursor(j(tt),ct):ot.openCursor(j(tt),ct);nt.onerror=Pa(dt),nt.onsuccess=sr(function(vt){var _t,Gt,Qt,Gs,jt=nt.result;jt?(jt.___id=++Fx,jt.done=!1,_t=jt.continue.bind(jt),Gt=(Gt=jt.continuePrimaryKey)&&Gt.bind(jt),Qt=jt.advance.bind(jt),Gs=function(){throw new Error("Cursor not stopped")},jt.trans=ke,jt.stop=jt.continue=jt.continuePrimaryKey=jt.advance=function(){throw new Error("Cursor not started")},jt.fail=sr(dt),jt.next=function(){var fs=this,kr=1;return this.start(function(){return kr--?fs.continue():fs.stop()}).then(function(){return fs})},jt.start=function(fs){function kr(){if(nt.result)try{fs()}catch(hs){jt.fail(hs)}else jt.done=!0,jt.start=function(){throw new Error("Cursor behind last entry")},jt.stop()}var Lf=new Promise(function(hs,ia){hs=sr(hs),nt.onerror=Pa(ia),jt.fail=ia,jt.stop=function(wy){jt.stop=jt.continue=jt.continuePrimaryKey=jt.advance=Gs,hs(wy)}});return nt.onsuccess=sr(function(hs){nt.onsuccess=kr,kr()}),jt.continue=_t,jt.continuePrimaryKey=Gt,jt.advance=Qt,kr(),Lf},at(jt)):at(null)},dt)})},count:function(we){var ke=we.query,Ae=we.trans,_e=ke.index,Ve=ke.range;return new Promise(function(Ke,at){var dt=Ae.objectStore(xe),tt=_e.isPrimaryKey?dt:dt.index(_e.name),dt=j(Ve),tt=dt?tt.count(dt):tt.count();tt.onsuccess=sr(function(ot){return Ke(ot.target.result)}),tt.onerror=Pa(at)})}}}var K,re,ie,Ce=(re=he,ie=Af((K=k).objectStoreNames),{schema:{name:K.name,tables:ie.map(function(Te){return re.objectStore(Te)}).map(function(Te){var ye=Te.keyPath,ke=Te.autoIncrement,xe=o(ye),we={},ke={name:Te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ye==null,compound:xe,keyPath:ye,autoIncrement:ke,unique:!0,extractKey:Gc(ye)},indexes:Af(Te.indexNames).map(function(Ae){return Te.index(Ae)}).map(function(Ke){var _e=Ke.name,Ve=Ke.unique,at=Ke.multiEntry,Ke=Ke.keyPath,at={name:_e,compound:o(Ke),keyPath:Ke,unique:Ve,multiEntry:at,extractKey:Gc(Ke)};return we[ds(Ke)]=at}),getIndexByKeyPath:function(Ae){return we[ds(Ae)]}};return we[":id"]=ke.primaryKey,ye!=null&&(we[ds(ye)]=ke.primaryKey),ke})},hasGetAll:0<ie.length&&"getAll"in re.objectStore(ie[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),he=Ce.schema,ge=Ce.hasGetAll,Ce=he.tables.map(W),ue={};return Ce.forEach(function(Te){return ue[Te.name]=Te}),{stack:"dbcore",transaction:k.transaction.bind(k),table:function(Te){if(!ue[Te])throw new Error("Table '".concat(Te,"' not found"));return ue[Te]},MIN_KEY:-1/0,MAX_KEY:Hc(I),schema:he}}function wp(k,I,M,j){var W=M.IDBKeyRange;return M.indexedDB,{dbcore:(j=Ou(I,W,j),k.dbcore.reduce(function(K,re){return re=re.create,r(r({},K),re(K))},j))}}function Dl(k,j){var M=j.db,j=wp(k._middlewares,M,k._deps,j);k.core=j.dbcore,k.tables.forEach(function(W){var K=W.name;k.core.schema.tables.some(function(re){return re.name===K})&&(W.core=k.core.table(K),k[K]instanceof k.Table&&(k[K].core=W.core))})}function Sp(k,I,M,j){M.forEach(function(W){var K=j[W];I.forEach(function(re){var ie=(function he(ge,Ce){return b(ge,Ce)||(ge=u(ge))&&he(ge,Ce)})(re,W);(!ie||"value"in ie&&ie.value===void 0)&&(re===k.Transaction.prototype||re instanceof k.Transaction?y(re,W,{get:function(){return this.table(W)},set:function(he){m(this,W,{value:he,writable:!0,configurable:!0,enumerable:!0})}}):re[W]=new k.Table(W,K))})})}function Of(k,I){I.forEach(function(M){for(var j in M)M[j]instanceof k.Table&&delete M[j]})}function ly(k,I){return k._cfg.version-I._cfg.version}function Rf(k,I,M,j){var W=k._dbSchema;M.objectStoreNames.contains("$meta")&&!W.$meta&&(W.$meta=Wc("$meta",Bx("")[0],[]),k._storeNames.push("$meta"));var K=k._createTransaction("readwrite",k._storeNames,W);K.create(M),K._completion.catch(j);var re=K._reject.bind(K),ie=mt.transless||mt;ur(function(){return mt.trans=K,mt.transless=ie,I!==0?(Dl(k,M),ge=I,((he=K).storeNames.includes("$meta")?he.table("$meta").get("version").then(function(Ce){return Ce??ge}):lt.resolve(ge)).then(function(Ce){return Te=Ce,ye=K,xe=M,we=[],Ce=(ue=k)._versions,ke=ue._dbSchema=qc(0,ue.idbdb,xe),(Ce=Ce.filter(function(Ae){return Ae._cfg.version>=Te})).length!==0?(Ce.forEach(function(Ae){we.push(function(){var _e=ke,Ve=Ae._cfg.dbschema;Ep(ue,_e,xe),Ep(ue,Ve,xe),ke=ue._dbSchema=Ve;var Ke=kp(_e,Ve);Ke.add.forEach(function(ct){uy(xe,ct[0],ct[1].primKey,ct[1].indexes)}),Ke.change.forEach(function(ct){if(ct.recreate)throw new se.Upgrade("Not yet support for changing primary key");var nt=xe.objectStore(ct.name);ct.add.forEach(function(vt){return Tp(nt,vt)}),ct.change.forEach(function(vt){nt.deleteIndex(vt.name),Tp(nt,vt)}),ct.del.forEach(function(vt){return nt.deleteIndex(vt)})});var at=Ae._cfg.contentUpgrade;if(at&&Ae._cfg.version>Te){Dl(ue,xe),ye._memoizedTables={};var dt=F(Ve);Ke.del.forEach(function(ct){dt[ct]=_e[ct]}),Of(ue,[ue.Transaction.prototype]),Sp(ue,[ue.Transaction.prototype],a(dt),dt),ye.schema=dt;var tt,ot=G(at);return ot&&rs(),Ke=lt.follow(function(){var ct;(tt=at(ye))&&ot&&(ct=Vi.bind(null,null),tt.then(ct,ct))}),tt&&typeof tt.then=="function"?lt.resolve(tt):Ke.then(function(){return tt})}}),we.push(function(_e){var Ve,Ke,at=Ae._cfg.dbschema;Ve=at,Ke=_e,[].slice.call(Ke.db.objectStoreNames).forEach(function(dt){return Ve[dt]==null&&Ke.db.deleteObjectStore(dt)}),Of(ue,[ue.Transaction.prototype]),Sp(ue,[ue.Transaction.prototype],ue._storeNames,ue._dbSchema),ye.schema=ue._dbSchema}),we.push(function(_e){ue.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ue.idbdb.version/10)===Ae._cfg.version?(ue.idbdb.deleteObjectStore("$meta"),delete ue._dbSchema.$meta,ue._storeNames=ue._storeNames.filter(function(Ve){return Ve!=="$meta"})):_e.objectStore("$meta").put(Ae._cfg.version,"version"))})}),(function Ae(){return we.length?lt.resolve(we.shift()(ye.idbtrans)).then(Ae):lt.resolve()})().then(function(){zx(ke,xe)})):lt.resolve();var ue,Te,ye,xe,we,ke}).catch(re)):(a(W).forEach(function(Ce){uy(M,Ce,W[Ce].primKey,W[Ce].indexes)}),Dl(k,M),void lt.follow(function(){return k.on.populate.fire(K)}).catch(re));var he,ge})}function Cp(k,I){zx(k._dbSchema,I),I.db.version%10!=0||I.objectStoreNames.contains("$meta")||I.db.createObjectStore("$meta").add(Math.ceil(I.db.version/10-1),"version");var M=qc(0,k.idbdb,I);Ep(k,k._dbSchema,I);for(var j=0,W=kp(M,k._dbSchema).change;j<W.length;j++){var K=(function(re){if(re.change.length||re.recreate)return console.warn("Unable to patch indexes of table ".concat(re.name," because it has changes on the type of index or primary key.")),{value:void 0};var ie=I.objectStore(re.name);re.add.forEach(function(he){Ht&&console.debug("Dexie upgrade patch: Creating missing index ".concat(re.name,".").concat(he.src)),Tp(ie,he)})})(W[j]);if(typeof K=="object")return K.value}}function kp(k,I){var M,j={del:[],add:[],change:[]};for(M in k)I[M]||j.del.push(M);for(M in I){var W=k[M],K=I[M];if(W){var re={name:M,def:K,recreate:!1,del:[],add:[],change:[]};if(""+(W.primKey.keyPath||"")!=""+(K.primKey.keyPath||"")||W.primKey.auto!==K.primKey.auto)re.recreate=!0,j.change.push(re);else{var ie=W.idxByName,he=K.idxByName,ge=void 0;for(ge in ie)he[ge]||re.del.push(ge);for(ge in he){var Ce=ie[ge],ue=he[ge];Ce?Ce.src!==ue.src&&re.change.push(ue):re.add.push(ue)}(0<re.del.length||0<re.add.length||0<re.change.length)&&j.change.push(re)}}else j.add.push([M,K])}return j}function uy(k,I,M,j){var W=k.db.createObjectStore(I,M.keyPath?{keyPath:M.keyPath,autoIncrement:M.auto}:{autoIncrement:M.auto});return j.forEach(function(K){return Tp(W,K)}),W}function zx(k,I){a(k).forEach(function(M){I.db.objectStoreNames.contains(M)||(Ht&&console.debug("Dexie: Creating missing table",M),uy(I,M,k[M].primKey,k[M].indexes))})}function Tp(k,I){k.createIndex(I.name,I.keyPath,{unique:I.unique,multiEntry:I.multi})}function qc(k,I,M){var j={};return S(I.objectStoreNames,0).forEach(function(W){for(var K=M.objectStore(W),re=io(xp(ge=K.keyPath),ge||"",!0,!1,!!K.autoIncrement,ge&&typeof ge!="string",!0),ie=[],he=0;he<K.indexNames.length;++he){var Ce=K.index(K.indexNames[he]),ge=Ce.keyPath,Ce=io(Ce.name,ge,!!Ce.unique,!!Ce.multiEntry,!1,ge&&typeof ge!="string",!1);ie.push(Ce)}j[W]=Wc(W,re,ie)}),j}function Ep(k,I,M){for(var j=M.db.objectStoreNames,W=0;W<j.length;++W){var K=j[W],re=M.objectStore(K);k._hasGetAll="getAll"in re;for(var ie=0;ie<re.indexNames.length;++ie){var he=re.indexNames[ie],ge=re.index(he).keyPath,Ce=typeof ge=="string"?ge:"["+S(ge).join("+")+"]";!I[K]||(ge=I[K].idxByName[Ce])&&(ge.name=he,delete I[K].idxByName[Ce],I[K].idxByName[he]=ge)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(k._hasGetAll=!1)}function Bx(k){return k.split(",").map(function(I,M){var K=I.split(":"),j=(W=K[1])===null||W===void 0?void 0:W.trim(),W=(I=K[0].trim()).replace(/([&*]|\+\+)/g,""),K=/^\[/.test(W)?W.match(/^\[(.*)\]$/)[1].split("+"):W;return io(W,K||null,/\&/.test(I),/\*/.test(I),/\+\+/.test(I),o(K),M===0,j)})}var lE=(Kc.prototype._createTableSchema=Wc,Kc.prototype._parseIndexSyntax=Bx,Kc.prototype._parseStoresSpec=function(k,I){var M=this;a(k).forEach(function(j){if(k[j]!==null){var W=M._parseIndexSyntax(k[j]),K=W.shift();if(!K)throw new se.Schema("Invalid schema for table "+j+": "+k[j]);if(K.unique=!0,K.multi)throw new se.Schema("Primary key cannot be multiEntry*");W.forEach(function(re){if(re.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!re.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),W=M._createTableSchema(j,K,W),I[j]=W}})},Kc.prototype.stores=function(M){var I=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,M):M;var M=I._versions,j={},W={};return M.forEach(function(K){l(j,K._cfg.storesSource),W=K._cfg.dbschema={},K._parseStoresSpec(j,W)}),I._dbSchema=W,Of(I,[I._allTables,I,I.Transaction.prototype]),Sp(I,[I._allTables,I,I.Transaction.prototype,this._cfg.tables],a(W),W),I._storeNames=a(W),this},Kc.prototype.upgrade=function(k){return this._cfg.contentUpgrade=Zt(this._cfg.contentUpgrade||Se,k),this},Kc);function Kc(){}function cy(k,I){var M=k._dbNamesDB;return M||(M=k._dbNamesDB=new ao(kf,{addons:[],indexedDB:k,IDBKeyRange:I})).version(1).stores({dbnames:"name"}),M.table("dbnames")}function Np(k){return k&&typeof k.databases=="function"}function dy(k){return ur(function(){return mt.letThrough=!0,k()})}function fy(k){return!("from"in k)}var Hs=function(k,I){if(!this){var M=new Hs;return k&&"d"in k&&l(M,k),M}l(this,arguments.length?{d:1,from:k,to:1<arguments.length?I:k}:{d:0})};function Df(k,I,M){var j=ln(I,M);if(!isNaN(j)){if(0<j)throw RangeError();if(fy(k))return l(k,{from:I,to:M,d:1});var W=k.l,j=k.r;if(ln(M,k.from)<0)return W?Df(W,I,M):k.l={from:I,to:M,d:1,l:null,r:null},Ux(k);if(0<ln(I,k.to))return j?Df(j,I,M):k.r={from:I,to:M,d:1,l:null,r:null},Ux(k);ln(I,k.from)<0&&(k.from=I,k.l=null,k.d=j?j.d+1:1),0<ln(M,k.to)&&(k.to=M,k.r=null,k.d=k.l?k.l.d+1:1),M=!k.r,W&&!k.l&&Ru(k,W),j&&M&&Ru(k,j)}}function Ru(k,I){fy(I)||(function M(j,he){var K=he.from,re=he.to,ie=he.l,he=he.r;Df(j,K,re),ie&&M(j,ie),he&&M(j,he)})(k,I)}function jx(k,I){var M=$p(I),j=M.next();if(j.done)return!1;for(var W=j.value,K=$p(k),re=K.next(W.from),ie=re.value;!j.done&&!re.done;){if(ln(ie.from,W.to)<=0&&0<=ln(ie.to,W.from))return!0;ln(W.from,ie.from)<0?W=(j=M.next(ie.from)).value:ie=(re=K.next(W.from)).value}return!1}function $p(k){var I=fy(k)?null:{s:0,n:k};return{next:function(M){for(var j=0<arguments.length;I;)switch(I.s){case 0:if(I.s=1,j)for(;I.n.l&&ln(M,I.n.from)<0;)I={up:I,n:I.n.l,s:1};else for(;I.n.l;)I={up:I,n:I.n.l,s:1};case 1:if(I.s=2,!j||ln(M,I.n.to)<=0)return{value:I.n,done:!1};case 2:if(I.n.r){I.s=3,I={up:I,n:I.n.r,s:0};continue}case 3:I=I.up}return{done:!0}}}}function Ux(k){var I,M,j=(((I=k.r)===null||I===void 0?void 0:I.d)||0)-(((M=k.l)===null||M===void 0?void 0:M.d)||0),W=1<j?"r":j<-1?"l":"";W&&(I=W=="r"?"l":"r",M=r({},k),j=k[W],k.from=j.from,k.to=j.to,k[W]=j[W],M[W]=j[I],(k[I]=M).d=hy(M)),k.d=hy(k)}function hy(M){var I=M.r,M=M.l;return(I?M?Math.max(I.d,M.d):I.d:M?M.d:0)+1}function Ip(k,I){return a(I).forEach(function(M){k[M]?Ru(k[M],I[M]):k[M]=(function j(W){var K,re,ie={};for(K in W)f(W,K)&&(re=W[K],ie[K]=!re||typeof re!="object"||P.has(re.constructor)?re:j(re));return ie})(I[M])}),k}function py(k,I){return k.all||I.all||Object.keys(k).some(function(M){return I[M]&&jx(I[M],k[M])})}p(Hs.prototype,((Hi={add:function(k){return Ru(this,k),this},addKey:function(k){return Df(this,k,k),this},addKeys:function(k){var I=this;return k.forEach(function(M){return Df(I,M,M)}),this},hasKey:function(k){var I=$p(this).next(k).value;return I&&ln(I.from,k)<=0&&0<=ln(I.to,k)}})[V]=function(){return $p(this)},Hi));var Du={},my={},gy=!1;function Ap(k){Ip(my,k),gy||(gy=!0,setTimeout(function(){gy=!1,yy(my,!(my={}))},0))}function yy(k,I){I===void 0&&(I=!1);var M=new Set;if(k.all)for(var j=0,W=Object.values(Du);j<W.length;j++)Vx(re=W[j],k,M,I);else for(var K in k){var re,ie=/^idb\:\/\/(.*)\/(.*)\//.exec(K);ie&&(K=ie[1],ie=ie[2],(re=Du["idb://".concat(K,"/").concat(ie)])&&Vx(re,k,M,I))}M.forEach(function(he){return he()})}function Vx(k,I,M,j){for(var W=[],K=0,re=Object.entries(k.queries.query);K<re.length;K++){for(var ie=re[K],he=ie[0],ge=[],Ce=0,ue=ie[1];Ce<ue.length;Ce++){var Te=ue[Ce];py(I,Te.obsSet)?Te.subscribers.forEach(function(ke){return M.add(ke)}):j&&ge.push(Te)}j&&W.push([he,ge])}if(j)for(var ye=0,xe=W;ye<xe.length;ye++){var we=xe[ye],he=we[0],ge=we[1];k.queries.query[he]=ge}}function uE(k){var I=k._state,M=k._deps.indexedDB;if(I.isBeingOpened||k.idbdb)return I.dbReadyPromise.then(function(){return I.dbOpenError?Yn(I.dbOpenError):k});I.isBeingOpened=!0,I.dbOpenError=null,I.openComplete=!1;var j=I.openCanceller,W=Math.round(10*k.verno),K=!1;function re(){if(I.openCanceller!==j)throw new se.DatabaseClosed("db.open() was cancelled")}function ie(){return new lt(function(Te,ye){if(re(),!M)throw new se.MissingAPI;var xe=k.name,we=I.autoSchema||!W?M.open(xe):M.open(xe,W);if(!we)throw new se.MissingAPI;we.onerror=Pa(ye),we.onblocked=sr(k._fireOnBlocked),we.onupgradeneeded=sr(function(ke){var Ae;Ce=we.transaction,I.autoSchema&&!k._options.allowEmptyDB?(we.onerror=Iu,Ce.abort(),we.result.close(),(Ae=M.deleteDatabase(xe)).onsuccess=Ae.onerror=sr(function(){ye(new se.NoSuchDatabase("Database ".concat(xe," doesnt exist")))})):(Ce.onerror=Pa(ye),ke=ke.oldVersion>Math.pow(2,62)?0:ke.oldVersion,ue=ke<1,k.idbdb=we.result,K&&Cp(k,Ce),Rf(k,ke/10,Ce,ye))},ye),we.onsuccess=sr(function(){Ce=null;var ke,Ae,_e,Ve,Ke,at=k.idbdb=we.result,dt=S(at.objectStoreNames);if(0<dt.length)try{var tt=at.transaction((Ve=dt).length===1?Ve[0]:Ve,"readonly");if(I.autoSchema)Ae=at,_e=tt,(ke=k).verno=Ae.version/10,_e=ke._dbSchema=qc(0,Ae,_e),ke._storeNames=S(Ae.objectStoreNames,0),Sp(ke,[ke._allTables],a(_e),_e);else if(Ep(k,k._dbSchema,tt),((Ke=kp(qc(0,(Ke=k).idbdb,tt),Ke._dbSchema)).add.length||Ke.change.some(function(ot){return ot.add.length||ot.change.length}))&&!K)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),at.close(),W=at.version+1,K=!0,Te(ie());Dl(k,tt)}catch{}Tu.push(k),at.onversionchange=sr(function(ot){I.vcFired=!0,k.on("versionchange").fire(ot)}),at.onclose=sr(function(){k.close({disableAutoOpen:!1})}),ue&&(Ke=k._deps,tt=xe,at=Ke.indexedDB,Ke=Ke.IDBKeyRange,Np(at)||tt===kf||cy(at,Ke).put({name:tt}).catch(Se)),Te()},ye)}).catch(function(Te){switch(Te?.name){case"UnknownError":if(0<I.PR1398_maxLoop)return I.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ie();break;case"VersionError":if(0<W)return W=0,ie()}return lt.reject(Te)})}var he,ge=I.dbReadyResolve,Ce=null,ue=!1;return lt.race([j,(typeof navigator>"u"?lt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Te){function ye(){return indexedDB.databases().finally(Te)}he=setInterval(ye,100),ye()}).finally(function(){return clearInterval(he)}):Promise.resolve()).then(ie)]).then(function(){return re(),I.onReadyBeingFired=[],lt.resolve(dy(function(){return k.on.ready.fire(k.vip)})).then(function Te(){if(0<I.onReadyBeingFired.length){var ye=I.onReadyBeingFired.reduce(Zt,Se);return I.onReadyBeingFired=[],lt.resolve(dy(function(){return ye(k.vip)})).then(Te)}})}).finally(function(){I.openCanceller===j&&(I.onReadyBeingFired=null,I.isBeingOpened=!1)}).catch(function(Te){I.dbOpenError=Te;try{Ce&&Ce.abort()}catch{}return j===I.openCanceller&&k._close(),Yn(Te)}).finally(function(){I.openComplete=!0,ge()}).then(function(){var Te;return ue&&(Te={},k.tables.forEach(function(ye){ye.schema.indexes.forEach(function(xe){xe.name&&(Te["idb://".concat(k.name,"/").concat(ye.name,"/").concat(xe.name)]=new Hs(-1/0,[[[]]]))}),Te["idb://".concat(k.name,"/").concat(ye.name,"/")]=Te["idb://".concat(k.name,"/").concat(ye.name,"/:dels")]=new Hs(-1/0,[[[]]])}),Ws(Vc).fire(Te),yy(Te,!0)),k})}function _f(k){function I(K){return k.next(K)}var M=W(I),j=W(function(K){return k.throw(K)});function W(K){return function(he){var ie=K(he),he=ie.value;return ie.done?he:he&&typeof he.then=="function"?he.then(M,j):o(he)?Promise.all(he).then(M,j):M(he)}}return W(I)()}function _l(k,I,M){for(var j=o(k)?k.slice():[k],W=0;W<M;++W)j.push(I);return j}var cE={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(k){return r(r({},k),{table:function(I){var M=k.table(I),j=M.schema,W={},K=[];function re(ue,Te,ye){var xe=ds(ue),we=W[xe]=W[xe]||[],ke=ue==null?0:typeof ue=="string"?1:ue.length,Ae=0<Te,Ae=r(r({},ye),{name:Ae?"".concat(xe,"(virtual-from:").concat(ye.name,")"):ye.name,lowLevelIndex:ye,isVirtual:Ae,keyTail:Te,keyLength:ke,extractKey:Gc(ue),unique:!Ae&&ye.unique});return we.push(Ae),Ae.isPrimaryKey||K.push(Ae),1<ke&&re(ke===2?ue[0]:ue.slice(0,ke-1),Te+1,ye),we.sort(function(_e,Ve){return _e.keyTail-Ve.keyTail}),Ae}I=re(j.primaryKey.keyPath,0,j.primaryKey),W[":id"]=[I];for(var ie=0,he=j.indexes;ie<he.length;ie++){var ge=he[ie];re(ge.keyPath,0,ge)}function Ce(ue){var Te,ye=ue.query.index;return ye.isVirtual?r(r({},ue),{query:{index:ye.lowLevelIndex,range:(Te=ue.query.range,ye=ye.keyTail,{type:Te.type===1?2:Te.type,lower:_l(Te.lower,Te.lowerOpen?k.MAX_KEY:k.MIN_KEY,ye),lowerOpen:!0,upper:_l(Te.upper,Te.upperOpen?k.MIN_KEY:k.MAX_KEY,ye),upperOpen:!0})}}):ue}return r(r({},M),{schema:r(r({},j),{primaryKey:I,indexes:K,getIndexByKeyPath:function(ue){return(ue=W[ds(ue)])&&ue[0]}}),count:function(ue){return M.count(Ce(ue))},query:function(ue){return M.query(Ce(ue))},openCursor:function(ue){var Te=ue.query.index,ye=Te.keyTail,xe=Te.isVirtual,we=Te.keyLength;return xe?M.openCursor(Ce(ue)).then(function(Ae){return Ae&&ke(Ae)}):M.openCursor(ue);function ke(Ae){return Object.create(Ae,{continue:{value:function(_e){_e!=null?Ae.continue(_l(_e,ue.reverse?k.MAX_KEY:k.MIN_KEY,ye)):ue.unique?Ae.continue(Ae.key.slice(0,we).concat(ue.reverse?k.MIN_KEY:k.MAX_KEY,ye)):Ae.continue()}},continuePrimaryKey:{value:function(_e,Ve){Ae.continuePrimaryKey(_l(_e,k.MAX_KEY,ye),Ve)}},primaryKey:{get:function(){return Ae.primaryKey}},key:{get:function(){var _e=Ae.key;return we===1?_e[0]:_e.slice(0,we)}},value:{get:function(){return Ae.value}}})}}})}})}};function Op(k,I,M,j){return M=M||{},j=j||"",a(k).forEach(function(W){var K,re,ie;f(I,W)?(K=k[W],re=I[W],typeof K=="object"&&typeof re=="object"&&K&&re?(ie=X(K))!==X(re)?M[j+W]=I[W]:ie==="Object"?Op(K,re,M,j+W+"."):K!==re&&(M[j+W]=I[W]):K!==re&&(M[j+W]=I[W])):M[j+W]=void 0}),a(I).forEach(function(W){f(k,W)||(M[j+W]=I[W])}),M}function Rp(k,I){return I.type==="delete"?I.keys:I.keys||I.values.map(k.extractKey)}var Wx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(k){return r(r({},k),{table:function(I){var M=k.table(I),j=M.schema.primaryKey;return r(r({},M),{mutate:function(W){var K=mt.trans,re=K.table(I).hook,ie=re.deleting,he=re.creating,ge=re.updating;switch(W.type){case"add":if(he.fire===Se)break;return K._promise("readwrite",function(){return Ce(W)},!0);case"put":if(he.fire===Se&&ge.fire===Se)break;return K._promise("readwrite",function(){return Ce(W)},!0);case"delete":if(ie.fire===Se)break;return K._promise("readwrite",function(){return Ce(W)},!0);case"deleteRange":if(ie.fire===Se)break;return K._promise("readwrite",function(){return(function ue(Te,ye,xe){return M.query({trans:Te,values:!1,query:{index:j,range:ye},limit:xe}).then(function(we){var ke=we.result;return Ce({type:"delete",keys:ke,trans:Te}).then(function(Ae){return 0<Ae.numFailures?Promise.reject(Ae.failures[0]):ke.length<xe?{failures:[],numFailures:0,lastResult:void 0}:ue(Te,r(r({},ye),{lower:ke[ke.length-1],lowerOpen:!0}),xe)})})})(W.trans,W.range,1e4)},!0)}return M.mutate(W);function Ce(ue){var Te,ye,xe,we=mt.trans,ke=ue.keys||Rp(j,ue);if(!ke)throw new Error("Keys missing");return(ue=ue.type==="add"||ue.type==="put"?r(r({},ue),{keys:ke}):r({},ue)).type!=="delete"&&(ue.values=s([],ue.values)),ue.keys&&(ue.keys=s([],ue.keys)),Te=M,xe=ke,((ye=ue).type==="add"?Promise.resolve([]):Te.getMany({trans:ye.trans,keys:xe,cache:"immutable"})).then(function(Ae){var _e=ke.map(function(Ve,Ke){var at,dt,tt,ot=Ae[Ke],ct={onerror:null,onsuccess:null};return ue.type==="delete"?ie.fire.call(ct,Ve,ot,we):ue.type==="add"||ot===void 0?(at=he.fire.call(ct,Ve,ue.values[Ke],we),Ve==null&&at!=null&&(ue.keys[Ke]=Ve=at,j.outbound||_(ue.values[Ke],j.keyPath,Ve))):(at=Op(ot,ue.values[Ke]),(dt=ge.fire.call(ct,at,Ve,ot,we))&&(tt=ue.values[Ke],Object.keys(dt).forEach(function(nt){f(tt,nt)?tt[nt]=dt[nt]:_(tt,nt,dt[nt])}))),ct});return M.mutate(ue).then(function(Ve){for(var Ke=Ve.failures,at=Ve.results,dt=Ve.numFailures,Ve=Ve.lastResult,tt=0;tt<ke.length;++tt){var ot=(at||ke)[tt],ct=_e[tt];ot==null?ct.onerror&&ct.onerror(Ke[tt]):ct.onsuccess&&ct.onsuccess(ue.type==="put"&&Ae[tt]?ue.values[tt]:ot)}return{failures:Ke,results:at,numFailures:dt,lastResult:Ve}}).catch(function(Ve){return _e.forEach(function(Ke){return Ke.onerror&&Ke.onerror(Ve)}),Promise.reject(Ve)})})}}})}})}};function vy(k,I,M){try{if(!I||I.keys.length<k.length)return null;for(var j=[],W=0,K=0;W<I.keys.length&&K<k.length;++W)ln(I.keys[W],k[K])===0&&(j.push(M?H(I.values[W]):I.values[W]),++K);return j.length===k.length?j:null}catch{return null}}var Hx={stack:"dbcore",level:-1,create:function(k){return{table:function(I){var M=k.table(I);return r(r({},M),{getMany:function(j){if(!j.cache)return M.getMany(j);var W=vy(j.keys,j.trans._cache,j.cache==="clone");return W?lt.resolve(W):M.getMany(j).then(function(K){return j.trans._cache={keys:j.keys,values:j.cache==="clone"?H(K):K},K})},mutate:function(j){return j.type!=="add"&&(j.trans._cache=null),M.mutate(j)}})}}}};function _u(k,I){return k.trans.mode==="readonly"&&!!k.subscr&&!k.trans.explicit&&k.trans.db._options.cache!=="disabled"&&!I.schema.primaryKey.outbound}function Gx(k,I){switch(k){case"query":return I.values&&!I.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var dE={stack:"dbcore",level:0,name:"Observability",create:function(k){var I=k.schema.name,M=new Hs(k.MIN_KEY,k.MAX_KEY);return r(r({},k),{transaction:function(j,W,K){if(mt.subscr&&W!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(mt.querier));return k.transaction(j,W,K)},table:function(j){var W=k.table(j),K=W.schema,re=K.primaryKey,ue=K.indexes,ie=re.extractKey,he=re.outbound,ge=re.autoIncrement&&ue.filter(function(ye){return ye.compound&&ye.keyPath.includes(re.keyPath)}),Ce=r(r({},W),{mutate:function(ye){function xe(nt){return nt="idb://".concat(I,"/").concat(j,"/").concat(nt),Ve[nt]||(Ve[nt]=new Hs)}var we,ke,Ae,_e=ye.trans,Ve=ye.mutatedParts||(ye.mutatedParts={}),Ke=xe(""),at=xe(":dels"),dt=ye.type,ct=ye.type==="deleteRange"?[ye.range]:ye.type==="delete"?[ye.keys]:ye.values.length<50?[Rp(re,ye).filter(function(nt){return nt}),ye.values]:[],tt=ct[0],ot=ct[1],ct=ye.trans._cache;return o(tt)?(Ke.addKeys(tt),(ct=dt==="delete"||tt.length===ot.length?vy(tt,ct):null)||at.addKeys(tt),(ct||ot)&&(we=xe,ke=ct,Ae=ot,K.indexes.forEach(function(nt){var vt=we(nt.name||"");function _t(Qt){return Qt!=null?nt.extractKey(Qt):null}function Gt(Qt){return nt.multiEntry&&o(Qt)?Qt.forEach(function(Gs){return vt.addKey(Gs)}):vt.addKey(Qt)}(ke||Ae).forEach(function(Qt,fs){var jt=ke&&_t(ke[fs]),fs=Ae&&_t(Ae[fs]);ln(jt,fs)!==0&&(jt!=null&&Gt(jt),fs!=null&&Gt(fs))})}))):tt?(ot={from:(ot=tt.lower)!==null&&ot!==void 0?ot:k.MIN_KEY,to:(ot=tt.upper)!==null&&ot!==void 0?ot:k.MAX_KEY},at.add(ot),Ke.add(ot)):(Ke.add(M),at.add(M),K.indexes.forEach(function(nt){return xe(nt.name).add(M)})),W.mutate(ye).then(function(nt){return!tt||ye.type!=="add"&&ye.type!=="put"||(Ke.addKeys(nt.results),ge&&ge.forEach(function(vt){for(var _t=ye.values.map(function(jt){return vt.extractKey(jt)}),Gt=vt.keyPath.findIndex(function(jt){return jt===re.keyPath}),Qt=0,Gs=nt.results.length;Qt<Gs;++Qt)_t[Qt][Gt]=nt.results[Qt];xe(vt.name).addKeys(_t)})),_e.mutatedParts=Ip(_e.mutatedParts||{},Ve),nt})}}),ue=function(xe){var we=xe.query,xe=we.index,we=we.range;return[xe,new Hs((xe=we.lower)!==null&&xe!==void 0?xe:k.MIN_KEY,(we=we.upper)!==null&&we!==void 0?we:k.MAX_KEY)]},Te={get:function(ye){return[re,new Hs(ye.key)]},getMany:function(ye){return[re,new Hs().addKeys(ye.keys)]},count:ue,query:ue,openCursor:ue};return a(Te).forEach(function(ye){Ce[ye]=function(xe){var we=mt.subscr,ke=!!we,Ae=_u(mt,W)&&Gx(ye,xe)?xe.obsSet={}:we;if(ke){var _e=function(ot){return ot="idb://".concat(I,"/").concat(j,"/").concat(ot),Ae[ot]||(Ae[ot]=new Hs)},Ve=_e(""),Ke=_e(":dels"),we=Te[ye](xe),ke=we[0],we=we[1];if((ye==="query"&&ke.isPrimaryKey&&!xe.values?Ke:_e(ke.name||"")).add(we),!ke.isPrimaryKey){if(ye!=="count"){var at=ye==="query"&&he&&xe.values&&W.query(r(r({},xe),{values:!1}));return W[ye].apply(this,arguments).then(function(ot){if(ye==="query"){if(he&&xe.values)return at.then(function(_t){return _t=_t.result,Ve.addKeys(_t),ot});var ct=xe.values?ot.result.map(ie):ot.result;(xe.values?Ve:Ke).addKeys(ct)}else if(ye==="openCursor"){var nt=ot,vt=xe.values;return nt&&Object.create(nt,{key:{get:function(){return Ke.addKey(nt.primaryKey),nt.key}},primaryKey:{get:function(){var _t=nt.primaryKey;return Ke.addKey(_t),_t}},value:{get:function(){return vt&&Ve.addKey(nt.primaryKey),nt.value}}})}return ot})}Ke.add(M)}}return W[ye].apply(this,arguments)}}),Ce}})}};function qx(k,I,M){if(M.numFailures===0)return I;if(I.type==="deleteRange")return null;var j=I.keys?I.keys.length:"values"in I&&I.values?I.values.length:1;return M.numFailures===j?null:(I=r({},I),o(I.keys)&&(I.keys=I.keys.filter(function(W,K){return!(K in M.failures)})),"values"in I&&o(I.values)&&(I.values=I.values.filter(function(W,K){return!(K in M.failures)})),I)}function Dp(k,I){return M=k,((j=I).lower===void 0||(j.lowerOpen?0<ln(M,j.lower):0<=ln(M,j.lower)))&&(k=k,(I=I).upper===void 0||(I.upperOpen?ln(k,I.upper)<0:ln(k,I.upper)<=0));var M,j}function by(k,I,Te,j,W,K){if(!Te||Te.length===0)return k;var re=I.query.index,ie=re.multiEntry,he=I.query.range,ge=j.schema.primaryKey.extractKey,Ce=re.extractKey,ue=(re.lowLevelIndex||re).extractKey,Te=Te.reduce(function(ye,xe){var we=ye,ke=[];if(xe.type==="add"||xe.type==="put")for(var Ae=new Hs,_e=xe.values.length-1;0<=_e;--_e){var Ve,Ke=xe.values[_e],at=ge(Ke);Ae.hasKey(at)||(Ve=Ce(Ke),(ie&&o(Ve)?Ve.some(function(nt){return Dp(nt,he)}):Dp(Ve,he))&&(Ae.addKey(at),ke.push(Ke)))}switch(xe.type){case"add":var dt=new Hs().addKeys(I.values?ye.map(function(vt){return ge(vt)}):ye),we=ye.concat(I.values?ke.filter(function(vt){return vt=ge(vt),!dt.hasKey(vt)&&(dt.addKey(vt),!0)}):ke.map(function(vt){return ge(vt)}).filter(function(vt){return!dt.hasKey(vt)&&(dt.addKey(vt),!0)}));break;case"put":var tt=new Hs().addKeys(xe.values.map(function(vt){return ge(vt)}));we=ye.filter(function(vt){return!tt.hasKey(I.values?ge(vt):vt)}).concat(I.values?ke:ke.map(function(vt){return ge(vt)}));break;case"delete":var ot=new Hs().addKeys(xe.keys);we=ye.filter(function(vt){return!ot.hasKey(I.values?ge(vt):vt)});break;case"deleteRange":var ct=xe.range;we=ye.filter(function(vt){return!Dp(ge(vt),ct)})}return we},k);return Te===k?k:(Te.sort(function(ye,xe){return ln(ue(ye),ue(xe))||ln(ge(ye),ge(xe))}),I.limit&&I.limit<1/0&&(Te.length>I.limit?Te.length=I.limit:k.length===I.limit&&Te.length<I.limit&&(W.dirty=!0)),K?Object.freeze(Te):Te)}function Xc(k,I){return ln(k.lower,I.lower)===0&&ln(k.upper,I.upper)===0&&!!k.lowerOpen==!!I.lowerOpen&&!!k.upperOpen==!!I.upperOpen}function Pf(k,I){return(function(M,j,W,K){if(M===void 0)return j!==void 0?-1:0;if(j===void 0)return 1;if((j=ln(M,j))===0){if(W&&K)return 0;if(W)return 1;if(K)return-1}return j})(k.lower,I.lower,k.lowerOpen,I.lowerOpen)<=0&&0<=(function(M,j,W,K){if(M===void 0)return j!==void 0?1:0;if(j===void 0)return-1;if((j=ln(M,j))===0){if(W&&K)return 0;if(W)return-1;if(K)return 1}return j})(k.upper,I.upper,k.upperOpen,I.upperOpen)}function fE(k,I,M,j){k.subscribers.add(M),j.addEventListener("abort",function(){var W,K;k.subscribers.delete(M),k.subscribers.size===0&&(W=k,K=I,setTimeout(function(){W.subscribers.size===0&&J(K,W)},3e3))})}var _p={stack:"dbcore",level:0,name:"Cache",create:function(k){var I=k.schema.name;return r(r({},k),{transaction:function(M,j,W){var K,re,ie=k.transaction(M,j,W);return j==="readwrite"&&(re=(K=new AbortController).signal,W=function(he){return function(){if(K.abort(),j==="readwrite"){for(var ge=new Set,Ce=0,ue=M;Ce<ue.length;Ce++){var Te=ue[Ce],ye=Du["idb://".concat(I,"/").concat(Te)];if(ye){var xe=k.table(Te),we=ye.optimisticOps.filter(function(vt){return vt.trans===ie});if(ie._explicit&&he&&ie.mutatedParts)for(var ke=0,Ae=Object.values(ye.queries.query);ke<Ae.length;ke++)for(var _e=0,Ve=(dt=Ae[ke]).slice();_e<Ve.length;_e++)py((tt=Ve[_e]).obsSet,ie.mutatedParts)&&(J(dt,tt),tt.subscribers.forEach(function(vt){return ge.add(vt)}));else if(0<we.length){ye.optimisticOps=ye.optimisticOps.filter(function(vt){return vt.trans!==ie});for(var Ke=0,at=Object.values(ye.queries.query);Ke<at.length;Ke++)for(var dt,tt,ot,ct=0,nt=(dt=at[Ke]).slice();ct<nt.length;ct++)(tt=nt[ct]).res!=null&&ie.mutatedParts&&(he&&!tt.dirty?(ot=Object.isFrozen(tt.res),ot=by(tt.res,tt.req,we,xe,tt,ot),tt.dirty?(J(dt,tt),tt.subscribers.forEach(function(vt){return ge.add(vt)})):ot!==tt.res&&(tt.res=ot,tt.promise=lt.resolve({result:ot}))):(tt.dirty&&J(dt,tt),tt.subscribers.forEach(function(vt){return ge.add(vt)})))}}}ge.forEach(function(vt){return vt()})}}},ie.addEventListener("abort",W(!1),{signal:re}),ie.addEventListener("error",W(!1),{signal:re}),ie.addEventListener("complete",W(!0),{signal:re})),ie},table:function(M){var j=k.table(M),W=j.schema.primaryKey;return r(r({},j),{mutate:function(K){var re=mt.trans;if(W.outbound||re.db._options.cache==="disabled"||re.explicit||re.idbtrans.mode!=="readwrite")return j.mutate(K);var ie=Du["idb://".concat(I,"/").concat(M)];return ie?(re=j.mutate(K),K.type!=="add"&&K.type!=="put"||!(50<=K.values.length||Rp(W,K).some(function(he){return he==null}))?(ie.optimisticOps.push(K),K.mutatedParts&&Ap(K.mutatedParts),re.then(function(he){0<he.numFailures&&(J(ie.optimisticOps,K),(he=qx(0,K,he))&&ie.optimisticOps.push(he),K.mutatedParts&&Ap(K.mutatedParts))}),re.catch(function(){J(ie.optimisticOps,K),K.mutatedParts&&Ap(K.mutatedParts)})):re.then(function(he){var ge=qx(0,r(r({},K),{values:K.values.map(function(Ce,ue){var Te;return he.failures[ue]?Ce:(Ce=(Te=W.keyPath)!==null&&Te!==void 0&&Te.includes(".")?H(Ce):r({},Ce),_(Ce,W.keyPath,he.results[ue]),Ce)})}),he);ie.optimisticOps.push(ge),queueMicrotask(function(){return K.mutatedParts&&Ap(K.mutatedParts)})}),re):j.mutate(K)},query:function(K){if(!_u(mt,j)||!Gx("query",K))return j.query(K);var re=((ge=mt.trans)===null||ge===void 0?void 0:ge.db._options.cache)==="immutable",ue=mt,ie=ue.requery,he=ue.signal,ge=(function(xe,we,ke,Ae){var _e=Du["idb://".concat(xe,"/").concat(we)];if(!_e)return[];if(!(we=_e.queries[ke]))return[null,!1,_e,null];var Ve=we[(Ae.query?Ae.query.index.name:null)||""];if(!Ve)return[null,!1,_e,null];switch(ke){case"query":var Ke=Ve.find(function(at){return at.req.limit===Ae.limit&&at.req.values===Ae.values&&Xc(at.req.query.range,Ae.query.range)});return Ke?[Ke,!0,_e,Ve]:[Ve.find(function(at){return("limit"in at.req?at.req.limit:1/0)>=Ae.limit&&(!Ae.values||at.req.values)&&Pf(at.req.query.range,Ae.query.range)}),!1,_e,Ve];case"count":return Ke=Ve.find(function(at){return Xc(at.req.query.range,Ae.query.range)}),[Ke,!!Ke,_e,Ve]}})(I,M,"query",K),Ce=ge[0],ue=ge[1],Te=ge[2],ye=ge[3];return Ce&&ue?Ce.obsSet=K.obsSet:(ue=j.query(K).then(function(xe){var we=xe.result;if(Ce&&(Ce.res=we),re){for(var ke=0,Ae=we.length;ke<Ae;++ke)Object.freeze(we[ke]);Object.freeze(we)}else xe.result=H(we);return xe}).catch(function(xe){return ye&&Ce&&J(ye,Ce),Promise.reject(xe)}),Ce={obsSet:K.obsSet,promise:ue,subscribers:new Set,type:"query",req:K,dirty:!1},ye?ye.push(Ce):(ye=[Ce],(Te=Te||(Du["idb://".concat(I,"/").concat(M)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[K.query.index.name||""]=ye)),fE(Ce,ye,ie,he),Ce.promise.then(function(xe){return{result:by(xe.result,K,Te?.optimisticOps,j,Ce,re)}})}})}})}};function Mf(k,I){return new Proxy(k,{get:function(M,j,W){return j==="db"?I:Reflect.get(M,j,W)}})}var ao=(mr.prototype.version=function(k){if(isNaN(k)||k<.1)throw new se.Type("Given version is not a positive number");if(k=Math.round(10*k)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,k);var I=this._versions,M=I.filter(function(j){return j._cfg.version===k})[0];return M||(M=new this.Version(k),I.push(M),I.sort(ly),M.stores({}),this._state.autoSchema=!1,M)},mr.prototype._whenReady=function(k){var I=this;return this.idbdb&&(this._state.openComplete||mt.letThrough||this._vip)?k():new lt(function(M,j){if(I._state.openComplete)return j(new se.DatabaseClosed(I._state.dbOpenError));if(!I._state.isBeingOpened){if(!I._state.autoOpen)return void j(new se.DatabaseClosed);I.open().catch(Se)}I._state.dbReadyPromise.then(M,j)}).then(k)},mr.prototype.use=function(k){var I=k.stack,M=k.create,j=k.level,W=k.name;return W&&this.unuse({stack:I,name:W}),k=this._middlewares[I]||(this._middlewares[I]=[]),k.push({stack:I,create:M,level:j??10,name:W}),k.sort(function(K,re){return K.level-re.level}),this},mr.prototype.unuse=function(k){var I=k.stack,M=k.name,j=k.create;return I&&this._middlewares[I]&&(this._middlewares[I]=this._middlewares[I].filter(function(W){return j?W.create!==j:!!M&&W.name!==M})),this},mr.prototype.open=function(){var k=this;return Da(ts,function(){return uE(k)})},mr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var k=this._state,I=Tu.indexOf(this);if(0<=I&&Tu.splice(I,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}k.isBeingOpened||(k.dbReadyPromise=new lt(function(M){k.dbReadyResolve=M}),k.openCanceller=new lt(function(M,j){k.cancelOpen=j}))},mr.prototype.close=function(M){var I=(M===void 0?{disableAutoOpen:!0}:M).disableAutoOpen,M=this._state;I?(M.isBeingOpened&&M.cancelOpen(new se.DatabaseClosed),this._close(),M.autoOpen=!1,M.dbOpenError=new se.DatabaseClosed):(this._close(),M.autoOpen=this._options.autoOpen||M.isBeingOpened,M.openComplete=!1,M.dbOpenError=null)},mr.prototype.delete=function(k){var I=this;k===void 0&&(k={disableAutoOpen:!0});var M=0<arguments.length&&typeof arguments[0]!="object",j=this._state;return new lt(function(W,K){function re(){I.close(k);var ie=I._deps.indexedDB.deleteDatabase(I.name);ie.onsuccess=sr(function(){var he,ge,Ce;he=I._deps,ge=I.name,Ce=he.indexedDB,he=he.IDBKeyRange,Np(Ce)||ge===kf||cy(Ce,he).delete(ge).catch(Se),W()}),ie.onerror=Pa(K),ie.onblocked=I._fireOnBlocked}if(M)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");j.isBeingOpened?j.dbReadyPromise.then(re):re()})},mr.prototype.backendDB=function(){return this.idbdb},mr.prototype.isOpen=function(){return this.idbdb!==null},mr.prototype.hasBeenClosed=function(){var k=this._state.dbOpenError;return k&&k.name==="DatabaseClosed"},mr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},mr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(mr.prototype,"tables",{get:function(){var k=this;return a(this._allTables).map(function(I){return k._allTables[I]})},enumerable:!1,configurable:!0}),mr.prototype.transaction=function(){var k=(function(I,M,j){var W=arguments.length;if(W<2)throw new se.InvalidArgument("Too few arguments");for(var K=new Array(W-1);--W;)K[W-1]=arguments[W];return j=K.pop(),[I,z(K),j]}).apply(this,arguments);return this._transaction.apply(this,k)},mr.prototype._transaction=function(k,I,M){var j=this,W=mt.trans;W&&W.db===this&&k.indexOf("!")===-1||(W=null);var K,re,ie=k.indexOf("?")!==-1;k=k.replace("!","").replace("?","");try{if(re=I.map(function(ge){if(ge=ge instanceof j.Table?ge.name:ge,typeof ge!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ge}),k=="r"||k===Xo)K=Xo;else{if(k!="rw"&&k!=Ol)throw new se.InvalidArgument("Invalid transaction mode: "+k);K=Ol}if(W){if(W.mode===Xo&&K===Ol){if(!ie)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");W=null}W&&re.forEach(function(ge){if(W&&W.storeNames.indexOf(ge)===-1){if(!ie)throw new se.SubTransaction("Table "+ge+" not included in parent transaction.");W=null}}),ie&&W&&!W.active&&(W=null)}}catch(ge){return W?W._promise(null,function(Ce,ue){ue(ge)}):Yn(ge)}var he=(function ge(Ce,ue,Te,ye,xe){return lt.resolve().then(function(){var we=mt.transless||mt,ke=Ce._createTransaction(ue,Te,Ce._dbSchema,ye);if(ke.explicit=!0,we={trans:ke,transless:we},ye)ke.idbtrans=ye.idbtrans;else try{ke.create(),ke.idbtrans._explicit=!0,Ce._state.PR1398_maxLoop=3}catch(Ve){return Ve.name===Me.InvalidState&&Ce.isOpen()&&0<--Ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ce.close({disableAutoOpen:!1}),Ce.open().then(function(){return ge(Ce,ue,Te,null,xe)})):Yn(Ve)}var Ae,_e=G(xe);return _e&&rs(),we=lt.follow(function(){var Ve;(Ae=xe.call(ke,ke))&&(_e?(Ve=Vi.bind(null,null),Ae.then(Ve,Ve)):typeof Ae.next=="function"&&typeof Ae.throw=="function"&&(Ae=_f(Ae)))},we),(Ae&&typeof Ae.then=="function"?lt.resolve(Ae).then(function(Ve){return ke.active?Ve:Yn(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):we.then(function(){return Ae})).then(function(Ve){return ye&&ke._resolve(),ke._completion.then(function(){return Ve})}).catch(function(Ve){return ke._reject(Ve),Yn(Ve)})})}).bind(null,this,K,re,W,M);return W?W._promise(K,he,"lock"):mt.trans?Da(mt.transless,function(){return j._whenReady(he)}):this._whenReady(he)},mr.prototype.table=function(k){if(!f(this._allTables,k))throw new se.InvalidTable("Table ".concat(k," does not exist"));return this._allTables[k]},mr);function mr(k,I){var M=this;this._middlewares={},this.verno=0;var j=mr.dependencies;this._options=I=r({addons:mr.addons,autoOpen:!0,indexedDB:j.indexedDB,IDBKeyRange:j.IDBKeyRange,cache:"cloned"},I),this._deps={indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange},j=I.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var W,K,re,ie,he,ge={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Se,dbReadyPromise:null,cancelOpen:Se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:I.autoOpen};ge.dbReadyPromise=new lt(function(ue){ge.dbReadyResolve=ue}),ge.openCanceller=new lt(function(ue,Te){ge.cancelOpen=Te}),this._state=ge,this.name=k,this.on=Nf(this,"populate","blocked","versionchange","close",{ready:[Zt,Se]}),this.once=function(ue,Te){var ye=function(){for(var xe=[],we=0;we<arguments.length;we++)xe[we]=arguments[we];M.on(ue).unsubscribe(ye),Te.apply(M,xe)};return M.on(ue,ye)},this.on.ready.subscribe=C(this.on.ready.subscribe,function(ue){return function(Te,ye){mr.vip(function(){var xe,we=M._state;we.openComplete?(we.dbOpenError||lt.resolve().then(Te),ye&&ue(Te)):we.onReadyBeingFired?(we.onReadyBeingFired.push(Te),ye&&ue(Te)):(ue(Te),xe=M,ye||ue(function ke(){xe.on.ready.unsubscribe(Te),xe.on.ready.unsubscribe(ke)}))})}}),this.Collection=(W=this,Vs(aE.prototype,function(Ae,ke){this.db=W;var ye=ny,xe=null;if(ke)try{ye=ke()}catch(_e){xe=_e}var we=Ae._ctx,ke=we.table,Ae=ke.hook.reading.fire;this._ctx={table:ke,index:we.index,isPrimKey:!we.index||ke.schema.primKey.keyPath&&we.index===ke.schema.primKey.name,range:ye,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:xe,or:we.or,valueMapper:Ae!==yt?Ae:null}})),this.Table=(K=this,Vs(ry.prototype,function(ue,Te,ye){this.db=K,this._tx=ye,this.name=ue,this.schema=Te,this.hook=K._allTables[ue]?K._allTables[ue].hook:Nf(null,{creating:[kt,Se],reading:[Qe,yt],updating:[Ot,Se],deleting:[Dt,Se]})})),this.Transaction=(re=this,Vs(oy.prototype,function(ue,Te,ye,xe,we){var ke=this;ue!=="readonly"&&Te.forEach(function(Ae){Ae=(Ae=ye[Ae])===null||Ae===void 0?void 0:Ae.yProps,Ae&&(Te=Te.concat(Ae.map(function(_e){return _e.updatesTable})))}),this.db=re,this.mode=ue,this.storeNames=Te,this.schema=ye,this.chromeTransactionDurability=xe,this.idbtrans=null,this.on=Nf(this,"complete","error","abort"),this.parent=we||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new lt(function(Ae,_e){ke._resolve=Ae,ke._reject=_e}),this._completion.then(function(){ke.active=!1,ke.on.complete.fire()},function(Ae){var _e=ke.active;return ke.active=!1,ke.on.error.fire(Ae),ke.parent?ke.parent._reject(Ae):_e&&ke.idbtrans&&ke.idbtrans.abort(),Yn(Ae)})})),this.Version=(ie=this,Vs(lE.prototype,function(ue){this.db=ie,this._cfg={version:ue,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(he=this,Vs($u.prototype,function(ue,Te,ye){if(this.db=he,this._ctx={table:ue,index:Te===":id"?null:Te,or:ye},this._cmp=this._ascending=ln,this._descending=function(xe,we){return ln(we,xe)},this._max=function(xe,we){return 0<ln(xe,we)?xe:we},this._min=function(xe,we){return ln(xe,we)<0?xe:we},this._IDBKeyRange=he._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(ue){0<ue.newVersion?console.warn("Another connection wants to upgrade database '".concat(M.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(M.name,"'. Closing db now to resume the delete request.")),M.close({disableAutoOpen:!1})}),this.on("blocked",function(ue){!ue.newVersion||ue.newVersion<ue.oldVersion?console.warn("Dexie.delete('".concat(M.name,"') was blocked")):console.warn("Upgrade '".concat(M.name,"' blocked by other connection holding version ").concat(ue.oldVersion/10))}),this._maxKey=Hc(I.IDBKeyRange),this._createTransaction=function(ue,Te,ye,xe){return new M.Transaction(ue,Te,ye,M._options.chromeTransactionDurability,xe)},this._fireOnBlocked=function(ue){M.on("blocked").fire(ue),Tu.filter(function(Te){return Te.name===M.name&&Te!==M&&!Te._state.vcFired}).map(function(Te){return Te.on("versionchange").fire(ue)})},this.use(Hx),this.use(_p),this.use(dE),this.use(cE),this.use(Wx);var Ce=new Proxy(this,{get:function(ue,Te,ye){if(Te==="_vip")return!0;if(Te==="table")return function(we){return Mf(M.table(we),Ce)};var xe=Reflect.get(ue,Te,ye);return xe instanceof ry?Mf(xe,Ce):Te==="tables"?xe.map(function(we){return Mf(we,Ce)}):Te==="_createTransaction"?function(){return Mf(xe.apply(this,arguments),Ce)}:xe}});this.vip=Ce,j.forEach(function(ue){return ue(M)})}var Yc,Hi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Kx=(Pp.prototype.subscribe=function(k,I,M){return this._subscribe(k&&typeof k!="function"?k:{next:k,error:I,complete:M})},Pp.prototype[Hi]=function(){return this},Pp);function Pp(k){this._subscribe=k}try{Yc={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{Yc={indexedDB:null,IDBKeyRange:null}}function Xx(k){var I,M=!1,j=new Kx(function(W){var K=G(k),re,ie=!1,he={},ge={},Ce={get closed(){return ie},unsubscribe:function(){ie||(ie=!0,re&&re.abort(),ue&&Ws.storagemutated.unsubscribe(ye))}};W.start&&W.start(Ce);var ue=!1,Te=function(){return Al(xe)},ye=function(we){Ip(he,we),py(ge,he)&&Te()},xe=function(){var we,ke,Ae;!ie&&Yc.indexedDB&&(he={},we={},re&&re.abort(),re=new AbortController,Ae=(function(_e){var Ve=Nl();try{K&&rs();var Ke=ur(k,_e);return Ke=K?Ke.finally(Vi):Ke}finally{Ve&&no()}})(ke={subscr:we,signal:re.signal,requery:Te,querier:k,trans:null}),Promise.resolve(Ae).then(function(_e){M=!0,I=_e,ie||ke.signal.aborted||(he={},(function(Ve){for(var Ke in Ve)if(f(Ve,Ke))return;return 1})(ge=we)||ue||(Ws(Vc,ye),ue=!0),Al(function(){return!ie&&W.next&&W.next(_e)}))},function(_e){M=!1,["DatabaseClosedError","AbortError"].includes(_e?.name)||ie||Al(function(){ie||W.error&&W.error(_e)})}))};return setTimeout(Te,0),Ce});return j.hasValue=function(){return M},j.getValue=function(){return I},j}var Pu=ao;function xy(k){var I=Pl;try{Pl=!0,Ws.storagemutated.fire(k),yy(k,!0)}finally{Pl=I}}p(Pu,r(r({},Ge),{delete:function(k){return new Pu(k,{addons:[]}).delete()},exists:function(k){return new Pu(k,{addons:[]}).open().then(function(I){return I.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(k){try{return I=Pu.dependencies,M=I.indexedDB,I=I.IDBKeyRange,(Np(M)?Promise.resolve(M.databases()).then(function(j){return j.map(function(W){return W.name}).filter(function(W){return W!==kf})}):cy(M,I).toCollection().primaryKeys()).then(k)}catch{return Yn(new se.MissingAPI)}var I,M},defineClass:function(){return function(k){l(this,k)}},ignoreTransaction:function(k){return mt.trans?Da(mt.transless,k):k()},vip:dy,async:function(k){return function(){try{var I=_f(k.apply(this,arguments));return I&&typeof I.then=="function"?I:lt.resolve(I)}catch(M){return Yn(M)}}},spawn:function(k,I,M){try{var j=_f(k.apply(M,I||[]));return j&&typeof j.then=="function"?j:lt.resolve(j)}catch(W){return Yn(W)}},currentTransaction:{get:function(){return mt.trans||null}},waitFor:function(k,I){return I=lt.resolve(typeof k=="function"?Pu.ignoreTransaction(k):k).timeout(I||6e4),mt.trans?mt.trans.waitFor(I):I},Promise:lt,debug:{get:function(){return Ht},set:function(k){pt(k)}},derive:v,extend:l,props:p,override:C,Events:Nf,on:Ws,liveQuery:Xx,extendObservabilitySet:Ip,getByKeyPath:O,setByKeyPath:_,delByKeyPath:function(k,I){typeof I=="string"?_(k,I,void 0):"length"in I&&[].map.call(I,function(M){_(k,M,void 0)})},shallowClone:F,deepClone:H,getObjectDiff:Op,cmp:ln,asap:N,minKey:-1/0,addons:[],connections:Tu,errnames:Me,dependencies:Yc,cache:Du,semVer:"4.2.1",version:"4.2.1".split(".").map(function(k){return parseInt(k)}).reduce(function(k,I,M){return k+I/Math.pow(10,2*M)})})),Pu.maxKey=Hc(Pu.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ws(Vc,function(k){Pl||(k=new CustomEvent(Au,{detail:k}),Pl=!0,dispatchEvent(k),Pl=!1)}),addEventListener(Au,function(k){k=k.detail,Pl||xy(k)}));var Zc,Pl=!1,Ei=function(){};return typeof BroadcastChannel<"u"&&((Ei=function(){(Zc=new BroadcastChannel(Au)).onmessage=function(k){return k.data&&xy(k.data)}})(),typeof Zc.unref=="function"&&Zc.unref(),Ws(Vc,function(k){Pl||Zc.postMessage(k)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(k){if(!ao.disableBfCache&&k.persisted){Ht&&console.debug("Dexie: handling persisted pagehide"),Zc?.close();for(var I=0,M=Tu;I<M.length;I++)M[I].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(k){!ao.disableBfCache&&k.persisted&&(Ht&&console.debug("Dexie: handling persisted pageshow"),Ei(),xy({all:new Hs(-1/0,[[]])}))})),lt.rejectionMapper=function(k,I){return!k||k instanceof ae||k instanceof TypeError||k instanceof SyntaxError||!k.name||!je[k.name]?k:(I=new je[k.name](I||k.message,k),"stack"in k&&y(I,"stack",{get:function(){return this.inner.stack}}),I)},pt(Ht),r(ao,Object.freeze({__proto__:null,Dexie:ao,liveQuery:Xx,Entity:Mx,cmp:ln,PropModification:Uc,replacePrefix:function(k,I){return new Uc({replacePrefix:[k,I]})},add:function(k){return new Uc({add:k})},remove:function(k){return new Uc({remove:k})},default:ao,RangeSet:Hs,mergeRanges:Ru,rangesOverlap:jx}),{default:ao}),ao})})(Vw)),Vw.exports}var Lve=Mve();const cO=Ja(Lve),sU=Symbol.for("Dexie"),TS=globalThis[sU]||(globalThis[sU]=cO);if(cO.semVer!==TS.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${cO.semVer} and ${TS.semVer}`);const{liveQuery:sot,mergeRanges:iot,rangesOverlap:aot,RangeSet:oot,cmp:lot,Entity:uot,PropModification:cot,replacePrefix:dot,add:fot,remove:hot,DexieYProvider:pot}=TS,Pr=new TS("RuralHealthDB");Pr.version(1).stores({users:"++id, odoterId, name, age, gender, location, createdAt",symptoms:"++id, userId, timestamp, symptoms, analysis, severity, synced, createdAt",vitals:"++id, userId, timestamp, systolic, diastolic, pulse, temperature, weight, riskLevel, synced, createdAt",consultations:"++id, userId, timestamp, status, description, priority, synced, syncedAt",healthContent:"++id, category, title, content, language, downloaded, downloadedAt",predictions:"++id, timestamp, type, input, output, synced"});Pr.addSymptomRecord=async function(t){return await this.symptoms.add({...t,createdAt:new Date().toISOString()})};Pr.addVitalsRecord=async function(t){return await this.vitals.add({...t,createdAt:new Date().toISOString()})};Pr.getRecentSymptoms=async function(t=10){return await this.symptoms.orderBy("createdAt").reverse().limit(t).toArray()};Pr.getRecentVitals=async function(t=10){return await this.vitals.orderBy("createdAt").reverse().limit(t).toArray()};Pr.getPendingConsultations=async function(){return await this.consultations.where("synced").equals(!1).toArray()};Pr.getDownloadedContent=async function(){return await this.healthContent.where("downloaded").equals(!0).toArray()};const Fve=()=>{const t=KC(),{t:e}=$a(),{symptomsHistory:n,vitalsHistory:r,modelsLoaded:s}=Ro(),[i,a]=$.useState([]),[o,l]=$.useState([]);$.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await Pr.symptoms.orderBy("createdAt").reverse().limit(3).toArray();a(p);const m=await Pr.vitals.orderBy("createdAt").reverse().limit(3).toArray();l(m)}catch(p){console.error("Error loading recent data:",p)}},d=[{title:e("dashboard.checkSymptoms"),description:"AI-powered symptom analysis",icon:D.jsx(eO,{fontSize:"large"}),color:"#1976d2",path:"/symptom-checker"},{title:e("dashboard.recordVitals"),description:"Monitor your vital signs",icon:D.jsx(nO,{fontSize:"large"}),color:"#d32f2f",path:"/vitals"},{title:e("dashboard.learnHealth"),description:"Access health resources",icon:D.jsx(P8,{fontSize:"large"}),color:"#388e3c",path:"/education"},{title:e("dashboard.consultDoctor"),description:"Request telemedicine consultation",icon:D.jsx(M8,{fontSize:"large"}),color:"#f57c00",path:"/telemedicine"}],f=p=>{switch(p){case"severe":case"high":return"error";case"moderate":return"warning";default:return"success"}};return D.jsxs($n,{children:[D.jsxs($n,{sx:{mb:4},children:[D.jsx(rt,{variant:"h4",gutterBottom:!0,children:e("dashboard.welcome")}),s&&D.jsx(Oo,{icon:D.jsx(Km,{}),label:"AI Models Ready",color:"success",size:"small"})]}),D.jsx(rt,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:e("dashboard.quickActions")}),D.jsx(tr,{container:!0,spacing:2,sx:{mb:4},children:d.map((p,m)=>D.jsx(tr,{item:!0,xs:6,sm:6,md:3,children:D.jsx(Ar,{sx:{height:"100%",cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},onClick:()=>t(p.path),children:D.jsxs(qr,{sx:{p:{xs:1.5,sm:2}},children:[D.jsx(g$,{sx:{bgcolor:p.color,width:{xs:40,sm:56},height:{xs:40,sm:56},mb:{xs:1,sm:2},"& .MuiSvgIcon-root":{fontSize:{xs:"1.2rem",sm:"1.5rem"}}},children:p.icon}),D.jsx(rt,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:p.title}),D.jsx(rt,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.875rem"},display:{xs:"none",sm:"block"}},children:p.description})]})})},m))}),D.jsxs(tr,{container:!0,spacing:3,children:[D.jsx(tr,{item:!0,xs:12,md:6,children:D.jsxs(Ar,{children:[D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:e("dashboard.recentSymptoms")}),i.length>0?D.jsx(Ld,{children:i.map((p,m)=>D.jsxs(oc,{divider:m<i.length-1,children:[D.jsx(w4,{children:D.jsx(g$,{sx:{bgcolor:f(p.severity)},children:D.jsx(eO,{})})}),D.jsx(Ql,{primary:p.primaryDiagnosis?.name||"Analysis completed",secondary:p.createdAt?kS(new Date(p.createdAt),"MMM dd, yyyy - HH:mm"):"Recent"}),p.severity&&D.jsx(Oo,{label:p.severity,size:"small",color:f(p.severity)})]},m))}):D.jsx(rt,{variant:"body2",color:"text.secondary",sx:{py:2},children:"No recent symptom checks"})]}),D.jsx(GA,{children:D.jsx(_i,{size:"small",onClick:()=>t("/symptom-checker"),children:"Check Symptoms"})})]})}),D.jsx(tr,{item:!0,xs:12,md:6,children:D.jsxs(Ar,{children:[D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:e("dashboard.recentVitals")}),o.length>0?D.jsx(Ld,{children:o.map((p,m)=>D.jsxs(oc,{divider:m<o.length-1,children:[D.jsx(w4,{children:D.jsx(g$,{sx:{bgcolor:f(p.riskLevel)},children:D.jsx(nO,{})})}),D.jsx(Ql,{primary:`BP: ${p.systolic}/${p.diastolic} | Pulse: ${p.pulse}`,secondary:p.createdAt?kS(new Date(p.createdAt),"MMM dd, yyyy - HH:mm"):"Recent"}),p.riskLevel&&D.jsx(Oo,{label:p.riskLevel,size:"small",color:f(p.riskLevel)})]},m))}):D.jsx(rt,{variant:"body2",color:"text.secondary",sx:{py:2},children:"No recent vitals recorded"})]}),D.jsx(GA,{children:D.jsx(_i,{size:"small",onClick:()=>t("/vitals"),children:"Record Vitals"})})]})})]})]})};const zve=1e-7,Bve=1e-4;class K8{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class QD{refCount(e){return da("refCount")}incRef(e){return da("incRef")}timerAvailable(){return!0}time(e){return da("time")}read(e){return da("read")}readSync(e){return da("readSync")}readToGPU(e,n){return da("readToGPU")}numDataIds(){return da("numDataIds")}disposeData(e,n){return da("disposeData")}write(e,n,r){return da("write")}move(e,n,r,s,i){return da("move")}createTensorFromGPUData(e,n,r){return da("createTensorFromGPUData")}memory(){return da("memory")}floatPrecision(){return da("floatPrecision")}epsilon(){return this.floatPrecision()===32?zve:Bve}dispose(){return da("dispose")}}function da(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function jve(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Cm(t,e,n)}function Dh(t,e,n){return Math.max(t,Math.min(e,n))}function JD(t){return t%2===0?t:t+1}function Cm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Uve(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function Y(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Ia(t,e,n=""){Y(yn(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Tg(t){Y(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Le(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function Vve(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function yn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Xm(t){return t%1===0}function dO(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function _m(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function iU(t,e=s=>0,n,r){return new Promise((s,i)=>{let a=0;const o=()=>{if(t()){s();return}a++;const l=e(a);if(n!=null&&a>=n){i();return}r!=null?r(o,l):setTimeout(o,l)};o()})}function X8(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}function un(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),Y(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),Y(t.every(r=>Xm(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function nf(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:un(e,t).sort();let a=0;for(let o=0;o<t.length;++o){if(i!=null){if(i[a]===o&&t[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${t[o]}' is not 1`);(i[a]==null||i[a]>o)&&t[o]===1&&(n.push(t[o]),r.push(o)),i[a]<=o&&a++}t[o]!==1&&(n.push(t[o]),r.push(o))}return{newShape:n,keptDims:r}}function ni(t,e){return Kr(t,e)}function Kr(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Wve(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function Hve(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function Y8(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function ES(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function Gve(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Wb(t){return typeof t=="string"||t instanceof String}function qve(t){return typeof t=="boolean"}function fO(t){return typeof t=="number"}function Eg(t){return Array.isArray(t)?Eg(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":fO(t)?"float32":Wb(t)?"string":qve(t)?"bool":"float32"}function hO(t){return!!(t&&t.constructor&&t.call&&t.apply)}function pO(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function At(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function Z8(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let a=0;a<i;a++)s[a]=n[t+a]}else{const i=e[0],a=e.slice(1),o=a.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<i;l++)s[l]=Z8(t+l*o,a,n,r)}return s}function Do(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return Z8(0,t,e,n)}function Kve(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function e_(t,e){const n=xi(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function xi(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function Q8(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return Do(t,new Float32Array(n));if(e==="int32")return Do(t,new Int32Array(n));if(e==="bool")return Do(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function eo(t){t.forEach(e=>{Y(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function iu(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}function Ng(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}function _h(t){return t&&t.then&&typeof t.then=="function"}const aU="tfjsflags";class Xve{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Yve,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Oe().getBool("IS_TEST")||Oe().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];Oe().getBool("IS_TEST")||Oe().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(_h(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);aU in e&&e[aU].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=Qve(s,i)})}}function Yve(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(Zve(e,r[0],r[1]),r.join("="))),e}function Zve(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Qve(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function Oe(){return J8}let J8=null;function Jve(t){J8=t}let E$;function eK(){if(E$==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");E$=t}return E$}function ebe(){const t=eK();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function t_(t,e){const n=ebe();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const xk="Abs",Hb="Acos",Gb="Acosh",$g="Add",wk="AddN",n_="All",r_="Any",Sk="ArgMax",Ck="ArgMin",qb="Asin",Kb="Asinh",Xb="Atan",Yb="Atanh",Zb="Atan2",kk="AvgPool",s_="AvgPoolGrad",Tk="AvgPool3D",i_="AvgPool3DGrad",Ek="BatchMatMul",Nk="BatchToSpaceND",a_="Bincount",$k="BitwiseAnd",tbe="BroadcastTo",o_="BroadcastArgs",Qb="Cast",Jb="Ceil",e0="ClipByValue",l_="Complex",Ik="ComplexAbs",Ak="Concat",Ok="Conv2D",u_="Conv2DBackpropFilter",Rk="Conv2DBackpropInput",Dk="Conv3D",c_="Conv3DBackpropFilterV2",d_="Conv3DBackpropInputV2",t0="Cos",n0="Cosh",f_="Cumprod",_k="Cumsum",h_="CropAndResize",p_="DenseBincount",m_="DepthToSpace",Pk="DepthwiseConv2dNative",g_="DepthwiseConv2dNativeBackpropFilter",y_="DepthwiseConv2dNativeBackpropInput",v_="Diag",Mk="Dilation2D",mO="Dilation2DBackpropInput",gO="Dilation2DBackpropFilter",nbe="Draw",r0="RealDiv",b_="Einsum",s0="Elu",x_="EluGrad",i0="Erf",Lk="Equal",a0="Exp",Fk="ExpandDims",o0="Expm1",w_="FFT",S_="Fill",C_="FlipLeftRight",l0="Floor",u0="FloorDiv",zk="FusedBatchNorm",Bk="GatherV2",k_="GatherNd",jk="Greater",c0="GreaterEqual",d0="Identity",T_="IFFT",E_="Imag",f0="IsFinite",h0="IsInf",p0="IsNan",Uk="LeakyRelu",Vk="Less",Wk="LessEqual",N_="LinSpace",m0="Log",g0="Log1p",Hk="LogicalAnd",Gk="LogicalNot",qk="LogicalOr",rbe="LogSoftmax",Kk="LRN",$_="LRNGrad",Xk="Max",y0="Maximum",Yk="MaxPool",I_="MaxPoolGrad",Zk="MaxPool3D",A_="MaxPool3DGrad",O_="MaxPoolWithArgmax",Qk="Mean",Jk="Min",v0="Minimum",eT="MirrorPad",b0="Mod",R_="Multinomial",x0="Multiply",tT="Neg",nT="NotEqual",D_="NonMaxSuppressionV3",__="NonMaxSuppressionV4",P_="NonMaxSuppressionV5",rT="OnesLike",sT="OneHot",iT="Pack",aT="PadV2",w0="Pow",oT="Prelu",lT="Prod",M_="RaggedGather",L_="RaggedRange",F_="RaggedTensorToTensor",z_="Range",B_="Real",S0="Reciprocal",C0="Relu",uT="Reshape",cT="ResizeNearestNeighbor",j_="ResizeNearestNeighborGrad",dT="ResizeBilinear",U_="ResizeBilinearGrad",k0="Relu6",fT="Reverse",T0="Round",E0="Rsqrt",V_="ScatterNd",W_="TensorScatterUpdate",H_="SearchSorted",hT="Select",N0="Selu",pT="Slice",$0="Sin",I0="Sinh",A0="Sign",O0="Sigmoid",R0="Softplus",D0="Sqrt",mT="Sum",gT="SpaceToBatchND",yT="SplitV",vT="Softmax",G_="SparseFillEmptyRows",q_="SparseReshape",K_="SparseSegmentMean",X_="SparseSegmentSum",Y_="SparseToDense",_0="SquaredDifference",Z_="Square",bT="StaticRegexReplace",Q_="StridedSlice",J_="StringNGrams",eP="StringSplit",tP="StringToHashBucketFast",P0="Sub",M0="Tan",L0="Tanh",F0="Tile",nP="TopK",rP="Transform",Pm="Transpose",sP="Unique",xT="Unpack",wT="UnsortedSegmentSum",ST="ZerosLike",z0="Step",yO="FromPixels",iP="RotateWithOffset",NS="_FusedMatMul",$S="FusedConv2D",IS="FusedDepthwiseConv2D";function Wa(...t){Oe().getBool("IS_TEST")||Oe().getBool("PROD")||console.warn(...t)}function sbe(...t){Oe().getBool("IS_TEST")||Oe().getBool("PROD")||console.log(...t)}const AS=t_("kernelRegistry",()=>new Map),vO=t_("gradRegistry",()=>new Map);function bO(t,e){const n=nK(t,e);return AS.get(n)}function oU(t){return vO.get(t)}function lU(t){const e=AS.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,a]=s,[o]=i.split("_");o===t&&n.push(a)}return n}function tK(t){const{kernelName:e,backendName:n}=t,r=nK(e,n);AS.has(r)&&Wa(`The kernel '${e}' for backend '${n}' is already registered`),AS.set(r,t)}function ibe(t){const{kernelName:e}=t;vO.has(e)&&Oe().getBool("DEBUG")&&Wa(`Overriding the gradient for '${e}'`),vO.set(e,t)}function nK(t,e){return`${e}_${t}`}function rK(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var N$,uU;function abe(){if(uU)return N$;uU=1,N$=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(z,P,R){this.low=z|0,this.high=P|0,this.unsigned=!!R}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function n(z){return(z&&z.__isLong__)===!0}e.isLong=n;var r={},s={};function i(z,P){var R,H,q;return P?(z>>>=0,(q=0<=z&&z<256)&&(H=s[z],H)?H:(R=o(z,(z|0)<0?-1:0,!0),q&&(s[z]=R),R)):(z|=0,(q=-128<=z&&z<128)&&(H=r[z],H)?H:(R=o(z,z<0?-1:0,!1),q&&(r[z]=R),R))}e.fromInt=i;function a(z,P){if(isNaN(z))return P?S:w;if(P){if(z<0)return S;if(z>=y)return _}else{if(z<=-v)return F;if(z+1>=v)return O}return z<0?a(-z,P).neg():o(z%m|0,z/m|0,P)}e.fromNumber=a;function o(z,P,R){return new e(z,P,R)}e.fromBits=o;var l=Math.pow;function u(z,P,R){if(z.length===0)throw Error("empty string");if(z==="NaN"||z==="Infinity"||z==="+Infinity"||z==="-Infinity")return w;if(typeof P=="number"?(R=P,P=!1):P=!!P,R=R||10,R<2||36<R)throw RangeError("radix");var H;if((H=z.indexOf("-"))>0)throw Error("interior hyphen");if(H===0)return u(z.substring(1),P,R).neg();for(var q=a(l(R,8)),X=w,V=0;V<z.length;V+=8){var ee=Math.min(8,z.length-V),J=parseInt(z.substring(V,V+ee),R);if(ee<8){var te=a(l(R,ee));X=X.mul(te).add(a(J))}else X=X.mul(q),X=X.add(a(J))}return X.unsigned=P,X}e.fromString=u;function d(z,P){return typeof z=="number"?a(z,P):typeof z=="string"?u(z,P):o(z.low,z.high,typeof P=="boolean"?P:z.unsigned)}e.fromValue=d;var f=65536,p=1<<24,m=f*f,y=m*m,v=y/2,b=i(p),w=i(0);e.ZERO=w;var S=i(0,!0);e.UZERO=S;var C=i(1);e.ONE=C;var T=i(1,!0);e.UONE=T;var N=i(-1);e.NEG_ONE=N;var O=o(-1,2147483647,!1);e.MAX_VALUE=O;var _=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=_;var F=o(0,-2147483648,!1);e.MIN_VALUE=F;var L=e.prototype;return L.toInt=function(){return this.unsigned?this.low>>>0:this.low},L.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},L.toString=function(P){if(P=P||10,P<2||36<P)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(F)){var R=a(P),H=this.div(R),q=H.mul(R).sub(this);return H.toString(P)+q.toInt().toString(P)}else return"-"+this.neg().toString(P);for(var X=a(l(P,6),this.unsigned),V=this,ee="";;){var J=V.div(X),te=V.sub(J.mul(X)).toInt()>>>0,ce=te.toString(P);if(V=J,V.isZero())return ce+ee;for(;ce.length<6;)ce="0"+ce;ee=""+ce+ee}},L.getHighBits=function(){return this.high},L.getHighBitsUnsigned=function(){return this.high>>>0},L.getLowBits=function(){return this.low},L.getLowBitsUnsigned=function(){return this.low>>>0},L.getNumBitsAbs=function(){if(this.isNegative())return this.eq(F)?64:this.neg().getNumBitsAbs();for(var P=this.high!=0?this.high:this.low,R=31;R>0&&(P&1<<R)==0;R--);return this.high!=0?R+33:R+1},L.isZero=function(){return this.high===0&&this.low===0},L.eqz=L.isZero,L.isNegative=function(){return!this.unsigned&&this.high<0},L.isPositive=function(){return this.unsigned||this.high>=0},L.isOdd=function(){return(this.low&1)===1},L.isEven=function(){return(this.low&1)===0},L.equals=function(P){return n(P)||(P=d(P)),this.unsigned!==P.unsigned&&this.high>>>31===1&&P.high>>>31===1?!1:this.high===P.high&&this.low===P.low},L.eq=L.equals,L.notEquals=function(P){return!this.eq(P)},L.neq=L.notEquals,L.ne=L.notEquals,L.lessThan=function(P){return this.comp(P)<0},L.lt=L.lessThan,L.lessThanOrEqual=function(P){return this.comp(P)<=0},L.lte=L.lessThanOrEqual,L.le=L.lessThanOrEqual,L.greaterThan=function(P){return this.comp(P)>0},L.gt=L.greaterThan,L.greaterThanOrEqual=function(P){return this.comp(P)>=0},L.gte=L.greaterThanOrEqual,L.ge=L.greaterThanOrEqual,L.compare=function(P){if(n(P)||(P=d(P)),this.eq(P))return 0;var R=this.isNegative(),H=P.isNegative();return R&&!H?-1:!R&&H?1:this.unsigned?P.high>>>0>this.high>>>0||P.high===this.high&&P.low>>>0>this.low>>>0?-1:1:this.sub(P).isNegative()?-1:1},L.comp=L.compare,L.negate=function(){return!this.unsigned&&this.eq(F)?F:this.not().add(C)},L.neg=L.negate,L.add=function(P){n(P)||(P=d(P));var R=this.high>>>16,H=this.high&65535,q=this.low>>>16,X=this.low&65535,V=P.high>>>16,ee=P.high&65535,J=P.low>>>16,te=P.low&65535,ce=0,G=0,ne=0,ae=0;return ae+=X+te,ne+=ae>>>16,ae&=65535,ne+=q+J,G+=ne>>>16,ne&=65535,G+=H+ee,ce+=G>>>16,G&=65535,ce+=R+V,ce&=65535,o(ne<<16|ae,ce<<16|G,this.unsigned)},L.subtract=function(P){return n(P)||(P=d(P)),this.add(P.neg())},L.sub=L.subtract,L.multiply=function(P){if(this.isZero())return w;if(n(P)||(P=d(P)),t){var R=t.mul(this.low,this.high,P.low,P.high);return o(R,t.get_high(),this.unsigned)}if(P.isZero())return w;if(this.eq(F))return P.isOdd()?F:w;if(P.eq(F))return this.isOdd()?F:w;if(this.isNegative())return P.isNegative()?this.neg().mul(P.neg()):this.neg().mul(P).neg();if(P.isNegative())return this.mul(P.neg()).neg();if(this.lt(b)&&P.lt(b))return a(this.toNumber()*P.toNumber(),this.unsigned);var H=this.high>>>16,q=this.high&65535,X=this.low>>>16,V=this.low&65535,ee=P.high>>>16,J=P.high&65535,te=P.low>>>16,ce=P.low&65535,G=0,ne=0,ae=0,be=0;return be+=V*ce,ae+=be>>>16,be&=65535,ae+=X*ce,ne+=ae>>>16,ae&=65535,ae+=V*te,ne+=ae>>>16,ae&=65535,ne+=q*ce,G+=ne>>>16,ne&=65535,ne+=X*te,G+=ne>>>16,ne&=65535,ne+=V*J,G+=ne>>>16,ne&=65535,G+=H*ce+q*te+X*J+V*ee,G&=65535,o(ae<<16|be,G<<16|ne,this.unsigned)},L.mul=L.multiply,L.divide=function(P){if(n(P)||(P=d(P)),P.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&P.low===-1&&P.high===-1)return this;var R=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,P.low,P.high);return o(R,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?S:w;var H,q,X;if(this.unsigned){if(P.unsigned||(P=P.toUnsigned()),P.gt(this))return S;if(P.gt(this.shru(1)))return T;X=S}else{if(this.eq(F)){if(P.eq(C)||P.eq(N))return F;if(P.eq(F))return C;var V=this.shr(1);return H=V.div(P).shl(1),H.eq(w)?P.isNegative()?C:N:(q=this.sub(P.mul(H)),X=H.add(q.div(P)),X)}else if(P.eq(F))return this.unsigned?S:w;if(this.isNegative())return P.isNegative()?this.neg().div(P.neg()):this.neg().div(P).neg();if(P.isNegative())return this.div(P.neg()).neg();X=w}for(q=this;q.gte(P);){H=Math.max(1,Math.floor(q.toNumber()/P.toNumber()));for(var ee=Math.ceil(Math.log(H)/Math.LN2),J=ee<=48?1:l(2,ee-48),te=a(H),ce=te.mul(P);ce.isNegative()||ce.gt(q);)H-=J,te=a(H,this.unsigned),ce=te.mul(P);te.isZero()&&(te=C),X=X.add(te),q=q.sub(ce)}return X},L.div=L.divide,L.modulo=function(P){if(n(P)||(P=d(P)),t){var R=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,P.low,P.high);return o(R,t.get_high(),this.unsigned)}return this.sub(this.div(P).mul(P))},L.mod=L.modulo,L.rem=L.modulo,L.not=function(){return o(~this.low,~this.high,this.unsigned)},L.and=function(P){return n(P)||(P=d(P)),o(this.low&P.low,this.high&P.high,this.unsigned)},L.or=function(P){return n(P)||(P=d(P)),o(this.low|P.low,this.high|P.high,this.unsigned)},L.xor=function(P){return n(P)||(P=d(P)),o(this.low^P.low,this.high^P.high,this.unsigned)},L.shiftLeft=function(P){return n(P)&&(P=P.toInt()),(P&=63)===0?this:P<32?o(this.low<<P,this.high<<P|this.low>>>32-P,this.unsigned):o(0,this.low<<P-32,this.unsigned)},L.shl=L.shiftLeft,L.shiftRight=function(P){return n(P)&&(P=P.toInt()),(P&=63)===0?this:P<32?o(this.low>>>P|this.high<<32-P,this.high>>P,this.unsigned):o(this.high>>P-32,this.high>=0?0:-1,this.unsigned)},L.shr=L.shiftRight,L.shiftRightUnsigned=function(P){if(n(P)&&(P=P.toInt()),P&=63,P===0)return this;var R=this.high;if(P<32){var H=this.low;return o(H>>>P|R<<32-P,R>>>P,this.unsigned)}else return P===32?o(R,0,this.unsigned):o(R>>>P-32,0,this.unsigned)},L.shru=L.shiftRightUnsigned,L.shr_u=L.shiftRightUnsigned,L.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},L.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},L.toBytes=function(P){return P?this.toBytesLE():this.toBytesBE()},L.toBytesLE=function(){var P=this.high,R=this.low;return[R&255,R>>>8&255,R>>>16&255,R>>>24,P&255,P>>>8&255,P>>>16&255,P>>>24]},L.toBytesBE=function(){var P=this.high,R=this.low;return[P>>>24,P>>>16&255,P>>>8&255,P&255,R>>>24,R>>>16&255,R>>>8&255,R&255]},e.fromBytes=function(P,R,H){return H?e.fromBytesLE(P,R):e.fromBytesBE(P,R)},e.fromBytesLE=function(P,R){return new e(P[0]|P[1]<<8|P[2]<<16|P[3]<<24,P[4]|P[5]<<8|P[6]<<16|P[7]<<24,R)},e.fromBytesBE=function(P,R){return new e(P[4]<<24|P[5]<<16|P[6]<<8|P[7],P[0]<<24|P[1]<<16|P[2]<<8|P[3],R)},N$}var sK=abe();const iK=Ja(sK),obe=YG({__proto__:null,default:iK},[sK]);const ch=iK||obe;function CT(t){return ch.fromString(t,!0,16)}const aK=CT("c3a5c85c97cb3127"),ah=CT("b492b66fbe98f273"),Oi=CT("9ae16a3b2f90404f");function xO(t){return t.xor(t.shru(47))}function oK(t,e,n){const r=t.slice(e,e+n);return ch.fromBytes(Array.from(r),!0,!0)}function ar(t,e){return oK(t,e,8)}function cU(t,e){return oK(t,e,4)}function _s(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Ad(t,e,n=CT("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let s=e.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function lbe(t,e,n,r,s,i){s=s.add(t),i=_s(i.add(s).add(r),21);const a=s;return s=s.add(e),s=s.add(n),i=i.add(_s(s,44)),[s.add(r),i.add(a)]}function sw(t,e,n,r){return lbe(ar(t,e),ar(t,e+8),ar(t,e+16),ar(t,e+24),n,r)}function ube(t,e=t.length){if(e>=8){const n=Oi.add(e*2),r=ar(t,0).add(Oi),s=ar(t,e-8),i=_s(s,37).mul(n).add(r),a=_s(r,25).add(s).mul(n);return Ad(i,a,n)}if(e>=4){const n=Oi.add(e*2),r=cU(t,0);return Ad(r.shl(3).add(e),cU(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],s=t[e-1],i=n+(r<<8),a=e+(s<<2);return xO(Oi.mul(i).xor(aK.mul(a))).mul(Oi)}return Oi}function cbe(t,e=t.length){const n=Oi.add(e*2),r=ar(t,0).mul(ah),s=ar(t,8),i=ar(t,e-8).mul(n),a=ar(t,e-16).mul(Oi);return Ad(_s(r.add(s),43).add(_s(i,30)).add(a),r.add(_s(s.add(Oi),18)).add(i),n)}function dbe(t,e=t.length){const n=Oi.add(e*2),r=ar(t,0).mul(Oi),s=ar(t,8),i=ar(t,e-8).mul(n),a=ar(t,e-16).mul(Oi),o=_s(r.add(s),43).add(_s(i,30)).add(a),l=Ad(o,r.add(_s(s.add(Oi),18)).add(i),n),u=ar(t,16).mul(n),d=ar(t,24),f=o.add(ar(t,e-32)).mul(n),p=l.add(ar(t,e-24)).mul(n);return Ad(_s(u.add(d),43).add(_s(f,30)).add(p),u.add(_s(d.add(r),18)).add(f),n)}function fbe(t,e=t.length){const n=ch.fromNumber(81,!0);if(e<=32)return e<=16?ube(t,e):cbe(t,e);if(e<=64)return dbe(t,e);let r=n,s=n.mul(ah).add(113),i=xO(s.mul(Oi).add(113)).mul(Oi),a=[ch.UZERO,ch.UZERO],o=[ch.UZERO,ch.UZERO];r=r.mul(Oi).add(ar(t,0));let l=0;const u=(e-1>>6)*64,d=u+(e-1&63)-63;do r=_s(r.add(s).add(a[0]).add(ar(t,l+8)),37).mul(ah),s=_s(s.add(a[1]).add(ar(t,l+48)),42).mul(ah),r=r.xor(o[1]),s=s.add(a[0]).add(ar(t,l+40)),i=_s(i.add(o[0]),33).mul(ah),a=sw(t,l,a[1].mul(ah),r.add(o[0])),o=sw(t,l+32,i.add(o[1]),s.add(ar(t,l+16))),[i,r]=[r,i],l+=64;while(l!==u);const f=ah.add(i.and(255).shl(1));return l=d,o[0]=o[0].add(e-1&63),a[0]=a[0].add(o[0]),o[0]=o[0].add(a[0]),r=_s(r.add(s).add(a[0]).add(ar(t,l+8)),37).mul(f),s=_s(s.add(a[1]).add(ar(t,l+48)),42).mul(f),r=r.xor(o[1].mul(9)),s=s.add(a[0].mul(9).add(ar(t,l+40))),i=_s(i.add(o[0]),33).mul(f),a=sw(t,l,a[1].mul(f),r.add(o[0])),o=sw(t,l+32,i.add(o[1]),s.add(ar(t,l+16))),[i,r]=[r,i],Ad(Ad(a[0],o[0],f).add(xO(s).mul(aK)).add(i),Ad(a[1],o[1],f).add(r),f)}function rf(t,e){return e==="string"?Od(t):rp([t],e)}function hbe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function rp(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Ph(t)),Oe().getBool("DEBUG")&&Wve(t,e),hbe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function qi(){return Oe().platform.now()}function Od(t,e="utf-8"){return e=e||"utf-8",Oe().platform.encode(t,e)}function zd(t,e="utf-8"){return e=e||"utf-8",Oe().platform.decode(t,e)}function Po(t){return Oe().platform.isTypedArray!=null?Oe().platform.isTypedArray(t):rK(t)}function Ph(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||_h(t)||t==null||Po(t)&&n)e.push(t);else if(Array.isArray(t)||Po(t))for(let r=0;r<t.length;++r)Ph(t[r],e,n);else{let r=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)Ph(t[s],e,n)}return e}class pbe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new gbe)}profileKernel(e,n,r){let s;const i=()=>{s=r()};let a;const o=qi();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();for(const u of s)u.dataSync();a=Promise.resolve({kernelMs:qi()-o})}if(Oe().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<s.length;u++){const d=s[u];d.data().then(f=>{mbe(f,d.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:a.then(u=>u.kernelMs),extraInfo:a.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:a}=e;r.forEach(o=>{Promise.all([o.data(),s,a]).then(l=>{this.logger.logKernelProfile(n,o,l[0],l[1],i,l[2])})})}}function mbe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class gbe{logKernelProfile(e,n,r,s,i,a){const o=typeof s=="number"?_m(`${s}ms`,9):s.error,l=_m(e,25),u=n.rank,d=n.size,f=_m(n.shape.toString(),14);let p="";for(const m in i){const y=i[m];if(y!=null){const v=y.shape||n.shape,b=v.length;p+=`${m}: ${b}D ${b>0?v:""} `}}console.log(`%c${l}	%c${o}	%c${u}D ${f}	%c${d}	%c${p}	%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function ybe(t,e,n){const r={},s={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<t.length;l++){const u=t[l],d=u.inputs;for(const f in d){const p=d[f];let m=!1;for(let y=0;y<e.length;y++)if(r[p.id]){u.outputs.forEach(v=>r[v.id]=!0),m=!0,s[u.id]=!0;break}if(m)break}}const i={};i[n.id]=!0;const a={};for(let l=t.length-1;l>=0;l--){const u=t[l],d=u.inputs;for(let f=0;f<u.outputs.length;f++)if(i[u.outputs[f].id]){for(const p in d)i[d[p].id]=!0,a[u.id]=!0;break}}const o=[];for(let l=0;l<t.length;l++){const u=t[l];if(s[u.id]&&a[u.id]){const d={};for(const p in u.inputs){const m=u.inputs[p];r[m.id]&&(d[p]=m)}const f=Object.assign({},u);f.inputs=d,f.outputs=u.outputs,o.push(f)}}return o}function vbe(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],a=[];if(i.outputs.forEach(l=>{const u=t[l.id];u!=null?a.push(u):a.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const o=i.gradient(a);for(const l in i.inputs){if(!(l in o))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(o)}.`);const u=n(()=>o[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const d=i.inputs[l];if(!yn(u.shape,d.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${d.shape}'`);if(t[d.id]==null)t[d.id]=u;else{const f=t[d.id];t[d.id]=r(f,u),f.dispose()}}}}const dU=20,fv=3,$$=7;function bbe(t,e,n,r){const s=At(e),i=xbe(t,e,n,s),a=e.length,o=Ww(t,e,n,s,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(o.map(u=>"    "+u).join(`
`)),l.join(`
`)}function xbe(t,e,n,r){const s=Le(e),i=r[r.length-1],a=new Array(i).fill(0),o=e.length,l=n==="complex64"?Ov(t):t;if(o>1)for(let u=0;u<s/i;u++){const d=u*i;for(let f=0;f<i;f++)a[f]=Math.max(a[f],Av(l[d+f],0,n).length)}return a}function Av(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed($$))} + ${parseFloat(t[1].toFixed($$))}j`:Wb(t)?r=`'${t}'`:n==="bool"?r=lK(t):r=parseFloat(t.toFixed($$)).toString(),_m(r,e)}function lK(t){return t===0?"false":"true"}function Ww(t,e,n,r,s,i=!0){const a=n==="complex64"?2:1,o=e[0],l=e.length;if(l===0){if(n==="complex64"){const v=Ov(t);return[Av(v[0],0,n)]}return n==="bool"?[lK(t[0])]:[t[0].toString()]}if(l===1){if(o>dU){const b=fv*a;let w=Array.from(t.slice(0,b)),S=Array.from(t.slice((o-fv)*a,o*a));return n==="complex64"&&(w=Ov(w),S=Ov(S)),["["+w.map((C,T)=>Av(C,s[T],n)).join(", ")+", ..., "+S.map((C,T)=>Av(C,s[o-fv+T],n)).join(", ")+"]"]}return["["+(n==="complex64"?Ov(t):Array.from(t)).map((b,w)=>Av(b,s[w],n)).join(", ")+"]"]}const u=e.slice(1),d=r.slice(1),f=r[0]*a,p=[];if(o>dU){for(let v=0;v<fv;v++){const b=v*f,w=b+f;p.push(...Ww(t.slice(b,w),u,n,d,s,!1))}p.push("...");for(let v=o-fv;v<o;v++){const b=v*f,w=b+f;p.push(...Ww(t.slice(b,w),u,n,d,s,v===o-1))}}else for(let v=0;v<o;v++){const b=v*f,w=b+f;p.push(...Ww(t.slice(b,w),u,n,d,s,v===o-1))}const m=l===2?",":"";p[0]="["+(o>0?p[0]+m:"");for(let v=1;v<p.length-1;v++)p[v]=" "+p[v]+m;let y=`,
`;for(let v=2;v<l;v++)y+=`
`;return p[p.length-1]=" "+p[p.length-1]+"]"+(i?"":y),p}function Ov(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}class ks{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=Le(e),r!=null){const s=r.length;Y(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Kr(n,this.size),this.strides=At(e)}set(e,...n){n.length===0&&(n=[0]),Y(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return rl().makeTensor(this.values,this.shape,this.dtype)}}let rl=null,km=null;function wbe(t){rl=t}function Sbe(t){km=t}class Ir{constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Le(e),this.strides=At(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return km.buffer(this.shape,this.dtype,e)}bufferSync(){return km.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Do(this.shape,e,this.dtype==="complex64")}arraySync(){return Do(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=rl().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>zd(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),rl().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=rl().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>zd(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await rl().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),rl().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return km.print(this,e)}clone(){return this.throwIfDisposed(),km.clone(this)}toString(e=!1){const n=this.dataSync();return bbe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),km.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),rl().makeVariable(this,e,n,r)}}Object.defineProperty(Ir,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function Be(){return t_("Tensor",()=>Ir)}Be();class OS extends Ir{constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!yn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);rl().disposeTensor(this),this.dataId=e.dataId,rl().incRef(this,null)}dispose(){rl().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(OS,Symbol.hasInstance,{value:t=>t instanceof Ir&&t.assign!=null&&t.assign instanceof Function});var fU;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(fU||(fU={}));var wO;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(wO||(wO={}));var SO;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(SO||(SO={}));var CO;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(CO||(CO={}));var kO;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(kO||(kO={}));const Cbe={float32:CO,int32:wO,bool:SO,complex64:kO};function Sa(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return Cbe[t][e]}function aP(t){return Sa(t,"int32")}function uK(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function cK(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}function zr(t,e){if(t.dtype===e.dtype)return[t,e];const n=Sa(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function kbe(t,e){Y(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function dK(t){const e=[];return fK(t,e,new Set),e}function fK(t,e,n){if(t==null)return;if(t instanceof Ir){e.push(t);return}if(!Tbe(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),fK(i,e,n))}}function Tbe(t){return Array.isArray(t)||typeof t=="object"}function I$(t){return t.kernelName!=null}class hU{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Ym{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new hU}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(Wa(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new pbe(this.backendInstance),!0}setupRegisteredKernels(){lU(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){lU(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof QD)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(a=>s<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,Wa(`Initialization of backend ${e} failed`),Wa(a.stack||a.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Wa(`Initialization of backend ${e} failed`),Wa(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),a=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Ym.nextTensorId++}nextVariableId(){return Ym.nextVariableId++}clone(e){const n=de.runKernel(d0,{x:e}),r={x:e},s=a=>({x:()=>{const o="float32",l={x:a},u={dtype:o};return de.runKernel(Qb,l,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(bO(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=s-n-i-a;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let l;const u=I$(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(I$(e)){const{kernelName:y,inputs:v,attrs:b}=e;this.backendName==null&&this.backend;const w=bO(y,this.backendName);Y(w!=null,()=>`Cannot find registered kernel '${y}' for backend '${this.backendName}'`),o=()=>{const S=this.backend.numDataIds();l=w.kernelFunc({inputs:v,attrs:b,backend:this.backend});const C=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(y,S,C);const T=C.map(N=>N.rank!=null?N:this.makeTensorFromTensorInfo(N));if(s){const N=this.getTensorsForGradient(y,v,T);r=this.saveTensorsForBackwardMode(N)}return T}}else{const{forwardFunc:y}=e,v=b=>{s&&(r=b.map(w=>this.keep(this.clone(w))))};o=()=>{const b=this.backend.numDataIds();l=this.tidy(()=>y(this.backend,v));const w=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,b,w),w}}const{inputs:d,attrs:f}=e,p=I$(e)?null:e.backwardsFunc;let m;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=o():(m=this.profiler.profileKernel(u,d,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),n=m.outputs)}),s&&this.addTapeNode(u,d,n,p,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map(y=>d[y]!=null?d[y].shape:null),outputShapes:n.map(y=>y.shape),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=oU(e);if(s!=null){const i=s.inputsToSave||[],a=s.outputsToSave||[];let o;s.saveAllInputs?(Y(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(n).map(u=>n[u])):o=i.map(u=>n[u]);const l=r.filter((u,d)=>a[d]);return o.concat(l)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&Wb(e[0])&&(i=e.map(l=>Od(l)));const a=s.write(i,n,r),o=new Ir(n,r,a,this.nextTensorId());if(this.trackTensor(o,s),r==="string"){const l=this.state.tensorInfo.get(a),u=Gve(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return o}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,a=new Ir(s,i,r,this.nextTensorId());return this.trackTensor(a,n),a}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new OS(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*ES(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof OS||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*ES(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},l=oU(e);l!=null&&(s=l.gradFunc),s!=null&&(o.gradient=u=>(u=u.map((d,f)=>{if(d==null){const p=r[f],m=xi(p.size,p.dtype);return this.makeTensor(m,p.shape,p.dtype)}return d}),s(u.length>1?u:u[0],i,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=dK(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const a=this.state.activeScope.track[i];!a.kept&&!r.has(a.id)&&a.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(Y(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Y(i instanceof Ir,()=>"The result y returned by f() must be a tensor.");const a=ybe(this.state.activeTape,n,i);if(!s&&a.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const o={};o[i.id]=r??Ebe(i.shape),vbe(o,a,u=>this.tidy(u),Nbe);const l=n.map(u=>o[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const d of u.saved)d.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(e){return Y(hO(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{Y(n.every(o=>o instanceof Ir),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((o,l)=>{s[l]=o});const i=(o,l)=>(r=e(...n,l),Y(r.value instanceof Ir,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Y(hO(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),a=(o,l)=>{const u=r.gradFunc(o,l),d=Array.isArray(u)?u:[u];Y(d.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Y(d.every(p=>p instanceof Ir),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return d.forEach((p,m)=>{f[m]=()=>p}),f};return this.runKernelFunc({forwardFunc:i,backwardsFunc:a,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=qi(),r=await this.backend.time(e);return r.wallMs=qi()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new hU;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Ym.nextTensorId=0;Ym.nextVariableId=0;function Ebe(t){const e=e_(Le(t),"float32");return de.makeTensor(e,t,"float32")}function hK(){const t=eK();if(t._tfengine==null){const e=new Xve(t);t._tfengine=new Ym(e)}return Jve(t._tfengine.ENV),wbe(()=>t._tfengine),t._tfengine}const de=hK();function Nbe(t,e){const n={a:t,b:e};return de.runKernel($g,n)}function $be(){return typeof navigator<"u"&&navigator!=null}function pK(t){if(t||$be()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function mK(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const Qi=Oe();Qi.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Qi.registerFlag("IS_BROWSER",()=>mK());Qi.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Qi.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Qi.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Qi.registerFlag("PROD",()=>!1);Qi.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Qi.getBool("DEBUG"));Qi.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Qi.registerFlag("IS_TEST",()=>!1);Qi.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Qi.getBool("DEBUG"));Qi.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Qi.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Qi.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function sf(t,e){let n=t;if(Po(t))return e==="string"?[]:[t.length];if(uK(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(cK(t))return[t.buffer.size/(e==null?4:ES(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||Po(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Oe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&gK(t,r,[]),r}function gK(t,e,n){if(n=n||[],!Array.isArray(t)&&!Po(t)){Y(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}Y(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),Y(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)gK(t[s],r,n.concat(s))}function pU(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function Q(t,e,n,r="numeric"){if(t instanceof Be())return pU(r,t.dtype,e,n),t;let s=Eg(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),pU(r,s,e,n),t==null||!Po(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=sf(t,s);!Po(t)&&!Array.isArray(t)&&(t=[t]);const o=s!=="string"?rp(t,s):Ph(t,[],!0);return de.makeTensor(o,i,s)}function RS(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,a)=>Q(i,`${e}[${a}]`,n,r))}const yK="__op";function oe(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+yK;const s=(...i)=>{de.startScope(n);try{const a=r(...i);return _h(a)&&console.error("Cannot return a Promise inside of tidy."),de.endScope(a),a}catch(a){throw de.endScope(null),a}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}function Ibe(t,e){const n=Q(t,"real","complex"),r=Q(e,"imag","complex");Ia(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return de.runKernel(l_,s)}const Bd=oe({complex_:Ibe});function af(t,e,n,r){if(r==null)r=Eg(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(cK(t)||uK(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return de.backend.createTensorFromGPUData(t,e||n,r)}if(!Po(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){eo(e);const s=Le(e),i=Le(n);Y(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let a=0;a<n.length;++a){const o=n[a],l=a===n.length-1?o!==Le(e.slice(a)):!0;Y(n[a]===e[a]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Po(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?rp(t,r):Ph(t,[],!0),de.makeTensor(t,e,r)}function ul(t,e,n){const r=sf(t,n);return af(t,e,r,n)}const Mh={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Cl{static join(e){return new Cl(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>Po(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const s=e[r];r!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+s.byteLength;this.shards.push({buffer:s,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const s=n-e,i=new ArrayBuffer(s),a=new Uint8Array(i);let o=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],f=e+o-u.start,p=o,y=Math.min(n,u.end)-u.start,v=new Uint8Array(u.buffer,f,y-f);if(a.set(v,p),o+=v.length,n<u.end)break}return i}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(s){return e<s.start?-1:e>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=Abe(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function Abe(t,e){let n=0,r=t.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,i=e(t[s]);if(i===0)return s;i<0?r=s:n=s+1}return-1}function Wl(){return de}function mU(){return de.memory()}function Ne(t,e){return de.tidy(t,e)}function nn(t){dK(t).forEach(n=>n.dispose())}function Ps(t){return de.keep(t)}function Obe(){return de.backendName}function vK(t,e,n=1){return de.registerBackend(t,e,n)}function bK(){return de.backend}const jd=4;async function TO(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(a=>a.name):Object.keys(t);for(let a=0;a<s.length;++a){const o=s[a],l=Array.isArray(t)?t[a].tensor:t[o];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${l.dtype}`);const u={name:o,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const d=new Promise(async f=>{const p=await l.bytes(),m=p.reduce((b,w)=>b+w.length,0)+jd*p.length,y=new Uint8Array(m);let v=0;for(let b=0;b<p.length;b++){const w=p[b],S=new Uint8Array(new Uint32Array([w.length]).buffer);y.set(S,v),v+=jd,y.set(w,v),v+=w.length}f(y)});r.push(d)}else r.push(l.data());e!=null&&(u.group=e),n.push(u)}const i=await Promise.all(r);return{data:_be(i),specs:n}}function oP(t,e){const n=new Cl(t),r={};let s=0;for(const i of e){const a=Rbe(i,(o,l)=>n.slice(s+o,s+l));r[i.name]=xK(i,n.slice(s,s+a)),s+=a}return r}function Rbe(t,e){const n=Le(t.shape);let r;if("quantization"in t){const s=t.quantization;r=Mh[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=jd+new Uint32Array(e(s,s+jd))[0];return s}else r=Mh[t.dtype];return n*r}async function Dbe(t,e){const n=Le(t.shape);let r;if("quantization"in t){const s=t.quantization;r=Mh[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=jd+new Uint32Array(await e(s,s+jd))[0];return s}else r=Mh[t.dtype];return n*r}function xK(t,e){const n=t.name,r=t.dtype,s=t.shape,i=Le(s);let a,o=0;if("quantization"in t){const l=t.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${t.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=Mh[l.dtype],d=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){a=new Float32Array(d.length);for(let f=0;f<d.length;f++){const p=d[f];a[f]=p*l.scale+l.min}}else if(l.dtype==="float16")a=Bbe()(d);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);a=new Int32Array(d.length);for(let f=0;f<d.length;f++){const p=d[f];a[f]=Math.round(p*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);o+=i*u}else if(r==="string"){const l=Le(t.shape);a=[];for(let u=0;u<l;u++){const d=new Uint32Array(e.slice(o,o+jd))[0];o+=jd;const f=new Uint8Array(e.slice(o,o+d));a.push(f),o+=d}}else{const l=Mh[r];if(r==="float32")a=new Float32Array(e);else if(r==="int32")a=new Int32Array(e);else if(r==="bool")a=new Uint8Array(e);else if(r==="complex64"){a=new Float32Array(e);const u=new Float32Array(a.length/2),d=new Float32Array(a.length/2);for(let y=0;y<u.length;y++)u[y]=a[y*2],d[y]=a[y*2+1];const f=ul(u,s,"float32"),p=ul(d,s,"float32"),m=Bd(f,p);return f.dispose(),p.dispose(),m}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);o+=i*l}return ul(a,s,r)}async function gU(t,e,n){let r=new Uint8Array(e);for(;r.byteLength<n;){const{done:s,value:i}=await t.read();if(s&&i==null){const o=n-r.byteLength;throw new Error(`Reader is done but ${o} bytes are still expected`)}const a=new Uint8Array(r.length+i.byteLength);a.set(r,0),a.set(new Uint8Array(i),r.length),r=a}return r.buffer}async function wK(t,e){const n={},r=t.getReader();let s=new ArrayBuffer(0);for(const i of e){const a=await Dbe(i,async(u,d)=>(s=await gU(r,s,d),s.slice(u,d)));s=await gU(r,s,a);const o=s.slice(0,a);s=s.slice(a);const l=xK(i,o);if(n[i.name]=l,Obe()==="webgpu"){const u=bK();"uploadToGPU"in u&&Le(l.shape)>=Oe().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(l.dataId)}}return n}function _be(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}const lP=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function yU(t){return lP?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function Pbe(t){if(lP)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function Mbe(t){if(lP){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function SK(t){return Cl.join(t)}function vU(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);const n=t.split("/");return n[n.length-1]}function CK(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function kK(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function uP(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),kK(t,n,r)}function B0(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:yU(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:yU(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Cl(t.weightData).byteLength}}function EO(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Lbe(){const t=n=>{let r=n<<13,s=0;for(;(r&8388608)===0;)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Fbe(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function zbe(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Bbe(){const t=Lbe(),e=Fbe(),n=zbe();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let a=0;a<r.length;a++){const o=r[a],l=t[n[o>>10]+(o&1023)]+e[o>>10];i[a]=l}return new Float32Array(s)}}class Nr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Nr.instance==null&&(Nr.instance=new Nr),Nr.instance}static registerSaveRouter(e){Nr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Nr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Nr.getHandlers(e,"save")}static getLoadHandlers(e,n){return Nr.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?Nr.getInstance().loadRouters:Nr.getInstance().saveRouters).forEach(a=>{const o=a(e,r);o!==null&&s.push(o)}),s}}const jbe=t=>Nr.registerSaveRouter(t),Ube=t=>Nr.registerLoadRouter(t),TK=t=>Nr.getSaveHandlers(t),EK=(t,e)=>Nr.getLoadHandlers(t,e);const NO="tensorflowjs",$O=1,gh="models_store",Td="model_info_store";function NK(){if(!Oe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function IO(t){const e=t.result;e.createObjectStore(gh,{keyPath:"modelPath"}),e.createObjectStore(Td,{keyPath:"modelPath"})}class Lh{constructor(e){if(this.indexedDB=NK(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(NO,$O);i.onupgradeneeded=()=>IO(i),i.onsuccess=()=>{const a=i.result;if(n==null){const o=a.transaction(gh,"readonly"),u=o.objectStore(gh).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return a.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=d=>(a.close(),s(u.error)),o.oncomplete=()=>a.close()}else{n.weightData=Cl.join(n.weightData);const o=B0(n),l=a.transaction(Td,"readwrite");let u=l.objectStore(Td),d;try{d=u.put({modelPath:this.modelPath,modelArtifactsInfo:o})}catch(p){return s(p)}let f;d.onsuccess=()=>{f=a.transaction(gh,"readwrite");const p=f.objectStore(gh);let m;try{m=p.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:o})}catch(y){return s(y)}m.onsuccess=()=>r({modelArtifactsInfo:o}),m.onerror=y=>{u=l.objectStore(Td);const v=u.delete(this.modelPath);v.onsuccess=()=>(a.close(),s(m.error)),v.onerror=b=>(a.close(),s(m.error))}},d.onerror=p=>(a.close(),s(d.error)),l.oncomplete=()=>{f==null?a.close():f.oncomplete=()=>a.close()}}},i.onerror=a=>s(i.error)})}}Lh.URL_SCHEME="indexeddb://";const $K=t=>Oe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Lh.URL_SCHEME)?Vbe(t.slice(Lh.URL_SCHEME.length)):null;Nr.registerSaveRouter($K);Nr.registerLoadRouter($K);function Vbe(t){return new Lh(t)}function Wbe(t){return t.startsWith(Lh.URL_SCHEME)?t.slice(Lh.URL_SCHEME.length):t}class Hbe{constructor(){this.indexedDB=NK()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(NO,$O);r.onupgradeneeded=()=>IO(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(Td,"readonly"),o=i.objectStore(Td).getAll();o.onsuccess=()=>{const l={};for(const u of o.result)l[u.modelPath]=u.modelArtifactsInfo;e(l)},o.onerror=l=>(s.close(),n(o.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=Wbe(e),new Promise((n,r)=>{const s=this.indexedDB.open(NO,$O);s.onupgradeneeded=()=>IO(s),s.onsuccess=()=>{const i=s.result,a=i.transaction(Td,"readwrite"),o=a.objectStore(Td),l=o.get(e);let u;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const d=o.delete(e),f=()=>{u=i.transaction(gh,"readwrite");const m=u.objectStore(gh).delete(e);m.onsuccess=()=>n(l.result.modelArtifactsInfo),m.onerror=y=>r(l.error)};d.onsuccess=f,d.onerror=p=>(f(),i.close(),r(l.error))}},l.onerror=d=>(i.close(),r(l.error)),a.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}const sc="/",Tm="tensorflowjs_models",IK="info",Gbe="model_topology",qbe="weight_specs",Kbe="weight_data",Xbe="model_metadata";function AK(t){return{info:[Tm,t,IK].join(sc),topology:[Tm,t,Gbe].join(sc),weightSpecs:[Tm,t,qbe].join(sc),weightData:[Tm,t,Kbe].join(sc),modelMetadata:[Tm,t,Xbe].join(sc)}}function OK(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function Ybe(t){const e=t.split(sc);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(sc)}function Zbe(t){return t.startsWith(Fh.URL_SCHEME)?t.slice(Fh.URL_SCHEME.length):t}class Fh{constructor(e){if(!Oe().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=AK(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=B0(e),i=Cl.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Pbe(i));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:s}}catch{throw OK(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const o=JSON.parse(i);n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,o.signature!=null&&(n.signature=o.signature),o.userDefinedMetadata!=null&&(n.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(n.modelInitializer=o.modelInitializer),o.initializerSignature!=null&&(n.initializerSignature=o.initializerSignature),o.trainingConfig!=null&&(n.trainingConfig=o.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Mbe(a),n}}Fh.URL_SCHEME="localstorage://";const RK=t=>Oe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Fh.URL_SCHEME)?Qbe(t.slice(Fh.URL_SCHEME.length)):null;Nr.registerSaveRouter(RK);Nr.registerLoadRouter(RK);function Qbe(t){return new Fh(t)}class Jbe{constructor(){Y(Oe().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Y(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Tm+sc,r=sc+IK;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const a=Ybe(i);e[a]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=Zbe(e);const n=AK(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return OK(n),r}}const Mm="://";class Ai{constructor(){this.managers={}}static getInstance(){return Ai.instance==null&&(Ai.instance=new Ai),Ai.instance}static registerManager(e,n){Y(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Mm)&&(e=e.slice(0,e.indexOf(Mm))),Y(e.length>0,()=>"scheme must not be an empty string.");const r=Ai.getInstance();Y(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=Ai.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(Ai.getInstance().managers)}}function Hw(t){if(t.indexOf(Mm)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Ai.getSchemes().join(",")}`);return{scheme:t.split(Mm)[0],path:t.split(Mm)[1]}}async function DK(t,e,n=!1){Y(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=Nr.getLoadHandlers(t);Y(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),Y(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const s=r[0],i=Nr.getSaveHandlers(e);Y(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),Y(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const a=i[0],o=Hw(t).scheme,l=Hw(t).path,u=o===Hw(t).scheme,d=await s.load();n&&u&&await Ai.getManager(o).removeModel(l);const f=await a.save(d);return n&&!u&&await Ai.getManager(o).removeModel(l),f.modelArtifactsInfo}async function e0e(){const t=Ai.getSchemes(),e={};for(const n of t){const r=await Ai.getManager(n).listModels();for(const s in r){const i=n+Mm+s;e[i]=r[s]}}return e}async function t0e(t){const e=Hw(t);return Ai.getManager(e.scheme).removeModel(e.path)}async function n0e(t,e){return DK(t,e,!1)}async function r0e(t,e){return DK(t,e,!0)}class s0e{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Oe().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return rK(e)}}if(Oe().get("IS_BROWSER")){Oe().setPlatform("browser",new s0e);try{Ai.registerManager(Fh.URL_SCHEME,new Jbe)}catch{}try{Ai.registerManager(Lh.URL_SCHEME,new Hbe)}catch{}}const i0e={importFetch:()=>require("node-fetch")};let A$;class a0e{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Oe().global.fetch!=null?Oe().global.fetch(e,n):(A$==null&&(A$=i0e.importFetch()),A$(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Oe().get("IS_NODE")&&!Oe().get("IS_BROWSER")&&Oe().setPlatform("node",new a0e);function rn(t,e="float32",n){return e=e||"float32",eo(t),new ks(t,e,n)}function o0e(t,e){const n=Q(t,"x","cast");if(!Hve(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return de.runKernel(Qb,r,s)}const ht=oe({cast_:o0e});function l0e(t){const n={x:Q(t,"x","clone","string_or_numeric")};return de.runKernel(d0,n)}const dc=oe({clone_:l0e});function _K(t,e=!1){console.log(t.toString(e))}hK();const u0e={buffer:rn,cast:ht,clone:dc,print:_K};Sbe(u0e);function c0e(t,e){let n=Q(t,"a","add"),r=Q(e,"b","add");[n,r]=zr(n,r);const s={a:n,b:r};return de.runKernel($g,s)}const Ye=oe({add_:c0e});function d0e(t,e){let n=Q(t,"a","floorDiv"),r=Q(e,"b","floorDiv");[n,r]=zr(n,r);const s={a:n,b:r};return de.runKernel(u0,s)}const cP=oe({floorDiv_:d0e});function f0e(t,e){let n=Q(t,"a","div"),r=Q(e,"b","div");if([n,r]=zr(n,r),n.dtype==="int32"&&r.dtype==="int32")return cP(n,r);const s={a:n,b:r},i={};return de.runKernel(r0,s,i)}const Et=oe({div_:f0e});function h0e(t,e){let n=Q(t,"a","mul"),r=Q(e,"b","mul");[n,r]=zr(n,r);const s={a:n,b:r};return de.runKernel(x0,s)}const fe=oe({mul_:h0e});function p0e(t){const e=Q(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return de.runKernel(Ik,n)}else{const n={x:e};return de.runKernel(xk,n)}}const bs=oe({abs_:p0e});function m0e(t){const n={x:Q(t,"x","acos")};return de.runKernel(Hb,n)}const PK=oe({acos_:m0e});function g0e(t){const n={x:Q(t,"x","acosh")};return de.runKernel(Gb,n)}const MK=oe({acosh_:g0e});function y0e(t){Y(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),Y(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((s,i)=>Q(s,`tensors${i}`,"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!yn(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return de.runKernel(wk,r)}const v0e=oe({addN_:y0e});function b0e(t,e=null,n=!1){const s={x:Q(t,"x","all","bool")},i={axis:e,keepDims:n};return de.runKernel(n_,s,i)}const dP=oe({all_:b0e});function x0e(t,e=null,n=!1){const s={x:Q(t,"x","any","bool")},i={axis:e,keepDims:n};return de.runKernel(r_,s,i)}const DS=oe({any_:x0e});function w0e(t,e=0){const r={x:Q(t,"x","argMax")},s={axis:e};return de.runKernel(Sk,r,s)}const Zm=oe({argMax_:w0e});function S0e(t,e=0){const r={x:Q(t,"x","argMin")},s={axis:e};return de.runKernel(Ck,r,s)}const LK=oe({argMin_:S0e});function C0e(t){const n={x:Q(t,"x","asin")};return de.runKernel(qb,n)}const FK=oe({asin_:C0e});function k0e(t){const n={x:Q(t,"x","asinh")};return de.runKernel(Kb,n)}const zK=oe({asinh_:k0e});function T0e(t){const n={x:Q(t,"x","atan")};return de.runKernel(Xb,n)}const BK=oe({atan_:T0e});function E0e(t,e){let n=Q(t,"a","atan2"),r=Q(e,"b","atan2");[n,r]=zr(n,r);const s={a:n,b:r};return de.runKernel(Zb,s)}const jK=oe({atan2_:E0e});function N0e(t){const n={x:Q(t,"x","atanh")};return de.runKernel(Yb,n)}const UK=oe({atanh_:N0e});function j0(t,e,n,r,s="NHWC",i){const a=t[3],o=[...e,a],l=Ic(s);return Ls(t,o,n,i,r,null,null,l)}function Vo(t,e,n,r,s,i,a="channelsLast"){const[o,l]=tb(e);let u;if(a==="channelsLast")u=[o,l,t[3],t[3]];else if(a==="channelsFirst")u=[o,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return Ls(t,u,n,r,s,i,!1,a)}function $c(t,e,n,r,s,i,a="NDHWC"){const[o,l,u]=AO(e);let d,f;if(a==="NDHWC")f="channelsLast",d=[o,l,u,t[4],t[4]];else if(a==="NCDHW")f="channelsFirst",d=[o,l,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return of(t,d,n,r,s,!1,f,i)}function Ls(t,e,n,r,s,i,a=!1,o="channelsLast"){let[l,u,d,f]=[-1,-1,-1,-1];if(o==="channelsLast")[l,u,d,f]=t;else if(o==="channelsFirst")[l,f,u,d]=t;else throw new Error(`Unknown dataFormat ${o}`);const[p,m,,y]=e,[v,b]=tb(n),[w,S]=tb(r),C=Lm(p,w),T=Lm(m,S),{padInfo:N,outHeight:O,outWidth:_}=A0e(s,u,d,v,b,C,T,i,o),F=a?y*f:y;let L;return o==="channelsFirst"?L=[l,F,O,_]:o==="channelsLast"&&(L=[l,O,_,F]),{batchSize:l,dataFormat:o,inHeight:u,inWidth:d,inChannels:f,outHeight:O,outWidth:_,outChannels:F,padInfo:N,strideHeight:v,strideWidth:b,filterHeight:p,filterWidth:m,effectiveFilterHeight:C,effectiveFilterWidth:T,dilationHeight:w,dilationWidth:S,inShape:t,outShape:L,filterShape:e}}function of(t,e,n,r,s,i=!1,a="channelsLast",o){let[l,u,d,f,p]=[-1,-1,-1,-1,-1];if(a==="channelsLast")[l,u,d,f,p]=t;else if(a==="channelsFirst")[l,p,u,d,f]=t;else throw new Error(`Unknown dataFormat ${a}`);const[m,y,v,,b]=e,[w,S,C]=AO(n),[T,N,O]=AO(r),_=Lm(m,T),F=Lm(y,N),L=Lm(v,O),{padInfo:z,outDepth:P,outHeight:R,outWidth:H}=O0e(s,u,d,f,w,S,C,_,F,L,o),q=i?b*p:b;let X;return a==="channelsFirst"?X=[l,q,P,R,H]:a==="channelsLast"&&(X=[l,P,R,H,q]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:d,inWidth:f,inChannels:p,outDepth:P,outHeight:R,outWidth:H,outChannels:q,padInfo:z,strideDepth:w,strideHeight:S,strideWidth:C,filterDepth:m,filterHeight:y,filterWidth:v,effectiveFilterDepth:_,effectiveFilterHeight:F,effectiveFilterWidth:L,dilationDepth:T,dilationHeight:N,dilationWidth:O,inShape:t,outShape:X,filterShape:e}}function $0e(t,e,n,r,s){r==null&&(r=fP(t,e,n));const i=t[0],a=t[1],o=nb((i-e+2*r)/n+1,s),l=nb((a-e+2*r)/n+1,s);return[o,l]}function I0e(t,e,n,r,s,i){s==null&&(s=fP(t,e[0],r[0]));const a=[0,0,0,n];for(let o=0;o<3;o++)t[o]+2*s>=e[o]&&(a[o]=nb((t[o]-e[o]+2*s)/r[o]+1,i));return a}function fP(t,e,n,r=1){const s=Lm(e,r);return Math.floor((t[0]*(n-1)-n+s)/2)}function tb(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function AO(t){return typeof t=="number"?[t,t,t]:t}function Lm(t,e){return e<=1?t:t+(t-1)*(e-1)}function A0e(t,e,n,r,s,i,a,o,l){let u,d,f;if(typeof t=="number"){u={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const m=$0e([e,n],i,r,t,o);d=m[0],f=m[1]}else if(t==="same"){d=Math.ceil(e/r),f=Math.ceil(n/s);const p=Math.max(0,(d-1)*r+i-e),m=Math.max(0,(f-1)*s+a-n),y=Math.floor(p/2),v=p-y,b=Math.floor(m/2),w=m-b;u={top:y,bottom:v,left:b,right:w,type:"SAME"}}else if(t==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((e-i+1)/r),f=Math.ceil((n-a+1)/s);else if(typeof t=="object"){const p=l==="channelsLast"?t[1][0]:t[2][0],m=l==="channelsLast"?t[1][1]:t[2][1],y=l==="channelsLast"?t[2][0]:t[3][0],v=l==="channelsLast"?t[2][1]:t[3][1];u={top:p,bottom:m,left:y,right:v,type:p===0&&m===0&&y===0&&v===0?"VALID":"EXPLICIT"},d=nb((e-i+p+m)/r+1,o),f=nb((n-a+y+v)/s+1,o)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:u,outHeight:d,outWidth:f}}function O0e(t,e,n,r,s,i,a,o,l,u,d){let f,p,m,y;if(t==="valid"&&(t=0),typeof t=="number"){f={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const b=I0e([e,n,r,1],[o,l,u],1,[s,i,a],t,d);p=b[0],m=b[1],y=b[2]}else if(t==="same"){p=Math.ceil(e/s),m=Math.ceil(n/i),y=Math.ceil(r/a);const v=(p-1)*s+o-e,b=(m-1)*i+l-n,w=(y-1)*a+u-r,S=Math.floor(v/2),C=v-S,T=Math.floor(b/2),N=b-T,O=Math.floor(w/2),_=w-O;f={top:T,bottom:N,left:O,right:_,front:S,back:C,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:f,outDepth:p,outHeight:m,outWidth:y}}function nb(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Ud(t){const[e,n,r]=tb(t);return e===1&&n===1&&r===1}function si(t,e){return Ud(t)||Ud(e)}function zh(t){return tb(t).every(e=>e>0)}function Ic(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Bi(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")Y(Xm(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(s=>{Y(Xm(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}function R0e(t,e){const r={x:Q(t,"x","reshape","string_or_numeric")},s={shape:e};return de.runKernel(uT,r,s)}const me=oe({reshape_:R0e});function D0e(t,e,n,r,s){const i=Q(t,"x","avgPool","float32"),a=1;Y(si(n,a),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);let o=i,l=!1;i.rank===3&&(l=!0,o=me(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Y(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),Bi("avgPool",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s};let f=de.runKernel(kk,u,d);return f=ht(f,i.dtype),l?me(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const kT=oe({avgPool_:D0e});function _0e(t,e,n,r,s,i="NDHWC"){const a=Q(t,"x","avgPool3d","float32");let o=a,l=!1;a.rank===4&&(l=!0,o=me(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),Y(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),Y(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),Y(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),Bi("avgPool3d",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let f=de.runKernel(Tk,u,d);return f=ht(f,o.dtype),l?me(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const VK=oe({avgPool3d_:_0e});function P0e(t,e=0){Y(t.length>=1,()=>"Pass at least one tensor to concat");const n=RS(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return dc(n[0]);const r=n,s={axis:e};return de.runKernel(Ak,r,s)}const us=oe({concat_:P0e});function M0e(t,e,n=!1,r=!1){let s=Q(t,"a","matMul"),i=Q(e,"b","matMul");[s,i]=zr(s,i);const a={a:s,b:i},o={transposeA:n,transposeB:r};return de.runKernel(Ek,a,o)}const dn=oe({matMul_:M0e});function L0e(t){const n={x:Q(t,"x","sigmoid","float32")};return de.runKernel(O0,n)}const au=oe({sigmoid_:L0e});function F0e(t,e,n){const r=Q(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:e,size:n};return de.runKernel(pT,s,i)}const wn=oe({slice_:F0e});function z0e(t){const n={x:Q(t,"x","tanh","float32")};return de.runKernel(L0,n)}const Bh=oe({tanh_:z0e});function B0e(t,e,n,r,s,i){const a=Q(t,"forgetBias","basicLSTMCell"),o=Q(e,"lstmKernel","basicLSTMCell"),l=Q(n,"lstmBias","basicLSTMCell"),u=Q(r,"data","basicLSTMCell"),d=Q(s,"c","basicLSTMCell"),f=Q(i,"h","basicLSTMCell"),p=us([u,f],1),m=dn(p,o),y=Ye(m,l),v=y.shape[0],b=y.shape[1]/4,w=[v,b],S=wn(y,[0,0],w),C=wn(y,[0,b],w),T=wn(y,[0,b*2],w),N=wn(y,[0,b*3],w),O=Ye(fe(au(S),Bh(C)),fe(d,au(Ye(a,T)))),_=fe(Bh(O),au(N));return[O,_]}const j0e=oe({basicLSTMCell_:B0e});function U0e(t,e,n){const r=Q(t,"x","batchToSpaceND"),s=e.reduce((o,l)=>o*l);Y(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),Y(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),Y(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const i={x:r},a={blockShape:e,crops:n};return de.runKernel(Nk,i,a)}const TT=oe({batchToSpaceND_:U0e});function V0e(t){let e;return t.rank===0||t.rank===1?e=me(t,[1,1,1,t.size]):t.rank===2?e=me(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=me(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function W0e(t,e,n,r,s,i){i==null&&(i=.001);const a=Q(t,"x","batchNorm"),o=Q(e,"mean","batchNorm"),l=Q(n,"variance","batchNorm");let u;s!=null&&(u=Q(s,"scale","batchNorm"));let d;r!=null&&(d=Q(r,"offset","batchNorm")),Y(o.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Y(d==null||o.rank===d.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Y(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const p={x:V0e(a),scale:u,offset:d,mean:o,variance:l},m={varianceEpsilon:i},y=de.runKernel(zk,p,m);return me(y,a.shape)}const U0=oe({batchNorm_:W0e});function H0e(t,e,n,r,s,i){const a=Q(t,"x","batchNorm"),o=Q(e,"mean","batchNorm"),l=Q(n,"variance","batchNorm");let u;s!=null&&(u=Q(s,"scale","batchNorm"));let d;return r!=null&&(d=Q(r,"offset","batchNorm")),Y(a.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`),Y(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),Y(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&Y(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),d!=null&&Y(d.rank===2||d.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${d.rank}.`),U0(a,o,l,d,u,i)}const WK=oe({batchNorm2d_:H0e});function G0e(t,e,n,r,s,i){const a=Q(t,"x","batchNorm"),o=Q(e,"mean","batchNorm"),l=Q(n,"variance","batchNorm");let u;s!=null&&(u=Q(s,"scale","batchNorm"));let d;return r!=null&&(d=Q(r,"offset","batchNorm")),Y(a.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`),Y(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),Y(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&Y(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),d!=null&&Y(d.rank===3||d.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${d.rank}.`),U0(a,o,l,d,u,i)}const HK=oe({batchNorm3d_:G0e});function q0e(t,e,n,r,s,i){const a=Q(t,"x","batchNorm"),o=Q(e,"mean","batchNorm"),l=Q(n,"variance","batchNorm");let u;s!=null&&(u=Q(s,"scale","batchNorm"));let d;return r!=null&&(d=Q(r,"offset","batchNorm")),Y(a.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`),Y(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),Y(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&Y(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),d!=null&&Y(d.rank===4||d.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${d.rank}.`),U0(a,o,l,d,u,i)}const GK=oe({batchNorm4d_:q0e});function K0e(t,e,n){const r=Q(t,"x","bincount"),s=Q(e,"weights","bincount");Y(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),Y(n>=0,()=>`size must be non-negative, but got ${n}.`),Y(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},a={size:n};return de.runKernel(a_,i,a)}const qK=oe({bincount_:K0e});function X0e(t,e){const n=Q(t,"x","bitwiseAnd"),r=Q(e,"y","bitwiseAnd");if(!yn(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return de.runKernel($k,s)}const Y0e=oe({bitwiseAnd_:X0e});function Z0e(t,e){const n=Q(t,"s0","broadcastArgs","int32"),r=Q(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return de.runKernel(o_,s)}const Q0e=oe({broadcastArgs_:Z0e});function J0e(t,e){let n=Q(t,"broadcastTo","x");const r=n.shape;if(eo(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const u=n.shape.slice();for(;u.length<e.length;)u.unshift(1);n=me(n,u)}const s=n.shape,i=Array.from(e);for(let u=e.length-1;u>=0;u--)if(s[u]===e[u])i[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((u,d)=>u>1?d:-1).filter(u=>u>=0).length===0)return dc(n);const o={x:n},l={reps:i};return de.runKernel(F0,o,l)}const Fm=oe({broadcastTo_:J0e});function exe(t){const n={x:Q(t,"x","ceil","float32")};return de.runKernel(Jb,n)}const KK=oe({ceil_:exe});function Ig(t,e,n){eo(t),n=n||Eg(e);const r={shape:t,value:e,dtype:n};return de.runKernel(S_,{},r)}function txe(t,e,n){const r=Q(t,"x","clipByValue");if(Y(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return Ig(r.shape,e,r.dtype);const s={x:r},i={clipValueMin:e,clipValueMax:n};return de.runKernel(e0,s,i)}const Ca=oe({clipByValue_:txe});function nxe(t){return us(t,0)}const XK=oe({concat1d_:nxe});function rxe(t,e){return us(t,e)}const YK=oe({concat2d_:rxe});function sxe(t,e){return us(t,e)}const ZK=oe({concat3d_:sxe});function ixe(t,e){return us(t,e)}const QK=oe({concat4d_:ixe});function axe(t,e,n,r,s="NHWC",i=[1,1],a){const o=Q(t,"x","conv2d","float32"),l=Q(e,"filter","conv2d","float32");let u=o,d=!1;o.rank===3&&(d=!0,u=me(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Y(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),Y(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Bi("conv2d",r,a);const f=s==="NHWC"?u.shape[3]:u.shape[1];Y(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),Y(si(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Y(zh(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),Y(zh(n),()=>"Error in conv2D: Strides should be larger than 0.");const p={x:u,filter:l},m={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},y=de.runKernel(Ok,p,m);return d?me(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const Vd=oe({conv2d_:axe});function oxe(t,e,n,r,s="NWC",i=1,a){const o=Q(t,"x","conv1d"),l=Q(e,"filter","conv1d");let u=o,d=!1;o.rank===2&&(d=!0,u=me(o,[1,o.shape[0],o.shape[1]])),Y(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),Y(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),Bi("conv1d",r,a),Y(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),Y(si(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),Y(zh(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),Y(zh(n),()=>"Error in conv1D: Stride should be larger than 0."),Y(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const f=me(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=me(u,[u.shape[0],1,u.shape[1],u.shape[2]]),b=Vd(p,f,[1,n],r,"NHWC",[1,i],a);return d?me(b,[b.shape[2],b.shape[3]]):me(b,[b.shape[0],b.shape[2],b.shape[3]])}const hP=oe({conv1d_:oxe});function lxe(t,e,n,r,s,i="NHWC",a){Y(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,l=e,u=!1;e.rank===3&&(u=!0,l=me(e,[1,e.shape[0],e.shape[1],e.shape[2]]),o=[1,t[0],t[1],t[2]]),Y(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),Y(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),Y(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const d=i==="NHWC"?o[3]:o[1],f=i==="NHWC"?l.shape[3]:l.shape[1];Y(d===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${n.shape[2]}.`),Y(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),Bi("conv2dDerInput",s,a);const p={dy:l,filter:n},m={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,inputShape:o},y=de.runKernel(Rk,p,m);return u?me(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const pP=oe({conv2DBackpropInput_:lxe});function uxe(t,e,n,r,s,i){const a=Q(t,"x","conv2dTranspose"),o=Q(e,"filter","conv2dTranspose");return pP(n,a,o,r,s,"NHWC",i)}const mP=oe({conv2dTranspose_:uxe});function cxe(t,e,n,r,s="NDHWC",i=[1,1,1]){const a=Q(t,"x","conv3d"),o=Q(e,"filter","conv3d");let l=a,u=!1;a.rank===4&&(u=!0,l=me(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),Y(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),Y(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),Y(l.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`),Y(si(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Y(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),Y(zh(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),Y(zh(n),()=>"Error in conv3D: Strides should be larger than 0.");const d={x:l,filter:o},f={strides:n,pad:r,dataFormat:s,dilations:i},p=de.runKernel(Dk,d,f);return u?me(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const JK=oe({conv3d_:cxe});function dxe(t,e,n,r,s){Y(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,a=e,o=!1;e.rank===4&&(o=!0,a=me(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const l=i[4],u=a.shape[4];Y(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),Y(a.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`),Y(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),Y(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),Y(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const d={dy:a,filter:n},f={pad:s,strides:r,inputShape:i},p=de.runKernel(d_,d,f);return o?me(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const e9=oe({conv3DBackpropInput_:dxe});function fxe(t,e,n,r,s){const i=Q(t,"x","conv3dTranspose"),a=Q(e,"filter","conv3dTranspose");return e9(n,i,a,r,s)}const t9=oe({conv3dTranspose_:fxe});function hxe(t){const n={x:Q(t,"x","cos","float32")};return de.runKernel(t0,n)}const ET=oe({cos_:hxe});function pxe(t){const n={x:Q(t,"x","cosh","float32")};return de.runKernel(n0,n)}const gP=oe({cosh_:pxe});function mxe(t,e=0,n=!1,r=!1){const i={x:Q(t,"x","cumprod")},a={axis:e,exclusive:n,reverse:r};return de.runKernel(f_,i,a)}const _S=oe({cumprod_:mxe});function gxe(t,e=0,n=!1,r=!1){const i={x:Q(t,"x","cumsum")},a={axis:e,exclusive:n,reverse:r};return de.runKernel(_k,i,a)}const yP=oe({cumsum_:gxe});function yxe(t,e,n,r=!1){const s=Q(t,"x","denseBincount"),i=Q(e,"weights","denseBincount");Y(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),Y(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),Y(n>=0,()=>`size must be non-negative, but got ${n}.`),Y(i.size===s.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`);const a={x:s,weights:i},o={size:n,binaryOutput:r};return de.runKernel(p_,a,o)}const OO=oe({denseBincount_:yxe});function vxe(t,e,n="NHWC"){const r=Q(t,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],a=n==="NHWC"?r.shape[3]:r.shape[1];Y(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),Y(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${r.shape}`),Y(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),Y(a%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${a} for depthToSpace with input shape ${r.shape}`);const o={x:r},l={blockSize:e,dataFormat:n};return de.runKernel(m_,o,l)}const n9=oe({depthToSpace_:vxe});function bxe(t,e,n,r,s="NHWC",i=[1,1],a){const o=Q(t,"x","depthwiseConv2d","float32"),l=Q(e,"filter","depthwiseConv2d","float32");let u=o,d=!1;o.rank===3&&(d=!0,u=me(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Y(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),Y(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const f=s==="NHWC"?u.shape[3]:u.shape[1];Y(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),Bi("depthwiseConv2d",r,a);const p={x:u,filter:l},m={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a},y=de.runKernel(Pk,p,m);return d?me(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const V0=oe({depthwiseConv2d_:bxe});function xxe(t){const n={x:Q(t,"x","diag")};return de.runKernel(v_,n)}const wxe=oe({diag_:xxe});function Sxe(t,e,n,r,s=[1,1],i="NHWC"){const a=Q(t,"x","dilation2d"),o=Q(e,"filter","dilation2d");Y(a.rank===3||a.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`),Y(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),Y(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=a,u=!1;a.rank===3&&(l=me(a,[1,a.shape[0],a.shape[1],a.shape[2]]),u=!0),Y(l.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`);const d={x:l,filter:o},f={strides:n,pad:r,dilations:s},p=de.runKernel(Mk,d,f);return u?me(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const r9=oe({dilation2d_:Sxe});function Qm(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,a=t[i]||1;(e[e.length-1-s]||1)>1&&a===1&&r.unshift(i)}return r}function $s(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,a=e[i];(s==null||s===1&&a>1)&&n.unshift(i)}return n}function Xt(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let s=0;s<n;s++){let i=t[t.length-s-1];i==null&&(i=1);let a=e[e.length-s-1];if(a==null&&(a=1),i===1)r[n-s-1]=a;else if(a===1)r[n-s-1]=i;else if(i!==a){const o=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(o)}else r[n-s-1]=i}return r}function Cxe(t,e){let n=Q(t,"a","equal","string_or_numeric"),r=Q(e,"b","equal","string_or_numeric");[n,r]=zr(n,r),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(Lk,s)}const gl=oe({equal_:Cxe});function kxe(t,e,n){const r=Q(e,"a","where"),s=Q(n,"b","where"),i=Q(t,"condition","where","bool"),a=Xt(Xt(i.shape,r.shape),s.shape),o=Fm(i,a),l=Fm(r,a),u=Fm(s,a),d={condition:o,t:l,e:u};return de.runKernel(hT,d)}const vi=oe({where_:kxe});function Txe(t){const n={x:Q(t,"x","zerosLike")};return de.runKernel(ST,n)}const Cn=oe({zerosLike_:Txe});function Exe(t,e){let n=Q(t,"a","div"),r=Q(e,"b","div");[n,r]=zr(n,r);const s=Et(n,r),i=Cn(s),a=gl(r,i);return vi(a,i,s)}const s9=oe({divNoNan_:Exe});function Nxe(t,e){const n=Q(t,"t1","dot"),r=Q(e,"t2","dot");Y((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(Y(s===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`),n.rank===1&&r.rank===1){const a=me(n,[1,-1]),o=me(r,[-1,1]),l=dn(a,o);return me(l,[])}else if(n.rank===1&&r.rank===2){const a=me(n,[1,-1]),o=me(r,[r.shape[0],r.shape[1]]),l=dn(a,o);return me(l,[l.size])}else if(n.rank===2&&r.rank===1){const a=me(r,[-1,1]),o=dn(n,a);return me(o,[o.size])}else{const a=me(r,[r.shape[0],r.shape[1]]);return dn(n,a)}}const i9=oe({dot_:Nxe});function $xe(t,...e){const n=e.map((s,i)=>Q(s,`tensors${i}`,"einsum")),r={equation:t};return de.runKernel(b_,n,r)}const Em=oe({einsum_:$xe});function Ixe(t){const n={x:Q(t,"x","elu","float32")};return de.runKernel(s0,n)}const W0=oe({elu_:Ixe});function Axe(t,e){const n=Q(t,"x","ensureShape","string_or_numeric");if(!Vve(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const Oxe=oe({ensureShape_:Axe});function Rxe(t){let e=Q(t,"x","erf");Y(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ht(e,"float32"));const n={x:e};return de.runKernel(i0,n)}const vP=oe({erf_:Rxe});function bP(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function a9(t,e,n){const r=t.length+e.length,s=[];let i=0,a=0;for(let o=0;o<r;o++)n.indexOf(o)===-1?s.push(t[i++]):s.push(e[a++]);return s}function Fs(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const s=e.map(i=>t[i]);return[n,s]}function Xr(t,e){const n=e.map(r=>1);return a9(t,n,e)}function ii(t,e,n){Y(bP(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Dr(t,e){if(bP(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function lf(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Yr(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}function Dxe(t,e=null,n=!1){const s={x:Q(t,"x","max")},i={reductionIndices:e,keepDims:n};return de.runKernel(Xk,s,i)}const _o=oe({max_:Dxe});function _xe(t,e=null,n=!1){const s={x:Q(t,"x","min")},i={axis:e,keepDims:n};return de.runKernel(Jk,s,i)}const rb=oe({min_:_xe});function Pxe(t,e){let n=Q(t,"base","pow"),r=Q(e,"exp","pow");[n,r]=zr(n,r);const s={a:n,b:r};return de.runKernel(w0,s)}const yc=oe({pow_:Pxe});function It(t,e){if((Po(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Po(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return af(t,[],[],e)}function Mxe(t){const n={x:Q(t,"x","sqrt","float32")};return de.runKernel(D0,n)}const ri=oe({sqrt_:Mxe});function Lxe(t){const e=Q(t,"x","square"),n={};return de.runKernel("Square",{x:e},n)}const nr=oe({square_:Lxe});function Fxe(t,e=null,n=!1){let r=Q(t,"x","sum");r.dtype==="bool"&&(r=ht(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return de.runKernel(mT,s,i)}const St=oe({sum_:Fxe});function zxe(t,e="euclidean",n=null,r=!1){t=Q(t,"x","norm");const s=o9(t,e,n);let i=s.shape;if(r){const a=un(n,t.shape);i=Xr(s.shape,a)}return me(s,i)}function o9(t,e,n=null){if(t.rank===0)return bs(t);if(t.rank!==1&&n===null)return o9(me(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return St(bs(t),n);if(e===1/0)return _o(bs(t),n);if(e===-1/0)return rb(bs(t),n);if(e==="euclidean"||e===2)return ri(St(yc(bs(t),It(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return _o(St(bs(t),n[0]),n[1]-1);if(e===1/0)return _o(St(bs(t),n[1]),n[0]);if(e===-1/0)return rb(St(bs(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return ri(St(nr(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const H0=oe({norm_:zxe});function Bxe(t,e=null,n=!1){return H0(t,"euclidean",e,n)}const l9=oe({euclideanNorm_:Bxe});function jxe(t){const n={x:Q(t,"x","exp")};return de.runKernel(a0,n)}const ka=oe({exp_:jxe});function Uxe(t,e=0){const n=Q(t,"x","expandDims","string_or_numeric");Y(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:e};return de.runKernel(Fk,r,s)}const Ri=oe({expandDims_:Uxe});function Vxe(t){const n={x:Q(t,"x","expm1")};return de.runKernel(o0,n)}const u9=oe({expm1_:Vxe});function Wxe(t,e){const n=Q(t,"x","tile","string_or_numeric");Y(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},s={reps:e};return de.runKernel(F0,r,s)}const Eo=oe({tile_:Wxe});function Hxe(t,e,n,r="float32"){e==null&&(e=t);const s=rn([t,e],r),i=t<=e?t:e;for(let o=0;o<i;++o)s.set(1,o,o);const a=me(s.toTensor(),[t,e]);if(n==null)return a;if(n.length===1)return Eo(Ri(a,0),[n[0],1,1]);if(n.length===2)return Eo(Ri(Ri(a,0),0),[n[0],n[1],1,1]);if(n.length===3)return Eo(Ri(Ri(Ri(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const xP=oe({eye_:Hxe});function Gxe(t){const n={x:Q(t,"x","floor","float32")};return de.runKernel(l0,n)}const G0=oe({floor_:Gxe});function qxe(t,e,n=0,r=0){const s=Q(t,"x","gather"),i=Q(e,"indices","gather","int32"),a={x:s,indices:i},o={axis:n,batchDims:r};return de.runKernel(Bk,a,o)}const q0=oe({gather_:qxe});function Kxe(t,e){let n=Q(t,"a","greater","string_or_numeric"),r=Q(e,"b","greater","string_or_numeric");[n,r]=zr(n,r),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(jk,s)}const Aa=oe({greater_:Kxe});function Xxe(t,e){let n=Q(t,"a","greaterEqual","string_or_numeric"),r=Q(e,"b","greaterEqual","string_or_numeric");[n,r]=zr(n,r),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(c0,s)}const uf=oe({greaterEqual_:Xxe});function Yxe(t){const n={input:Q(t,"input","imag")};return de.runKernel(E_,n)}const NT=oe({imag_:Yxe});function Zxe(t){const n={x:Q(t,"x","isFinite")};return de.runKernel(f0,n)}const c9=oe({isFinite_:Zxe});function Qxe(t){const n={x:Q(t,"x","isInf")};return de.runKernel(h0,n)}const d9=oe({isInf_:Qxe});function Jxe(t){const n={x:Q(t,"x","isNaN")};return de.runKernel(p0,n)}const f9=oe({isNaN_:Jxe});function e1e(t,e=.2){const r={x:Q(t,"x","leakyRelu")},s={alpha:e};return de.runKernel(Uk,r,s)}const $T=oe({leakyRelu_:e1e});function t1e(t,e){let n=Q(t,"a","less","string_or_numeric"),r=Q(e,"b","less","string_or_numeric");[n,r]=zr(n,r),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(Vk,s)}const sb=oe({less_:t1e});function n1e(t,e){let n=Q(t,"a","lessEqual","string_or_numeric"),r=Q(e,"b","lessEqual","string_or_numeric");[n,r]=zr(n,r),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(Wk,s)}const sp=oe({lessEqual_:n1e});function r1e(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return de.runKernel(N_,{},r)}function s1e(t,e=5,n=1,r=1,s=.5){const i=Q(t,"x","localResponseNormalization");Y(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),Y(Xm(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let a=i,o=!1;i.rank===3&&(o=!0,a=me(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:a},u={depthRadius:e,bias:n,alpha:r,beta:s},d=de.runKernel(Kk,l,u);return o?me(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const h9=oe({localResponseNormalization_:s1e});function i1e(t){const n={x:Q(t,"x","log","float32")};return de.runKernel(m0,n)}const Ya=oe({log_:i1e});function a1e(t){const n={x:Q(t,"x","log1p")};return de.runKernel(g0,n)}const IT=oe({log1p_:a1e});function o1e(t,e){Y(hO(t),()=>"The f passed in variableGrads(f) must be a function"),Y(e==null||Array.isArray(e)&&e.every(u=>u instanceof OS),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const u in de.registeredVariables)e.push(de.registeredVariables[u])}const r=n?e.filter(u=>!u.trainable):null,s=e.length;e=e.filter(u=>u.trainable),Y(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:a,grads:o}=de.gradients(t,e,null,i);Y(o.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),Y(a.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`);const l={};return e.forEach((u,d)=>{o[d]!=null&&(l[u.name]=o[d])}),r?.forEach(u=>l[u.name]=null),{value:a,grads:l}}function vc(t){return de.customGrad(t)}function l1e(t){const n={x:Q(t,"x","neg")};return de.runKernel(tT,n)}const dr=oe({neg_:l1e});function u1e(t){const n={x:Q(t,"x","softplus")};return de.runKernel(R0,n)}const Ag=oe({softplus_:u1e});function c1e(t){const e=Q(t,"x","logSigmoid");return vc(r=>({value:dr(Ag(dr(r))),gradFunc:a=>fe(a,au(dr(r)))}))(e)}const p9=oe({logSigmoid_:c1e});function d1e(t,e){let n=Q(t,"a","sub"),r=Q(e,"b","sub");[n,r]=zr(n,r);const s={a:n,b:r};return de.runKernel(P0,s)}const bt=oe({sub_:d1e});function f1e(t,e=-1){const n=Q(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return vc((s,i)=>{const o=_o(s,e,!0),l=bt(s,o),u=bt(ht(l,"float32"),Ya(St(ka(l),e,!0)));return i([u]),{value:u,gradFunc:(f,p)=>{const[m]=p,y=!0,v=ka(m);return bt(f,fe(St(f,e,y),v))}}})(n)}const wP=oe({logSoftmax_:f1e});function h1e(t,e=null,n=!1){const r=Q(t,"x","logSumExp"),s=un(e,r.shape),i=_o(r,s,!0),a=bt(r,i),o=ka(a),l=St(o,s),u=Ya(l),d=Ye(me(i,u.shape),u);if(n){const f=Xr(d.shape,s);return me(d,f)}return d}const AT=oe({logSumExp_:h1e});function p1e(t,e){const n=Q(t,"a","logicalAnd","bool"),r=Q(e,"b","logicalAnd","bool");Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(Hk,s)}const pu=oe({logicalAnd_:p1e});function m1e(t){const n={x:Q(t,"x","logicalNot","bool")};return de.runKernel(Gk,n)}const OT=oe({logicalNot_:m1e});function g1e(t,e){const n=Q(t,"a","logicalOr","bool"),r=Q(e,"b","logicalOr","bool");Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(qk,s)}const SP=oe({logicalOr_:g1e});function y1e(t,e){const n=Q(t,"a","logicalXor","bool"),r=Q(e,"b","logicalXor","bool");return Xt(n.shape,r.shape),pu(SP(t,e),OT(pu(t,e)))}const m9=oe({logicalXor_:y1e});const iw=2147483648;function v1e(t,e,n="left"){const r=Q(t,"sortedSequence","searchSorted"),s=Q(e,"values","searchSorted"),i=r.shape[r.shape.length-1],a=s.shape[s.shape.length-1],o=me(r,[-1,i]),l=me(s,[-1,a]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Le(l.shape)>=iw)throw new Error(`values tensor size must less than ${iw}`);if(o.shape[1]>=iw)throw new Error(`trailing dim_size must less than ${iw} for int32 output type, was ${o.shape[1]}`);const u={sortedSequence:o,values:l},d={side:n};return de.runKernel(H_,u,d)}const CP=oe({searchSorted_:v1e});function b1e(t,e){return CP(t,e,"left")}function x1e(t,e,n,r,s){const i=Q(t,"x","maxPool"),a=1;let o=i,l=!1;i.rank===3&&(l=!0,o=me(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Y(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),Y(si(n,a),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),Bi("maxPool",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s},f=de.runKernel(Yk,u,d);return l?me(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const RT=oe({maxPool_:x1e});function w1e(t,e=[1,1,1],n,r,s,i="NDHWC"){const a=Q(t,"x","maxPool3d");let o=a,l=!1;a.rank===4&&(l=!0,o=me(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),Y(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),Y(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),Bi("maxPool3d",r,s);const u={x:o},d={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},f=de.runKernel(Zk,u,d);return l?me(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const g9=oe({maxPool3d_:w1e});function S1e(t,e,n,r,s=!1){const a={x:Q(t,"x","maxPoolWithArgmax")},o={filterSize:e,strides:n,pad:r,includeBatchInIndex:s},l=de.runKernel(O_,a,o);return{result:l[0],indexes:l[1]}}const C1e=oe({maxPoolWithArgmax_:S1e});function k1e(t,e){let n=Q(t,"a","maximum"),r=Q(e,"b","maximum");[n,r]=zr(n,r),n.dtype==="bool"&&(n=ht(n,"int32"),r=ht(r,"int32")),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(y0,s)}const Ac=oe({maximum_:k1e});function T1e(t,e=null,n=!1){const s={x:Q(t,"x","mean")},i={axis:e,keepDims:n};return de.runKernel(Qk,s,i)}const Mr=oe({mean_:T1e});function ws(t,e="float32"){if(eo(t),e==="complex64"){const r=ws(t,"float32"),s=ws(t,"float32");return Bd(r,s)}const n=xi(Le(t),e);return de.makeTensor(n,t,e)}function ga(t,e="float32"){if(eo(t),e==="complex64"){const r=ga(t,"float32"),s=ws(t,"float32");return Bd(r,s)}const n=e_(Le(t),e);return de.makeTensor(n,t,e)}function E1e(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=Q(t,"x","meshgrid",t instanceof Ir?t.dtype:"float32");if(e===void 0)return[r];let s=Q(e,"y","meshgrid",e instanceof Ir?e.dtype:"float32");const i=Le(r.shape),a=Le(s.shape);return n==="xy"?(r=me(r,[1,-1]),s=me(s,[-1,1]),[dn(ga([a,1],r.dtype),r),dn(s,ga([1,i],s.dtype))]):(r=me(r,[-1,1]),s=me(s,[1,-1]),[dn(r,ga([1,a],r.dtype)),dn(ga([i,1],s.dtype),s)])}function N1e(t,e){let n=Q(t,"a","minimum"),r=Q(e,"b","minimum");[n,r]=zr(n,r),n.dtype==="bool"&&(n=ht(n,"int32"),r=ht(r,"int32")),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(v0,s)}const jh=oe({minimum_:N1e});function $1e(t,e,n){Y(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=Q(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Y(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let o=0;o<r.rank;o++)Y(e[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Y(e[o][0]>=0&&e[o][0]<=r.shape[o]-s&&e[o][1]>=0&&e[o][1]<=r.shape[o]-s,()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-s} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},a={x:r};return de.runKernel(eT,a,i)}const y9=oe({mirrorPad_:$1e});function I1e(t,e){let n=Q(t,"a","mod"),r=Q(e,"b","mod");[n,r]=zr(n,r);const s={a:n,b:r};return de.runKernel(b0,s)}const v9=oe({mod_:I1e});function A1e(t,e=null,n=!1){t=Q(t,"x","moments");const r=un(e,t.shape),s=Mr(t,r,n);let i=s.shape;n||(i=Xr(s.shape,r));const a=nr(bt(ht(t,"float32"),me(s,i))),o=Mr(a,r,n);return{mean:s,variance:o}}const DT=oe({moments_:A1e});function O1e(t,e,n,r){const s=Q(e,"data","multiRNNCell"),i=RS(n,"c","multiRNNCell"),a=RS(r,"h","multiRNNCell");let o=s;const l=[];for(let f=0;f<t.length;f++){const p=t[f](o,i[f],a[f]);l.push(p[0]),l.push(p[1]),o=p[1]}const u=[],d=[];for(let f=0;f<l.length;f+=2)u.push(l[f]),d.push(l[f+1]);return[u,d]}const R1e=oe({multiRNNCell_:O1e});function D1e(t,e,n,r=!1){const s=Q(t,"logits","multinomial"),i=s.size,a=s.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const l={logits:a===1?me(s,[1,-1]):s},u={numSamples:e,seed:n,normalized:r},d=de.runKernel(R_,l,u);return a===1?me(d,[d.size]):d}const _1e=oe({multinomial_:D1e});function P1e(t,e){let n=Q(t,"a","notEqual","string_or_numeric"),r=Q(e,"b","notEqual","string_or_numeric");[n,r]=zr(n,r),Xt(n.shape,r.shape);const s={a:n,b:r};return de.runKernel(nT,s)}const Jm=oe({notEqual_:P1e});function M1e(t,e,n=1,r=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const a={indices:Q(t,"indices","oneHot","int32")},o={dtype:s,depth:e,onValue:n,offValue:r};return de.runKernel(sT,a,o)}const kP=oe({oneHot_:M1e});function L1e(t){const n={x:Q(t,"x","onesLike")};return de.runKernel(rT,n)}const Za=oe({onesLike_:L1e});function F1e(t,e){const n=Q(t,"v1","outerProduct"),r=Q(e,"v2","outerProduct");Y(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=me(n,[-1,1]),i=me(r,[1,-1]);return dn(s,i)}const z1e=oe({outerProduct_:F1e});function B1e(t,e,n=0){const r=Q(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},i={x:r};return de.runKernel(aT,i,s)}const cf=oe({pad_:B1e});function j1e(t,e,n=0){return Y(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),cf(t,[e],n)}const U1e=oe({pad1d_:j1e});function V1e(t,e,n=0){return Y(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),cf(t,e,n)}const W1e=oe({pad2d_:V1e});function H1e(t,e,n=0){return Y(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),cf(t,e,n)}const G1e=oe({pad3d_:H1e});function q1e(t,e,n=0){return Y(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),cf(t,e,n)}const K1e=oe({pad4d_:q1e});function X1e(t,e,n){const r=Q(t,"x","spaceToBatchND");Y(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),Y(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),Y(r.shape.reduce((a,o,l)=>l>0&&l<=e.length?a&&(o+n[l-1][0]+n[l-1][1])%e[l-1]===0:a,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:r},i={blockShape:e,paddings:n};return de.runKernel(gT,s,i)}const _T=oe({spaceToBatchND_:X1e});function Y1e(t,e,n,r,s,i,a){s==null&&(s=[1,1]),i==null&&(i=1),r===0&&(r="valid");const o=Q(t,"x","maxPool");let l=o,u=!1;o.rank===3&&(u=!0,l=me(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Y(si(i,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`);const d=Vo(l.shape,e,i,s,r),f=[d.dilationHeight,d.dilationWidth];let p;r==="same"?p=Q1e([d.filterHeight,d.filterWidth],f):p=[[0,0],[0,0]];const m=f[0]===1&&f[1]===1,[y,v]=Z1e([d.inHeight,d.inWidth],f,p),b=m?r:"valid",w=m?l:_T(l,f,y),C=(n==="avg"?()=>kT(w,e,i,b,a):()=>RT(w,e,i,b,a))(),T=m?C:TT(C,f,v);return u?me(T,[T.shape[1],T.shape[2],T.shape[3]]):T}function Z1e(t,e,n){const r=n.map(d=>d[0]),s=n.map(d=>d[1]),i=t.concat(r,s),a=e.map((d,f)=>(d-i[f]%d)%d),o=s.map((d,f)=>d+a[f]),l=e.map((d,f)=>[r[f],o[f]]),u=e.map((d,f)=>[0,a[f]]);return[l,u]}function Q1e(t,e){const r=t.map((a,o)=>a+(a-1)*(e[o]-1)).map(a=>a-1),s=r.map(a=>Math.floor(a/2)),i=r.map((a,o)=>a-s[o]);return r.map((a,o)=>[s[o],i[o]])}const b9=oe({pool_:Y1e});function J1e(t,e){const n=Q(t,"x","prelu"),r=Q(e,"alpha","prelu"),s={x:n,alpha:r};return de.runKernel(oT,s)}const PT=oe({prelu_:J1e});function ewe(t,e=null,n=!1){let r=Q(t,"x","prod");r.dtype==="bool"&&(r=ht(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return de.runKernel(lT,s,i)}const x9=oe({prod_:ewe});function twe(t,e,n,r){const s=t.map((d,f)=>Q(d,`tensors${f}`,"raggedGather","int32")),i=Q(e,"paramsDenseValues","raggedGather"),a=Q(n,"indices","raggedGather","int32"),o={paramsNestedSplits:s,paramsDenseValues:i,indices:a},l={outputRaggedRank:r},u=de.runKernel(M_,o,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const nwe=oe({raggedGather_:twe});function rwe(t,e,n){const r=Q(t,"starts","raggedRange"),s=Q(e,"limits","raggedRange",r.dtype),i=Q(n,"deltas","raggedRange",r.dtype),a={starts:r,limits:s,deltas:i},o=de.runKernel(L_,a);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}const swe=oe({raggedRange_:rwe});function iwe(t,e,n,r,s){const i=Q(t,"shape","raggedTensorToTensor","int32"),a=Q(e,"values","raggedTensorToTensor"),o=Q(n,"defaultValue","raggedTensorToTensor",a.dtype),l=r.map((f,p)=>Q(f,`tensors${p}`,"raggedTensorToTensor","int32")),u={shape:i,values:a,defaultValue:o,rowPartitionTensors:l},d={rowPartitionTypes:s};return de.runKernel(F_,u,d)}const awe=oe({raggedTensorToTensor_:iwe});function owe(t,e,n){eo(t);const r=Le(t);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)s[i]=e();return de.makeTensor(s,t,n)}const lwe=oe({rand_:owe});var Gw={exports:{}},uwe=Gw.exports,bU;function cwe(){return bU||(bU=1,(function(t){(function(e,n,r){function s(l){var u=this,d=o();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=d(" "),u.s1=d(" "),u.s2=d(" "),u.s0-=d(l),u.s0<0&&(u.s0+=1),u.s1-=d(l),u.s1<0&&(u.s1+=1),u.s2-=d(l),u.s2<0&&(u.s2+=1),d=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var d=new s(l),f=u&&u.state,p=d.next;return p.int32=function(){return d.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,f&&(typeof f=="object"&&i(f,d),p.state=function(){return i(d,{})}),p}function o(){var l=4022871197,u=function(d){d=String(d);for(var f=0;f<d.length;f++){l+=d.charCodeAt(f);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:this.alea=a})(uwe,t)})(Gw)),Gw.exports}var qw={exports:{}},dwe=qw.exports,xU;function fwe(){return xU||(xU=1,(function(t){(function(e,n,r){function s(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},o===(o|0)?l.x=o:u+=o;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var u=new s(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xor128=a})(dwe,t)})(qw)),qw.exports}var Kw={exports:{}},hwe=Kw.exports,wU;function pwe(){return wU||(wU=1,(function(t){(function(e,n,r){function s(o){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,d==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var u=new s(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xorwow=a})(hwe,t)})(Kw)),Kw.exports}var Xw={exports:{}},mwe=Xw.exports,SU;function gwe(){return SU||(SU=1,(function(t){(function(e,n,r){function s(o){var l=this;l.next=function(){var d=l.x,f=l.i,p,m;return p=d[f],p^=p>>>7,m=p^p<<24,p=d[f+1&7],m^=p^p>>>10,p=d[f+3&7],m^=p^p>>>3,p=d[f+4&7],m^=p^p<<7,p=d[f+7&7],p=p^p<<13,m^=p^p<<9,d[f]=m,l.i=f+1&7,m};function u(d,f){var p,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,p=0;p<f.length;++p)m[p&7]=m[p&7]<<15^f.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?m[7]=-1:m[p],d.x=m,d.i=0,p=256;p>0;--p)d.next()}u(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var u=new s(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},f.int32=u.next,f.quick=f,d&&(d.x&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xorshift7=a})(mwe,t)})(Xw)),Xw.exports}var Yw={exports:{}},ywe=Yw.exports,CU;function vwe(){return CU||(CU=1,(function(t){(function(e,n,r){function s(o){var l=this;l.next=function(){var d=l.w,f=l.X,p=l.i,m,y;return l.w=d=d+1640531527|0,y=f[p+34&127],m=f[p=p+1&127],y^=y<<13,m^=m<<17,y^=y>>>15,m^=m>>>12,y=f[p]=y^m,l.i=p,y+(d^d>>>16)|0};function u(d,f){var p,m,y,v,b,w=[],S=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,S=Math.max(S,f.length)),y=0,v=-32;v<S;++v)f&&(m^=f.charCodeAt((v+32)%f.length)),v===0&&(b=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,v>=0&&(b=b+1640531527|0,p=w[v&127]^=m+b,y=p==0?y+1:0);for(y>=128&&(w[(f&&f.length||0)&127]=-1),y=127,v=512;v>0;--v)m=w[y+34&127],p=w[y=y+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,w[y]=m^p;d.w=b,d.X=w,d.i=y}u(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var u=new s(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},f.int32=u.next,f.quick=f,d&&(d.X&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.xor4096=a})(ywe,t)})(Yw)),Yw.exports}var Zw={exports:{}},bwe=Zw.exports,kU;function xwe(){return kU||(kU=1,(function(t){(function(e,n,r){function s(o){var l=this,u="";l.next=function(){var f=l.b,p=l.c,m=l.d,y=l.a;return f=f<<25^f>>>7^p,p=p-m|0,m=m<<24^m>>>8^y,y=y-f|0,l.b=f=f<<20^f>>>12^p,l.c=p=p-m|0,l.d=m<<16^p>>>16^y,l.a=y-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var d=0;d<u.length+20;d++)l.b^=u.charCodeAt(d)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var u=new s(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=a:this.tychei=a})(bwe,t)})(Zw)),Zw.exports}var Qw={exports:{}};const wwe={},Swe=Object.freeze(Object.defineProperty({__proto__:null,default:wwe},Symbol.toStringTag,{value:"Module"})),Cwe=Lie(Swe);var kwe=Qw.exports,TU;function Twe(){return TU||(TU=1,(function(t){(function(e,n,r){var s=256,i=6,a=52,o="random",l=r.pow(s,i),u=r.pow(2,a),d=u*2,f=s-1,p;function m(T,N,O){var _=[];N=N==!0?{entropy:!0}:N||{};var F=w(b(N.entropy?[T,C(n)]:T??S(),3),_),L=new y(_),z=function(){for(var P=L.g(i),R=l,H=0;P<u;)P=(P+H)*s,R*=s,H=L.g(1);for(;P>=d;)P/=2,R/=2,H>>>=1;return(P+H)/R};return z.int32=function(){return L.g(4)|0},z.quick=function(){return L.g(4)/4294967296},z.double=z,w(C(L.S),n),(N.pass||O||function(P,R,H,q){return q&&(q.S&&v(q,L),P.state=function(){return v(L,{})}),H?(r[o]=P,R):P})(z,F,"global"in N?N.global:this==r,N.state)}function y(T){var N,O=T.length,_=this,F=0,L=_.i=_.j=0,z=_.S=[];for(O||(T=[O++]);F<s;)z[F]=F++;for(F=0;F<s;F++)z[F]=z[L=f&L+T[F%O]+(N=z[F])],z[L]=N;(_.g=function(P){for(var R,H=0,q=_.i,X=_.j,V=_.S;P--;)R=V[q=f&q+1],H=H*s+V[f&(V[q]=V[X=f&X+R])+(V[X]=R)];return _.i=q,_.j=X,H})(s)}function v(T,N){return N.i=T.i,N.j=T.j,N.S=T.S.slice(),N}function b(T,N){var O=[],_=typeof T,F;if(N&&_=="object")for(F in T)try{O.push(b(T[F],N-1))}catch{}return O.length?O:_=="string"?T:T+"\0"}function w(T,N){for(var O=T+"",_,F=0;F<O.length;)N[f&F]=f&(_^=N[f&F]*19)+O.charCodeAt(F++);return C(N)}function S(){try{var T;return p&&(T=p.randomBytes)?T=T(s):(T=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(T)),C(T)}catch{var N=e.navigator,O=N&&N.plugins;return[+new Date,e,O,e.screen,C(n)]}}function C(T){return String.fromCharCode.apply(0,T)}if(w(r.random(),n),t.exports){t.exports=m;try{p=Cwe}catch{}}else r["seed"+o]=m})(typeof self<"u"?self:kwe,[],Math)})(Qw)),Qw.exports}var O$,EU;function Ewe(){if(EU)return O$;EU=1;var t=cwe(),e=fwe(),n=pwe(),r=gwe(),s=vwe(),i=xwe(),a=Twe();return a.alea=t,a.xor128=e,a.xorwow=n,a.xorshift7=r,a.xor4096=s,a.tychei=i,O$=a,O$}var MT=Ewe();class TP{constructor(e,n,r,s,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const a=i||Math.random();this.random=MT.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,r=!1;for(;!r;){let s,i,a;do s=2*this.random()-1,i=2*this.random()-1,a=s*s+i*i;while(a>=1||a===0);const o=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*s*o,n=this.mean+this.stdDev*i*o,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Nwe{constructor(e,n,r,s){this.alpha=e,this.beta=1/n,this.dtype=r;const i=s||Math.random();this.randu=MT.alea(i.toString()),this.randn=new TP(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,s,i,a;for(;;){do s=this.randn.nextValue(),a=1+this.c*s;while(a<=0);if(a*=a*a,e=s*s,n=1-.331*e*e,r=.5*e+this.d*(1-a+Math.log(a)),i=this.randu(),i<n||Math.log(i)<r)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class $we{constructor(e=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=MT.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}function Iwe(t,e,n=1,r="float32",s){if(eo(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const i=new Nwe(e,n,r,s),a=rn(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const Awe=oe({randomGamma_:Iwe});function Owe(t,e=0,n=1,r,s){if(eo(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new TP(e,n,r,!1,s),a=rn(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const EP=oe({randomNormal_:Owe});function Rwe(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return EP(t,0,1,e,n)}const Dwe=oe({randomStandardNormal_:Rwe});function _we(t,e=0,n=1,r="float32",s){eo(t);const i=rn(t,r),a=new $we(e,n,null,s);for(let o=0;o<i.values.length;o++)i.values[o]=a.nextValue();return i.toTensor()}const ip=oe({randomUniform_:_we});function Pwe(t,e,n,r){return ip(t,e,n,"int32",r)}const Mwe=oe({randomUniformInt_:Pwe});function eg(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:r};return de.runKernel(z_,{},s)}function Lwe(t){const n={input:Q(t,"input","real")};return de.runKernel(B_,n)}const ib=oe({real_:Lwe});function Fwe(t){const n={x:Q(t,"x","reciprocal")};return de.runKernel(S0,n)}const w9=oe({reciprocal_:Fwe});function zwe(t){const n={x:Q(t,"x","relu")};return de.runKernel(C0,n)}const Su=oe({relu_:zwe});function Bwe(t){const n={x:Q(t,"x","relu6")};return de.runKernel(k0,n)}const NP=oe({relu6_:Bwe});function jwe(t,e){const r={x:Q(t,"x","reverse")},s={dims:e};return de.runKernel(fT,r,s)}const Mo=oe({reverse_:jwe});function Uwe(t){const e=Q(t,"x","reverse");return Y(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Mo(e,0)}const Vwe=oe({reverse1d_:Uwe});function Wwe(t,e){const n=Q(t,"x","reverse");return Y(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Mo(n,e)}const Hwe=oe({reverse2d_:Wwe});function Gwe(t,e){const n=Q(t,"x","reverse");return Y(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Mo(n,e)}const qwe=oe({reverse3d_:Gwe});function Kwe(t,e){const n=Q(t,"x","reverse");return Y(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Mo(n,e)}const Xwe=oe({reverse4d_:Kwe});function Ywe(t){const n={x:Q(t,"x","round")};return de.runKernel(T0,n)}const $P=oe({round_:Ywe});function Zwe(t){const n={x:Q(t,"x","rsqrt","float32")};return de.runKernel(E0,n)}const IP=oe({rsqrt_:Zwe});function Qwe(t){const n={x:Q(t,"x","selu")};return de.runKernel(N0,n)}const AP=oe({selu_:Qwe});function Jwe(t,e,n,r,s,i=[1,1],a="NHWC"){const o=Q(t,"x","separableConv2d"),l=Q(e,"depthwiseFilter","separableConv2d"),u=Q(n,"pointwiseFilter","separableConv2d");let d=o,f=!1;if(o.rank===3&&(f=!0,d=me(o,[1,o.shape[0],o.shape[1],o.shape[2]])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Y(d.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${d.rank}.`),Y(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),Y(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),Y(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),Y(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const p=l.shape[2],m=l.shape[3];Y(u.shape[2]===p*m,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*m}, but got ${u.shape[2]}.`);const y=V0(d,l,r,s,a,i),b=Vd(y,u,1,"valid",a);return f?me(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const OP=oe({separableConv2d_:Jwe});async function eSe(t,e){const n=Q(t,"x","setdiff1d"),r=Q(e,"y","setdiff1d");Y(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),Y(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),Y(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),i=await r.data(),a=new Set(i);let o=0;for(let d=0;d<s.length;d++)a.has(s[d])||o++;const l=new ks([o],n.dtype),u=new ks([o],"int32");for(let d=0,f=0;d<s.length;d++)a.has(s[d])||(l.values[f]=s[d],u.values[f]=d,f++);return[l.toTensor(),u.toTensor()]}const tSe=eSe;function nSe(t){const n={x:Q(t,"x","sign")};return de.runKernel(A0,n)}const S9=oe({sign_:nSe});function rSe(t){const n={x:Q(t,"x","sin","float32")};return de.runKernel($0,n)}const RP=oe({sin_:rSe});function sSe(t){const n={x:Q(t,"x","sinh")};return de.runKernel(I0,n)}const DP=oe({sinh_:sSe});function iSe(t,e,n){const r=Q(t,"x","slice1d");return Y(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),wn(r,[e],[n])}const LT=oe({slice1d_:iSe});function aSe(t,e,n){const r=Q(t,"x","slice2d");return Y(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),wn(r,e,n)}const _P=oe({slice2d_:aSe});function oSe(t,e,n){const r=Q(t,"x","slice3d");return Y(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),wn(r,e,n)}const FT=oe({slice3d_:oSe});function lSe(t,e,n){const r=Q(t,"x","slice4d");return Y(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),wn(r,e,n)}const ab=oe({slice4d_:lSe});function uSe(t,e=-1){const n=Q(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},s={dim:e};return de.runKernel(vT,r,s)}const zT=oe({softmax_:uSe});function cSe(t){Y(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return de.runKernel(w_,e)}const BT=oe({fft_:cSe});function dSe(t){Y(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return de.runKernel(T_,e)}const ob=oe({ifft_:dSe});function fSe(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const s=me(t,[n,e]);r=ob(s)}else{const s=[n,2*(e-1)],i=me(ib(t),[n,e]),a=me(NT(t),[n,e]),o=Mo(wn(i,[0,1],[n,e-2]),1),l=fe(Mo(wn(a,[0,1],[n,e-2]),1),It(-1)),u=us([i,o],1),d=us([a,l],1),f=me(Bd(u,d),[s[0],s[1]]);r=ob(f)}if(r=ib(r),t.rank===3&&t.shape[0]!==0){const s=r,i=t.shape[0];r=me(r,[i,r.shape[0]/i,r.shape[1]]),s.dispose()}return r}const PP=oe({irfft_:fSe});function hSe(t,e,n=0){const s={x:Q(t,"x","split")},i={numOrSizeSplits:e,axis:n};return de.runKernel(yT,s,i)}const va=oe({split_:hSe});function pSe(t,e){Y(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let s;if(e!=null&&e<n){const y=t.shape.map(b=>0),v=t.shape.map(b=>b);v[t.shape.length-1]=e,s=wn(t,y,v),n=e}else if(e!=null&&e>n){const y=t.shape.map(v=>v);y[t.shape.length-1]=e-n,s=us([t,ws(y)],t.shape.length-1),n=e}else s=t;const i=Cn(s),a=me(Bd(s,i),[r,n]),o=BT(a),l=Math.floor(n/2)+1,u=ib(o),d=NT(o),f=va(u,[l,n-l],u.shape.length-1),p=va(d,[l,n-l],d.shape.length-1),m=s.shape.slice();return m[s.shape.length-1]=l,me(Bd(f[0],p[0]),m)}const jT=oe({rfft_:pSe});function mSe(t,e){let n=Q(t,"a","squaredDifference"),r=Q(e,"b","squaredDifference");[n,r]=zr(n,r),Xt(n.shape,r.shape);const s={a:n,b:r},i={};return de.runKernel(_0,s,i)}const MP=oe({squaredDifference_:mSe});function gSe(t,e){const n=Q(t,"x","squeeze","string_or_numeric");return me(n,nf(n.shape,e).newShape)}const ap=oe({squeeze_:gSe});function ySe(t,e=0){const n=RS(t,"tensors","stack","string_or_numeric");Y(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&Y(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:e};return de.runKernel(iT,r,s)}const Ta=oe({stack_:ySe});function vSe(t,e=0){const r={x:Q(t,"x","step")},s={alpha:e};return de.runKernel(z0,r,s)}const Og=oe({step_:vSe});function bSe(t,e,n,r,s=0,i=0,a=0,o=0,l=0){const d={x:Q(t,"x","stridedSlice","string_or_numeric")},f={begin:e,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};return de.runKernel(Q_,d,f)}const C9=oe({stridedSlice_:bSe});function xSe(t){const n={x:Q(t,"x","tan","float32")};return de.runKernel(M0,n)}const k9=oe({tan_:xSe});function Fi(t,e){Tg(t);const n=sf(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return af(t,null,n,e)}function ou(t,e,n){if(Tg(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=sf(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return af(t,e,r,n)}function T9(t,e,n){if(Tg(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=sf(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return af(t,e,r,n)}function wSe(t,e,n){if(Tg(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=sf(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return af(t,e,r,n)}function SSe(t,e,n){if(Tg(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=sf(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return af(t,e,r,n)}function CSe(t,e,n){if(Tg(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=sf(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,af(t,e,r,n)}function E9(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(t.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+t.length-r)throw new Error(i+` update.rank != ${s+t.length-r}`);for(let a=0;a<s;++a)if(n.shape[a]!==e.shape[a])throw new Error(i+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${e.shape[a]}).`);for(let a=0;a<n.rank-s;++a)if(n.shape[a+s]!==t[a+r])throw new Error(i+` updates.shape[${a+s}] (${n.shape[a+s]}) != shape[${a+s}] (${t[a+s]})`)}function LP(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}E9(n,e,t)}function op(t,e,n){const r=e.shape.length,s=r>1?e.shape[r-1]:1,i=n.length;let a=1;for(let f=s;f<i;++f)a*=n[f];const o=s<1?1:s,l=Le(e.shape)/o,u=[...At(n.slice(0,s)),1],d=Le(n);return{sliceRank:s,numUpdates:l,sliceSize:a,strides:u,outputSize:d}}function kSe(t,e,n){const r=Q(t,"tensor","tensorScatterupdate"),s=Q(e,"indices","tensorScatterupdate","int32"),i=Q(n,"updates","tensorScatterupdate");if(LP(i,s,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);const a={tensor:r,indices:s,updates:i},o={};return de.runKernel(W_,a,o)}const TSe=oe({tensorScatterUpdate_:kSe});function ESe(t,e=1,n=!0){const r=Q(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const i={x:r},a={k:e,sorted:n},[o,l]=de.runKernel(nP,i,a);return{values:o,indices:l}}const N9=oe({topk_:ESe});function NSe(t,e=0,n=1,r,s){if(eo(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new TP(e,n,r,!0,s),a=rn(t,r);for(let o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}const FP=oe({truncatedNormal_:NSe});function $Se(t,e=0){const n=Q(t,"x","unique","string_or_numeric");Y(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:e},[i,a]=de.runKernel(sP,r,s);return{values:i,indices:a}}const $9=oe({unique_:$Se});function ISe(t,e,n){const r=Q(t,"x","unsortedSegmentSum"),s=Q(e,"segmentIds","unsortedSegmentSum","int32");Y(Xm(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:s},a={numSegments:n};return de.runKernel(wT,i,a)}const zP=oe({unsortedSegmentSum_:ISe});function ASe(t,e=0){const n=Q(t,"x","unstack","string_or_numeric");Y(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:e};return de.runKernel(xT,r,s)}const Lo=oe({unstack_:ASe});function OSe(t,e){return CP(t,e,"right")}function I9(t,e=!0,n,r){return de.makeVariable(t,e,n,r)}function BP(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=rn(t,"int32"),s=rn([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const a=r.indexToLoc(n[i]),o=i*t.length;s.values.set(a,o)}return s.toTensor()}async function RSe(t){const e=Q(t,"condition","whereAsync","bool"),n=await e.data(),r=BP(e.shape,n);return t!==e&&e.dispose(),r}const A9=RSe;async function DSe(t,e,n){const r=Q(t,"tensor","boolMask"),s=Q(e,"mask","boolMask","bool"),i=n??0,a=s.rank,o=r.shape;Y(a>0,()=>"mask cannot be scalar"),Ia(o.slice(i,i+a),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let v=i;v<i+a;v++)l*=o[v];const u=o.slice(0,i).concat([l],o.slice(i+a)),d=me(r,u),f=me(s,[-1]),p=await A9(f),m=ap(p,[1]),y=q0(d,m,i);return t!==r&&r.dispose(),e!==s&&s.dispose(),m.dispose(),d.dispose(),f.dispose(),p.dispose(),y}const _Se=DSe;function PSe(t,e,n){const r=Q(t,"x","transpose");if(e==null&&(e=r.shape.map((a,o)=>o).reverse()),Y(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(a=>{Y(a>=0&&a<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const s={x:r},i={perm:e};return r.dtype==="complex64"?Ne(()=>{let a=ib(r),o=NT(r);return a=de.runKernel(Pm,{x:a},i),o=de.runKernel(Pm,{x:o},i),n&&(o=dr(o)),Bd(a,o)}):de.runKernel(Pm,s,i)}const Sn=oe({transpose_:PSe});function MSe(t,e,n,r,s=!0){const i=Q(t,"v","movingAverage"),a=Q(e,"x","movingAverage"),o=Q(n,"decay","movingAverage");kbe(i,a),Y(yn(i.shape,a.shape),()=>"Shape mismatch in v and x");const l=It(1),u=bt(l,o);let d=fe(bt(a,i),u);if(s){Y(r!=null,()=>"When using zeroDebias: true, step is required.");const f=Q(r,"step","movingAverage");d=Et(d,bt(l,yc(o,f)))}return Ye(i,d)}const LSe=oe({movingAverage_:MSe});function FSe(t,e,n){eo(n);const r=Q(t,"indices","scatterND","int32"),s=Q(e,"updates","scatterND");LP(s,r,n);const i={indices:r,updates:s},a={shape:n};return de.runKernel(V_,i,a)}const zSe=oe({scatterND_:FSe});function BSe(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const s=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const a=e.size;if(!(e.rank===0||e.rank===1&&a===s))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${s}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function jSe(t,e,n,r=0){eo(n);const s=Q(t,"sparseIndices","sparseToDense","int32"),i=Q(e,"sparseValues","sparseToDense","string_or_numeric"),a=Q(r,"defaultValue","sparseToDense",i.dtype);BSe(s,i,n,a);const o={sparseIndices:s,sparseValues:i,defaultValue:a},l={outputShape:n};return de.runKernel(Y_,o,l)}const USe=oe({sparseToDense_:jSe});function VSe(t,e){const n=Q(e,"indices","gatherND","int32"),s={params:Q(t,"x","gatherND","string_or_numeric"),indices:n};return de.runKernel(k_,s)}const WSe=oe({gatherND_:VSe});function HSe(t,e){if(e==null)return t.shape.slice();if(yn(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}function GSe(t,e,n,r){const s=Q(t,"x","dropout");if(Y(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),Y(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Ir?s.clone():s;const i=HSe(s,n),a=1-e,o=Et(G0(Ye(ip(i,0,1,"float32",r),a)),a);return fe(s,o)}const O9=oe({dropout_:GSe});function R9(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function jP(t,e,n){const r=1-t%2,s=new Float32Array(t);for(let i=0;i<t;++i){const a=2*Math.PI*i/(t+r-1);s[i]=e-n*Math.cos(a)}return Fi(s,"float32")}async function qSe(t,e,n=1){const r=Q(t,"predictions","inTopK"),s=Q(e,"targets","inTopK");Y(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),Y(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),Ia(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];Y(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);const a=await r.data(),o=await s.data(),[l,u]=[a.length/i,i],d=ni("bool",l);for(let f=0;f<l;f++){const p=f*u,m=a.subarray(p,p+u),y=[];for(let v=0;v<m.length;v++)y.push({value:m[v],index:v});y.sort((v,b)=>b.value-v.value),d[f]=0;for(let v=0;v<n;v++)if(y[v].index===o[f]){d[f]=1;break}}return t!==r&&r.dispose(),e!==s&&s.dispose(),ul(d,s.shape,"bool")}const KSe=qSe;function XSe(t,e,n,r,s,i="NHWC",a){let o=t;t.rank===3&&(o=me(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=me(e,[1,e.shape[0],e.shape[1],e.shape[2]])),Y(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),Y(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),Y(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=i==="NHWC"?o.shape[3]:o.shape[1],d=i==="NHWC"?l.shape[3]:l.shape[1];Y(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),Y(d===n[3],()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${n[3]}).`),Bi("conv2dDerFilter",s,a);const f={x:o,dy:l},p={strides:r,pad:s,dataFormat:i,dimRoundingMode:a,filterShape:n};return de.runKernel(u_,f,p)}const UP=oe({conv2DBackpropFilter_:XSe});function UT(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return fe(t,Og(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function VT(t,e){let n=e;const r=$s(t.shape,e.shape);return r.length>0&&(n=St(n,r)),me(n,t.shape)}function WT(t,e,n,r){if(e==="linear")return t;if(e==="relu")return Su(t);if(e==="elu")return W0(t);if(e==="relu6")return NP(t);if(e==="prelu")return PT(t,n);if(e==="leakyrelu")return $T(t,r);if(e==="sigmoid")return au(t);throw new Error(`Unknown fused activation ${e}.`)}const HT=(t,e)=>!(t>0)||e==="linear";function YSe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:a,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:d}){if(l=l||"linear",HT(de.state.gradientDepth,l)===!1){Y(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let O=Vd(t,e,n,r,s,i,a);return o!=null&&(O=Ye(O,o)),WT(O,l,u,d)}const f=Q(t,"x","conv2d","float32"),p=Q(e,"filter","conv2d","float32");let m=f,y=!1;f.rank===3&&(y=!0,m=me(f,[1,f.shape[0],f.shape[1],f.shape[2]])),Y(m.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`),Y(p.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${p.rank}.`),Bi("fused conv2d",r,a);const v=s==="NHWC"?m.shape[3]:m.shape[1];Y(p.shape[2]===v,()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${p.shape[2]}.`),Y(si(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const b=Ls(m.shape,p.shape,n,i,r,a);let w;o!=null&&(w=Q(o,"bias","fused conv2d"),[w]=zr(w,f),s==="NHWC"?Xt(b.outShape,w.shape):(Y(w.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${w.shape.length}.`),Y(w.shape.length===0||w.shape[0]===b.outChannels||w.shape[0]===1,()=>`Error in fused conv2d: bias shape (${w.shape}) is not compatible with the number of output channels (${b.outChannels})`)));let S;if(u!=null){const O=u.shape;if(Y(O.length<=1||O.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${O.length}.`),O.length===1)Y(O[0]===1||O[0]===b.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${O}) is not compatible with the number of output channels (${b.outChannels}).`);else if(O.length===3)try{Xt(O,b.outShape)}catch{const F=`Error in fused conv2d: PReLU activation weights (${O}) is not compatible with the output shape of the conv2d (${b.outShape}).`;throw Error(F)}S=Q(u,"prelu weights","fused conv2d")}const C=(O,_)=>{Y(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[F,L,z,P]=_,R=UT(O,z,l);Y(Ud(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const H=pP(L.shape,R,F,n,r),q=UP(L,R,F.shape,n,r),X=[H,q];if(P!=null){const V=VT(P,R);X.push(V)}return X},T={x:m,filter:p,bias:w,preluActivationWeights:S},N={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a,activation:l,leakyreluAlpha:d};return o==null?vc((_,F,L)=>{let z=de.runKernel($S,T,N);return L([F,_,z]),y&&(z=me(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:C}})(m,p):vc((_,F,L,z)=>{let P=de.runKernel($S,T,N);return z([F,_,P,L]),y&&(P=me(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:C}})(m,p,w)}const D9=oe({fusedConv2d_:YSe});function ZSe(t,e,n,r,s,i=[1,1],a){let o=t;t.rank===3&&(o=me(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=me(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:o,dy:l},d={strides:r,pad:s,dimRoundingMode:a,dilations:i,filterShape:n};return de.runKernel(g_,u,d)}const _9=oe({depthwiseConv2dNativeBackpropFilter_:ZSe});function QSe(t,e,n,r,s,i=[1,1],a){let o=e,l=!1;e.rank===3&&(l=!0,o=me(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:o,filter:n},d={strides:r,pad:s,dimRoundingMode:a,dilations:i,inputShape:t},f=de.runKernel(y_,u,d);return l?me(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const P9=oe({depthwiseConv2dNativeBackpropInput_:QSe});function JSe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:a,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:d}){if(HT(de.state.gradientDepth,l)===!1){let N=V0(t,e,n,r,s,i,a);return o!=null&&(N=Ye(N,o)),WT(N,l,u,d)}const f=Q(t,"x","depthwiseConv2d","float32"),p=Q(e,"filter","depthwiseConv2d","float32");let m=f,y=!1;f.rank===3&&(y=!0,m=me(f,[1,f.shape[0],f.shape[1],f.shape[2]])),Y(m.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),Y(p.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${p.rank}.`),Y(m.shape[3]===p.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`),i==null&&(i=[1,1]),Y(si(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Bi("fused depthwiseConv2d",r,a);const v=Ls(m.shape,p.shape,n,i,r,a,!0);let b;o!=null&&(b=Q(o,"bias","fused conv2d"),[b]=zr(b,f),Xt(v.outShape,b.shape));let w;u!=null&&(w=Q(u,"prelu weights","fused depthwiseConv2d"));const S=(N,O)=>{Y(Ud(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[_,F,L,z]=O,P=UT(N,L,l),R=P9(F.shape,P,_,n,r,i,a),H=_9(F,P,_.shape,n,r,i,a);if(z!=null){const q=VT(b,P);return[R,H,q]}return[R,H]},C={x:m,filter:p,bias:b,preluActivationWeights:w},T={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:a,activation:l,leakyreluAlpha:d};return o==null?vc((O,_,F)=>{let L=de.runKernel(IS,C,T);return F([_,O,L]),y&&(L=me(L,[L.shape[1],L.shape[2],L.shape[3]])),{value:L,gradFunc:S}})(m,p):vc((O,_,F,L)=>{let z=de.runKernel(IS,C,T);return L([_,O,z,F]),y&&(z=me(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:S}})(m,p,b)}const eCe=oe({fusedDepthwiseConv2d_:JSe});function tCe({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:s,activation:i="linear",preluActivationWeights:a,leakyreluAlpha:o=.2}){if(HT(de.state.gradientDepth,i)===!1){let P=dn(t,e,n,r);return s!=null&&(P=Ye(P,s)),WT(P,i,a,o)}let l=Q(t,"a","fused matMul"),u=Q(e,"b","fused matMul");[l,u]=zr(l,u);const d=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],p=n?l.shape[l.rank-1]:l.shape[l.rank-2],m=r?u.shape[u.rank-2]:u.shape[u.rank-1],y=l.shape.slice(0,-2),v=u.shape.slice(0,-2),b=Le(y),w=Le(v);Y(d===f,()=>`Error in fused matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const C=Xt(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([p,m]),T=n?me(l,[b,d,p]):me(l,[b,p,d]),N=r?me(u,[w,m,f]):me(u,[w,f,m]);let O;s!=null&&(O=Q(s,"bias","fused matMul"),[O]=zr(O,l),Xt(C,O.shape));let _;a!=null&&(_=Q(a,"prelu weights","fused matMul"));const F=(P,R)=>{const[H,q,X,V]=R,ee=UT(me(P,X.shape),X,i);let J,te;if(!n&&!r?(J=dn(ee,q,!1,!0),te=dn(H,ee,!0,!1)):!n&&r?(J=dn(ee,q,!1,!1),te=dn(ee,H,!0,!1)):n&&!r?(J=dn(q,ee,!1,!0),te=dn(H,ee,!1,!1)):(J=dn(q,ee,!0,!0),te=dn(ee,H,!0,!0)),s!=null){const ce=VT(V,ee);return[J,te,ce]}else return[J,te]},L={a:T,b:N,bias:O,preluActivationWeights:_},z={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:o};return s==null?vc((R,H,q)=>{const X=de.runKernel(NS,L,z);return q([R,H,X]),{value:me(X,C),gradFunc:F}})(T,N):vc((R,H,q,X)=>{const V=de.runKernel(NS,L,z);return X([R,H,V,q]),{value:me(V,C),gradFunc:F}})(T,N,O)}const RO=oe({fusedMatMul_:tCe});const nCe=Object.freeze(Object.defineProperty({__proto__:null,conv2d:D9,depthwiseConv2d:eCe,matMul:RO},Symbol.toStringTag,{value:"Module"}));function rCe(t){return jP(t,.54,.46)}const sCe=oe({hammingWindow_:rCe});function iCe(t){return jP(t,.5,.5)}const M9=oe({hannWindow_:iCe});function aCe(t,e,n,r=!1,s=0){let i=0;const a=[];for(;i+e<=t.size;)a.push(wn(t,i,e)),i+=n;if(r)for(;i<t.size;){const o=i+e-t.size,l=us([wn(t,i,e-o),Ig([o],s)]);a.push(l),i+=n}return a.length===0?ou([],[0,e]):me(us(a),[a.length,e])}const L9=oe({frame_:aCe});function oCe(t,e,n,r,s=M9){r==null&&(r=R9(e));const i=L9(t,e,n),a=fe(i,s(e));return jT(a,r)}const lCe=oe({stft_:oCe});function uCe(t,e,n,r,s="bilinear",i=0){const a=Q(t,"image","cropAndResize"),o=Q(e,"boxes","cropAndResize","float32"),l=Q(n,"boxInd","cropAndResize","int32"),u=o.shape[0];Y(a.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`),Y(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`),Y(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`),Y(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),Y(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),Y(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const d={image:a,boxes:o,boxInd:l},f={method:s,extrapolationValue:i,cropSize:r};return de.runKernel(h_,d,f)}const cCe=oe({cropAndResize_:uCe});function dCe(t){const e=Q(t,"image","flipLeftRight","float32");Y(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return de.runKernel(C_,n,{})}const fCe=oe({flipLeftRight_:dCe});function hCe(t){const e=Q(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];Y(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),Y(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,Eo(e,s)}const pCe=oe({grayscaleToRGB_:hCe});function mCe(t){const e=Q(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];Y(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),Y(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=e.dtype,i=ht(e,"float32"),a=Fi([.2989,.587,.114]);let o;switch(e.rank){case 2:o=Em("ij,j->i",i,a);break;case 3:o=Em("ijk,k->ij",i,a);break;case 4:o=Em("ijkl,l->ijk",i,a);break;case 5:o=Em("ijklm,m->ijkl",i,a);break;case 6:o=Em("ijklmn,n->ijklm",i,a);break;default:throw new Error("Not a valid tensor rank.")}return o=Ri(o,-1),ht(o,s)}const gCe=oe({rgbToGrayscale_:mCe});function yCe(t,e,n=0,r=.5){const s=Q(t,"image","rotateWithOffset","float32");Y(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const i={image:s},a={radians:e,fillValue:n,center:r};return de.runKernel(iP,i,a)}const vCe=oe({rotateWithOffset_:yCe});function Rg(t,e,n,r,s,i){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),i==null&&(i=0);const a=t.shape[0];return n=Math.min(n,a),Y(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),Y(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),Y(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),Y(e.rank===1,()=>"scores must be a 1D tensor"),Y(e.shape[0]===a,()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${e.shape[0]}`),Y(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}function bCe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=Q(t,"boxes","nonMaxSuppression","float32"),a=Q(e,"scores","nonMaxSuppression","float32"),o=Rg(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return de.runKernel(D_,{boxes:i,scores:a},l)}const xCe=oe({nonMaxSuppression_:bCe});function wCe(t,e,n){const r=SCe(t,e,n),s=r<0?-(r+1):r;t.splice(s,0,e)}function SCe(t,e,n){return kCe(t,e,n||CCe)}function CCe(t,e){return t>e?1:t<e?-1:0}function kCe(t,e,n){let r=0,s=t.length,i=0,a=!1;for(;r<s;){i=r+(s-r>>>1);const o=n(e,t[i]);o>0?r=i+1:(s=i,a=!o)}return a?r:-r-1}function VP(t,e,n,r,s){return GP(t,e,n,r,s,0)}function WP(t,e,n,r,s,i){return GP(t,e,n,r,s,0,!1,i,!0)}function HP(t,e,n,r,s,i){return GP(t,e,n,r,s,i,!0)}function GP(t,e,n,r,s,i,a=!1,o=!1,l=!1){const u=[];for(let b=0;b<e.length;b++)e[b]>s&&u.push({score:e[b],boxIndex:b,suppressBeginIndex:0});u.sort(NU);const d=i>0?-.5/i:0,f=[],p=[];for(;f.length<n&&u.length>0;){const b=u.pop(),{score:w,boxIndex:S,suppressBeginIndex:C}=b;if(w<s)break;let T=!1;for(let N=f.length-1;N>=C;--N){const O=TCe(t,S,f[N]);if(O>=r){T=!0;break}if(b.score=b.score*ECe(r,d,O),b.score<=s)break}b.suppressBeginIndex=f.length,T||(b.score===w?(f.push(S),p.push(b.score)):b.score>s&&wCe(u,b,NU))}const m=f.length,y=n-m;o&&y>0&&(f.push(...new Array(y).fill(0)),p.push(...new Array(y).fill(0)));const v={selectedIndices:f};return a&&(v.selectedScores=p),l&&(v.validOutputs=m),v}function TCe(t,e,n){const r=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),d=Math.min(s[1],s[3]),f=Math.max(s[0],s[2]),p=Math.max(s[1],s[3]),m=(o-i)*(l-a),y=(f-u)*(p-d);if(m<=0||y<=0)return 0;const v=Math.max(i,u),b=Math.max(a,d),w=Math.min(o,f),S=Math.min(l,p),C=Math.max(w-v,0)*Math.max(S-b,0);return C/(m+y-C)}function ECe(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function NU(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}async function NCe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=Q(t,"boxes","nonMaxSuppressionAsync"),a=Q(e,"scores","nonMaxSuppressionAsync"),o=Rg(i,a,n,r,s);n=o.maxOutputSize,r=o.iouThreshold,s=o.scoreThreshold;const l=await Promise.all([i.data(),a.data()]),u=l[0],d=l[1],{selectedIndices:f}=VP(u,d,n,r,s);return i!==t&&i.dispose(),a!==e&&a.dispose(),Fi(f,"int32")}const $Ce=NCe;function ICe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const a=Q(t,"boxes","nonMaxSuppression"),o=Q(e,"scores","nonMaxSuppression"),l=Rg(a,o,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:a,scores:o},d={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},f=de.runKernel(P_,u,d);return{selectedIndices:f[0],selectedScores:f[1]}}const ACe=oe({nonMaxSuppressionWithScore_:ICe});async function OCe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const a=Q(t,"boxes","nonMaxSuppressionAsync"),o=Q(e,"scores","nonMaxSuppressionAsync"),l=Rg(a,o,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([a.data(),o.data()]),d=u[0],f=u[1],{selectedIndices:p,selectedScores:m}=HP(d,f,n,r,s,i);return a!==t&&a.dispose(),o!==e&&o.dispose(),{selectedIndices:Fi(p,"int32"),selectedScores:Fi(m)}}const RCe=OCe;function DCe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const a=Q(t,"boxes","nonMaxSuppression"),o=Q(e,"scores","nonMaxSuppression"),l=Rg(a,o,n,r,s,null),u=l.maxOutputSize,d=l.iouThreshold,f=l.scoreThreshold,p={boxes:a,scores:o},m={maxOutputSize:u,iouThreshold:d,scoreThreshold:f,padToMaxOutputSize:i},y=de.runKernel(__,p,m);return{selectedIndices:y[0],validOutputs:y[1]}}const _Ce=oe({nonMaxSuppressionPadded_:DCe});async function PCe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const a=Q(t,"boxes","nonMaxSuppressionAsync"),o=Q(e,"scores","nonMaxSuppressionAsync"),l=Rg(a,o,n,r,s,null),u=l.maxOutputSize,d=l.iouThreshold,f=l.scoreThreshold,[p,m]=await Promise.all([a.data(),o.data()]),{selectedIndices:y,validOutputs:v}=WP(p,m,u,d,f,i);return a!==t&&a.dispose(),o!==e&&o.dispose(),{selectedIndices:Fi(y,"int32"),validOutputs:It(v,"int32")}}const MCe=PCe;function LCe(t,e,n=!1,r=!1){const s=Q(t,"images","resizeBilinear");Y(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),Y(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),Y(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=s,a=!1;s.rank===3&&(a=!0,i=me(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},u=de.runKernel(dT,o,l);return a?me(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const F9=oe({resizeBilinear_:LCe});function FCe(t,e,n=!1,r=!1){const s=Q(t,"images","resizeNearestNeighbor");Y(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),Y(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),Y(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),Y(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=s,a=!1;s.rank===3&&(a=!0,i=me(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},u=de.runKernel(cT,o,l);return a?me(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const z9=oe({resizeNearestNeighbor_:FCe});function zCe(t,e="binary",n=!1,r=.5){const s=Q(t,"image","threshold"),i=.2989,a=.587,o=.114,l=s.shape[0]*s.shape[1];let u=fe(Fi([r]),255),d,f,p,m;if(Y(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),Y(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),Y(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),Y(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[d,f,p]=va(s,[1,1,1],-1);const b=fe(d,i),w=fe(f,a),S=fe(p,o);m=Ye(Ye(b,w),S)}else m=t;if(e==="otsu"){const b=qK(ht($P(m),"int32"),ul([]),256);u=BCe(b,l)}const y=n?sp(m,u):Aa(m,u);return ht(fe(y,255),"int32")}function BCe(t,e){let n=Fi([-1]),r=Fi([0]),s=Fi([0]),i,a,o,l,u,d;for(let f=0;f<t.size-1;f++){i=wn(t,0,f+1),a=wn(t,f+1),u=Et(St(i),e),d=Et(St(a),e);const p=St(fe(i,eg(0,i.size)));o=Et(p,St(i));const m=Ig(a.shape,i.size),y=Ye(eg(0,a.size),m),v=fe(a,y);l=Et(St(v),St(a));const b=bt(o,l),w=bt(o,l),S=fe(u,d);s=fe(fe(S,b),w);const C=Aa(s,r);r=vi(C,s,r),n=vi(C,Fi([f]),n)}return n}const jCe=oe({threshold_:zCe});function UCe(t,e,n="nearest",r="constant",s=0,i){const a=Q(t,"image","transform","float32"),o=Q(e,"transforms","transform","float32");Y(a.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`),Y(o.rank===2&&(o.shape[0]===a.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),Y(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:a,transforms:o},u={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return de.runKernel(rP,l,u)}const VCe=oe({transform_:UCe});function WCe(t,e,n){const r=Q(t,"a","bandPart");Y(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[i,a]=r.shape.slice(-2);let o,l;typeof e=="number"?(Y(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),Y(e<=i,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`),o=Q(e<0?i:e,"numLower","bandPart")):(Y(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),o=vi(sb(e,0),i,jh(e,i))),typeof n=="number"?(Y(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),Y(n<=a,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`),l=Q(n<0?a:n,"numUpper","bandPart")):(Y(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=vi(sb(n,0),a,jh(n,a)));const u=me(eg(0,i,1,"int32"),[-1,1]),d=eg(0,a,1,"int32"),f=bt(u,d),p=pu(sp(f,o),uf(f,dr(l))),m=ws([i,a],r.dtype);return me(Ta(Lo(me(r,[-1,i,a])).map(y=>vi(p,y,m))),s)}const HCe=oe({bandPart_:WCe});function GCe(t){let e;if(Array.isArray(t)){e=!1,Y(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let i=1;i<t.length;++i)Y(t[i].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${s})`)}else e=!0,t=va(t,t.shape[0],0).map(s=>ap(s,[0]));Y(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let s=0;s<t.length;++s)n.push(de.tidy(()=>{let i=r[s];if(s>0)for(let a=0;a<s;++a){const o=fe(St(fe(n[a],i)),n[a]);i=bt(i,o)}return Et(i,H0(i,"euclidean"))}));return e?Ta(n,0):n}const qCe=oe({gramSchmidt_:GCe});function KCe(t,e=!1){if(Y(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return $U(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,u)=>l*u),r=Lo(me(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],i=[];r.forEach(l=>{const[u,d]=$U(l,e);s.push(u),i.push(d)});const a=me(Ta(s,0),t.shape),o=me(Ta(i,0),t.shape);return[a,o]}}function $U(t,e=!1){return de.tidy(()=>{Y(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let s=xP(n),i=dc(t);const a=ou([[1]],[1,1]);let o=dc(a);const l=n>=r?r:n;for(let u=0;u<l;++u){const d=i,f=o,p=s;[o,i,s]=de.tidy(()=>{const m=wn(i,[u,u],[n-u,1]),y=H0(m),v=wn(i,[u,u],[1,1]),b=vi(Aa(v,0),ou([[-1]]),ou([[1]])),w=bt(v,fe(b,y)),S=Et(m,w);S.shape[0]===1?o=dc(a):o=us([a,wn(S,[1,0],[S.shape[0]-1,S.shape[1]])],0);const C=dr(Et(dn(b,w),y)),T=wn(i,[u,0],[n-u,r]),N=fe(C,o),O=Sn(o);if(u===0)i=bt(T,dn(N,dn(O,T)));else{const L=bt(T,dn(N,dn(O,T)));i=us([wn(i,[0,0],[u,r]),L],0)}const _=Sn(N),F=wn(s,[0,u],[n,s.shape[1]-u]);if(u===0)s=bt(F,dn(dn(F,o),_));else{const L=bt(F,dn(dn(F,o),_));s=us([wn(s,[0,0],[n,u]),L],1)}return[o,i,s]}),nn([d,f,p])}return!e&&n>r&&(s=wn(s,[0,0],[n,r]),i=wn(i,[0,0],[r,r])),[s,i]})}const XCe=oe({qr_:KCe});var Xi;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Xi||(Xi={}));function YCe(t,e,n=Xi.SUM_BY_NONZERO_WEIGHTS){const r=Q(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=Q(e,"weights","computeWeightedLoss"));const i=s==null?r:fe(r,s);if(n===Xi.NONE)return i;if(n===Xi.SUM)return St(i);if(n===Xi.MEAN){if(s==null)return Mr(i);{const a=r.size/s.size,o=Et(St(i),St(s));return a>1?Et(o,It(a)):o}}if(n===Xi.SUM_BY_NONZERO_WEIGHTS){if(s==null)return Et(St(i),It(r.size));{const a=fe(s,ga(r.shape)),o=ht(St(Jm(a,It(0))),"float32");return Et(St(i),o)}}throw Error(`Unknown reduction: ${n}`)}const Oc=oe({computeWeightedLoss_:YCe});function ZCe(t,e,n,r=Xi.SUM_BY_NONZERO_WEIGHTS){const s=Q(t,"labels","absoluteDifference"),i=Q(e,"predictions","absoluteDifference");let a=null;n!=null&&(a=Q(n,"weights","absoluteDifference")),Ia(s.shape,i.shape,"Error in absoluteDifference: ");const o=bs(bt(s,i));return Oc(o,a,r)}const QCe=oe({absoluteDifference_:ZCe});function JCe(t,e,n,r,s=Xi.SUM_BY_NONZERO_WEIGHTS){const i=Q(t,"labels","cosineDistance"),a=Q(e,"predictions","cosineDistance");let o=null;r!=null&&(o=Q(r,"weights","cosineDistance")),Ia(i.shape,a.shape,"Error in cosineDistance: ");const l=It(1),u=bt(l,St(fe(i,a),n,!0));return Oc(u,o,s)}const eke=oe({cosineDistance_:JCe});function tke(t,e,n,r=Xi.SUM_BY_NONZERO_WEIGHTS){let s=Q(t,"labels","hingeLoss");const i=Q(e,"predictions","hingeLoss");let a=null;n!=null&&(a=Q(n,"weights","hingeLoss")),Ia(s.shape,i.shape,"Error in hingeLoss: ");const o=It(1);s=bt(fe(It(2),s),o);const l=Su(bt(o,fe(s,i)));return Oc(l,a,r)}const nke=oe({hingeLoss_:tke});function rke(t,e,n,r=1,s=Xi.SUM_BY_NONZERO_WEIGHTS){const i=Q(t,"labels","huberLoss"),a=Q(e,"predictions","huberLoss");let o=null;n!=null&&(o=Q(n,"weights","huberLoss")),Ia(i.shape,a.shape,"Error in huberLoss: ");const l=It(r),u=bs(bt(a,i)),d=jh(u,l),f=bt(u,d),p=Ye(fe(It(.5),nr(d)),fe(l,f));return Oc(p,o,s)}const ske=oe({huberLoss_:rke});function ike(t,e,n,r=1e-7,s=Xi.SUM_BY_NONZERO_WEIGHTS){const i=Q(t,"labels","logLoss"),a=Q(e,"predictions","logLoss");let o=null;n!=null&&(o=Q(n,"weights","logLoss")),Ia(i.shape,a.shape,"Error in logLoss: ");const l=It(1),u=It(r),d=dr(fe(i,Ya(Ye(a,u)))),f=fe(bt(l,i),Ya(Ye(bt(l,a),u))),p=bt(d,f);return Oc(p,o,s)}const ake=oe({logLoss_:ike});function oke(t,e,n,r=Xi.SUM_BY_NONZERO_WEIGHTS){const s=Q(t,"labels","meanSquaredError"),i=Q(e,"predictions","meanSquaredError");let a=null;n!=null&&(a=Q(n,"weights","meanSquaredError")),Ia(s.shape,i.shape,"Error in meanSquaredError: ");const o=MP(s,i);return Oc(o,a,r)}const lke=oe({meanSquaredError_:oke});function uke(t,e){const n=Q(t,"labels","sigmoidCrossEntropyWithLogits"),r=Q(e,"logits","sigmoidCrossEntropyWithLogits");Ia(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Su(r),i=fe(r,n),a=IT(ka(dr(bs(r))));return Ye(bt(s,i),a)}function cke(t,e,n,r=0,s=Xi.SUM_BY_NONZERO_WEIGHTS){let i=Q(t,"multiClassLabels","sigmoidCrossEntropy");const a=Q(e,"logits","sigmoidCrossEntropy");let o=null;if(n!=null&&(o=Q(n,"weights","sigmoidCrossEntropy")),Ia(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=It(r),d=It(1),f=It(.5);i=Ye(fe(i,bt(d,u)),fe(f,u))}const l=uke(i,a);return Oc(l,o,s)}const dke=oe({sigmoidCrossEntropy_:cke});function fke(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return vc((s,i,a)=>{const l=AT(i,[n],!0),u=bt(ht(i,"float32"),l);a([s,u]);const d=dr(fe(u,s));return{value:St(d,[n]),gradFunc:(m,y)=>{const[v,b]=y,w=Xr(m.shape,[n]);return[fe(me(m,w),bt(ht(v,"float32"),ka(b))),fe(me(m,w),bt(ka(b),ht(v,"float32")))]}}})(t,e)}function hke(t,e,n,r=0,s=Xi.SUM_BY_NONZERO_WEIGHTS){let i=Q(t,"onehotLabels","softmaxCrossEntropy");const a=Q(e,"logits","softmaxCrossEntropy");let o=null;if(n!=null&&(o=Q(n,"weights","softmaxCrossEntropy")),Ia(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){const u=It(r),d=It(1),f=It(i.shape[1]);i=Ye(fe(i,bt(d,u)),Et(u,f))}const l=fke(i,a);return Oc(l,o,s)}const pke=oe({softmaxCrossEntropy_:hke});function mke(t,e,n,r){const s=Q(t,"indices","sparseFillEmptyRows","int32"),i=Q(e,"values","sparseFillEmptyRows"),a=Q(n,"denseShape","sparseFillEmptyRows","int32"),o=Q(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(a.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(o.rank!==0)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:s,values:i,denseShape:a,defaultValue:o},u=de.runKernel(G_,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const gke=oe({sparseFillEmptyRows_:mke});function yke(t,e,n){const r=Q(t,"inputIndices","sparseReshape","int32"),s=Q(e,"inputShape","sparseReshape","int32"),i=Q(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const a={inputIndices:r,inputShape:s,newShape:i},o=de.runKernel(q_,a);return{outputIndices:o[0],outputShape:o[1]}}const vke=oe({sparseReshape_:yke});function bke(t,e,n){const r=Q(t,"data","sparseSegmentMean"),s=Q(e,"indices","sparseSegmentMean","int32"),i=Q(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);const a={data:r,indices:s,segmentIds:i};return de.runKernel(K_,a)}const xke=oe({sparseSegmentMean_:bke});function wke(t,e,n){const r=Q(t,"data","sparseSegmentSum"),s=Q(e,"indices","sparseSegmentSum","int32"),i=Q(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);const a={data:r,indices:s,segmentIds:i};return de.runKernel(X_,a)}const Ske=oe({sparseSegmentSum_:wke});function Cke(t,e,n,r,s,i,a,o){const l=Q(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=Q(e,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const d={separator:n,nGramWidths:r,leftPad:s,rightPad:i,padWidth:a,preserveShortSequences:o},f={data:l,dataSplits:u},p=de.runKernel(J_,f,d);return{nGrams:p[0],nGramsSplits:p[1]}}const kke=oe({stringNGrams_:Cke});function Tke(t,e,n=!0){const r=Q(t,"input","stringSplit","string"),s=Q(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const i={skipEmpty:n},a={input:r,delimiter:s},o=de.runKernel(eP,a,i);return{indices:o[0],values:o[1],shape:o[2]}}const Eke=oe({stringSplit_:Tke});function Nke(t,e){const n=Q(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return de.runKernel(tP,s,r)}const $ke=oe({stringToHashBucketFast_:Nke});function Ike(t,e,n,r=!0){const s=Q(t,"input","staticRegexReplace","string"),i={pattern:e,rewrite:n,replaceGlobal:r};return de.runKernel(bT,{x:s},i)}const Ake=oe({staticRegexReplace_:Ike});const Oke={fft:BT,ifft:ob,rfft:jT,irfft:PP},Rke={hammingWindow:sCe,hannWindow:M9,frame:L9,stft:lCe},ll={flipLeftRight:fCe,grayscaleToRGB:pCe,resizeNearestNeighbor:z9,resizeBilinear:F9,rgbToGrayscale:gCe,rotateWithOffset:vCe,cropAndResize:cCe,nonMaxSuppression:xCe,nonMaxSuppressionAsync:$Ce,nonMaxSuppressionWithScore:ACe,nonMaxSuppressionWithScoreAsync:RCe,nonMaxSuppressionPadded:_Ce,nonMaxSuppressionPaddedAsync:MCe,threshold:jCe,transform:VCe},B9={bandPart:HCe,gramSchmidt:qCe,qr:XCe},Dke={absoluteDifference:QCe,computeWeightedLoss:Oc,cosineDistance:eke,hingeLoss:nke,huberLoss:ske,logLoss:ake,meanSquaredError:lke,sigmoidCrossEntropy:dke,softmaxCrossEntropy:pke},_ke={sparseFillEmptyRows:gke,sparseReshape:vke,sparseSegmentMean:xke,sparseSegmentSum:Ske},Pke={stringNGrams:kke,stringSplit:Eke,stringToHashBucketFast:$ke,staticRegexReplace:Ake};const Mke=new Map,Lke=new Map;class Dg{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class To{constructor(){this.classNameMap={}}static getMap(){return To.instance==null&&(To.instance=new To),To.instance}static register(e){To.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Ze(t,e,n){Y(t.className!=null,()=>"Class being registered does not have the static className property defined."),Y(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),Y(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,s=e+">"+r;return To.register(t),Mke.set(s,t),Lke.set(t,s),t}class df extends Dg{minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const a=r.map(o=>({name:o.name,tensor:i[o.name]}));this.applyGradients(a)}else this.applyGradients(i);return nn(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return o1e(e,n)}dispose(){this.iterations_!=null&&nn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:It(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(df,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});class j9 extends df{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=de.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=de.registeredVariables[r],a=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Ne(()=>Cn(i).variable(a))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Ne(()=>Cn(i).variable(a))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const l=this.accumulatedGrads[s].variable,u=this.accumulatedUpdates[s].variable;Ne(()=>{const d=Ye(fe(l,this.rho),fe(nr(o),1-this.rho)),f=fe(Et(ri(Ye(u,this.epsilon)),ri(Ye(l,this.epsilon))),o),p=Ye(fe(u,this.rho),fe(nr(f),1-this.rho));l.assign(d),u.assign(p);const m=Ye(fe(f,-this.learningRate),i);i.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(nn(this.accumulatedGrads.map(e=>e.variable)),nn(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}class U9 extends df{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=de.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Ne(()=>Ig(i.shape,this.initialAccumulatorValue).variable(!1))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const o=this.accumulatedGrads[s].variable;Ne(()=>{const l=Ye(o,nr(a));o.assign(l);const u=Ye(fe(Et(a,ri(Ye(l,de.backend.epsilon()))),-this.learningRate),i);i.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&nn(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}class V9 extends df{static get className(){return"Adam"}constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ne(()=>{this.accBeta1=It(n).variable(),this.accBeta2=It(r).variable()}),s==null&&(this.epsilon=de.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Ne(()=>{const r=bt(1,this.accBeta1),s=bt(1,this.accBeta2);n.forEach((i,a)=>{const o=de.registeredVariables[i],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:Ne(()=>Cn(o).variable(l))}),this.accumulatedSecondMoment[a]==null&&(this.accumulatedSecondMoment[a]={originalName:`${i}/v`,variable:Ne(()=>Cn(o).variable(l))});const u=Array.isArray(e)?e[a].tensor:e[i];if(u==null)return;const d=this.accumulatedFirstMoment[a].variable,f=this.accumulatedSecondMoment[a].variable,p=Ye(fe(d,this.beta1),fe(u,1-this.beta1)),m=Ye(fe(f,this.beta2),fe(nr(u),1-this.beta2)),y=Et(p,r),v=Et(m,s);d.assign(p),f.assign(m);const b=Ye(fe(Et(y,Ye(ri(v),this.epsilon)),-this.learningRate),o);o.assign(b)}),this.accBeta1.assign(fe(this.accBeta1,this.beta1)),this.accBeta2.assign(fe(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&nn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&nn(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Ne(()=>{this.accBeta1.assign(yc(this.beta1,this.iterations_+1)),this.accBeta2.assign(yc(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}class W9 extends df{static get className(){return"Adamax"}constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ne(()=>{this.iteration=It(0).variable(),this.accBeta1=It(n).variable()}),s==null&&(this.epsilon=de.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Ne(()=>{const r=bt(1,this.accBeta1),s=Et(-this.learningRate,Ye(fe(this.iteration,this.decay),1));n.forEach((i,a)=>{const o=de.registeredVariables[i],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${i}/m`,variable:Cn(o).variable(l)}),this.accumulatedWeightedInfNorm[a]==null&&(this.accumulatedWeightedInfNorm[a]={originalName:`${i}/v`,variable:Cn(o).variable(l)});const u=Array.isArray(e)?e[a].tensor:e[i];if(u==null)return;const d=this.accumulatedFirstMoment[a].variable,f=this.accumulatedWeightedInfNorm[a].variable,p=Ye(fe(d,this.beta1),fe(u,1-this.beta1)),m=fe(f,this.beta2),y=bs(u),v=Ac(m,y);d.assign(p),f.assign(v);const b=Ye(fe(Et(s,r),Et(p,Ye(v,this.epsilon))),o);o.assign(b)}),this.iteration.assign(Ye(this.iteration,1)),this.accBeta1.assign(fe(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&nn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&nn(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}class qP extends df{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const a=de.registeredVariables[r];Ne(()=>{const o=Ye(fe(this.c,i),a);a.assign(o)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Ps(It(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}class H9 extends qP{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=It(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=de.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Ne(()=>Cn(i).variable(!1))});const a=this.accumulations[s].variable,o=Array.isArray(e)?e[s].tensor:e[r];o!=null&&Ne(()=>{let l;const u=Ye(fe(this.m,a),o);this.useNesterov?l=Ye(fe(this.c,Ye(o,fe(u,this.m))),i):l=Ye(fe(this.c,u),i),a.assign(u),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&nn(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}class G9 extends df{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=de.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=de.registeredVariables[r],a=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Ne(()=>Cn(i).variable(a))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Ne(()=>Cn(i).variable(a))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Ne(()=>Cn(i).variable(a))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const l=this.accumulatedMeanSquares[s].variable,u=this.accumulatedMoments[s].variable;Ne(()=>{const d=Ye(fe(l,this.decay),fe(nr(o),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[s].variable,p=Ye(fe(f,this.decay),fe(o,1-this.decay)),m=Et(fe(o,this.learningRate),ri(bt(d,Ye(nr(p),this.epsilon)))),y=Ye(fe(u,this.momentum),m);l.assign(d),f.assign(p),u.assign(y);const v=bt(i,y);i.assign(v)}else{const f=Ye(fe(l,this.decay),fe(nr(o),1-this.decay)),p=Ye(fe(u,this.momentum),Et(fe(o,this.learningRate),ri(Ye(f,this.epsilon))));l.assign(f),u.assign(p);const m=bt(i,p);i.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&nn(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&nn(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&nn(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}const Fke=[j9,U9,V9,W9,H9,G9,qP];function zke(){for(const t of Fke)Ze(t)}const Bke="model",jke=".json",Uke=".weights.bin";function IU(t){return new Promise(e=>setTimeout(e)).then(t)}class Uh{constructor(e){if(!Oe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Uh.URL_SCHEME)&&(e=e.slice(Uh.URL_SCHEME.length)),(e==null||e.length===0)&&(e=Bke),this.modelJsonFileName=e+jke,this.weightDataFileName=e+Uke}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Cl.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i=CK(e,s),a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=a,await IU(()=>o.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await IU(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:B0(e)}}}}Uh.URL_SCHEME="downloads://";class Vke{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{const i=JSON.parse(s.target.result),a=i.modelTopology;if(a==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(i.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:a});return}const l=uP(i,u=>this.loadWeights(u));e(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const a of e)n.push(...a.weights),r.push(...a.paths);const s=this.checkManifestAndWeightFiles(e),i=r.map(a=>this.loadWeightsFile(a,s[a]));return Promise.all(i).then(a=>[n,a])}loadWeightsFile(e,n){return new Promise((r,s)=>{const i=new FileReader;i.onload=a=>{const o=a.target.result;r(o)},i.onerror=a=>s(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(i=>vU(i.name)),s={};for(const i of e)i.paths.forEach(a=>{const o=vU(a);if(n.indexOf(o)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(n.push(o),r.indexOf(o)===-1)throw new Error(`Weight file with basename '${o}' is not provided.`);s[a]=this.weightsFiles[r.indexOf(o)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const Wke=t=>Oe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Uh.URL_SCHEME)?Hke(t.slice(Uh.URL_SCHEME.length)):null;Nr.registerSaveRouter(Wke);function Hke(t="model"){return new Uh(t)}function Gke(t){return new Vke(t)}function AU(t,e,n,r){a(t),n=n??0,r=r??1,o(n,r);let s=0;const i=l=>(l.then(u=>{const d=n+ ++s/t.length*(r-n);return e(d),u}),l);function a(l){Y(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function o(l,u){Y(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),Y(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),Y(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(t.map(i))}async function q9(t,e){e==null&&(e={});const n=e.fetchFunc==null?Oe().platform.fetch:e.fetchFunc,r=t.map(f=>n(f,e.requestInit,{isBinary:!0})),o=(e.onProgress==null?await Promise.all(r):await AU(r,e.onProgress,0,.5)).map(f=>f.arrayBuffer());return e.onProgress==null?await Promise.all(o):await AU(o,e.onProgress,.5,1)}function qke(t,e){var n;const r=e.fetchFunc==null?Oe().platform.fetch:e.fetchFunc;let s=0,i;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async a=>{for(var o;s<t.length;){i||(i=(await r(t[s],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await i.read();if(l){s++,i=void 0,(o=e.onProgress)===null||o===void 0||o.call(e,s/t.length);continue}a.enqueue(u);return}a.close()}})}async function Kke(t,e="",n,r){return K9(a=>q9(a,{requestInit:r}))(t,e,n)}function K9(t){return async(e,n="",r)=>{const s=e.map(()=>!1),i={},a=r!=null?r.map(()=>!1):[],o=[];if(e.forEach((m,y)=>{let v=0;m.weights.forEach(b=>{const w="quantization"in b?b.quantization.dtype:b.dtype,S=Mh[w]*Le(b.shape),C=()=>{s[y]=!0,i[y]==null&&(i[y]=[]),i[y].push({manifestEntry:b,groupOffset:v,sizeBytes:S})};r!=null?r.forEach((T,N)=>{T===b.name&&(C(),a[N]=!0)}):C(),o.push(b.name),v+=S})}),!a.every(m=>m)){const m=r.filter((y,v)=>!a[v]);throw new Error(`Could not find weights in manifest with names: ${m.join(", ")}. 
Manifest JSON has weights with names: ${o.join(", ")}.`)}const l=s.reduce((m,y,v)=>(y&&m.push(v),m),[]),u=[];l.forEach(m=>{e[m].paths.forEach(y=>{const v=n+(n.endsWith("/")?"":"/")+y;u.push(v)})});const d=await t(u),f={};let p=0;return l.forEach(m=>{const y=e[m].paths.length,v=new Cl(d.slice(p,p+y));i[m].forEach(w=>{const S=v.slice(w.groupOffset,w.groupOffset+w.sizeBytes),C=oP(S,[w.manifestEntry]);for(const T in C)f[T]=C[T]}),p+=y}),f}}const Xke="application/octet-stream",Yke="application/json";class KP{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(Y(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Oe().platform.fetch,Y(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Y(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=CK(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:Yke}),"model.json"),e.weightData!=null){const a=Cl.join(e.weightData);n.body.append("model.weights.bin",new Blob([a],{type:Xke}),"model.weights.bin")}const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:B0(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return uP(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),r=EO(e.weightsManifest),s=()=>qke(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=Zke(n),i=this.weightPathPrefix||r,a=[],o=[];for(const l of e)for(const u of l.paths)this.weightUrlConverter!=null?o.push(this.weightUrlConverter(u)):a.push(i+u+s);return this.weightUrlConverter&&a.push(...await Promise.all(o)),a}async loadWeights(e){const n=await this.getWeightUrls(e),r=EO(e),s=await q9(n,this.loadOptions);return[r,s]}}KP.URL_SCHEME_REGEX=/^https?:\/\//;function Zke(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),s=n>e?t.substring(n):"";return[r+"/",s]}function DO(t){return t.match(KP.URL_SCHEME_REGEX)!=null}const X9=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>DO(r)):n=DO(t),n)return XP(t,e)}return null};Nr.registerSaveRouter(X9);Nr.registerLoadRouter(X9);function XP(t,e){return new KP(t,e)}function Y9(t,e){return XP(t,e)}class R${constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Z9{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Qke{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function Jke(t,e,n,r){const s=arguments;return new Qke(Q9(...s))}function Q9(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new R$(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new R$({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new R$({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function eTe(t){return new Z9(t)}function tTe(t){return new Z9(t)}const J9=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Cl,browserFiles:Gke,browserHTTPRequest:Y9,concatenateArrayBuffers:SK,copyModel:n0e,decodeWeights:oP,decodeWeightsStream:wK,encodeWeights:TO,fromMemory:Jke,fromMemorySync:Q9,getLoadHandlers:EK,getModelArtifactsForJSON:uP,getModelArtifactsForJSONSync:kK,getModelArtifactsInfoForJSON:B0,getSaveHandlers:TK,getWeightSpecs:EO,http:XP,isHTTPScheme:DO,listModels:e0e,loadWeights:Kke,moveModel:r0e,registerLoadRouter:Ube,registerSaveRouter:jbe,removeModel:t0e,weightsLoaderFactory:K9,withSaveHandler:eTe,withSaveHandlerSync:tTe},Symbol.toStringTag,{value:"Module"}));let Jf;function nTe(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,i=!1,a=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)a=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(bO(yO,de.backendName)!=null){const y={pixels:t},v={numChannels:e};return de.runKernel(yO,y,v)}const[u,d]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let f;if(a)f=t.getContext("2d").getImageData(0,0,u,d).data;else if(r||n)f=t.data;else if(i||s||o){if(Jf==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Jf=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Jf=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Jf.canvas.width=u,Jf.canvas.height=d,Jf.drawImage(t,0,0,u,d),f=Jf.getImageData(0,0,u,d).data}let p;if(e===4)p=new Int32Array(f);else{const y=u*d;p=new Int32Array(y*e);for(let v=0;v<y;v++)for(let b=0;b<e;++b)p[v*e+b]=f[v*4+b]}return T9(p,[d,u,e],"int32")}const rTe=oe({fromPixels_:nTe});function YP(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(Le(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,i=s[s.length-1];let a=1;for(let f=0;f<s.length-1;++f)a*=s[f];const o=t.shape,l=s.slice();l.pop();let u=1;for(let f=i;f<n;++f)u*=o[f],l.push(o[f]);const d=[...At(t.shape).map(f=>f/u),1].slice(0,i);return[l,a,u,d]}const _O=-2,sTe=-1;function ZP(t,e,n){const r=t.shape.length;Y(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),Y(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)Y(e[s]+n[s]<=t.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function iTe(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function QP(t,e,n){const r=[];for(let s=0;s<t.length;s++)r[s]=Math.ceil((e[s]-t[s])/n[s]);return r}function e7(t,e,n,r){const s=[...t];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)i===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function t7(t,e,n){return n<=t?n:n-(e-1)}function n7(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function aTe(t,e,n,r,s,i,a,o,l){const u=t.length;let d=new Array(u),f=new Array(u),p=new Array(u);if(e.length&&n>0){const m=e[0],y=n+1;d=r7(a,m,y,r,t),f=s7(o,m,y,s,t),p=e7(i,m,y,t)}else for(let m=0;m<u;m++)d[m]=a7(a,r,i,t,m,l),f[m]=o7(o,s,i,t,m,l),p[m]=i7(i,m,l);return{begin:d,end:f,strides:p}}function r7(t,e,n,r,s){const i=[...s],a=n7(n,e);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=0;else{const l=t7(e,n,o);let u=r[l];t&1<<l&&(u=0),i[o]=u}return i}function s7(t,e,n,r,s){const i=[...s],a=n7(n,e);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const l=t7(e,n,o);let u=r[l];t&1<<l&&(u=Number.MAX_SAFE_INTEGER),i[o]=u}for(let o=0;o<i.length;o++){const l=s[o];i[o]<0&&(i[o]+=l),i[o]=Dh(0,i[o],s[o])}return i}function i7(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function a7(t,e,n,r,s,i){let a=e[s];const o=n[s]||1;(t&1<<s||i&1<<s||a==null)&&(o>0?a=Number.MIN_SAFE_INTEGER:a=Number.MAX_SAFE_INTEGER);const l=r[s];return a<0&&(a+=l),a=Dh(0,a,l-1),a}function o7(t,e,n,r,s,i){let a=e[s];const o=n[s]||1;(t&1<<s||i&1<<s||a==null)&&(o>0?a=Number.MAX_SAFE_INTEGER:a=Number.MIN_SAFE_INTEGER);const l=r[s];return a<0&&(a+=l),o>0?a=Dh(0,a,l):a=Dh(-1,a,l-1),a}function JP(t,e,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function eM(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function GT(t,e,n){let r;const s=t.shape.length;typeof e=="number"?r=[e,...new Array(s-1).fill(0)]:e.length<s?r=e.concat(new Array(s-e.length).fill(0)):r=e.slice(),r.forEach(a=>{Y(a!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(s).fill(-1):typeof n=="number"?i=[n,...new Array(s-1).fill(-1)]:n.length<s?i=n.concat(new Array(s-n.length).fill(-1)):i=n,i=i.map((a,o)=>a>=0?a:(Y(a===-1,()=>`Negative size values should be exactly -1 but got ${a} for the slice() size at index ${o}.`),t.shape[o]-r[o])),[r,i]}function tM(t,e,n,r,s,i,a,o,l){let u;if(r==null?(u=new Array(e.length),u.fill(1)):u=r,a!=null&&(a&a-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let d=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:u.slice(),beginMask:s,endMask:i,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};for(let C=0;C<f.dims;C++)d&&(1<<C&o)!==0&&f.numAddAxisAfterEllipsis++,1<<C&a&&(d=!0);d||(f.ellipsisMask|=1<<f.dims,f.dims++);const p={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};oTe(f,p);let m=!0,y=!0,v=!0;const b=[],w=[];for(let C=0;C<t.length;++C){if(p.strides[C]===0)throw Error(`strides[${C}] must be non-zero`);const T=!!(p.shrinkAxisMask&1<<C),N=t[C];if(N===-1){b.push(T?1:-1);continue}const O=[p.beginMask&1<<C,p.endMask&1<<C],_=[p.strides[C]>0?0:-1,p.strides[C]>0?N:N-1];if(T&&p.strides[C]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&p.strides[C]===1;const F=!!(p.beginMask&1<<C&&p.endMask&1<<C);if(p.beginValid&&p.endValid){if(T){const R=p.begin[C]<0?N+p.begin[C]:p.begin[C];if(p.begin[C]=R,p.end[C]=p.begin[C]+1,R<0||R>=N)throw Error(`slice index ${p.begin[C]} of dimension ${C} out of bounds.`)}else p.begin[C]=OU(p.begin[C],0,p.strides[C],N,O,_),p.end[C]=OU(p.end[C],1,p.strides[C],N,O,_);const P=p.strides[C]===1&&p.begin[C]===0&&p.end[C]===N;m=m&&P,y=y&&(C===0&&p.strides[C]===1||P)}else m=m&&p.strides[C]===1&&F,y=y&&(C===0&&p.strides[C]===1||F);let L,z=!1;if(p.beginValid&&p.endValid?(L=p.end[C]-p.begin[C],z=!0):T?(L=1,z=!0):F&&N>=0&&(p.strides[C]<0?L=-N:L=N,z=!0),z){let P;L===0||L<0!=p.strides[C]<0?P=0:P=Math.trunc(L/p.strides[C])+(L%p.strides[C]!==0?1:0),b.push(P)}else b.push(-1)}for(let C=0;C<p.finalShapeGatherIndices.length;++C){const T=p.finalShapeGatherIndices[C];T>=0?w.push(b[T]):T===_O&&w.push(1)}return{finalShapeSparse:w.filter((C,T)=>p.finalShapeGatherIndices[T]!==_O),finalShape:w,isIdentity:m,sliceDim0:y,isSimpleSlice:v,begin:p.begin,end:p.end,strides:p.strides}}function oTe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(_O),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(sTe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function OU(t,e,n,r,s,i){if(s[e])return n>0?i[e]:i[e+1&1];{const a=t<0?r+t:t;return a<i[0]?i[0]:a>i[1]?i[1]:a}}const lTe=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:ZP,computeFlatOffset:eM,computeOutShape:QP,getNormalizedAxes:aTe,isSliceContinous:JP,maskToAxes:iTe,parseSliceParams:GT,sliceInfo:tM,startForAxis:a7,startIndicesWithElidedDims:r7,stopForAxis:o7,stopIndicesWithElidedDims:s7,stridesForAxis:i7,stridesWithElidedDims:e7},Symbol.toStringTag,{value:"Module"}));class uTe{static sgd(e){return new qP(e)}static momentum(e,n,r=!1){return new H9(e,n,r)}static rmsprop(e,n=.9,r=0,s=null,i=!1){return new G9(e,n,r,s,i)}static adam(e=.001,n=.9,r=.999,s=null){return new V9(e,n,r,s)}static adadelta(e=.001,n=.95,r=null){return new j9(e,n,r)}static adamax(e=.002,n=.9,r=.999,s=null,i=0){return new W9(e,n,r,s,i)}static adagrad(e,n=.1){return new U9(e,n)}}const pm=uTe;const cTe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function l7(){return new Promise(t=>cTe(()=>t()))}function nM(t,e){const n=t[0].length;t.forEach((s,i)=>{Y(s.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),Y(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((s,i)=>{for(let a=0;a<n;a++)Y(a===e||s[a]===r[a],()=>`Error in concat${n}D: Shape of tensors[${i}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function lu(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}var sl;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(sl||(sl={}));function u7(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],a=r[r.length-n.length+s],o=r[a];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${i} but shape[${s+t}] = ${o}`)}else r[a]=i}return r}function c7(t){const e={FIRST_DIM_SIZE:sl.FIRST_DIM_SIZE,VALUE_ROWIDS:sl.VALUE_ROWIDS,ROW_LENGTHS:sl.ROW_LENGTHS,ROW_SPLITS:sl.ROW_SPLITS,ROW_LIMITS:sl.ROW_LIMITS,ROW_STARTS:sl.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function d7(t){return t.length===0?0:t[0]===sl.FIRST_DIM_SIZE?t.length-1:t.length}function f7(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const i=t[s],a=e[s+1];if(i>=0&&a>=0&&i!==1&&i!==a)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${i} but ragged tensor input.flatValues.shape[${s-t.length}] = ${a}`)}}const rM=30;function qT(t){return t<=rM?t:pO(t,Math.floor(Math.sqrt(t)))}function sM(t,e,n){const r=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[r,s]}function K0(t,e,n,r=!0){let s=[];if(r)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const i=e.length;for(let a=0;a<i;++a)s=s.concat([t[a+1]/e[a],e[a]]);s=s.concat(t.slice(i+1))}return s}function X0(t,e,n=!0){const r=[];if(n){r.push(e);for(let s=e+1;s<t;++s)s<=2*e?(r.push(s),r.push(s-(e+1))):r.push(s)}else{const s=[],i=[];for(let a=1;a<t;++a)a>=e*2+1||a%2===1?i.push(a):s.push(a);r.push(...s),r.push(0),r.push(...i)}return r}function Y0(t,e,n,r=!0){const s=[];r?s.push(t[0]/n):s.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?s.push(e[i-1]*t[i]):s.push(t[i]/e[i-1]):s.push(t[i]);return s}function iM(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function aM(t,e,n){const r=t.slice(0,1);for(let s=0;s<n;++s)r.push(t[s+1]-e[s][0]-e[s][1]);return r}const KT=1.7580993408473768,XT=1.0507009873554805;const oM=.3275911,lM=.254829592,uM=-.284496736,cM=1.421413741,dM=-1.453152027,fM=1.061405429;function bc(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function h7(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function p7(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function m7(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function hM(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function g7(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function y7(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function v7(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),s=Math.cos(r),i=Math.sin(r);return{real:s,imag:i}}const D$="->",dTe=/->/g,RU=",",DU="...";function pM(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(dTe,"").length)/D$.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${D$}").`);const[r,s]=t.split(D$);Y(r.indexOf(DU)===-1,()=>`The ellipsis notation ("${DU}") is not supported yet.`);const i=r.split(RU),a=i.length;if(e!==a)throw new Error(`Expected ${a} input tensors, received ${e}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let p=0;p<s.length;++p){const m=s[p];if(!i.some(y=>y.indexOf(m)!==-1))throw new Error(`Output subscripts contain the label ${m} not present in the input subscripts.`);o.indexOf(m)===-1&&o.push(m)}for(let p=0;p<r.length;++p){const m=r[p];o.indexOf(m)===-1&&m!==RU&&o.push(m)}const l=new Array(i.length);for(let p=0;p<a;++p){if(new Set(i[p].split("")).size!==i[p].length)throw new Error(`Found duplicate axes in input component ${i[p]}. Support for duplicate axes in input is not implemented yet.`);l[p]=[];for(let m=0;m<i[p].length;++m)l[p].push(o.indexOf(i[p][m]))}const u=o.length,d=s.length,f=[];for(let p=d;p<u;++p)f.push(p);return{allDims:o,summedDims:f,idDims:l}}function mM(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const r=[];for(let s=0;s<t;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function gM(t,e,n){const r=new Array(t);for(let s=0;s<n.length;++s){const i=n[s].shape;for(let a=0;a<e[s].length;++a)r[e[s][a]]===void 0?r[e[s][a]]=i[a]:Y(r[e[s][a]]===i[a],()=>`Expected dimension ${r[e[s][a]]} at axis ${a} of input shaped ${JSON.stringify(i)}, but got dimension ${i[a]}`)}}function yM(t,e){const n=t,r=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let a=0;a<s;++a)r.push([]);const i=[];for(let a=0;a<n.length;++a){const o=n[a],l=fTe(e,o);for(const u of l)i.indexOf(u)===-1&&(r[a].push(u),i.push(u))}return{path:n,steps:r}}function vM(t){return t.every((e,n)=>e===n)}function fTe(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function bM(t,e,n=0){let r=[];if(typeof e=="number")Y(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((a,o)=>(o===-1&&(a+=1),a),0);Y(s<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const a=e.reduce((o,l)=>l>0?o+l:o);e[i]=t.shape[n]-a}Y(t.shape[n]===e.reduce((a,o)=>a+o),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}function b7(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function x7(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function w7(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}function S7(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function C7(t,e){return`size ${t} must be non-negative, not ${e}`}function k7(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function T7(t,e){const n=Le(t),r=Le(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function E7(t,e){const n=Le(t),r=Le(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}function PO(){return"segment ids must be >= 0"}function N7(){return"segment ids are not increasing"}function $7(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function I7(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}function A7(t,e){let n=!1,r;for(t<=rM?(r=t,n=!0):r=pO(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=pO(t,r+1);return r}function O7(t,e,n){const r=[],s=t.length;for(let i=0;i<s;i++)i!==e?r.push(t[i]):r.push(n);return r}function xM(t,e,n,r){const s=e.shape.length,i=t.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(t.shape[f]!==e.shape[f])throw new Error(`x.shape[${f}]: ${t.shape[f]} should be equal to indices.shape[${f}]: ${e.shape[f]}.`);const a=t.shape[n],o=[];let l=1,u=1,d=1;for(let f=0;f<r;++f)o.push(t.shape[f]),l*=t.shape[f];for(let f=r;f<n;f++)o.push(t.shape[f]),u*=t.shape[f];for(let f=r;f<s;f++)o.push(e.shape[f]);for(let f=n+1;f<i;f++)o.push(t.shape[f]),d*=t.shape[f];return{batchSize:l,sliceSize:d,outerSize:u,dimSize:a,outputShape:o}}const hTe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:xM,computeOutShape:O7,segOpComputeOptimalWindowSize:A7},Symbol.toStringTag,{value:"Module"}));function xc(t){try{return t.map(e=>zd(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function R7(t){return t.map(e=>Od(e))}const pTe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:lM,ERF_A2:uM,ERF_A3:cM,ERF_A4:dM,ERF_A5:fM,ERF_P:oM,PARALLELIZE_THRESHOLD:rM,get RowPartitionType(){return sl},SELU_SCALE:XT,SELU_SCALEALPHA:KT,applyActivation:WT,assertAndGetBroadcastShape:Xt,assertAxesAreInnerMostDims:ii,assertParamsConsistent:nM,assignToTypedArray:g7,axesAreInnerMostDims:bP,calculateShapes:op,checkEinsumDimSizes:gM,checkPadOnDimRoundingMode:Bi,combineLocations:a9,combineRaggedTensorToTensorShapes:u7,complexWithEvenIndex:p7,complexWithOddIndex:m7,computeConv2DInfo:Ls,computeConv3DInfo:of,computeDefaultPad:fP,computeDilation2DInfo:j0,computeOptimalWindowSize:qT,computeOutAndReduceShapes:Fs,computeOutShape:lu,computePool2DInfo:Vo,computePool3DInfo:$c,convertConv2DDataFormat:Ic,decodeEinsumEquation:pM,eitherStridesOrDilationsAreOne:si,expandShapeToKeepDim:Xr,exponent:v7,exponents:y7,fromStringArrayToUint8:R7,fromUint8ToStringArray:xc,getAxesPermutation:Dr,getBroadcastDims:Qm,getComplexWithIndex:hM,getEinsumComputePath:yM,getEinsumPermutation:mM,getFusedBiasGradient:VT,getFusedDyActivation:UT,getImageCenter:sM,getInnerMostAxes:Yr,getPermuted:X0,getRaggedRank:d7,getReductionAxes:$s,getReshaped:K0,getReshapedPermuted:Y0,getRowPartitionTypesHelper:c7,getSliceBeginCoords:iM,getSliceSize:aM,getSparseFillEmptyRowsIndicesDenseShapeMismatch:b7,getSparseFillEmptyRowsNegativeIndexErrorMessage:x7,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:w7,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:k7,getSparseReshapeInputOutputMismatchErrorMessage:E7,getSparseReshapeInputOutputMultipleErrorMessage:T7,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:S7,getSparseReshapeNegativeOutputDimErrorMessage:C7,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:I7,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:PO,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:N7,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:$7,getUndoAxesPermutation:lf,isIdentityPermutation:vM,log:sbe,mergeRealAndImagArrays:bc,prepareAndValidate:YP,prepareSplitSize:bM,segment_util:hTe,shouldFuse:HT,slice_util:lTe,splitRealAndImagArrays:h7,stridesOrDilationsArePositive:zh,tupleValuesAreOne:Ud,upcastType:Sa,validateDefaultValueShape:f7,validateInput:LP,validateUpdateShape:E9,warn:Wa},Symbol.toStringTag,{value:"Module"}));zke();const D7={kernelName:xk,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(t,Og(ht(n,"float32"),-1))}}};const mTe={kernelName:Hb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=nr(ht(n,"float32")),s=ri(bt(It(1),r));return dr(Et(t,s))}}}};const gTe={kernelName:Gb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=ri(bt(nr(ht(n,"float32")),1));return Et(t,r)}}}};const yTe={kernelName:$g,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(n.shape,r.shape);return{a:()=>{let o=t;const l=$s(n.shape,s);return l.length>0&&(o=St(o,l)),me(o,n.shape)},b:()=>{let o=t;const l=$s(r.shape,s);return l.length>0&&(o=St(o,l)),me(o,r.shape)}}}};const vTe={kernelName:wk,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((r,s)=>{n[s]=()=>t.clone()}),n}};const bTe={kernelName:Sk,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Cn(n)}}};const xTe={kernelName:Ck,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Cn(n)}}};const wTe={kernelName:qb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,ri(bt(It(1),nr(ht(n,"float32")))))}}};const STe={kernelName:Kb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=ri(Ye(It(1),nr(ht(n,"float32"))));return Et(t,r)}}}};const CTe={kernelName:Zb,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(n.shape,r.shape);return{a:()=>{const o=Ye(nr(n),nr(r));let l=fe(t,Et(r,o));const u=$s(n.shape,s);return u.length>0&&(l=St(l,u)),me(l,n.shape)},b:()=>{const o=Ye(nr(n),nr(r));let l=dr(fe(t,Et(n,o)));const u=$s(r.shape,s);return u.length>0&&(l=St(l,u)),me(l,r.shape)}}}};const kTe={kernelName:Xb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,Ye(nr(ht(n,"float32")),1))}}};const TTe={kernelName:Yb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,bt(It(1),nr(ht(n,"float32"))))}}};function ETe(t,e,n,r,s,i){const a=Q(t,"dy","avgPool3dGrad"),o=Q(e,"input","avgPool3dGrad");let l=a,u=o,d=!1;o.rank===4&&(d=!0,l=me(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),u=me(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Y(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),Y(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),Bi("avgPool3dGrad",s,i);const f={dy:l,input:u},p={filterSize:n,strides:r,pad:s,dimRoundingMode:i},m=de.runKernel(i_,f,p);return d?me(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const NTe=oe({avgPool3dGrad_:ETe});const $Te={kernelName:Tk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:a,dimRoundingMode:o}=n;return{x:()=>NTe(t,r,s,i,a,o)}}};function ITe(t,e,n,r,s){const i=Q(t,"dy","avgPoolGrad"),a=Q(e,"input","avgPoolGrad");Y(a.rank===i.rank,()=>`Rank of input (${a.rank}) does not match rank of dy (${i.rank})`);let o=a,l=i,u=!1;a.rank===3&&(u=!0,o=me(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=me(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Y(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),Y(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const d={dy:l,input:o},f={filterSize:n,strides:r,pad:s},p=de.runKernel(s_,d,f);return u?me(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const ATe=oe({avgPoolGrad_:ITe});const OTe={kernelName:kk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:a}=n;return{x:()=>ATe(t,r,s,i,a)}}};const RTe={kernelName:Ek,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,s]=e,{transposeA:i,transposeB:a}=n;return!i&&!a?{a:()=>dn(t,s,!1,!0),b:()=>dn(r,t,!0,!1)}:!i&&a?{a:()=>dn(t,s,!1,!1),b:()=>dn(t,r,!0,!1)}:i&&!a?{a:()=>dn(s,t,!1,!0),b:()=>dn(r,t,!1,!1)}:{a:()=>dn(s,t,!0,!0),b:()=>dn(t,r,!0,!0)}}};const DTe={kernelName:Nk,gradFunc:(t,e,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>_T(t,r,s)}}};const _Te={kernelName:tbe,gradFunc:(t,e,n)=>{const r=n,s=r.inputShape,i=r.shape,a=Array.from(i);for(let l=s.length-1;l>=0;l--)if(s[l]===i[l])a[l]=1;else if(s[l]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${i}].`);const o=[];for(let l=0;l<a.length;l++)a[l]>1&&o.push(l);return{x:()=>St(t,o,!0)}}};const PTe={kernelName:Qb,gradFunc:t=>({x:()=>t.clone()})};const MTe={kernelName:Jb,gradFunc:t=>({x:()=>Cn(t)})};const LTe={kernelName:e0,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:s,clipValueMax:i}=n;return{x:()=>vi(pu(uf(r,s),sp(r,i)),t,Cn(t))}}};const FTe={kernelName:Ik,inputsToSave:["x"],gradFunc:D7.gradFunc};const zTe={kernelName:Ak,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map(l=>l.shape),{axis:s}=n,i=un(s,e[0].shape)[0],a=r.map(l=>l[i]);return va(t,a,i).map(l=>()=>l)}};const BTe={kernelName:Ok,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{dilations:i,strides:a,pad:o,dataFormat:l}=n;return Y(Ud(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>pP(r.shape,t,s,a,o,l),filter:()=>UP(r,t,s.shape,a,o,l)}}};const jTe={kernelName:Rk,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{strides:i,pad:a,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>Vd(t,s,i,a,o,1,l),filter:()=>UP(t,r,s.shape,i,a,o,l)}}};function UTe(t,e,n,r,s){let i=t;t.rank===4&&(i=me(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let a=e;a.rank===4&&(a=me(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),Y(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),Y(a.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`),Y(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),Y(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),Y(a.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${n[4]}).`);const o={x:i,dy:a},l={strides:r,pad:s,filterShape:n};return de.runKernel(c_,o,l)}const VTe=oe({conv3DBackpropFilter_:UTe});const WTe={kernelName:Dk,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i}=n;Y(Ud(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[a,o]=e;return{x:()=>e9(a.shape,t,o,s,i),filter:()=>VTe(a,t,o.shape,s,i)}}};const HTe={kernelName:t0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(dr(RP(ht(n,"float32"))),t)}}};const GTe={kernelName:n0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(DP(ht(n,"float32")),t)}}};const qTe={kernelName:_k,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s,exclusive:i,reverse:a}=n;return{x:()=>{const o=Dr([s],r.rank);let l=yP(t,s,i,!a);return o!=null&&(l=Sn(l,o)),l}}}};const KTe={kernelName:Pk,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i,dimRoundingMode:a}=n,o=r??[1,1];Y(Ud(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[l,u]=e;return Y(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),Y(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),Y(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),Y(si(s,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${o}'.`),Bi("depthwiseConv2d",i,a),{x:()=>P9(l.shape,t,u,s,i,o,a),filter:()=>_9(l,t,u.shape,s,i,o,a)}}};const XTe={kernelName:Mk,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,i={x:r,filter:s,dy:t},a={x:r,filter:s,dy:t};return{x:()=>de.runKernel(mO,i,n),filter:()=>de.runKernel(gO,a,n)}}};const YTe={kernelName:s0,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r={dy:t,y:n};return{x:()=>de.runKernel(x_,r)}}};const ZTe={kernelName:i0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=fe(ka(dr(nr(n))),2/Math.sqrt(Math.PI));return{x:()=>fe(t,r)}}};const QTe={kernelName:a0,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(t,n)}}};const JTe={kernelName:Fk,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>me(t,n.shape)}}};const e2e={kernelName:o0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(t,ka(n))}}};const t2e={kernelName:l0,gradFunc:t=>({x:()=>Cn(t)})};const n2e={kernelName:u0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(n.shape,r.shape);return{a:()=>{const o=Et(t,ht(r,"float32")),l=$s(n.shape,s);return l.length>0?me(St(o,l),n.shape):o},b:()=>{let o=fe(t,ht(n,"float32"));const l=$s(r.shape,s);l.length>0&&(o=me(St(o,l),r.shape));const u=nr(r);return dr(Et(o,ht(u,"float32")))}}}};const r2e={kernelName:zk,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[s,i,a,o]=e,l=o??It(1),u=$s(i.shape,s.shape),d=[];if(i.rank===1){for(let T=0;T<s.shape.length-1;++T)d.push(s.shape[T]);d.push(1)}const f=bt(s,i),p=fe(t,l),m=IP(Ye(a,It(r))),y=fe(fe(fe(m,m),m),It(-.5));return{x:()=>i.rank===1?me(fe(fe(t,Eo(me(m,[1,1,1,i.shape[0]]),d)),l),s.shape):me(fe(fe(t,m),l),s.shape),mean:()=>{let T=fe(fe(m,It(-1)),p);return i.rank===1&&(T=St(T,u)),me(T,i.shape)},variance:()=>{let T=fe(fe(y,f),p);return i.rank===1&&(T=St(T,u)),me(T,i.shape)},scale:()=>{const T=fe(f,m);let N=fe(t,T);return i.rank===1&&(N=St(N,u)),me(N,i.shape)},offset:()=>{let T=t;return i.rank===1&&(T=St(T,u)),me(T,i.shape)}}}};const s2e={kernelName:Bk,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,s]=e,{axis:i,batchDims:a}=n,o=un(i,r.shape)[0],l=(u,d,f)=>()=>{const p=u.shape,m=d.size,y=p.slice(0,o),v=y.length,b=p.slice(i,p.length).slice(1),w=b.length,S=_U(0,v),C=_U(v+1,v+1+w),T=PU([y,[m],b]),N=me(f,T),O=me(d,[m]),_=PU([[v],S,C]),F=Sn(N,_);let L=zP(F,O,u.shape[o]);const z=lf(_);return L=Sn(L,z),L};if(a===1){const u=r.shape[0],d=r.split(u,0);return{x:()=>Ta(d.map((m,y)=>l(m,s.slice(y,1),t.slice(y,1))())).reshape(r.shape),indices:()=>s}}else return{x:l(r,s,t),indices:()=>s}}};function _U(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function PU(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}const i2e={kernelName:c0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Cn(n),b:()=>Cn(r)}}};const a2e={kernelName:d0,gradFunc:t=>({x:()=>ht(t,"float32")})};const o2e={kernelName:f0,gradFunc:t=>({x:()=>Cn(t)})};const l2e={kernelName:h0,gradFunc:t=>({x:()=>Cn(t)})};const u2e={kernelName:p0,gradFunc:t=>({x:()=>Cn(t)})};const c2e={kernelName:Uk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{alpha:s}=n,i=Aa(r,0);return{x:()=>vi(i,t,fe(t,s))}}};const d2e={kernelName:g0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,Ye(n,1))}}};const f2e={kernelName:m0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,ht(n,"float32"))}}};const h2e={kernelName:rbe,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;return{logits:()=>{const a=ka(r);return bt(t,fe(St(t,s,!0),a))}}}};function p2e(t,e,n,r=5,s=1,i=1,a=.5){const o={x:t,y:e,dy:n},l={depthRadius:r,bias:s,alpha:i,beta:a};return de.runKernel($_,o,l)}const m2e=oe({localResponseNormalizationBackprop_:p2e});const g2e={kernelName:Kk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{depthRadius:i,bias:a,alpha:o,beta:l}=n;return{x:()=>m2e(r,s,t,i,a,o,l)}}};function _7(t,e,n,r){return e.rank<n.rank&&(e=me(e,Xr(e.shape,r))),t.rank<n.rank&&(t=me(t,Xr(t.shape,r))),{x:()=>fe(t,ht(gl(n,e),t.dtype))}}const MU={kernelName:Xk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:s}=r,i=e[0],a=e[1],o=un(s,i.shape),l=_7(t,a,i,o);return{x:()=>l.x()}}};const y2e={kernelName:y0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>fe(t,ht(uf(n,r),"float32")),b:()=>fe(t,ht(sb(n,r),"float32"))}}};function v2e(t,e,n,r,s,i,a){const o=Q(t,"dy","maxPool3dGrad"),l=Q(e,"input","maxPool3dGrad"),u=Q(n,"output","maxPool3dGrad");let d=o,f=l,p=u,m=!1;l.rank===4&&(m=!0,d=me(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),f=me(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),p=me(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Y(d.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${d.rank}.`),Y(f.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`),Y(p.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${p.rank}.`),Bi("maxPool3dGrad",i,a);const y={dy:d,input:f,output:p},v={filterSize:r,strides:s,pad:i,dimRoundingMode:a},b=de.runKernel(A_,y,v);return m?me(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}const b2e=oe({maxPool3dGrad_:v2e});const x2e={kernelName:Zk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=n;return{x:()=>b2e(t,r,s,i,a,o,l)}}};function w2e(t,e,n,r,s,i,a){const o=Q(t,"dy","maxPoolGrad"),l=Q(e,"input","maxPoolGrad"),u=Q(n,"output","maxPoolGrad");Y(l.rank===o.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`),Y(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),Y(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),Bi("maxPoolGrad",i,a);const d={dy:o,input:l,output:u},f={filterSize:r,strides:s,pad:i,dimRoundingMode:a};return de.runKernel(I_,d,f)}const S2e=oe({maxPoolGrad_:w2e});const C2e={kernelName:Yk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:a,pad:o}=n;return{x:()=>S2e(t,r,s,i,a,o)}}};const k2e={kernelName:Qk,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n,i=un(s,r.shape),o=Fs(r.shape,i)[1],l=Le(o);return{x:()=>{const d=r.shape.slice();i.forEach(m=>{d[m]=1});const f=me(t,d);return Et(fe(f,ga(r.shape,"float32")),l)}}}};const T2e={kernelName:Jk,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:s}=r,[i,a]=e,o=un(s,i.shape),l=_7(t,a,i,o);return{x:()=>l.x()}}};const E2e={kernelName:v0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>fe(t,ht(sp(n,r),"float32")),b:()=>fe(t,ht(Aa(n,r),"float32"))}}};const N2e={kernelName:eT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(a=>a[0]);return{x:()=>wn(t,i,r.shape)}}};const $2e={kernelName:b0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(n.shape,r.shape);return{a:()=>{const o=$s(n.shape,s);return o.length>0?me(St(t,o),n.shape):t},b:()=>{const o=fe(t,dr(G0(Et(n,r)))),l=$s(r.shape,s);return l.length>0?me(St(o,l),r.shape):o}}}};const I2e={kernelName:x0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(n.shape,r.shape);return{a:()=>{const o=fe(t,ht(r,"float32")),l=$s(n.shape,s);return l.length>0?me(St(o,l),n.shape):o},b:()=>{const o=fe(t,ht(n,"float32")),l=$s(r.shape,s);return l.length>0?me(St(o,l),r.shape):o}}}};const A2e={kernelName:tT,gradFunc:t=>({x:()=>dr(t)})};const O2e={kernelName:sT,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>ws(n.shape,"float32")}}};const R2e={kernelName:rT,gradFunc:t=>({x:()=>Cn(t)})};const D2e={kernelName:iT,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:r}=n;return Lo(t,r).map(i=>()=>i)}};const LU={kernelName:aT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(a=>a[0]);return{x:()=>wn(t,i,r.shape)}}};const _2e={kernelName:w0,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,s]=e,i=n,a=r,o=Xt(i.shape,a.shape);return{a:()=>{const d=ht(a,"float32");let f=fe(t,fe(d,yc(i,bt(d,It(1)))));const p=$s(i.shape,o);return p.length>0&&(f=St(f,p)),me(f,i.shape)},b:()=>{const d=Aa(i,0),f=vi(d,Ya(i),Cn(i));let p=fe(t,fe(s,f));const m=$s(a.shape,o);return m.length>0&&(p=St(p,m)),me(p,a.shape)}}}};const P2e={kernelName:oT,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,s=Aa(n,0);return{x:()=>vi(s,t,fe(t,r)),alpha:()=>{let i=vi(s,Cn(t),fe(t,n));const a=$s(r.shape,t.shape);return a.length>0&&(i=St(i,a)),me(i,r.shape)}}}};function M2e(t,e,n){const r=t.shape.slice();r[n]=1;const s=me(e,r),i=_S(t,n,!0,!1),a=_S(t,n,!0,!0),o=fe(i,a);return fe(s,o)}function L2e(t,e,n){const r=t.shape.length,s=r-n.length,i=Dr(n,r);let a=t;i!=null&&(a=Sn(t,i));const o=a.shape.slice(),u=o.splice(r-n.length,n.length).reduce((p,m)=>p*m,1);o.push(u);const d=a.reshape(o);let f=M2e(d,e,s);if(f=f.reshape(a.shape),i!=null){const p=lf(i);f=Sn(f,p)}return f}const F2e={kernelName:lT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;let i=[];return s==null?i=r.shape.map((a,o)=>o):typeof s=="number"?i=[s]:i=s,{x:()=>L2e(r,t,i)}}};const z2e={kernelName:r0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(n.shape,r.shape);return{a:()=>{const o=Et(t,ht(r,"float32")),l=$s(n.shape,s);return l.length>0?me(St(o,l),n.shape):o},b:()=>{let o=fe(t,ht(n,"float32"));const l=$s(r.shape,s);l.length>0&&(o=me(St(o,l),r.shape));const u=nr(r);return dr(Et(o,ht(u,"float32")))}}}};const B2e={kernelName:S0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,dr(nr(n)))}}};const j2e={kernelName:k0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=fe(sp(n,6),Og(n));return{x:()=>fe(t,ht(r,"float32"))}}};const U2e={kernelName:C0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(t,ht(Og(n),"float32"))}}};const V2e={kernelName:uT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,n.shape)}}};const W2e={kernelName:dT,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>de.runKernel(U_,s,n)}}};const H2e={kernelName:cT,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>de.runKernel(j_,s,n)}}};const G2e={kernelName:fT,gradFunc:(t,e,n)=>{const{dims:r}=n,s=un(r,t.shape);return{x:()=>Mo(t,s)}}};const q2e={kernelName:T0,gradFunc:t=>({x:()=>Cn(t)})};const K2e={kernelName:E0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>dr(Et(t,fe(yc(n,1.5),2)))}}};const X2e={kernelName:hT,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>ht(Cn(n),"float32"),t:()=>fe(t,ht(n,t.dtype)),e:()=>fe(t,ht(OT(n),t.dtype))}}};const Y2e={kernelName:N0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=Aa(n,It(0)),s=It(KT),i=It(XT),a=fe(t,i),o=fe(fe(t,s),ka(ht(n,"float32")));return vi(r,a,o)}}}};const Z2e={kernelName:O0,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(t,fe(n,bt(It(1),n)))}}};const Q2e={kernelName:A0,gradFunc:t=>({x:()=>Cn(t)})};const J2e={kernelName:$0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(ET(ht(n,"float32")),t)}}};const eEe={kernelName:I0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(gP(ht(n,"float32")),t)}}};const tEe={kernelName:pT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:s,size:i}=n,a=r.shape,[o,l]=GT(r,s,i),u=[];for(let d=0;d<t.rank;d++)u.push([o[d],a[d]-o[d]-l[d]]);return{x:()=>cf(t,u)}}};const nEe={kernelName:vT,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:s}=n,i=!0,a=fe(t,r);return{logits:()=>bt(a,fe(St(a,[s],i),r))}}};const rEe={kernelName:R0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(t,au(n))}}};const FU={kernelName:gT,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>TT(t,r,s)}}};const zU={kernelName:yT,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>us(t,r)}}};const sEe={kernelName:D0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,fe(ri(ht(n,"float32")),2))}}};const iEe={kernelName:Z_,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(t,fe(ht(n,"float32"),2))}}};const aEe={kernelName:_0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=It(2);return{a:()=>fe(t,fe(s,bt(n,r))),b:()=>fe(t,fe(s,bt(r,n)))}}};const oEe={kernelName:z0,gradFunc:t=>({x:()=>Cn(t)})};const lEe={kernelName:P0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=Xt(n.shape,r.shape);return{a:()=>{let o=t;const l=$s(n.shape,s);return l.length>0&&(o=St(o,l)),me(o,n.shape)},b:()=>{let o=t;const l=$s(r.shape,s);return l.length>0&&(o=St(o,l)),me(dr(o),r.shape)}}}};const uEe={kernelName:mT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,s=r.shape.slice(),{axis:i}=n;un(i,r.shape).forEach(u=>{s[u]=1});const o=me(t,s),l=fe(o,ga(r.shape,"float32"));return{x:()=>l}}};const cEe={kernelName:M0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Et(t,nr(ET(n)))}}};const dEe={kernelName:L0,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fe(bt(It(1),nr(n)),t)}}};const fEe={kernelName:F0,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:s}=n;return{x:()=>{let a=Cn(r);if(r.rank===1)for(let o=0;o<s[0];++o)a=Ye(a,wn(t,[o*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)a=Ye(a,wn(t,[o*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)for(let u=0;u<s[2];++u)a=Ye(a,wn(t,[o*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)for(let u=0;u<s[2];++u)for(let d=0;d<s[3];++d)a=Ye(a,wn(t,[o*r.shape[0],l*r.shape[1],u*r.shape[2],d*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return a}}}};const hEe={kernelName:Pm,gradFunc:(t,e,n)=>{const r=n,{perm:s}=r,i=lf(s);return{x:()=>Sn(t,i)}}};const pEe={kernelName:xT,gradFunc:(t,e,n)=>{const r=n,{axis:s}=r;return{value:()=>Ta(t,s)}}};const mEe={kernelName:wT,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>gEe(t,n)}}};function gEe(t,e){const n=Ac(e,Cn(e)),r=q0(t,n);let s=uf(e,It(0,"int32"));const i=r.rank-s.rank;for(let o=0;o<i;++o)s=Ri(s,o+1);s=pu(s,ga(r.shape,"bool"));const a=Cn(r);return vi(s,r,a)}const yEe={kernelName:ST,gradFunc:t=>({x:()=>Cn(t)})};const vEe=[D7,mTe,gTe,yTe,vTe,bTe,xTe,wTe,STe,CTe,kTe,TTe,$Te,OTe,RTe,DTe,_Te,PTe,MTe,LTe,FTe,zTe,jTe,BTe,WTe,HTe,GTe,qTe,KTe,XTe,z2e,YTe,ZTe,QTe,JTe,e2e,n2e,t2e,r2e,s2e,i2e,a2e,o2e,l2e,u2e,c2e,d2e,f2e,h2e,g2e,MU,MU,y2e,x2e,C2e,k2e,T2e,E2e,N2e,$2e,I2e,A2e,O2e,R2e,D2e,LU,LU,_2e,P2e,F2e,B2e,j2e,U2e,V2e,W2e,H2e,G2e,q2e,K2e,X2e,Y2e,Z2e,Q2e,J2e,eEe,tEe,nEe,rEe,FU,FU,zU,zU,sEe,aEe,iEe,oEe,lEe,uEe,cEe,dEe,fEe,hEe,pEe,mEe,yEe];for(const t of vEe)ibe(t);Be().prototype.abs=function(){return this.throwIfDisposed(),bs(this)};Be().prototype.acos=function(){return this.throwIfDisposed(),PK(this)};Be().prototype.acosh=function(){return this.throwIfDisposed(),MK(this)};Be().prototype.add=function(t){return this.throwIfDisposed(),Ye(this,t)};Be().prototype.all=function(t,e){return this.throwIfDisposed(),dP(this,t,e)};Be().prototype.any=function(t,e){return this.throwIfDisposed(),DS(this,t,e)};Be().prototype.argMax=function(t){return this.throwIfDisposed(),Zm(this,t)};Be().prototype.argMin=function(t){return this.throwIfDisposed(),LK(this,t)};Be().prototype.asScalar=function(){return this.throwIfDisposed(),Y(this.size===1,()=>"The array must have only 1 element."),me(this,[])};Be().prototype.asType=function(t){return this.throwIfDisposed(),ht(this,t)};Be().prototype.as1D=function(){return this.throwIfDisposed(),me(this,[this.size])};Be().prototype.as2D=function(t,e){return this.throwIfDisposed(),me(this,[t,e])};Be().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),me(this,[t,e,n])};Be().prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),me(this,[t,e,n,r])};Be().prototype.as5D=function(t,e,n,r,s){return this.throwIfDisposed(),me(this,[t,e,n,r,s])};Be().prototype.asin=function(){return this.throwIfDisposed(),FK(this)};Be().prototype.asinh=function(){return this.throwIfDisposed(),zK(this)};Be().prototype.atan=function(){return this.throwIfDisposed(),BK(this)};Be().prototype.atan2=function(t){return this.throwIfDisposed(),jK(this,t)};Be().prototype.atanh=function(){return this.throwIfDisposed(),UK(this)};Be().prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),kT(this,t,e,n,r)};Be().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),TT(this,t,e)};Be().prototype.batchNorm=function(t,e,n,r,s){return this.throwIfDisposed(),U0(this,t,e,n,r,s)};Be().prototype.broadcastTo=function(t){return this.throwIfDisposed(),Fm(this,t)};Be().prototype.cast=function(t){return this.throwIfDisposed(),ht(this,t)};Be().prototype.ceil=function(){return this.throwIfDisposed(),KK(this)};Be().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Ca(this,t,e)};Be().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Ir&&(t=[t]),us([this,...t],e)};Be().prototype.conv1d=function(t,e,n,r,s,i){return this.throwIfDisposed(),hP(this,t,e,n,r,s,i)};Be().prototype.conv2dTranspose=function(t,e,n,r,s){return this.throwIfDisposed(),mP(this,t,e,n,r,s)};Be().prototype.conv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),Vd(this,t,e,n,r,s,i)};Be().prototype.cos=function(){return this.throwIfDisposed(),ET(this)};Be().prototype.cosh=function(){return this.throwIfDisposed(),gP(this)};Be().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),_S(this,t,e,n)};Be().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),yP(this,t,e,n)};Be().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),n9(this,t,e)};Be().prototype.depthwiseConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),V0(this,t,e,n,r,s,i)};Be().prototype.dilation2d=function(t,e,n,r,s){return this.throwIfDisposed(),r9(this,t,e,n,r,s)};Be().prototype.divNoNan=function(t){return this.throwIfDisposed(),s9(this,t)};Be().prototype.div=function(t){return this.throwIfDisposed(),Et(this,t)};Be().prototype.dot=function(t){return this.throwIfDisposed(),i9(this,t)};Be().prototype.elu=function(){return this.throwIfDisposed(),W0(this)};Be().prototype.equal=function(t){return this.throwIfDisposed(),gl(this,t)};Be().prototype.erf=function(){return this.throwIfDisposed(),vP(this)};Be().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),l9(this,t,e)};Be().prototype.exp=function(){return this.throwIfDisposed(),ka(this)};Be().prototype.expandDims=function(t){return this.throwIfDisposed(),Ri(this,t)};Be().prototype.expm1=function(){return this.throwIfDisposed(),u9(this)};Be().prototype.fft=function(){return this.throwIfDisposed(),BT(this)};Be().prototype.flatten=function(){return this.throwIfDisposed(),me(this,[this.size])};Be().prototype.floor=function(){return this.throwIfDisposed(),G0(this)};Be().prototype.floorDiv=function(t){return this.throwIfDisposed(),cP(this,t)};Be().prototype.gather=function(t,e,n){return this.throwIfDisposed(),q0(this,t,e,n)};Be().prototype.greaterEqual=function(t){return this.throwIfDisposed(),uf(this,t)};Be().prototype.greater=function(t){return this.throwIfDisposed(),Aa(this,t)};Be().prototype.ifft=function(){return this.throwIfDisposed(),ob(this)};Be().prototype.irfft=function(){return this.throwIfDisposed(),PP(this)};Be().prototype.isFinite=function(){return this.throwIfDisposed(),c9(this)};Be().prototype.isInf=function(){return this.throwIfDisposed(),d9(this)};Be().prototype.isNaN=function(){return this.throwIfDisposed(),f9(this)};Be().prototype.leakyRelu=function(t){return this.throwIfDisposed(),$T(this,t)};Be().prototype.lessEqual=function(t){return this.throwIfDisposed(),sp(this,t)};Be().prototype.less=function(t){return this.throwIfDisposed(),sb(this,t)};Be().prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),h9(this,t,e,n,r)};Be().prototype.logSigmoid=function(){return this.throwIfDisposed(),p9(this)};Be().prototype.logSoftmax=function(t){return this.throwIfDisposed(),wP(this,t)};Be().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),AT(this,t,e)};Be().prototype.log=function(){return this.throwIfDisposed(),Ya(this)};Be().prototype.log1p=function(){return this.throwIfDisposed(),IT(this)};Be().prototype.logicalAnd=function(t){return this.throwIfDisposed(),pu(this,t)};Be().prototype.logicalNot=function(){return this.throwIfDisposed(),OT(this)};Be().prototype.logicalOr=function(t){return this.throwIfDisposed(),SP(this,t)};Be().prototype.logicalXor=function(t){return this.throwIfDisposed(),m9(this,t)};Be().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),dn(this,t,e,n)};Be().prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),RT(this,t,e,n,r)};Be().prototype.max=function(t,e){return this.throwIfDisposed(),_o(this,t,e)};Be().prototype.maximum=function(t){return this.throwIfDisposed(),Ac(this,t)};Be().prototype.mean=function(t,e){return this.throwIfDisposed(),Mr(this,t,e)};Be().prototype.min=function(t,e){return this.throwIfDisposed(),rb(this,t,e)};Be().prototype.minimum=function(t){return this.throwIfDisposed(),jh(this,t)};Be().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),y9(this,t,e)};Be().prototype.mod=function(t){return this.throwIfDisposed(),v9(this,t)};Be().prototype.mul=function(t){return this.throwIfDisposed(),fe(this,t)};Be().prototype.neg=function(){return this.throwIfDisposed(),dr(this)};Be().prototype.norm=function(t,e,n){return this.throwIfDisposed(),H0(this,t,e,n)};Be().prototype.notEqual=function(t){return this.throwIfDisposed(),Jm(this,t)};Be().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),kP(this,t,e,n)};Be().prototype.onesLike=function(){return this.throwIfDisposed(),Za(this)};Be().prototype.pad=function(t,e){return this.throwIfDisposed(),cf(this,t,e)};Be().prototype.pool=function(t,e,n,r,s,i){return this.throwIfDisposed(),b9(this,t,e,n,r,s,i)};Be().prototype.pow=function(t){return this.throwIfDisposed(),yc(this,t)};Be().prototype.prelu=function(t){return this.throwIfDisposed(),PT(this,t)};Be().prototype.prod=function(t,e){return this.throwIfDisposed(),x9(this,t,e)};Be().prototype.reciprocal=function(){return this.throwIfDisposed(),w9(this)};Be().prototype.relu=function(){return this.throwIfDisposed(),Su(this)};Be().prototype.relu6=function(){return this.throwIfDisposed(),NP(this)};Be().prototype.reshapeAs=function(t){return this.throwIfDisposed(),me(this,t.shape)};Be().prototype.reshape=function(t){return this.throwIfDisposed(),me(this,t)};Be().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),F9(this,t,e,n)};Be().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),z9(this,t,e,n)};Be().prototype.reverse=function(t){return this.throwIfDisposed(),Mo(this,t)};Be().prototype.rfft=function(){return this.throwIfDisposed(),jT(this)};Be().prototype.round=function(){return this.throwIfDisposed(),$P(this)};Be().prototype.rsqrt=function(){return this.throwIfDisposed(),IP(this)};Be().prototype.selu=function(){return this.throwIfDisposed(),AP(this)};Be().prototype.separableConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),OP(this,t,e,n,r,s,i)};Be().prototype.sigmoid=function(){return this.throwIfDisposed(),au(this)};Be().prototype.sign=function(){return this.throwIfDisposed(),S9(this)};Be().prototype.sin=function(){return this.throwIfDisposed(),RP(this)};Be().prototype.sinh=function(){return this.throwIfDisposed(),DP(this)};Be().prototype.slice=function(t,e){return this.throwIfDisposed(),wn(this,t,e)};Be().prototype.softmax=function(t){return this.throwIfDisposed(),zT(this,t)};Be().prototype.softplus=function(){return this.throwIfDisposed(),Ag(this)};Be().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),_T(this,t,e)};Be().prototype.split=function(t,e){return this.throwIfDisposed(),va(this,t,e)};Be().prototype.sqrt=function(){return this.throwIfDisposed(),ri(this)};Be().prototype.square=function(){return this.throwIfDisposed(),nr(this)};Be().prototype.squaredDifference=function(t){return this.throwIfDisposed(),MP(this,t)};Be().prototype.squeeze=function(t){return this.throwIfDisposed(),ap(this,t)};Be().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Ir?[this,t]:[this,...t];return Ta(n,e)};Be().prototype.step=function(t){return this.throwIfDisposed(),Og(this,t)};Be().prototype.stridedSlice=function(t,e,n,r,s,i,a,o){return this.throwIfDisposed(),C9(this,t,e,n,r,s,i,a,o)};Be().prototype.sub=function(t){return this.throwIfDisposed(),bt(this,t)};Be().prototype.sum=function(t,e){return this.throwIfDisposed(),St(this,t,e)};Be().prototype.tan=function(){return this.throwIfDisposed(),k9(this)};Be().prototype.tanh=function(){return this.throwIfDisposed(),Bh(this)};Be().prototype.tile=function(t){return this.throwIfDisposed(),Eo(this,t)};Be().prototype.toBool=function(){return this.throwIfDisposed(),ht(this,"bool")};Be().prototype.toFloat=function(){return this.throwIfDisposed(),ht(this,"float32")};Be().prototype.toInt=function(){return this.throwIfDisposed(),ht(this,"int32")};Be().prototype.topk=function(t,e){return this.throwIfDisposed(),N9(this,t,e)};Be().prototype.transpose=function(t){return this.throwIfDisposed(),Sn(this,t)};Be().prototype.unique=function(t){return this.throwIfDisposed(),$9(this,t)};Be().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),zP(this,t,e)};Be().prototype.unstack=function(t){return this.throwIfDisposed(),Lo(this,t)};Be().prototype.where=function(t,e){return this.throwIfDisposed(),vi(t,this,e)};Be().prototype.zerosLike=function(){return this.throwIfDisposed(),Cn(this)};class ql extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ql.prototype)}}class No extends Error{constructor(e){super(e),Object.setPrototypeOf(this,No.prototype)}}class pe extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pe.prototype)}}class tn extends Error{constructor(e){super(e),Object.setPrototypeOf(this,tn.prototype)}}class wM extends Error{constructor(e){super(e),Object.setPrototypeOf(this,wM.prototype)}}class P7{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}function Vh(t,e){if(Array.isArray(t)){let n=[];for(let r=0;r<e;r++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function Kl(t,e){if(!t)throw new wM(e)}function BU(t,e){let n=0;for(const r of t)r===e&&n++;return n}function Ki(t){return t.length===1?t[0]:t}function jn(t){return Array.isArray(t)?t:[t]}function ec(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function dh(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let mo={};function SM(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function MO(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>MO(e));else{const e=Object.keys(t);for(const n of e){const r=t[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?t[n]=r.value:MO(r))}}}function Z0(t,e={},n={},r="object",s=!1){if(typeof t=="string"){const i=t;let a;if(i in n)a=n[i];else if(i in mo)a=mo[i];else if(a=e[i],a==null)throw new pe(`Unknown ${r}: ${t}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return a}else{const i=t;if(i.className==null||i.config==null)throw new pe(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const a=i.className;let o,l;if(a in n?[o,l]=n[a]:a in mo?[o,l]=mo.className:a in e&&([o,l]=e[a]),o==null)throw new pe(`Unknown ${r}: ${a}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const m of Object.keys(mo))u[m]=mo[m];for(const m of Object.keys(n))u[m]=n[m];const d=i.config;d.customObjects=u;const f=Object.assign({},mo);for(const m of Object.keys(n))mo[m]=n[m];MO(i.config);const p=l(o,i.config,n,s);return mo=Object.assign({},f),p}else{const u=Object.assign({},mo);for(const f of Object.keys(n))mo[f]=n[f];const d=new o(i.config);return mo=Object.assign({},u),d}}}function bEe(t,e){return t<e?-1:t>e?1:0}function aw(t,e){return-1*bEe(t,e)}function Rd(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function xEe(t){if(t==null)throw new pe(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function lp(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new pe(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function CM(t,e,n=0,r=1/0){return Kl(n>=0),Kl(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(s=>typeof s===e)}function Ms(t,e){Array.isArray(t)?(Y(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,r)=>Ms(n,`element ${r+1} of ${e}`))):Y(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${M7(t)}.`)}function M7(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>M7(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function wEe(t,e,n){let r=n!=null?n():qi(),s;return(...a)=>{const o=n!=null?n():qi();return o-r<e||(r=o,s=t(...a)),s}}function L7(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}let SEe=0;function F7(){return SEe++}const ow={};function YT(t=""){return t in ow||(ow[t]=0),ow[t]+=1,t+ow[t].toString()}const CEe=["channelsFirst","channelsLast"],kEe=["nearest","bilinear"],TEe=["valid","same","causal"],EEe=["max","avg"],NEe=["sum","mul","concat","ave"];const mm=new Map;function Zr(t){lp(CEe,"DataFormat",t)}function $Ee(t){lp(kEe,"InterpolationFormat",t)}function to(t){lp(TEe,"PaddingMode",t)}function z7(t){lp(EEe,"PoolMode",t)}const Wv=[],jU="/";function kh(t,e){Wv.push(t);try{const n=e();return Wv.pop(),n}catch(n){throw Wv.pop(),n}}function IEe(){return Wv.length===0?"":Wv.join(jU)+jU}function B7(t){if(!U7(t))throw new Error("Not a valid tensor name: '"+t+"'");return IEe()+t}function j7(t){if(!U7(t))throw new Error("Not a valid tensor name: '"+t+"'");mm.has(t)||mm.set(t,0);const e=mm.get(t);if(mm.set(t,mm.get(t)+1),e>0){const n=`${t}_${e}`;return mm.set(n,1),n}else return t}const AEe=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function U7(t){return!!t.match(AEe)}function OEe(t){return t===parseInt(t.toString(),10)}function Dd(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let r=1;for(let s=e;s<n;++s)r*=t[s];return r}function tg(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r<e&&(e=r)}return e}function Wd(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r>e&&(e=r)}return e}function yl(t,e){if(e<t)throw new pe(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let r=t;r<e;++r)n.push(r);return n}let _$;function Ss(){return _$==null&&(_$=bK().epsilon()),_$}function vl(){return"channelsLast"}function uu(t,e){return ht(t,e)}function Q0(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),me(t,n)}function REe(t,e){return Ne(()=>{if(t.shape.length!==2)throw new pe(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=Q0(t,1);return LO(n,[1,e,1])})}function DEe(t){const e=[Dd(t.shape)];return me(t,e)}function _Ee(t){if(t.rank<=1)throw new pe(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],Dd(t.shape,1)];return me(t,e)}function Th(t,e,n){return Ne(()=>{switch(t.rank){case 1:return LT(t,e,n);case 2:return _P(t,[e,0],[n,t.shape[1]]);case 3:return FT(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return ab(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return wn(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return wn(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new pe(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function P$(t,e,n){return Ne(()=>{switch(t.rank){case 1:return LT(t,e,n);case 2:return _P(t,[0,e],[t.shape[0],n]);case 3:return FT(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return ab(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new pe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function lw(t,e,n,r){return Ne(()=>{switch(t.rank){case 1:return LT(t,e,n);case 2:switch(r){case 1:return Th(t,e,n);case 2:return P$(t,e,n);default:throw new pe(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Th(t,e,n);case 2:return FT(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return P$(t,e,n);default:throw new pe(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Th(t,e,n);case 2:return ab(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return ab(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return P$(t,e,n);default:throw new pe(`The axis is not within the rank of the tensor ${r}`)}default:throw new pe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function kM(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),us(t,e)}function UU(t,e){switch(t.rank){case 1:return XK([t,e]);case 2:return YK([t,e],0);case 3:return ZK([t,e],0);case 4:return QK([t,e],0);default:throw new pe(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function LO(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new pe(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Eo(t,e)}function ZT(t,e=0,n=1,r,s){return EP(t,e,n,r,s)}function cu(t,e,n,r){if(t.rank<2||e.rank<2)throw new tn(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const s=t.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(s!==i)throw new tn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return RO({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?FO(t.rank,r,vl()):null,activation:n});{const s=t.shape.slice(),i=s.pop();t=me(t,[-1,i]);const a=e.shape.slice(),o=a.pop(),l=a.pop(),u=[...a,o],d=Array.from({length:e.rank},(y,v)=>v===0?e.rank-2:v<=e.rank-2?v-1:v);e=me(Sn(e,d),[l,-1]);const f=[...s,...u];return me(RO({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?FO(t.rank,r,vl()):null,activation:n}),f)}}function V7(t,e,n){return Ne(()=>(Array.isArray(e)?e=Fi(e,"int32"):e=ht(e,"int32"),q0(t,e,n)))}function J0(t){return fe(t,t)}function FO(t,e,n){const r=e.shape;if(e.rank!==1&&e.rank!==t)throw new pe(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return r.length===1?me(e,[1,r[0],1,1,1]):me(e,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?me(e,[1,1,1,1,r[0]]):me(e,[1].concat(r))}else if(t===4){if(n==="channelsFirst")return r.length===1?me(e,[1,r[0],1,1]):me(e,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?me(e,[1,1,1,r[0]]):me(e,[1].concat(r))}else if(t===3){if(n==="channelsFirst")return r.length===1?me(e,[1,r[0],1]):me(e,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?me(e,[1,1,r[0]]):me(e,[1].concat(r))}else if(t<3)return e;throw new pe(`Unsupported input rank by biasAdd: ${e.rank}`)}function kl(t,e,n){return Ne(()=>(n==null&&(n=vl()),Zr(n),Ye(t,FO(t.rank,e,n))))}function PEe(t,e=1){if(e!==1)throw new tn(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return W0(t)}function MEe(t){return Ne(()=>Et(t,Ye(bs(t),1)))}function W7(t,e,n,r){return Ne(()=>O9(t,e,n,r))}function LEe(t){return Ne(()=>{const e=Ye(.5,fe(.2,t));return Ca(e,0,1)})}function ex(t,e,n=!1){return n?t():e()}const FEe=["fanIn","fanOut","fanAvg"],zEe=["normal","uniform","truncatedNormal"];function BEe(t){lp(FEe,"FanMode",t)}function jEe(t){lp(zEe,"Distribution",t)}class Wo extends Dg{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class H7 extends Wo{apply(e,n){return ws(e,n)}}H7.className="Zeros";Ze(H7);class TM extends Wo{apply(e,n){return ga(e,n)}}TM.className="Ones";Ze(TM);class G7 extends Wo{constructor(e){if(super(),typeof e!="object")throw new pe(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new pe(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return Ne(()=>fe(It(this.value),ga(e,n)))}getConfig(){return{value:this.value}}}G7.className="Constant";Ze(G7);class q7 extends Wo{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return ip(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}q7.className="RandomUniform";Ze(q7);class K7 extends Wo{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new tn(`randomNormal does not support dType ${n}.`);return ZT(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}K7.className="RandomNormal";Ze(K7);class X7 extends Wo{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new tn(`truncatedNormal does not support dType ${n}.`);return FP(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}X7.className="TruncatedNormal";Ze(X7);class Y7 extends Wo{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return Ne(()=>{if(e.length!==2||e[0]!==e[1])throw new pe("Identity matrix initializer can only be used for 2D square matrices.");return fe(this.gain,xP(e[0]))})}getConfig(){return{gain:this.gain}}}Y7.className="Identity";Ze(Y7);function UEe(t,e="channelsLast"){let n,r;if(Zr(e),t.length===2)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=Dd(t,2);n=t[1]*s,r=t[0]*s}else if(e==="channelsLast"){const s=Dd(t,0,t.length-2);n=t[t.length-2]*s,r=t[t.length-1]*s}}else{const s=Dd(t);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class Ea extends Wo{constructor(e){if(super(),e.scale<0)throw new pe(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,BEe(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,jEe(this.distribution),this.seed=e.seed}apply(e,n){const r=UEe(e),s=r[0],i=r[1];let a=this.scale;if(this.mode==="fanIn"?a/=Math.max(1,s):this.mode==="fanOut"?a/=Math.max(1,i):a/=Math.max(1,(s+i)/2),this.distribution==="normal"){const o=Math.sqrt(a);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new tn(`${this.getClassName()} does not support dType ${n}.`);return FP(e,0,o,n,this.seed)}else{const o=Math.sqrt(3*a);return ip(e,-o,o,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Ea.className="VarianceScaling";Ze(Ea);class EM extends Ea{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ea.className}}EM.className="GlorotUniform";Ze(EM);class NM extends Ea{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ea.className}}NM.className="GlorotNormal";Ze(NM);class $M extends Ea{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ea.className}}$M.className="HeNormal";Ze($M);class IM extends Ea{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ea.className}}IM.className="HeUniform";Ze(IM);class AM extends Ea{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ea.className}}AM.className="LeCunNormal";Ze(AM);class OM extends Ea{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ea.className}}OM.className="LeCunUniform";Ze(OM);class Z7 extends Wo{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return Ne(()=>{if(e.length<2)throw new tn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=Le(e.slice(0,-1)),s=e[e.length-1],i=r*s;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const a=[Math.max(s,r),Math.min(s,r)],o=ZT(a,0,1,n,this.seed),l=B9.qr(o,!1);let u=l[0];const f=l[1].flatten().stridedSlice([0],[Math.min(s,r)*Math.min(s,r)],[Math.min(s,r)+1]);return u=fe(u,f.sign()),r<s&&(u=u.transpose()),fe(It(this.gain),u.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}Z7.className="Orthogonal";Ze(Z7);const VU={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function WU(t,e={}){return Z0(t,To.getMap().classNameMap,e,"initializer")}function Or(t){return SM(t)}function xr(t){if(typeof t=="string"){const e=t in VU?VU[t]:t;if(e==="GlorotNormal")return new NM;if(e==="GlorotUniform")return new EM;if(e==="HeNormal")return new $M;if(e==="HeUniform")return new IM;if(e==="LeCunNormal")return new AM;if(e==="LeCunUniform")return new OM;{const n={};return n.className=e,n.config={},WU(n)}}else return t instanceof Wo?t:WU(t)}function zO(t){return Array.isArray(t)&&Array.isArray(t[0])}function PS(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function zt(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new pe(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function An(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new pe(`Expected exactly 1 Shape; got ${t.length}`)}else return t}function MS(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((r,s)=>r*s);return e}const HU="Variable";class VEe{constructor(e,n="float32",r=HU,s=!0,i=null){this.dtype=n??"float32",this.shape=e.shape,this.id=F7(),r=r??HU,this.originalName=B7(r),this.name=j7(this.originalName),this.trainable_=s,this.constraint=i,this.val=I9(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),WEe(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function WEe(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function BO(t){return t.map(e=>e.read())}function RM(t){t.forEach(e=>{e[0].write(e[1])})}class Cs{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class mu{constructor(e,n,r,s,i,a,o){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=i,this.outputTensorIndex=o,this.id=F7(),a!=null&&(this.originalName=B7(a),this.name=j7(this.originalName)),this.rank=n.length}}let HEe=0;class QT{constructor(e,n){this.callArgs=n,this.id=HEe++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r?.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let GEe=0,cn=class extends Dg{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=GEe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const r=this.getClassName();n=ec(r)+"_"+YT(r)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new No(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new pe(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Ki(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Ki(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ql(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new ql(`Layer ${this.name} is not connected, no input to return.`);return Ki(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new ql(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new ql(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ki(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=jn(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=jn(this.inputSpec);if(n.length!==r.length)throw new pe(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${e}`);for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(a==null)continue;const o=i.rank;if(a.ndim!=null&&o!==a.ndim)throw new pe(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${o}`);if(a.maxNDim!=null&&o>a.maxNDim)throw new pe(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${o}`);if(a.minNDim!=null&&o<a.minNDim)throw new pe(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${o}.`);if(a.dtype!=null&&i.dtype!==a.dtype)throw new pe(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${i.dtype}.`);if(a.axes){const l=i.shape;for(const u in a.axes){const d=Number(u),f=a.axes[u],p=d>=0?l[d]:l[l.length+d];if(f!=null&&[f,null].indexOf(p)===-1)throw new pe(`Input ${s} is incompatible with layer ${this.name}: expected axis ${d} of input shape to have value ${f} but got shape ${l}.`)}}if(a.shape!=null)for(let l=0;l<a.shape.length;++l){const u=a.shape[l],d=i.shape[l];if(u!=null&&d!=null&&u!==d)throw new pe(`Input ${s} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${i.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=jn(e),s=XEe(e),i=YEe(e);if(s===i)throw new pe("Arguments to apply() must be all SymbolicTensors or all Tensors");return kh(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const a=[];for(const o of jn(e))a.push(o.shape);this.build(Ki(a)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let a=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,a);const o=jn(a),l=[];for(let u of o)r.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(a=Ki(l),this.activityRegularizer!=null)throw new tn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}else{const a=qEe(e),o=this.computeOutputShape(a);let l;const u=KEe(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?a[0]:a),o!=null&&o.length>0&&Array.isArray(o[0])?l=o.map((d,f)=>new mu(u,d,this,jn(e),n,this.name,f)):l=new mu(u,o,this,jn(e),n,this.name),this.addInboundNode(e,l,null,null,a,o,n),this._refCount++,this.activityRegularizer!=null)throw new tn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&e[s]!=null&&e[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new ql(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new ql(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new No(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return MS(this.weights)}build(e){this.built=!0}getWeights(e=!1){return BO(e?this.trainableWeights:this.weights)}setWeights(e){Ne(()=>{const n=this.weights;if(n.length!==e.length)throw new pe(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const r=[],s=BO(n);for(let i=0;i<s.length;++i){const a=s[i],o=n[i],l=e[i];if(!yn(a.shape,l.shape))throw new pe(`Layer weight shape ${a.shape} not compatible with provided weight shape ${l.shape}`);r.push([o,l])}RM(r)})}addWeight(e,n,r,s,i,a,o,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new pe(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():xr("zeros"));const u=s.apply(n,r),d=new VEe(u,r,e,a,o);return u.dispose(),i!=null&&this.addLoss(()=>i.apply(d.read())),a==null&&(a=!0),a?this._trainableWeights.push(d):this._nonTrainableWeights.push(d),d}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=jn(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(e,n,r){if(!this.supportsMasking)return;const s=this.computeMask(e,r),i=jn(n),a=jn(s);if(i.length!==a.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let o=0;o<i.length;o++)i[o].kerasMask=a[o]}addInboundNode(e,n,r,s,i,a,o=null){const l=jn(e);n=jn(n),r=jn(r),s=jn(s),i=PS(i),a=PS(a);const u=[],d=[],f=[];for(const p of l)u.push(p.sourceLayer),d.push(p.nodeIndex),f.push(p.tensorIndex);new QT({outboundLayer:this,inboundLayers:u,nodeIndices:d,tensorIndices:f,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:i,outputShapes:a},o);for(let p=0;p<n.length;p++)n[p].sourceLayer=this,n[p].nodeIndex=this.inboundNodes.length-1,n[p].tensorIndex=p}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}};function qEe(t){t=jn(t);const e=[];for(const n of t)e.push(n.shape);return Ki(e)}function KEe(t){return"float32"}function Q7(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const r=e.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let i=0;i<r.inboundLayers.length;i++){const a=r.inputTensors[i],o=r.inboundLayers[i],l=r.nodeIndices[i],u=Q7(a,o,l);for(const d of u)s.indexOf(d)===-1&&s.push(d)}return s}}}function XEe(t){let e=!0;for(const n of jn(t))if(!(n instanceof mu)){e=!1;break}return e}function YEe(t){let e=!0;for(const n of jn(t))if(n instanceof mu){e=!1;break}return e}class tx extends cn{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:YT("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new pe("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new pe("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new pe("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new mu(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new QT({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new pe(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}tx.className="InputLayer";Ze(tx);function ZEe(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new pe("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new tx({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}function QEe(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return ht(e,t.dtype)}catch{throw new pe(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class Ed{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Ed)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=QEe(e,n),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new pe(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof mu){if(this.id2Value[e.id]==null)throw new pe(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new pe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof mu){if(this.id2Value[e.id]==null)throw new pe(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new pe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&nn(this.id2Mask)}}const LS=new P7,FS=new P7;function JEe(t){LS?.setMaxEntries(t),FS?.setMaxEntries(t)}function Rv(t,e,n,r){const s=n==null?!1:n.training,i=Array.isArray(t),a=i?t:[t],o=a.map(y=>y.name),l=[],u=e.names();for(const y of o)u.indexOf(y)!==-1?l.push(e.getValue(y)):l.push(null);const d=o.join(",")+"|"+e.names().sort().join(",");let f=LS.get(d),p;if(f==null){const y=eNe(a,e);f=y.sorted,p=y.recipientCounts,LS.put(d,f),FS.put(d,p)}p={},s||Object.assign(p,FS.get(d));const m=new Ed(e);for(let y=0;y<f.length;++y){const v=f[y],b=v.sourceLayer;if(b instanceof tx)continue;const w=[],S=[],C=[];let T=!1;for(const L of v.inputs){const z=m.getValue(L),P=m.getMask(L);w.push(z),S.push(P),P!=null&&(T=!0),s||(p[L.name]--,p[L.name]===0&&!e.hasKey(L)&&o.indexOf(L.name)===-1&&!z.isDisposed&&L.sourceLayer.stateful!==!0&&C.push(z))}T&&(n=n||{},n.mask=S[0]);const N=jn(b.apply(w,n));let O=null;b.supportsMasking&&(O=b.computeMask(w,S));const _=nNe(v),F=Array.isArray(_)?_:[_];for(let L=0;L<F.length;++L){m.hasKey(F[L])||m.add(F[L],N[L],Array.isArray(O)?O[0]:O);const z=o.indexOf(F[L].name);z!==-1&&(l[z]=N[L])}s||nn(C)}return m.disposeMasks(),i?l:l[0]}function eNe(t,e){Y(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(t.length===1){const s=GU(t[0],e);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const i of t){const{sorted:a,recipientMap:o}=GU(i,e);for(const l of a)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in o)r[l]==null&&(r[l]=new Set),o[l].forEach(u=>r[l].add(u))}}return{sorted:n,recipientCounts:tNe(r)}}function tNe(t){const e={};for(const n in t)e[n]=t[n].size;return e}function GU(t,e){const n=new Set,r=[],s={};for(const o of e.names())n.add(o);const i=[],a=[];for(i.push(t);i.length>0;){const o=i[i.length-1];if(n.has(o.name)){i.pop();continue}const l=a[a.length-1]===i.length-1;if(o.inputs.length===0||l)i.pop(),r.push(o),n.add(o.name),l&&a.pop();else{a.push(i.length-1);for(const u of o.inputs)s[u.name]==null&&(s[u.name]=new Set),s[u.name].add(o.name),!n.has(u.name)&&i.push(u)}}return{sorted:r,recipientMap:s}}function nNe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let r=0;r<t.sourceLayer.inboundNodes.length;++r)for(const s of t.sourceLayer.inboundNodes[r].outputTensors)if(s.id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}const rNe=Oe();rNe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,JEe);function DM(t,e){return Ne(()=>ri(St(fe(t,t),e,!0)))}class nx extends Dg{getConfig(){return{}}}class J7 extends nx{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>{const n=DM(e,this.axis),r=Ca(n,0,this.maxValue);return fe(e,Et(r,Ye(Ss(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}J7.className="MaxNorm";Ze(J7);class eX extends nx{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>Et(e,Ye(Ss(),DM(e,this.axis))))}getConfig(){return{axis:this.axis}}}eX.className="UnitNorm";Ze(eX);class tX extends nx{apply(e){return Su(e)}}tX.className="NonNeg";Ze(tX);class nX extends nx{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>{const n=DM(e,this.axis),r=Ye(fe(this.rate,Ca(n,this.minValue,this.maxValue)),fe(1-this.rate,n));return fe(e,Et(r,Ye(Ss(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}nX.className="MinMaxNorm";Ze(nX);const qU={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Ts(t){return SM(t)}function KU(t,e={}){return Z0(t,To.getMap().classNameMap,e,"constraint")}function Es(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in qU?qU[t]:t,config:{}};return KU(n)}else return t instanceof nx?t:KU(t)}async function eh(t){if(t==null)return;const e=[],n=[],r=[];for(const s in t){const i=t[s];if(typeof i!="number"){const a=i;e.push(a.data()),n.push(s),r.push(a)}}if(e.length>0){const s=await Promise.all(e);for(let i=0;i<s.length;++i)t[n[i]]=s[i][0];nn(r)}}function rX(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}var XU;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(XU||(XU={}));const sNe=125;class lb{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class iNe{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class aNe extends lb{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const i=n[s];if(typeof i=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+i*r;else{let a;s in this.totals?a=this.totals[s]:this.totals[s]=0;const o=Ne(()=>Ye(this.totals[s],fe(i,r)));this.totals[s]=o,a?.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:Ne(()=>{const s=fe(Et(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),Ps(n[r])}))}}class oNe extends lb{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const i in this.history){const a=this.history[i];for(let o=0;o<a.length;++o)if(typeof a[o]!="number"){const l=a[o];e.push(l.data()),n.push(i),r.push(o)}}const s=await Promise.all(e);for(let i=0;i<s.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=s[i][0]}}class lNe extends lb{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||l7,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=sNe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");fO(this.yieldEvery)&&(this.maybeWait=wEe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const s=[];this.yield!=null&&(await eh(r),s.push(this.yield(e,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await eh(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];this.epochEnd!=null&&(await eh(n),r.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,n){this.batchBegin!=null&&(await eh(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];this.batchEnd!=null&&(await eh(n),r.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):fO(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await eh(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await eh(e),await this.trainEnd(e))}}function sX(t,e){return t==null&&(t={}),t instanceof lb?[t]:Array.isArray(t)&&t[0]instanceof lb?t:jn(t).map(r=>new lNe(r,e))}class wo{constructor(){}static registerCallbackConstructor(e,n){Y(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),wo.checkForDuplicate(n),wo.constructors[e]==null&&(wo.constructors[e]=[]),wo.constructors[e].push(n)}static checkForDuplicate(e){for(const n in wo.constructors)wo.constructors[+n].forEach(s=>{if(s===e)throw new pe("Duplicate callback constructor.")})}static clear(){wo.constructors={}}static createCallbacks(e){const n=[];for(const r in wo.constructors){const s=+r;e>=s&&n.push(...wo.constructors[s])}return n.map(r=>new r)}}wo.constructors={};function iX(t,e,n,r,s,i,a,o,l){const u=new oNe,d=[new aNe,...wo.createCallbacks(e)];t!=null&&d.push(...t),d.push(u);const f=new iNe(d);return f.setParams({epochs:n,initialEpoch:r,samples:s,steps:i,batchSize:a,verbose:e,doValidation:o,metrics:l}),{callbackList:f,history:u}}function du(t,e={},n=!1){return Z0(t,To.getMap().classNameMap,e,"layer",n)}function zS(t,e){return Ne(()=>{t.dtype!=="float32"&&(t=ht(t,"float32"));const n=St(J0(t),e,!0),r=Ig(n.shape,Ss()),s=ri(Ac(n,r));return Et(t,s)})}function JT(t,e){return Ne(()=>Mr(J0(bt(e,t)),-1))}function _M(t,e){return Ne(()=>Mr(bs(bt(e,t)),-1))}function PM(t,e){return Ne(()=>{const n=bt(t,e),r=Ca(bs(t),Ss(),Number.MAX_VALUE),s=bs(Et(n,r));return fe(100,Mr(s,-1))})}function uNe(t,e){return Ne(()=>{const n=Ca(e,Ss(),Number.MAX_VALUE),r=Ya(Ye(1,n)),s=Ca(t,Ss(),Number.MAX_VALUE),i=Ya(Ye(1,s));return Mr(J0(bt(r,i)),-1)})}function cNe(t,e){return Ne(()=>{const n=Ac(0,bt(1,fe(t,e)));return Mr(J0(n),-1)})}function dNe(t,e){return Ne(()=>{const n=Ac(0,bt(1,fe(t,e)));return Mr(n,-1)})}function fNe(t,e){return Ne(()=>{const n=St(fe(t,e),-1),r=_o(fe(bt(1,t),e),-1);return Ac(0,Ye(1,bt(r,n)))})}function hNe(t,e){return Ne(()=>{const n=Math.log(2),r=bt(e,t),s=bt(Ye(r,Ag(fe(-2,r))),n);return Mr(s,-1)})}function ub(t,e,n=!1){return Ne(()=>{if(n)e=zT(e);else{const r=St(e,e.shape.length-1,!0);e=Et(e,r)}return e=Ca(e,Ss(),1-Ss()),dr(St(fe(ht(t,"float32"),Ya(e)),e.shape.length-1))})}function BS(t,e,n=!1){return Ne(()=>{const r=ht(G0(DEe(t)),"int32");e=Ca(e,Ss(),1-Ss());const s=e.shape,i=me(kP(r,s[s.length-1]),s);return ub(i,e,n)})}function pNe(t,e){if(!yn(t.shape,e.shape))throw new pe(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return Ne(()=>{const n=Su(e),r=dr(bs(e));return Ye(bt(n,fe(e,t)),IT(ka(r)))})}function e2(t,e){return Ne(()=>{let n;return n=Ca(e,Ss(),1-Ss()),n=Ya(Et(n,bt(1,n))),Mr(pNe(t,n),-1)})}function mNe(t,e){return Ne(()=>{const n=Ca(t,Ss(),1),r=Ca(e,Ss(),1);return St(fe(t,Ya(Et(n,r))),-1)})}function gNe(t,e){return Ne(()=>{const n=Ya(Ye(Ss(),e));return Mr(bt(e,fe(t,n)),-1)})}function aX(t,e){return Ne(()=>{const n=zS(t,-1),r=zS(e,-1),s=fe(n,r);return dr(St(s,-1))})}const jS={meanSquaredError:JT,meanAbsoluteError:_M,meanAbsolutePercentageError:PM,meanSquaredLogarithmicError:uNe,squaredHinge:cNe,hinge:dNe,categoricalHinge:fNe,logcosh:hNe,categoricalCrossentropy:ub,sparseCategoricalCrossentropy:BS,binaryCrossentropy:e2,kullbackLeiblerDivergence:mNe,poisson:gNe,cosineProximity:aX};function M$(t){if(typeof t=="string"){if(t in jS)return jS[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new pe(e)}else return t}function oX(t,e){return Ne(()=>{const n=fe(.5,Za(e)),r=uu(Aa(e,n),t.dtype);return Mr(gl(t,r),-1)})}function lX(t,e){return Ne(()=>uu(gl(Zm(t,-1),Zm(e,-1)),"float32"))}function yNe(t,e){return Ne(()=>ht(St(pu(gl(t,1),gl(e,1))),"float32"))}function vNe(t,e){return Ne(()=>ht(St(pu(gl(t,0),gl(e,1))),"float32"))}function bNe(t,e){return Ne(()=>{const n=yNe(t,e),r=vNe(t,e),s=Ye(n,r);return ht(vi(Aa(s,0),Et(n,s),0),"float32")})}function xNe(t,e){return e2(t,e)}function wNe(t,e){return t.rank===e.rank&&(t=ap(t,[t.rank-1])),e=Zm(e,-1),e.dtype!==t.dtype&&(e=ht(e,t.dtype)),ht(gl(t,e),"float32")}const SNe=JT,CNe=JT,kNe=_M,TNe=_M,ENe=PM,NNe=PM,uX=ub,$Ne=aX,cX=BS,US={binaryAccuracy:oX,categoricalAccuracy:lX,precision:bNe,categoricalCrossentropy:uX,sparseCategoricalCrossentropy:cX,mse:SNe,MSE:CNe,mae:kNe,MAE:TNe,mape:ENe,MAPE:NNe,cosine:$Ne};function INe(t){if(typeof t=="string"&&t in US)return US[t];if(typeof t!="string"&&t!=null)return t;throw new pe(`Unknown metric ${t}`)}function uw(t){if(Kl(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(jS))if(jS[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(US))if(US[n]===t){e=n;break}return e!==void 0?e:t.name}}function ANe(t){const e={Adagrad:()=>pm.adagrad(.01),Adadelta:()=>pm.adadelta(1,.95,Ss()),Adam:()=>pm.adam(.001,.9,.999,Ss()),Adamax:()=>pm.adamax(.002,.9,.999,Ss(),0),RMSProp:()=>pm.rmsprop(.001,.9,0,Ss()),SGD:()=>pm.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new pe(`Unknown Optimizer ${t}`)}const YU=1*1024*1024;function ZU(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!jO(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(t);r.length>YU&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${YU}.`)}}function jO(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!jO(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!jO(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}function ONe(t,e,n,r=console.log){const s=DNe(t),i=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(d=>Math.floor(e*d)));let a;if(!s){i.push("Receives inputs"),a=[];for(const d in t.nodesByDepth)a.push(...t.nodesByDepth[d])}r("_".repeat(e)),VS(i,n,r),r("=".repeat(e));const o=t.layers;for(let d=0;d<o.length;++d)s?_Ne(o[d],n,r):PNe(o[d],n,a,r),r((d===o.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=RNe(t),u=MS(t.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(e))}function RNe(t){let e;return t.collectedTrainableWeights!=null?e=MS(t.collectedTrainableWeights):e=MS(t.trainableWeights),e}function DNe(t){let e=!0;const n=[],r=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}r.push(...s)}if(e)for(const s of t.layers){let i=!1;for(const a of s.inboundNodes)if(r.indexOf(a)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function VS(t,e,n=console.log){let r="";for(let s=0;s<t.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=t[s],r=r.slice(0,e[s]),r+=" ".repeat(e[s]-r.length);n(r)}function _Ne(t,e,n){let r,s;try{s=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=t.name,a=t.getClassName(),o=[`${i} (${a})`,s,r,t.countParams().toString()];VS(o,e,n)}function PNe(t,e,n,r){let s,i;try{i=t.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{i="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const a=[];for(const f of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(f)===-1))for(let p=0;p<f.inboundLayers.length;++p){const m=f.inboundLayers[p].name,y=f.nodeIndices[p],v=f.tensorIndices[p];a.push(`${m}[${y}][${v}]`)}const o=t.name,l=t.getClassName(),u=a.length===0?"":a[0],d=[`${o} (${l})`,i,s,t.countParams().toString(),u];VS(d,e,r);for(let f=1;f<a.length;++f)VS(["","","","",a[f]],e,r)}function dX(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function WS(t,e){if(t===null)return null;if(typeof t=="string")return dh(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];dX(e,s,i)?n.push(i):n.push(WS(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const i=dh(r);n[i]=WS(s,i)}}return n}}function UO(t,e){if(t==null)return null;if(typeof t=="string")return ec(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];dX(e,s,i)?n.push(i):n.push(UO(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r],i=ec(r);(r==="name"||r==="className")&&typeof s=="string"?n[i]=s:n[i]=UO(s,r)}return n}}const fX="4.22.0";const MNe=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class nl extends cn{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const S=this.getClassName().toLowerCase();this.name=YT(S)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Rd(this.inputs).length!==this.inputs.length)throw new pe(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(S=>S.name)}`);Rd(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(S=>S.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const S of this.outputs){const C=S.sourceLayer,T=S.nodeIndex,N=S.tensorIndex;this.outputLayers.push(C),this.outputLayersNodeIndices.push(T),this.outputLayersTensorIndices.push(N)}for(const S of this.inputs){const C=S.sourceLayer,T=S.nodeIndex,N=S.tensorIndex;Kl(T===0,"input layer has >1 nodes"),Kl(N===0,"input layer has >1 tensors"),this.inputLayers.push(C),this.inputLayersNodeIndices.push(T),this.inputLayersTensorIndices.push(N)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let S=0;S<this.inputLayers.length;S++){const C=this.inputLayers[S];if(!(C instanceof tx))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${S} (0-based) originates from layer type ${C.getClassName()}.`);this.inputNames.push(C.name),this.feedInputShapes.push(C.batchInputShape),this.feedInputNames.push(C.name)}for(const S of this.outputLayers)this.outputNames.push(S.name);this.internalInputShapes=this.inputs.map(S=>S.shape),this.internalOutputShapes=this.outputs.map(S=>S.shape);const n={},r={},s={},i={},a={},o=[],l=(S,C,T,N,O,_)=>{(N==null||O==null||_==null)&&(N=S.sourceLayer,O=S.nodeIndex,_=S.tensorIndex);const F=N.inboundNodes[O];if(T.indexOf(F)!==-1)throw new No(`The tensor ${S.name} at layer "${N.name}" is part of a cycle.`);if(C.indexOf(F)!==-1)return;this.containerNodes.add(nl.nodeKey(N,O)),N.id in a||(a[N.id]=Object.keys(a).length),T.indexOf(F)===-1&&T.push(F);const L=F.inboundLayers.length;for(let z=0;z<L;z++){const P=F.inputTensors[z],R=F.inboundLayers[z],H=F.nodeIndices[z],q=F.tensorIndices[z];l(P,C,T,R,H,q)}for(C.push(F);T.indexOf(F)>=0;)T.splice(T.indexOf(F),1);o.push(F)},u=[],d=[];for(const S of this.outputs)l(S,u,d);const f=o.slice().reverse();for(const S of f){r[S.id]=S,S.id in n||(n[S.id]=0);let C=n[S.id];const T=s[S.outboundLayer.id]==null?0:s[S.outboundLayer.id];C=Math.max(C,T),s[S.outboundLayer.id]=C,i[S.outboundLayer.id]=S.outboundLayer,n[S.id]=C;for(let N=0;N<S.inboundLayers.length;N++){const O=S.inboundLayers[N],_=S.nodeIndices[N],F=O.inboundNodes[_],L=n[F.id]==null?0:n[F.id];n[F.id]=Math.max(C+1,L),r[F.id]=F}}const p={};for(const S in n){const C=n[S];C in p||(p[C]=[]),p[C].push(r[S])}const m={};for(const S in s){const C=s[S];C in m||(m[C]=[]),m[C].push(i[S])}let y=Object.keys(m).map(S=>parseInt(S,10)).sort(aw);this.layers=[];for(const S of y){const C=m[S];C.sort((T,N)=>{const O=a[T.id],_=a[N.id];return O<_?-1:O>_?1:0});for(const T of C)T instanceof nl&&this.internalContainerRefs.push(T),this.layers.push(T)}this.layersByDepth=m,y=Object.keys(p).map(S=>parseInt(S,10)).sort(aw);const v=this.inputs.slice(),b=[];for(const S of y)for(const C of p[S]){const T=C.outboundLayer;if(T!=null){for(const N of C.inputTensors)if(v.indexOf(N)===-1)throw new No(`Graph disconnected: cannot obtain value for tensor ${N} at layer "${T.name}". The following previous layers were accessed without issue: ${b}`);for(const N of C.outputTensors)v.push(N);b.push(T.name)}}this.nodesByDepth=p;const w=this.layers.map(S=>S.name);for(const S of w){const C=w.filter(T=>T===S).length;if(C!==1)throw new No(`The name "${S}" is used ${C} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(w))}this.outboundNodes=[],this.inboundNodes=[],new QT({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(S=>null),outputMasks:this.outputs.map(S=>null),inputShapes:this.inputs.map(S=>S.shape),outputShapes:this.outputs.map(S=>S.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new pe("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let s=0;const i=MNe(e);i&&this.parseWeights(e);for(const o of this.layers)for(const[l,u]of o.weights.entries()){const d=i?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(r[d]!=null)throw new pe(`Duplicate weight name: ${d}`);r[d]=u,s++}const a=[];for(const o in e){let l=o;if(r[o]==null){const u=o.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[l]!=null)a.push([r[l],e[o]]);else if(n)throw new pe(`Provided weight data has no target variable: ${o}`);delete r[l]}if(n){const o=[];for(const l in r)o.push(l);if(o.length>0)throw new pe(`${o.length} of ${s} weights are not set: ${o}`)}RM(a)}parseWeights(e){for(const n in Object.keys(e)){const r=n.split("/"),s=["vars","layer_checkpoint_dependencies"],i=r.map(a=>a.startsWith("_")?a.slice(1):a).filter(a=>!s.includes(a)).join("/");i!==n&&(e[i]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${fX}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=UO(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return Ne(()=>{e=jn(e);const r=new Ed;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],e[s]);return Rv(this.outputs,r,n)})}computeMask(e,n){return Ne(()=>{e=jn(e);let r;return n==null?r=Vh(null,e.length):r=jn(n),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const n=PS(e);if(n.length!==this.inputLayers.length)throw new pe(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let o=0;o<n.length;o++){const l=this.inputLayers[o],u=n[o],d=l.name+"_0_0";r[d]=u}const s=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(aw);if(s.length>1)for(const o of s){const l=this.nodesByDepth[o];for(const u of l){const d=u.outboundLayer;if(this.inputLayers.map(v=>v.id).indexOf(d.id)!==-1)continue;const f=[];for(let v=0;v<u.inboundLayers.length;v++){const b=u.inboundLayers[v],w=u.nodeIndices[v],S=u.tensorIndices[v],C=`${b.name}_${w}_${S}`,T=r[C];f.push(T)}const p=d.computeOutputShape(Ki(f)),m=PS(p),y=d.inboundNodes.indexOf(u);for(let v=0;v<m.length;v++){const b=`${d.name}_${y}_${v}`;r[b]=m[v]}}}const i=[],a=[];for(let o=0;o<this.outputLayers.length;o++){const l=this.outputLayers[o],u=this.outputLayersNodeIndices[o],d=this.outputLayersTensorIndices[o],f=`${l.name}_${u}_${d}`;a.push(f)}for(let o=0;o<a.length;o++){const l=a[o];Kl(l in r),i.push(r[l])}return Ki(i)}runInternalGraph(e,n){n==null&&(n=Vh(null,e.length));const r={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],d=e[l],f=n[l];r[u.id]=[d,f]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(aw);for(const l of s){const u=this.nodesByDepth[l];for(const d of u){const f=d.outboundLayer,p=d.inputTensors,m=d.outputTensors,y=new Array;for(const v of p)v.id in r&&y.push(r[v.id]);if(y.length===p.length){let v={},b,w,S,C;if(d.callArgs!=null&&(v=d.callArgs),y.length===1){const[T,N]=y[0];v.mask==null&&(v.mask=N),S=jn(f.call(T,v)),C=jn(f.computeMask(T,N)),b=[T],w=[N]}else b=y.map(T=>T[0]),w=y.map(T=>T[1]),v.mask==null&&(v.mask=w),S=jn(f.call(b,v)),C=jn(f.computeMask(b,w));if(f.activityRegularizer)throw new tn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let T=0;T<m.length;++T){const N=m[T],O=S[T],_=C[T];r[N.id]=[O,_]}}}}const i=[],a=[],o=[];for(const l of this.outputs){Kl(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[u,d]=r[l.id];o.push(u.shape),i.push(u),a.push(d)}return[i,a,o]}buildNodeConversionMap(e){const n={};let r;for(const s of this.layers){r=s instanceof nl?1:0;for(let i=0;i<s.inboundNodes.length;i++){const a=nl.nodeKey(s,i);this.containerNodes.has(a)&&(n[a]=r,r+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new pe("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const r of this.layers)if(r.name===e)return r;throw new pe(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new pe(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return Ne(()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=nl.nodeKey(n,r);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const a of this.layers){const o=a.getClassName(),l=a.getConfig(),u=[];for(let f=0;f<a.inboundNodes.length;f++){const p=a.inboundNodes[f],m=nl.nodeKey(a,f);let y={};if(this.containerNodes.has(m)){if(p.callArgs)try{JSON.stringify(p.callArgs),y=p.callArgs}catch{console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${p.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),y={}}if(p.inboundLayers.length>0){const v=[];for(let b=0;b<p.inboundLayers.length;b++){const w=p.inboundLayers[b],S=p.nodeIndices[b],C=p.tensorIndices[b],T=nl.nodeKey(w,S);let N=n[T];N==null&&(N=0),v.push([w.name,N,C,y])}u.push(v)}}}const d={};d.name=a.name,d.className=o,d.config=l,d.inboundNodes=u,r.push(d)}e.layers=r;const s=[];for(let a=0;a<this.inputLayers.length;a++){const o=this.inputLayers[a],l=this.inputLayersNodeIndices[a],u=nl.nodeKey(o,l);if(!this.containerNodes.has(u))continue;let d=n[u];d==null&&(d=0);const f=this.inputLayersTensorIndices[a];s.push([o.name,d,f])}e.inputLayers=s;const i=[];for(let a=0;a<this.outputLayers.length;a++){const o=this.outputLayers[a],l=this.outputLayersNodeIndices[a],u=nl.nodeKey(o,l);if(!this.containerNodes.has(u))continue;let d=n[u];d==null&&(d=0);const f=this.outputLayersTensorIndices[a];i.push([o.name,d,f])}return e.outputLayers=i,e}static fromConfig(e,n,r={},s=!1){const i={},a={};function o(b,w){b.name in a?a[b.name].push(w):a[b.name]=[w]}function l(b,w){const S=[];let C;for(const T of w){const N=T[0],O=T[1],_=T[2];if(C=T[3]==null?{}:T[3],!(N in i)){o(b,w);return}const F=i[N];if(F.inboundNodes.length<=O){o(b,w);return}const L=F.inboundNodes[O];S.push(L.outputTensors[_])}S.length>0&&b.apply(Ki(S),C)}function u(b){const w=b.name,S=du(b,n.customObjects!=null?n.customObjects:{});S.setFastWeightInitDuringBuild(s),i[w]=S,b.inboundNodes.forEach(T=>{if(!(T instanceof Array))throw new pe(`Corrupted configuration, expected array for nodeData: ${T}`);o(S,T)})}const d=n.name,f=n.layers;for(const b of f)u(b);for(;!xEe(a);)for(const b of f){const w=i[b.name];if(w.name in a){const S=a[w.name];delete a[w.name];for(const C of S)l(w,C)}}const p=[],m=[],y=n.inputLayers;for(const b of y){const w=b[0],S=b[1],C=b[2];Kl(w in i);const N=i[w].inboundNodes[S].outputTensors;p.push(N[C])}const v=n.outputLayers;for(const b of v){const w=b[0],S=b[1],C=b[2];Kl(w in i);const N=i[w].inboundNodes[S].outputTensors;m.push(N[C])}return new e({inputs:p,outputs:m,name:d})}get stateful(){if(this._stateful)throw new pe("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Ne(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}function LNe(t,e,n){const r=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(r===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(i=>{i in t?s.push(t[i]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function hX(t,e){return LNe(t,e,"classWeight")}async function pX(t,e,n,r){if(n!=null){const s=Ne(()=>{if(t.shape.length===1)return dc(t);if(t.shape.length===2){if(t.shape[1]>1)return Zm(t,1);if(t.shape[1]===1)return me(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await s.data());nn(s);const a=[];return i.forEach(o=>{if(n[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);a.push(n[o])}),Fi(a,"float32")}else return null}function FNe(t,e){return fe(t,e)}const zNe=32;function mX(t,e){let n,r;const s=e;n=s.xs,r=s.ys,Y(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=QU("input",t.inputNames,n),a=QU("output",t.outputNames,r),o=i[0].shape[0];Y(i.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),Y(a.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<i.length;l++)Y(i[l].shape[0]===o,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${i[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);for(let l=0;l<a.length;l++)Y(a[l].shape[0]===o,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${a[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);return{xs:i,ys:a}}function QU(t,e,n){if(n instanceof Ir)return[n];if(Array.isArray(n))return Y(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const r=[];for(const s of e){if(n[s]==null)throw new pe(`The feature data generated by the dataset lacks the required ${t} key '${s}'.`);r.push(n[s])}return r}}function BNe(t){if(t.length===3)throw new tn("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function jNe(t,e,n){const r=n.batchesPerEpoch!=null;if(Y(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),Y(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Y(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),Y(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),Y(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let i,a;if(s)if(JU(n.validationData))Y(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const b=BNe(n.validationData);i=b.xs,a=b.ys}const o=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let u;s?u=l.slice().concat(l.map(b=>"val_"+b)):u=l.slice();const d=sX(n.callbacks,n.yieldEvery),f=n.verbose==null?1:n.verbose,{callbackList:p,history:m}=iX(d,f,n.epochs,null,null,UNe(e,n),null,s,u);p.setModel(t),t.history=m,await p.onTrainBegin(),t.stopTraining_=!1;let y=n.initialEpoch==null?0:n.initialEpoch,v=await e.iterator();for(;y<n.epochs;){const b={};await p.onEpochBegin(y);let w=0,S=0;for(r||(v=await e.iterator());!r||w<n.batchesPerEpoch;){const C=await v.next();if(r&&C.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${w} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(C.value!=null){const{xs:T,ys:N}=mX(t,C.value),O={};O.batch=S,O.size=T[0].shape[0],await p.onBatchBegin(S,O);const _=[];if(n.classWeight!=null){const z=hX(n.classWeight,t.outputNames);for(let P=0;P<z.length;++P)_.push(await pX(N[P],null,z[P]))}const F=T.concat(N).concat(_),L=o(F);nn(F);for(let z=0;z<l.length;++z){const P=l[z],R=L[z];O[P]=R,Ps(R)}await p.onBatchEnd(S,O),rX(O),S++,w++}if(r?w>=n.batchesPerEpoch:C.done){if(s){let T;JU(n.validationData)?T=jn(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):T=jn(t.evaluate(i,a,{batchSize:n.validationBatchSize==null?zNe:n.validationBatchSize,verbose:0}));for(let N=0;N<t.metricsNames.length;++N)b[`val_${t.metricsNames[N]}`]=T[N]}break}if(t.stopTraining_)break}if(await p.onEpochEnd(y,b),y++,t.stopTraining_)break}return await p.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function UNe(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function JU(t){return typeof t.iterator=="function"}function VNe(t){return typeof t.next=="function"}async function WNe(t,e,n){n=n||{};const r=n.batches!=null,s=t.testFunction;let i=[];if(n.verbose>0)throw new tn("Verbose mode is not implemented yet.");Y(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const a=VNe(e)?e:await e.iterator();let o=0,l=0;for(;!r||l<n.batches;){const u=await a.next();if(i=Ne(()=>{if(u.value){const{xs:d,ys:f}=mX(t,u.value),p=d.concat(f),m=Ne(()=>s(p));if(nn(p),l===0)for(let v=0;v<m.length;++v)i.push(It(0));const y=p[0].shape[0];for(let v=0;v<m.length;++v){const b=m[v],w=i[v];i[v]=Ne(()=>Ye(i[v],fe(y,b))),l>0&&nn(w)}nn(m),o+=y,++l}return i}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){const d=i[u];i[u]=Et(i[u],o),nn(d)}return Ki(i)}function L$(t){Y(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function hv(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(r=>Th(r,e,n-e)):Th(t,e,n-e)}function VO(t,e){return Ne(()=>t==null?null:Array.isArray(t)?t.map(n=>VO(n,e)):V7(t,e.dtype==="int32"?e:ht(e,"int32")))}function F$(t,e){const n=[];let r=0,s=null;for(;r<t;)s=r+e,s>=t&&(s=t),n.push([r,s]),r=s;return n}function gX(t){const e=[];t instanceof Ir&&(t=[t]);for(let n=0;n<t.length;++n){const r=t[n];if(r.rank===1)e.push(Q0(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function tl(t,e){if(t==null)return;const n=[];if(e instanceof Ir)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const i=e[s];n.push(i.id)}const r=[];if(t instanceof Ir)n.indexOf(t.id)===-1&&r.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(t!=null)for(const s in t){const i=t[s];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(s=>{s.isDisposed||s.dispose()})}function HNe(t){return t instanceof Ir}function WO(t){return Array.isArray(t)}function eV(t){return!HNe(t)&&!WO(t)}function tV(t,e,n,r=!0,s=""){if(e==null||e.length===0){if(t!=null){let a=!1;if(WO(t)&&t.length>0)a=!0;else if(eV(t)){for(const o in t)if(t.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new pe(`Error when checking model ${s} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(a=>null);let i;if(eV(t)){t=t,i=[];for(const a of e){if(t[a]==null)throw new pe(`No data provided for "${a}". Need data for each key in: ${e}`);i.push(t[a])}}else if(WO(t)){if(t=t,t.length!==e.length)throw new pe(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);i=t}else{if(t=t,e.length>1)throw new pe(`The model ${s} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);i=[t]}if(i=gX(i),n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const o=i[a];if(o.shape.length!==n[a].length)throw new pe(`Error when checking ${s}: expected ${e[a]} to have ${n[a].length} dimension(s). but got array with shape ${o.shape}`);for(let l=0;l<n[a].length;++l){if(l===0&&!r)continue;const u=o.shape[l],d=n[a][l];if(d!=null&&d>=0&&u!==d)throw new pe(`${s} expected a batch of elements where each example has shape [${n[a].slice(1,n[a].length)}] (i.e.,tensor shape [*,${n[a].slice(1,n[a].length)}]) but the ${s} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return i}function GNe(t,e,n){const r=Rd(t.map(i=>i.shape[0]));r.sort();const s=Rd(e.map(i=>i.shape[0]));if(s.sort(),r.length>1)throw new pe(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(s.length>1)throw new pe(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&s.length>0&&!yn(r,s))throw new pe(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function qNe(t,e,n){const r=[JT,e2,ub];for(let s=0;s<t.length;++s){const i=t[s],a=e[s],o=n[s];if(a!=null){if(a===ub&&i.shape[i.shape.length-1]===1)throw new pe(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(a)!==-1){const l=i.shape.slice(1),u=o.slice(1);for(let d=0;d<l.length;++d){const f=l[d],p=u[d];if(p!=null&&f!==p)throw new pe(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function nV(t,e,n,r=!0,s=""){let i;if(Array.isArray(t)){if(t.length!==e.length)throw new pe(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);i=t}else{if(e.length>1)throw new pe(`The model expects ${e.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);i=[t]}if(n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const o=i[a];if(o.shape.length!==n[a].length)throw new pe(`Error when checking ${s}: expected ${e[a]} to have ${n[a].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let l=0;l<n[a].length;++l){if(l===0&&!r)continue;const u=o.shape[l],d=n[a][l];if(d!=null&&d!==u)throw new pe(`Error when checking ${s}: expected ${e[a]} to have shape ${JSON.stringify(n[a])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function KNe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(r=>n);{const r=[];for(const s of e){let i=n.hasOwnProperty(s)?n[s]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const XNe="layers-model";class zm extends nl{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new pe("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");ONe(this,e,n,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=ANe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof df))throw new pe("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const a in e.loss)if(this.outputNames.indexOf(a)===-1)throw new pe(`Unknown entry in loss dictionary: "${a}". Only expected the following keys: ${this.outputNames}`);for(const a of this.outputNames)e.loss[a]==null&&console.warn(`Output "${a}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${a} during training`),n.push(M$(e.loss[a]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new pe(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(o=>M$(o))}else{const a=M$(e.loss);this.outputs.forEach(o=>{n.push(a)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){const o=this.internalOutputShapes[a],l=this.outputNames[a];this.feedOutputNames.push(l),this.feedOutputShapes.push(o),this.feedLossFns.push(this.lossFunctions[a])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],kh("loss",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const o=this.lossFunctions[a];this.outputs.length>1&&(this.metricsTensors.push([o,a]),this.metricsNames.push(this.outputNames[a]+"_loss"))}});const s=KNe(e.metrics,this.outputNames),i=(a,o,l)=>{this.outputNames.length>1&&(o=this.outputNames[a]+"_"+o),this.metricsNames.push(o),this.metricsTensors.push([l,a])};kh("metric",()=>{for(let a=0;a<this.outputs.length;++a){if(r.indexOf(a)!==-1)continue;const o=s[a];(u=>{let f,p,m;for(const y of u){if(typeof y=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(y)!==-1){const b=this.internalOutputShapes[a];b[b.length-1]===1||this.lossFunctions[a]===e2?["accuracy","acc"].indexOf(y)!==-1?p=oX:["crossentropy","ce"].indexOf(y)!==-1&&(p=xNe):this.lossFunctions[a]===BS?["accuracy","acc"].indexOf(y)!==-1?p=wNe:["crossentropy","ce"].indexOf(y)!==-1&&(p=cX):["accuracy","acc"].indexOf(y)!==-1?p=lX:["crossentropy","ce"].indexOf(y)!==-1&&(p=uX);let w;["accuracy","acc"].indexOf(y)!==-1?w="acc":["crossentropy","ce"].indexOf(y)!==-1&&(w="ce"),m=p,f=""+w}else m=INe(y),f=""+uw(y);let v;kh(f,()=>{v=m}),i(a,f,v)}})(o)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const s=r.batchSize==null?32:r.batchSize;L$(s);const a=this.standardizeUserDataXY(e,n,!0,s);try{const o=a[0].concat(a[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,o,s,r.verbose,r.steps);return Ki(u)}finally{tl(a[0],e),tl(a[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),WNe(this,e,n)}checkNumSamples(e,n,r,s="steps"){let i;if(r!=null){if(i=null,n!=null)throw new pe(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new pe(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return i}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new pe("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],i=this.retrieveSymbolicTensors(s),a=new Ed;if(e instanceof Ir&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new pe(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)a.add(this.inputs[l],e[l])}else for(const l of this.inputs){const u=e[l.name];if(u==null)throw new pe(`No value is provided for the model's input ${l.name}`);a.add(l,u)}const o=Rv(i,a);return r?o:o[0]}retrieveSymbolicTensors(e){const n=Vh(null,e.length);let r=e.length;for(const s of this.layers){const i=Array.isArray(s.output)?s.output:[s.output],a=i.map(o=>o.name);for(let o=0;o<e.length;++o){const l=a.indexOf(e[o]);if(l!==-1&&(n[o]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((i,a)=>{i==null&&s.push(e[a])}),new pe(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(e,n=32,r=!1){return Ne(()=>{const s=this.checkNumSamples(e);if(r)throw new tn("Verbose predictLoop() is not implemented yet.");const i=F$(s,n),a=this.outputs.map(o=>[]);for(let o=0;o<i.length;++o)Ne(()=>{const u=i[o][0],d=i[o][1],f=hv(e,u,d),p=[];if(Array.isArray(f))for(let y=0;y<f.length;++y)p.push({key:this.inputs[y],value:f[y]});else p.push({key:this.inputs[0],value:f});const m=new Ed(p);return Rv(this.outputs,m)}).forEach((u,d)=>a[d].push(u));return Ki(a.map(o=>us(o,0)))})}predict(e,n={}){const r=gX(e);nV(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return L$(s),this.predictLoop(r,s)}finally{tl(r,e)}}predictOnBatch(e){nV(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,s){if(this.optimizer_==null)throw new No("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let a=0;a<this.feedOutputShapes.length;++a){const o=this.feedOutputShapes[a];this.feedLossFns[a]===BS?i.push(o.slice(0,o.length-1).concat([1])):i.push(o)}if(e=tV(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=tV(n,this.feedOutputNames,i,!1,"target"),GNe(e,n),qNe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new pe(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,s,i=!0,a){const[o,l]=this.standardizeUserDataXY(e,n,i,a);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(s!=null){const d=hX(s,this.outputNames);u=[];for(let f=0;f<d.length;++f)u.push(await pX(l[f],null,d[f]))}return[o,l,u]}testLoop(e,n,r,s=0,i){return Ne(()=>{const a=this.checkNumSamples(n,r,i,"steps"),o=[];if(s>0)throw new tn("Verbose mode is not implemented yet.");if(i!=null)throw new tn("steps mode in testLoop() is not implemented yet");{const l=F$(a,r),u=Fi(yl(0,a));for(let d=0;d<l.length;++d){const f=l[d][0],p=l[d][1],m=Th(u,f,p-f),y=VO(n,m),v=e(y);if(d===0)for(let b=0;b<v.length;++b)o.push(It(0));for(let b=0;b<v.length;++b){const w=v[b];o[b]=Ye(o[b],fe(p-f,w))}}for(let d=0;d<o.length;++d)o[d]=Et(o[d],a)}return o})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const s=e[r];let i=s;if(BU(e,s)>1){const a=BU(e.slice(0,r),s);i+=`_${a}`}n.push(i)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),a=[],o=()=>{const f=[];for(let v=0;v<this.inputs.length;++v)f.push({key:this.inputs[v],value:r[v]});const p=new Ed(f),m=Rv(this.outputs,p,{training:!0});let y;for(let v=0;v<this.lossFunctions.length;++v){const b=this.lossFunctions[v];let w=b(s[v],m[v]);i[v]!=null&&(w=FNe(w,i[v]));const S=Mr(w);n.push(S),v===0?y=w:y=Ye(y,w)}for(let v=0;v<this.metricsTensors.length;++v){let b;if(this.outputs.length>1&&v<this.outputs.length)b=n[v];else{const w=this.metricsTensors[v][0],S=this.metricsTensors[v][1];b=Mr(w(s[S],m[S]))}Ps(b),a.push(b)}return y=Mr(y),this.calculateLosses().forEach(v=>{y=Ye(y,v)}),y},l=this.collectedTrainableWeights.map(f=>f.read());return[this.optimizer_.minimize(o,!0,l)].concat(a)}}makeTestFunction(){this.testFunction=e=>Ne(()=>{const n=[];let r;const s=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let u=0;u<this.inputs.length;++u)a.push({key:this.inputs[u],value:s[u]});const o=new Ed(a),l=Rv(this.outputs,o);for(let u=0;u<this.lossFunctions.length;++u){const d=this.lossFunctions[u],f=Mr(d(i[u],l[u]));u===0?r=f:r=Ye(r,f),n.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const d=this.metricsTensors[u][0],f=this.metricsTensors[u][1],p=Mr(d(i[f],l[f]));n.push(p)}return n})}async fit(e,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,i,a,o,l,u,d,f,p;try{const m=r.batchSize==null?32:r.batchSize;L$(m);const v=await this.standardizeUserData(e,n,r.sampleWeight,r.classWeight,!1,m);s=v[0],i=v[1],p=v[2];let b=!1,w;if(r.validationData!=null&&r.validationData.length>0){if(b=!0,r.validationData.length===2)l=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new tn("validationData including sample weights is not supported yet."):new pe(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const z=await this.standardizeUserData(l,u,null,null,!0,m);d=z[0],f=z[1],w=d.concat(f)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){b=!0;const L=Math.floor(s[0].shape[0]*(1-r.validationSplit)),z=s[0].shape[0];d=hv(s,L,z),a=s,s=hv(s,0,L),f=hv(i,L,z),o=i,i=hv(i,0,L),w=d.concat(f)}else r.validationSteps!=null&&(b=!0);const S=s.concat(i).concat(p);this.checkTrainableWeightsConsistency();const C=this.makeTrainFunction(),T=this.getDedupedMetricsNames();let N,O;b?(this.makeTestFunction(),N=this.testFunction,O=T.slice().concat(T.map(L=>"val_"+L))):(N=null,w=[],O=T.slice());const _=sX(r.callbacks,r.yieldEvery);return await this.fitLoop(C,S,T,m,r.epochs,r.verbose,_,N,w,r.shuffle,O,r.initialEpoch,null,null)}finally{this.isTraining=!1,tl(s,e),tl(i,n),tl(a,e),tl(o,n),tl(d,l),tl(f,u),p!=null&&nn(p)}}async fitLoop(e,n,r,s,i,a,o,l,u,d,f,p,m,y){s==null&&(s=32),i==null&&(i=1),d==null&&(d=!0),p==null&&(p=0);let v=!1;if(l!=null&&u!=null&&(v=!0),y!=null&&(v=!0,m==null))throw new pe("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const b=this.checkNumSamples(n,s,m,"steps_per_epoch");let w;b!=null&&(w=yl(0,b)),a==null&&(a=1);const{callbackList:S,history:C}=iX(o,a,i,p,b,m,s,v,f);S.setModel(this),this.history=C,await S.onTrainBegin(),this.stopTraining_=!1;for(let T=p;T<i;++T){await S.onEpochBegin(T);const N={};if(m!=null)throw new tn("stepsPerEpoch mode is not implemented yet.");{if(d==="batch")throw new tn("batch shuffling is not implemneted yet");d&&jve(w);const O=Fi(w),_=F$(b,s);for(let F=0;F<_.length;++F){const L={};if(await S.onBatchBegin(F,L),Ne(()=>{const z=_[F][0],P=_[F][1],R=Th(O,z,P-z);L.batch=F,L.size=P-z;const H=VO(n,R),q=e(H);for(let X=0;X<r.length;++X){const V=r[X],ee=q[X];L[V]=ee,Ps(ee)}if(F===_.length-1&&v){const X=this.testLoop(l,u,s);for(let V=0;V<r.length;++V){const ee=r[V],J=X[V];Ps(J),N["val_"+ee]=J}}}),await S.onBatchEnd(F,L),rX(L),this.stopTraining_)break}O.dispose()}if(await S.onEpochEnd(T,N),this.stopTraining_)break}return await S.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return jNe(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),s=r[0],i=r[1],o=this.makeTrainFunction()(s.concat(i)),l=[];for(const u of o){const d=await u.data();l.push(d[0])}return nn(o),tl(r[0],e),tl(r[1],n),Ki(l)}getNamedWeights(e){const n=[],r=e!=null&&e.trainableOnly,s=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let a=0;a<s.length;++a)r&&!s[a].trainable||n.push({name:s[a].originalName,tensor:i[a]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=mU().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-mU().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=ec(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>ec(n))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")e[s]=ec(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[ec(uw(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>ec(uw(e)));{const e={};for(const n in this.metrics)e[n]=ec(uw(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=WS(e.optimizer_config),r=du(n);let s;if(typeof e.loss=="string")s=dh(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(a=>dh(a));else if(e.loss!=null){s={};for(const a in e.loss)s[a]=dh(e.loss[a])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(a=>dh(a));else if(e.metrics!=null){i={};for(const a in e.metrics)i[a]=dh(e.metrics[a])}this.compile({loss:s,metrics:i,optimizer:r})}async save(e,n){if(typeof e=="string"){const u=TK(e);if(u.length===0)throw new pe(`Cannot find any save handlers for URL '${e}'`);if(u.length>1)throw new pe(`Found more than one (${u.length}) save handlers for URL '${e}'`);e=u[0]}if(e.save==null)throw new pe("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await TO(this.getNamedWeights(n)),o={modelTopology:this.toJSON(null,!1),format:XNe,generatedBy:`TensorFlow.js tfjs-layers v${fX}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){o.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:d,specs:f}=await TO(await this.optimizer.getWeights(),u);r.specs.push(...f),r.data=SK([r.data,d])}return this.userDefinedMetadata!=null&&(ZU(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=r.data,o.weightSpecs=r.specs,e.save(o)}setUserDefinedMetadata(e){ZU(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}zm.className="Model";Ze(zm);class yX extends zm{}yX.className="Functional";Ze(yX);async function rV(t,e){if(e==null&&(e={}),typeof t=="string"){const n=EK(t,e);if(n.length===0)n.push(Y9(t,e));else if(n.length>1)throw new pe(`Found more than one (${n.length}) load handlers for URL '${t}'`);t=n[0]}return YNe(t,void 0,e)}async function YNe(t,e,n){if(n==null&&(n={}),t.load==null)throw new pe("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await t.load();let s=r.modelTopology;s.model_config!=null&&(s=s.model_config);const i=n.strict==null?!0:n.strict,a=r.weightData!=null&&r.weightSpecs!=null&&i,o=du(WS(s),e,a),l=r.trainingConfig;if(l!=null&&o.loadTrainingConfig(l),r.userDefinedMetadata!=null&&o.setUserDefinedMetadata(r.userDefinedMetadata),r.weightData!=null){if(r.weightSpecs==null)throw new pe("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:u,optimizerWeights:d}=ZNe(r.weightData,r.weightSpecs);o.loadWeights(u,i),o.optimizer!=null&&d.length>0&&await o.optimizer.setWeights(d),nn(u),nn(d.map(f=>f.tensor))}return o}function ZNe(t,e){const n=oP(t,e),r={},s=[];return e.forEach(i=>{i.group==="optimizer"?s.push({name:i.name,tensor:n[i.name]}):r[i.name]=n[i.name]}),{modelWeights:r,optimizerWeights:s}}class cb extends zm{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:YT("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new pe(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof cb||e instanceof zm;let r;if(n){if(r=e,r.outputs.length!==1)throw new pe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new pe("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new pe("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=ZEe({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new pe(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new pe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Q7(this.outputs[0])}this.inboundNodes=[],new QT({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Vh(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(An(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new zm({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new No("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new No("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new No("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new No("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},s=!1){let i,a={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new pe("Legacy serialization format not supported yet.");i=n}else Y(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,a=n;const o=new e(a);if(!(o instanceof cb))throw new tn(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const l of i){const d=du(l,void 0,s);s&&d.setFastWeightInitDuringBuild(!0),o.add(d)}return o}set stopTraining(e){if(this.model==null)throw new pe("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new pe("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}cb.className="Sequential";Ze(cb);let wi=class extends Dg{getConfig(){return{}}};class vX extends wi{apply(e,n=1){return PEe(e,n)}}vX.className="elu";Ze(vX);class bX extends wi{apply(e){return AP(e)}}bX.className="selu";Ze(bX);class xX extends wi{apply(e){return Su(e)}}xX.className="relu";Ze(xX);class wX extends wi{apply(e){return Ne(()=>jh(6,Su(e)))}}wX.className="relu6";Ze(wX);let SX=class extends wi{apply(e){return e}};SX.className="linear";Ze(SX);class CX extends wi{apply(e){return au(e)}}CX.className="sigmoid";Ze(CX);class kX extends wi{apply(e){return LEe(e)}}kX.className="hardSigmoid";Ze(kX);class TX extends wi{apply(e){return Ag(e)}}TX.className="softplus";Ze(TX);class EX extends wi{apply(e){return MEe(e)}}EX.className="softsign";Ze(EX);class NX extends wi{apply(e){return Bh(e)}}NX.className="tanh";Ze(NX);let MM=class extends wi{apply(e,n=-1){return zT(e,n)}};MM.className="softmax";Ze(MM);class $X extends wi{apply(e,n=-1){return wP(e,n)}}$X.className="logSoftmax";Ze($X);class IX extends wi{apply(e){return Ne(()=>Ne(()=>{const n=Math.sqrt(2),r=fe(.5,Ye(1,vP(Et(e,n))));return fe(e,r)}))}}IX.className="gelu";Ze(IX);class AX extends wi{apply(e){return Ne(()=>fe(.5,fe(e,Ye(1,Bh(fe(ri(Et(2,Math.PI)),Ye(e,fe(.044715,yc(e,3)))))))))}}AX.className="gelu_new";Ze(AX);class OX extends wi{apply(e){return Ne(()=>fe(e,Bh(Ag(e))))}}OX.className="mish";Ze(OX);class RX extends wi{apply(e,n=1){return Ne(()=>fe(au(fe(e,n)),e))}}RX.className="swish";Ze(RX);function Hd(t){return t.getClassName()}function z$(t,e={}){return Z0(t,To.getMap().classNameMap,e,"activation")}function Gd(t){if(t==null){const e={};return e.className="linear",e.config={},z$(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},z$(e)}else return t instanceof wi?t:z$(t)}function QNe(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class DX extends Dg{}class _X extends DX{constructor(e){super(),QNe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return Ne(()=>{let n=ws([1]);return this.hasL1&&(n=Ye(n,St(fe(this.l1,bs(e))))),this.hasL2&&(n=Ye(n,St(fe(this.l2,J0(e))))),me(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}_X.className="L1L2";Ze(_X);const sV={l1l2:"L1L2"};function rr(t){return SM(t)}function iV(t,e={}){return Z0(t,To.getMap().classNameMap,e,"regularizer")}function wr(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in sV?sV[t]:t,config:{}};return iV(n)}else return t instanceof DX?t:iV(t)}class PX extends cn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=zt(e);let r=Su(e);return this.maxValue!=null&&(r=Ca(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}PX.className="ReLU";Ze(PX);class MX extends cn{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=zt(e);return $T(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}MX.className="LeakyReLU";Ze(MX);class LX extends cn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=xr(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=wr(e.alphaRegularizer),this.alphaConstraint=Es(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new pe(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=An(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)r[s]=e[s];this.inputSpec=[new Cs({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=zt(e),PT(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Or(this.alphaInitializer),alphaRegularizer:rr(this.alphaRegularizer),alphaConstraint:Ts(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}LX.className="PReLU";Ze(LX);let FX=class extends cn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new tn(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=zt(e);return W0(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};FX.className="ELU";Ze(FX);class zX extends cn{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const r=zt(e);return fe(r,ht(Aa(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}zX.className="ThresholdedReLU";Ze(zX);class BX extends cn{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new MM().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return Ne(()=>{let r=zt(e);const s=n.mask;if(s!=null){const i=fe(bt(ga(r.shape),ht(s,r.dtype)),It(-1e9));r=Ye(r,i)}return this.axis instanceof Array?this.axis.length>1?ka(bt(r,AT(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}BX.className="Softmax";Ze(BX);function Bm(t,e,n){if(typeof t=="number")return Vh(t,e);if(t.length!==e)throw new pe(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let r=0;r<e;++r){const s=t[r];if(!OEe(s))throw new pe(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function cl(t,e,n,r,s=1){if(t==null)return t;const i=e+(e-1)*(s-1);let a;return n==="same"?a=t:a=t-i+1,Math.floor((a+r-1)/r)}function Xl(t,e,n,r){if(t==null)return null;if(r==="valid")t=t*e+Wd([n-e,0]);else if(r==="same")t=t*e;else throw new pe(`Unsupport padding mode: ${r}.`);return t}function LM(t,e){return Ne(()=>(Zr(e),e==="channelsFirst"?Sn(t,[0,2,3,1]):t))}function jX(t,e){return Ne(()=>(Zr(e),e==="channelsFirst"?Sn(t,[0,2,3,4,1]):t))}function JNe(t,e,n,r=1,s="valid",i,a=1){return Ne(()=>{if(i==null&&(i=vl()),Zr(i),t.shape.length!==3)throw new pe(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new pe(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new pe(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(i==="channelsFirst"&&(t=Sn(t,[0,2,1])),s==="causal")throw new tn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=hP(t,e,r,s==="same"?"same":"valid","NWC",a);return n!=null&&(o=kl(o,n)),o})}function aV(t,e,n,r=[1,1],s="valid",i,a,o=null){return Ne(()=>{if(i==null&&(i=vl()),Zr(i),t.rank!==3&&t.rank!==4)throw new pe(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new pe(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=LM(t,i);if(s==="causal")throw new tn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=D9({x:l,filter:e,strides:r,pad:s==="same"?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:o}),i==="channelsFirst"&&(l=Sn(l,[0,3,1,2])),l})}function e$e(t,e,n,r=[1,1,1],s="valid",i,a){return Ne(()=>{if(i==null&&(i=vl()),Zr(i),t.rank!==4&&t.rank!==5)throw new pe(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new pe(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let o=jX(t,i);if(s==="causal")throw new tn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=JK(o,e,r,s==="same"?"same":"valid","NDHWC",a),n!=null&&(o=kl(o,n)),i==="channelsFirst"&&(o=Sn(o,[0,4,1,2,3])),o})}class t2 extends cn{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",t2.verifyArgs(n),this.rank=e,Ms(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new tn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Bm(n.kernelSize,e,"kernelSize"),this.strides=Bm(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,to(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Zr(this.dataFormat),this.activation=Gd(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=xr(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Es(n.biasConstraint),this.biasRegularizer=wr(n.biasRegularizer),this.activityRegularizer=wr(n.activityRegularizer),this.dilationRate=Bm(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new pe(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new pe(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new pe(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(Kl("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!CM(e.kernelSize,"number",1,3))throw new pe(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Hd(this.activation),useBias:this.useBias,biasInitializer:Or(this.biasInitializer),biasRegularizer:rr(this.biasRegularizer),activityRegularizer:rr(this.activityRegularizer),biasConstraint:Ts(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class _g extends t2{constructor(e,n){super(e,n),this.kernel=null,_g.verifyArgs(n),this.filters=n.filters,Ms(this.filters,"filters"),this.kernelInitializer=xr(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Es(n.kernelConstraint),this.kernelRegularizer=wr(n.kernelRegularizer)}build(e){e=An(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new pe(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return Ne(()=>{e=zt(e);let r;const s=this.bias==null?null:this.bias.read(),i=L7(this.activation.getClassName());if(i!=null&&this.rank===2)r=aV(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=JNe(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=aV(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=e$e(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new tn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=An(e);const n=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const a=cl(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(a)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:Or(this.kernelInitializer),kernelRegularizer:rr(this.kernelRegularizer),kernelConstraint:Ts(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new pe(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class rx extends _g{constructor(e){super(2,e),rx.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!CM(e.kernelSize,"number",1,2))throw new pe(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}rx.className="Conv2D";Ze(rx);class sx extends _g{constructor(e){super(3,e),sx.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new pe(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}sx.className="Conv3D";Ze(sx);class UX extends rx{constructor(e){if(super(e),this.inputSpec=[new Cs({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new pe(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=An(e),e.length!==4)throw new pe("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new pe("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Cs({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return Ne(()=>{let r=zt(e);if(r.shape.length!==4)throw new pe(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let a,o;this.dataFormat==="channelsFirst"?(a=2,o=3):(a=1,o=2);const l=s[a],u=s[o],d=this.kernelSize[0],f=this.kernelSize[1],p=this.strides[0],m=this.strides[1],y=Xl(l,p,d,this.padding),v=Xl(u,m,f,this.padding),b=[i,y,v,this.filters];this.dataFormat!=="channelsLast"&&(r=Sn(r,[0,2,3,1]));let w=mP(r,this.kernel.read(),b,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(w=Sn(w,[0,3,1,2])),this.bias!=null&&(w=kl(w,this.bias.read(),this.dataFormat)),this.activation!=null&&(w=this.activation.apply(w)),w})}computeOutputShape(e){e=An(e);const n=e.slice();let r,s,i;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3):(r=3,s=1,i=2);const a=this.kernelSize[0],o=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[r]=this.filters,n[s]=Xl(n[s],l,a,this.padding),n[i]=Xl(n[i],u,o,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}UX.className="Conv2DTranspose";Ze(UX);class VX extends sx{constructor(e){if(super(e),this.inputSpec=[new Cs({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new pe(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=An(e),e.length!==5)throw new pe("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new pe("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Cs({ndim:5,axes:{[n]:r}})],this.built=!0}call(e,n){return Ne(()=>{let r=zt(e);if(r.shape.length!==5)throw new pe(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let a,o,l;this.dataFormat==="channelsFirst"?(l=2,a=3,o=4):(l=1,a=2,o=3);const u=s[l],d=s[a],f=s[o],p=this.kernelSize[0],m=this.kernelSize[1],y=this.kernelSize[2],v=this.strides[0],b=this.strides[1],w=this.strides[2],S=Xl(u,v,p,this.padding),C=Xl(d,b,m,this.padding),T=Xl(f,w,y,this.padding),N=[i,S,C,T,this.filters];this.dataFormat!=="channelsLast"&&(r=Sn(r,[0,2,3,4,1]));let O=t9(r,this.kernel.read(),N,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(O=Sn(O,[0,4,1,2,3])),this.bias!==null&&(O=kl(O,this.bias.read(),this.dataFormat)),this.activation!==null&&(O=this.activation.apply(O)),O})}computeOutputShape(e){e=An(e);const n=e.slice();let r,s,i,a;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3,a=4):(r=4,s=1,i=2,a=3);const o=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],d=this.strides[0],f=this.strides[1],p=this.strides[2];return n[r]=this.filters,n[s]=Xl(n[s],d,o,this.padding),n[i]=Xl(n[i],f,l,this.padding),n[a]=Xl(n[a],p,u,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}VX.className="Conv3DTranspose";Ze(VX);class WX extends _g{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new pe("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new pe("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new pe(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=xr(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=wr(n.depthwiseRegularizer),this.depthwiseConstraint=Es(n.depthwiseConstraint),this.pointwiseInitializer=xr(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=wr(n.pointwiseRegularizer),this.pointwiseConstraint=Es(n.pointwiseConstraint)}build(e){if(e=An(e),e.length<this.rank+2)throw new pe(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new pe(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],s=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let o=0;o<this.rank;++o)i.push(1);i.push(r*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new Cs({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return Ne(()=>{e=zt(e);let r;if(this.rank===1)throw new tn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Sn(e,[0,2,3,1])),r=OP(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=kl(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=Sn(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Or(this.depthwiseInitializer),e.pointwiseInitializer=Or(this.pointwiseInitializer),e.depthwiseRegularizer=rr(this.depthwiseRegularizer),e.pointwiseRegularizer=rr(this.pointwiseRegularizer),e.depthwiseConstraint=Ts(this.depthwiseConstraint),e.pointwiseConstraint=Ts(this.pointwiseConstraint),e}}WX.className="SeparableConv";class HX extends WX{constructor(e){super(2,e)}}HX.className="SeparableConv2D";Ze(HX);class n2 extends _g{constructor(e){super(1,e),n2.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!CM(e.kernelSize,"number",1,1))throw new pe(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}n2.className="Conv1D";Ze(n2);class GX extends cn{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return Ne(()=>{if(e=zt(e),this.dataFormat==="channelsLast"){const r=lw(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return lw(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=lw(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return lw(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}GX.className="Cropping2D";Ze(GX);class qX extends cn{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Zr(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,$Ee(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,r]}else{const n=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return Ne(()=>{let r=zt(e);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=Sn(r,[0,2,3,1]);const i=this.size[0]*s[2],a=this.size[1]*s[3],o=this.interpolation==="nearest"?ll.resizeNearestNeighbor(r,[i,a]):ll.resizeBilinear(r,[i,a]);return Sn(o,[0,3,1,2])}else{const i=this.size[0]*s[1],a=this.size[1]*s[2];return this.interpolation==="nearest"?ll.resizeNearestNeighbor(r,[i,a]):ll.resizeBilinear(r,[i,a])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}qX.className="UpSampling2D";Ze(qX);function t$e(t,e,n=[1,1],r="valid",s,i){return Ne(()=>{s==null&&(s=vl()),Zr(s);let a=LM(t,s);if(t.rank!==4)throw new pe(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new pe(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return a=V0(a,e,n,r==="same"?"same":"valid","NHWC",i),s==="channelsFirst"&&(a=Sn(a,[0,3,1,2])),a})}class KX extends t2{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=xr(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Es(e.depthwiseConstraint),this.depthwiseRegularizer=wr(e.depthwiseRegularizer)}build(e){if(e=An(e),e.length<4)throw new pe(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new pe(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ne(()=>{e=zt(e);let r=t$e(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=kl(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=An(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=cl(n,this.kernelSize[0],this.padding,this.strides[0]),a=cl(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,i,a]:[e[0],i,a,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Or(this.depthwiseInitializer),e.depthwiseRegularizer=rr(this.depthwiseRegularizer),e.depthwiseConstraint=Ts(this.depthwiseRegularizer),e}}KX.className="DepthwiseConv2D";Ze(KX);function XX(t,e,n,r){if(Array.isArray(t)){if(e!=null||n!=null)throw new pe("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(i){return i==null||Array.isArray(i)?i:[i]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function YX(t,e,n,r=!1,s,i,a=!1,o=!1){return Ne(()=>{const l=e.shape.length;if(l<3)throw new pe(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(yl(2,l));e=Sn(e,u),a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=ht(ht(s,"bool"),"float32"),s.rank===l-1&&(s=Ri(s,-1)),s=Sn(s,u)),r&&(e=Mo(e,0),s!=null&&(s=Mo(s,0)));const d=[];let f,p=n;const m=e.shape[0],y=Lo(e);let v;s!=null&&(v=Lo(s));for(let w=0;w<m;++w){const S=y[w],C=Ne(()=>t(S,p));if(s==null)f=C[0],p=C[1];else{const T=Ne(()=>{const N=v[w],O=bt(Za(N),N),_=Ye(fe(C[0],N),fe(p[0],O)),F=p.map((L,z)=>Ye(fe(C[1][z],N),fe(L,O)));return{output:_,newStates:F}});f=T.output,p=T.newStates}o&&d.push(f)}let b;return o&&(b=Ta(d,1)),[f,b,p]})}class ff extends cn{constructor(e){super(e);let n;if(e.cell==null)throw new pe("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new BM({cells:e.cell}):n=e.cell,n.stateSize==null)throw new pe("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Cs({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return yl(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){zO(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[e[0],e[1],r]:s=[e[0],r],this.returnState){const i=[];for(const a of n)i.push([e[0],a]);return[s].concat(i)}else return s}computeMask(e,n){return Ne(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(i=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new tn("Constants support is not implemented in RNN yet.");zO(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new Cs({shape:[n,null,...r]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!yn(this.stateSpec.map(a=>a.shape[a.shape.length-1]),i))throw new pe(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(a=>new Cs({shape:[null,a]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){Ne(()=>{if(!this.stateful)throw new ql("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new pe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>ws([r,s])):this.states_=[ws([r,this.cell.stateSize])];else if(e==null)nn(this.states_),this.keptStates!=null&&(nn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>ws([r,s])):this.states_[0]=ws([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new pe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):nn(this.states_);for(let s=0;s<this.states_.length;++s){const i=e[s],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,o=[r,a];if(!yn(i.shape,o))throw new pe(`State ${s} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${i.shape}`);this.states_[s]=i}}this.states_=this.states_.map(s=>Ps(s.clone()))})}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=XX(e,r,s,this.numConstants);e=i.inputs,r=i.initialState,s=i.constants;let a=[],o=[];if(r!=null){n.initialState=r,a=a.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new Cs({shape:u.shape}));o=o.concat(this.stateSpec)}if(s!=null&&(n.constants=s,a=a.concat(s),this.numConstants=s.length),a[0]instanceof mu){const u=[e].concat(a),d=this.inputSpec.concat(o),f=this.inputSpec;this.inputSpec=d;const p=super.apply(u,n);return this.inputSpec=f,p}else return super.apply(e,n)}call(e,n){return Ne(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let i=n==null?null:n.initialState;e=zt(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==a)throw new pe(`RNN Layer has ${a} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:s},u=YX((y,v)=>{const b=this.cell.call([y].concat(v),o);return[b[0],b.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),d=u[0],f=u[1],p=u[2];this.stateful&&this.resetStates(p,s);const m=this.returnSequences?f:d;return this.returnState?[m].concat(p):m})}getInitialState(e){return Ne(()=>{let n=ws(e.shape);return n=St(n,[1,2]),n=Q0(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?LO(n,[1,r]):n):this.cell.stateSize>1?[LO(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===ff.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),n)}static fromConfig(e,n,r={}){const s=n.cell,i=du(s,r);return new e(Object.assign(n,{cell:i}))}}ff.className="RNN";Ze(ff);class r2 extends cn{}class FM extends r2{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ms(this.units,"units"),this.activation=Gd(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=wr(e.kernelRegularizer),this.recurrentRegularizer=wr(e.recurrentRegularizer),this.biasRegularizer=wr(e.biasRegularizer),this.kernelConstraint=Es(e.kernelConstraint),this.recurrentConstraint=Es(e.recurrentConstraint),this.biasConstraint=Es(e.biasConstraint),this.dropout=tg([1,Wd([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=tg([1,Wd([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=An(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ne(()=>{if(e=e,e.length!==2)throw new pe(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=qd({ones:()=>Za(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=qd({ones:()=>Za(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let i;const a=this.dropoutMask,o=this.recurrentDropoutMask;a!=null?i=cu(fe(e,a),this.kernel.read()):i=cu(e,this.kernel.read()),this.bias!=null&&(i=kl(i,this.bias.read())),o!=null&&(r=fe(r,o));let l=Ye(i,cu(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Hd(this.activation),useBias:this.useBias,kernelInitializer:Or(this.kernelInitializer),recurrentInitializer:Or(this.recurrentInitializer),biasInitializer:Or(this.biasInitializer),kernelRegularizer:rr(this.kernelRegularizer),recurrentRegularizer:rr(this.recurrentRegularizer),biasRegularizer:rr(this.biasRegularizer),activityRegularizer:rr(this.activityRegularizer),kernelConstraint:Ts(this.kernelConstraint),recurrentConstraint:Ts(this.recurrentConstraint),biasConstraint:Ts(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}FM.className="SimpleRNNCell";Ze(FM);class ZX extends ff{constructor(e){e.cell=new FM(e),super(e)}call(e,n){return Ne(()=>{this.cell.dropoutMask!=null&&(nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return new e(n)}}ZX.className="SimpleRNN";Ze(ZX);class zM extends r2{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new pe("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Ms(this.units,"units"),this.activation=Gd(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Gd(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=wr(e.kernelRegularizer),this.recurrentRegularizer=wr(e.recurrentRegularizer),this.biasRegularizer=wr(e.biasRegularizer),this.kernelConstraint=Es(e.kernelConstraint),this.recurrentConstraint=Es(e.recurrentConstraint),this.biasConstraint=Es(e.biasConstraint),this.dropout=tg([1,Wd([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=tg([1,Wd([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=An(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ne(()=>{if(e=e,e.length!==2)throw new pe(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=qd({ones:()=>Za(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=qd({ones:()=>Za(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let o,l,u;0<this.dropout&&this.dropout<1&&(e=fe(e,i[0]));let d=cu(e,this.kernel.read());this.useBias&&(d=kl(d,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=fe(s,a[0]));const f=this.recurrentKernel.read(),[p,m]=va(f,[2*this.units,this.units],f.rank-1),y=cu(s,p),[v,b,w]=va(d,3,d.rank-1),[S,C]=va(y,2,y.rank-1);o=this.recurrentActivation.apply(Ye(v,S)),l=this.recurrentActivation.apply(Ye(b,C));const T=cu(fe(l,s),m);u=this.activation.apply(Ye(w,T));const N=Ye(fe(o,s),fe(Ye(1,dr(o)),u));return[N,N]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Hd(this.activation),recurrentActivation:Hd(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Or(this.kernelInitializer),recurrentInitializer:Or(this.recurrentInitializer),biasInitializer:Or(this.biasInitializer),kernelRegularizer:rr(this.kernelRegularizer),recurrentRegularizer:rr(this.recurrentRegularizer),biasRegularizer:rr(this.biasRegularizer),activityRegularizer:rr(this.activityRegularizer),kernelConstraint:Ts(this.kernelConstraint),recurrentConstraint:Ts(this.recurrentConstraint),biasConstraint:Ts(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}zM.className="GRUCell";Ze(zM);class QX extends ff{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new zM(e),super(e)}call(e,n){return Ne(()=>{this.cell.dropoutMask!=null&&(nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}QX.className="GRU";Ze(QX);class s2 extends r2{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ms(this.units,"units"),this.activation=Gd(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Gd(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=xr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=wr(e.kernelRegularizer),this.recurrentRegularizer=wr(e.recurrentRegularizer),this.biasRegularizer=wr(e.biasRegularizer),this.kernelConstraint=Es(e.kernelConstraint),this.recurrentConstraint=Es(e.recurrentConstraint),this.biasConstraint=Es(e.biasConstraint),this.dropout=tg([1,Wd([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=tg([1,Wd([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=An(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,a=this.units;s=new(n=class extends Wo{apply(l,u){const d=i.apply([a]),f=new TM().apply([a]),p=i.apply([a*2]);return UU(UU(d,f),p)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return Ne(()=>{const r=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new pe(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=qd({ones:()=>Za(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=qd({ones:()=>Za(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=this.recurrentDropoutMask;let l,u,d,f;0<this.dropout&&this.dropout<1&&(e=fe(e,a[0]));let p=cu(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=fe(s,o[0])),p=Ye(p,cu(s,this.recurrentKernel.read())),this.useBias&&(p=kl(p,this.bias.read()));const[m,y,v,b]=va(p,4,p.rank-1);l=this.recurrentActivation.apply(m),u=this.recurrentActivation.apply(y),d=Ye(fe(u,i),fe(l,this.activation.apply(v))),f=this.recurrentActivation.apply(b);const w=fe(f,this.activation.apply(d));return[w,w,d]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Hd(this.activation),recurrentActivation:Hd(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Or(this.kernelInitializer),recurrentInitializer:Or(this.recurrentInitializer),biasInitializer:Or(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:rr(this.kernelRegularizer),recurrentRegularizer:rr(this.recurrentRegularizer),biasRegularizer:rr(this.biasRegularizer),activityRegularizer:rr(this.activityRegularizer),kernelConstraint:Ts(this.kernelConstraint),recurrentConstraint:Ts(this.recurrentConstraint),biasConstraint:Ts(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}s2.className="LSTMCell";Ze(s2);class JX extends ff{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new s2(e),super(e)}call(e,n){return Ne(()=>{this.cell.dropoutMask!=null&&(nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}JX.className="LSTM";Ze(JX);class BM extends r2{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return Ne(()=>{e=e;let r=e.slice(1);const s=[];for(const o of this.cells.slice().reverse())Array.isArray(o.stateSize)?s.push(r.splice(0,o.stateSize.length)):s.push(r.splice(0,1));s.reverse();const i=[];let a;for(let o=0;o<this.cells.length;++o){const l=this.cells[o];r=s[o],o===0?a=[e[0]].concat(r):a=[a[0]].concat(r),a=l.call(a,n),i.push(a.slice(1))}r=[];for(const o of i.slice().reverse())r.push(...o);return[a[0]].concat(r)})}build(e){zO(e)&&(e=e[0]),e=e;let n;this.cells.forEach((r,s)=>{kh(`RNNCell_${s}`,()=>{r.build(e),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),s)}static fromConfig(e,n,r={}){const s=[];for(const i of n.cells)s.push(du(i,r));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return BO(e)}setWeights(e){const n=[];for(const r of this.cells){const s=r.weights.length,i=e.splice(s);for(let a=0;a<r.weights.length;++a)n.push([r.weights[a],i[a]])}RM(n)}}BM.className="StackedRNNCells";Ze(BM);function qd(t){const{ones:e,rate:n,training:r=!1,count:s=1,dropoutFunc:i}=t,a=()=>i!=null?i(e(),n):W7(e(),n),o=()=>ex(a,e,r);return!s||s<=1?Ps(o().clone()):Array(s).fill(void 0).map(o).map(u=>Ps(u.clone()))}var n$e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class eY extends ff{constructor(e){if(e.unroll)throw new tn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new tn("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Cs({ndim:5})]}call(e,n){return Ne(()=>{if(this.cell.dropoutMask!=null&&(nn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(nn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new pe("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return Ne(()=>{const{stateSize:n}=this.cell,r=e.shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)],a=ws(i);return Array.isArray(n)?Array(n.length).fill(a):[a]})}resetStates(e,n=!1){Ne(()=>{if(!this.stateful)throw new ql("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)];if(r[0]==null)throw new pe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>ws(i)):this.states_=[ws(i)];else if(e==null)nn(this.states_),this.keptStates!=null&&(nn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>ws(i)):this.states_[0]=ws(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new pe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):nn(this.states_);for(let o=0;o<this.states_.length;++o){const l=e[o],u=i;if(!yn(l.shape,u))throw new pe(`State ${o} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[o]=l}}this.states_=this.states_.map(o=>Ps(o.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:s,padding:i,strides:a,dilationRate:o}=this.cell,l=n==="channelsFirst",u=e[l?3:2],d=e[l?4:3],f=cl(u,s[0],i,a[0],o[0]),p=cl(d,s[1],i,a[1],o[1]);return[...e.slice(0,2),...l?[r,f,p]:[f,p,r]]}}eY.className="ConvRNN2D";class jM extends s2{constructor(e){const{filters:n,kernelSize:r,strides:s,padding:i,dataFormat:a,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,Ms(this.filters,"filters"),this.kernelSize=Bm(r,2,"kernelSize"),this.kernelSize.forEach(l=>Ms(l,"kernelSize")),this.strides=Bm(s||1,2,"strides"),this.strides.forEach(l=>Ms(l,"strides")),this.padding=i||"valid",to(this.padding),this.dataFormat=a||"channelsLast",Zr(this.dataFormat),this.dilationRate=Bm(o||1,2,"dilationRate"),this.dilationRate.forEach(l=>Ms(l,"dilationRate"))}build(e){var n;e=An(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new pe(`The channel dimension of the input should be defined. Found ${e[r]}`);const s=e[r],i=4,a=this.kernelSize.concat([s,this.filters*i]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,d=this.filters;l=new(n=class extends Wo{apply(p,m){const y=u.apply([d]),v=ga([d]),b=u.apply([d*2]);return kM([y,v,b])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return Ne(()=>{if(e.length!==3)throw new pe(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,s=e[0],i=e[1],a=e[2],o=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=qd({ones:()=>Za(s),rate:this.dropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(ce,G,ne)=>!G||!G[ne]?ce:fe(G[ne],ce);let d=u(s,l,0),f=u(s,l,1),p=u(s,l,2),m=u(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=qd({ones:()=>Za(i),rate:this.recurrentDropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const y=this.recurrentDropoutMask;let v=u(i,y,0),b=u(i,y,1),w=u(i,y,2),S=u(i,y,3);const C=3,[T,N,O,_]=va(this.kernel.read(),o,C),[F,L,z,P]=this.useBias?va(this.bias.read(),o):[null,null,null,null];d=this.inputConv(d,T,F,this.padding),f=this.inputConv(f,N,L,this.padding),p=this.inputConv(p,O,z,this.padding),m=this.inputConv(m,_,P,this.padding);const[R,H,q,X]=va(this.recurrentKernel.read(),o,C);v=this.recurrentConv(v,R),b=this.recurrentConv(b,H),w=this.recurrentConv(w,q),S=this.recurrentConv(S,X);const V=this.recurrentActivation.apply(Ye(d,v)),ee=this.recurrentActivation.apply(Ye(f,b)),J=Ye(fe(ee,a),fe(V,this.activation.apply(Ye(p,w)))),te=fe(this.recurrentActivation.apply(Ye(m,S)),this.activation.apply(J));return[te,te,J]})}getConfig(){const e=super.getConfig(),{units:n}=e,r=n$e(e,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},r),s)}inputConv(e,n,r,s){const i=Vd(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?kl(i,r,this.dataFormat):i}recurrentConv(e,n){return Vd(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}jM.className="ConvLSTM2DCell";Ze(jM);class tY extends eY{constructor(e){const n=new jM(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}tY.className="ConvLSTM2D";Ze(tY);class UM extends cn{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const r=zt(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,i=this.getNoiseShape(r);return ex(()=>W7(r,this.rate,i,this.seed),()=>r,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}UM.className="Dropout";Ze(UM);class nY extends UM{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}nY.className="SpatialDropout1D";Ze(nY);class rY extends cn{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,Ms(this.units,"units"),this.activation=Gd(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=xr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=xr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Es(e.kernelConstraint),this.biasConstraint=Es(e.biasConstraint),this.kernelRegularizer=wr(e.kernelRegularizer),this.biasRegularizer=wr(e.biasRegularizer),this.activityRegularizer=wr(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=An(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=An(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const r=zt(e),s=L7(this.activation.getClassName());let i;return s!=null?i=cu(r,this.kernel.read(),s,this.bias?this.bias.read():null):(i=cu(r,this.kernel.read()),this.bias!=null&&(i=kl(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:Hd(this.activation),useBias:this.useBias,kernelInitializer:Or(this.kernelInitializer),biasInitializer:Or(this.biasInitializer),kernelRegularizer:rr(this.kernelRegularizer),biasRegularizer:rr(this.biasRegularizer),activityRegularizer:rr(this.activityRegularizer),kernelConstraint:Ts(this.kernelConstraint),biasConstraint:Ts(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}rY.className="Dense";Ze(rY);class sY extends cn{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=An(e);for(const n of e.slice(1))if(n==null)throw new pe(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Dd(e,1)]}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);let r=zt(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let i=2;i<r.rank;++i)s.push(i);s.push(1),r=Sn(r,s)}return _Ee(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}sY.className="Flatten";Ze(sY);class iY extends cn{constructor(e){super(e),this.supportsMasking=!0,this.activation=Gd(e.activation)}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const r=zt(e);return this.activation.apply(r)})}getConfig(){const e={activation:Hd(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}iY.className="Activation";Ze(iY);class aY extends cn{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return Ne(()=>(e=zt(e),REe(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}aY.className="RepeatVector";Ze(aY);class oY extends cn{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",s=n.slice();let i=1,a=null;for(let l=0;l<s.length;++l){const u=s[l];if(this.isUnknown(u))if(a===null)a=l;else throw new pe("Can only specifiy one unknown dimension.");else i*=u}const o=Dd(e);if(a!==null){if(i===0||o%i!==0)throw new pe(r);s[a]=o/i}else if(o!==i)throw new pe(r);return s}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const r=zt(e),s=r.shape,i=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return me(r,i)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}oY.className="Reshape";Ze(oY);class lY extends cn{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=yl(1,e.dims.length+1);if(!yn(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Cs({ndim:this.dims.length+1})]}computeOutputShape(e){e=An(e);const n=e.slice();return this.dims.forEach((r,s)=>{n[s+1]=e[r]}),n}call(e,n){return Sn(zt(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}lY.className="Permute";Ze(lY);class uY extends cn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=zt(e);return DS(Jm(r,this.maskValue),-1)}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const r=zt(e),a=DS(Jm(r,this.maskValue),-1,!0);return fe(r,ht(a,r.dtype))})}}uY.className="Masking";Ze(uY);class cY extends cn{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(jn(e.inputLength))}this.inputDim=e.inputDim,Ms(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Ms(this.outputDim,"outputDim"),this.embeddingsInitializer=xr(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=wr(e.embeddingsRegularizer),this.activityRegularizer=wr(e.activityRegularizer),this.embeddingsConstraint=Es(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return Ne(()=>this.maskZero?(e=zt(e),Jm(e,Cn(e))):null)}computeOutputShape(e){if(e=An(e),this.inputLength==null)return[...e,this.outputDim];const n=jn(this.inputLength);if(n.length!==e.length-1)throw new pe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let s=0;s<n.length;++s){const i=n[s],a=e[s+1];if(i!=null&&a!=null&&i!==a)throw new pe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(n[r]=a),r++}}return[e[0],...n,this.outputDim]}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);let r=zt(e);r.dtype!=="int32"&&(r=uu(r,"int32"));const s=V7(this.embeddings.read(),me(r,[r.size]));return me(s,An(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Or(this.embeddingsInitializer),embeddingsRegularizer:rr(this.embeddingsRegularizer),activityRegularizer:rr(this.activityRegularizer),embeddingsConstraint:Ts(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}cY.className="Embedding";Ze(cY);class up extends cn{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new tn}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const r=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const i=e[e.length-n.length+s],a=n[s];if(i==null||a==null||i<0||a<0)r.push(null);else if(i===1)r.push(a);else if(a===1)r.push(i);else{if(i!==a)throw new pe("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[An(e)]),e=e,e.length<2)throw new pe(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const i of e)i!=null&&i[0]!==null&&n.push(i[0]);if(n=Rd(n),n.length>1)throw new pe(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const a=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,a)}const s=e.map(i=>i.length);e.indexOf(null)===-1&&Rd(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return Ne(()=>{if(e=e,this.reshapeRequired){const r=[],s=e.map(i=>i.rank);if(s.indexOf(null)===-1){const i=Wd(s);for(let a of e){const o=a.rank;for(let l=0;l<i-o;++l)a=Q0(a,1);r.push(a)}return this.mergeFunction(r)}else{let i=!1;for(const l of e){const u=l.rank;if(u==null){const d=l.shape,f=d[0],p=d.slice(1).concat([f]);let m=me(l,[f].concat(Dd(d.slice(1))));m=Sn(m,[1,0]),m=me(m,p),r.push(m),i=!0}else if(u>1){const d=yl(1,u).concat([0]);r.push(Sn(l,d)),i=!0}else r.push(l)}let a=this.mergeFunction(r);const o=a.rank;if(i){if(o==null){const l=a.shape,u=l.length,d=l[u-1],f=[d].concat(l.slice(0,l.length-1));a=me(Sn(me(a,[-1,d]),[1,0]),f)}else if(o>1){const l=[o-1].concat(yl(0,o-1));a=Sn(a,l)}}return a}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const s of e)s!=null&&s[0]!==null&&r.push(s[0]);return r=Rd(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(e,n){return Ne(()=>{if(n==null)return null;if(!Array.isArray(n))throw new pe("`mask` should be an Array");if(!Array.isArray(e))throw new pe("`inputs` should be an Array");if(n.length!==e.length)throw new pe(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:Ri(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=pu(r,n[s]);return r})}}class dY extends up{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Ye(n,e[r]);return n})}}dY.className="Add";Ze(dY);class fY extends up{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=fe(n,e[r]);return n})}}fY.className="Multiply";Ze(fY);class hY extends up{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Ye(n,e[r]);return fe(1/e.length,n)})}}hY.className="Average";Ze(hY);class pY extends up{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=Ac(n,e[r]);return n})}}pY.className="Maximum";Ze(pY);class mY extends up{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=jh(n,e[r]);return n})}}mY.className="Minimum";Ze(mY);class gY extends up{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new pe("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<e.length;++s){const i=e[s].slice();i.splice(this.axis,1);let a=!1;for(const o of r)if(yn(o,i)){a=!0;break}a||r.push(i)}if(r.length>1)throw new pe("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Ne(()=>kM(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new pe("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[s]==null||i[s]==null){r[s]=null;break}r[s]+=i[s]}return r}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new pe("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new pe("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new pe(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return Ne(()=>{let r=!0;if(n.forEach(a=>{if(a!=null){r=!1;return}}),r)return null;const s=[];for(let a=0;a<e.length;++a)n[a]==null?s.push(ht(Za(e[a]),"bool")):n[a].rank<e[a].rank?s.push(Ri(n[a],-1)):s.push(n[a]);const i=us(s,this.axis);return dP(i,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}gY.className="Concatenate";Ze(gY);function pv(t,e){for(;t<0;)t+=e;return t}function r$e(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new tn("batchDot is not implemented for tensors of 4D or higher rank yet");if(Y(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),Y(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new tn("batchDot is not implemented for complex64-type Tensors yet.");const r=t.shape.length,s=e.shape.length;n==null&&(n=[r-1,s-2]);const i=n;return Ne(()=>{let a;if(r>s){a=r-s;const l=[];for(let u=0;u<a;++u)l.push(1);e=me(e,e.shape.concat(l))}else if(s>r){a=s-r;const l=[];for(let u=0;u<a;++u)l.push(1);t=me(t,t.shape.concat(l))}else a=0;let o;if(t.shape.length===2&&e.shape.length===2)i[0]===i[1]?o=St(fe(t,e),i[0]):o=St(fe(Sn(t,[1,0]),e),i[1]);else{const l=i[0]!==t.shape.length-1,u=i[1]===e.shape.length-1;o=dn(t,e,l,u)}if(a>0){let l;r>s?l=r+s-3:l=r-1;const u=[];for(let d=l;d<l+a;++d)u.push(d);o=ap(o,u)}return o.shape.length===1&&(o=Ri(o,1)),o})}let yY=class extends up{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Y(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new tn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new pe(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(e){if(e.length!==2)throw new pe(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],r=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((i,a)=>pv(i,e[a].shape.length)):s=[pv(this.axes,n.shape.length),pv(this.axes,r.shape.length)],this.normalize&&(n=zS(n,s[0]),r=zS(r,s[1])),r$e(n,r,s)}interpretAxes(e,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[pv(this.axes,e.length),pv(this.axes,n.length)],r}computeOutputShape(e){Y(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new tn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}};yY.className="Dot";Ze(yY);class vY extends cn{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const r=zt(e);return ex(()=>Ye(ZT(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}vY.className="GaussianNoise";Ze(vY);class bY extends cn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const r=zt(e);return this.rate>0&&this.rate<1?ex(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return fe(r,ZT(r.shape,1,i))},()=>r,n.training||!1):r})}}bY.className="GaussianDropout";Ze(bY);class xY extends cn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||zt(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Ne(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return ex(()=>{const i=zt(e),o=-1.6732632423543772*1.0507009873554805;let l=uf(ip(r),this.rate);l=uu(l,"float32");const u=((1-this.rate)*(1+this.rate*o**2))**-.5,d=-u*o*this.rate,f=Ye(fe(i,l),fe(Ye(l,-1),o));return Ye(fe(f,u),d)},()=>zt(e),n.training||!1)}return e})}}xY.className="AlphaDropout";Ze(xY);function db(t,e,n,r,s,i=.001){let a;if(t.rank===2)a=WK(t,e,n,r,s,i);else if(t.rank===3)a=HK(t,e,n,r,s,i);else if(t.rank===4)a=GK(t,e,n,r,s,i);else throw new tn(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return a}function s$e(t,e,n,r,s=.001){return Ne(()=>{const i=DT(t,r),a=i.mean,o=i.variance;return[db(t,a,o,n,e,s),a,o]})}function i$e(t,e,n,r,s=.001){return Ne(()=>{const i=DT(t,r),a=i.mean,o=i.variance,l=[];for(const y of yl(0,t.rank))r.indexOf(y)!==-1?l.push(1):l.push(t.shape[y]);const u=me(a,l),d=me(o,l),f=e==null?null:me(e,l),p=n==null?null:me(n,l);return[db(t,u,d,p,f,s),a,o]})}function a$e(t,e,n,r,s=.001){return yn(r.slice().sort(),yl(0,t.rank-1))?s$e(t,e,n,r,s):i$e(t,e,n,r,s)}class wY extends cn{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=xr(e.betaInitializer||"zeros"),this.gammaInitializer=xr(e.gammaInitializer||"ones"),this.movingMeanInitializer=xr(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=xr(e.movingVarianceInitializer||"ones"),this.betaConstraint=Es(e.betaConstraint),this.gammaConstraint=Es(e.gammaConstraint),this.betaRegularizer=wr(e.betaRegularizer),this.gammaRegularizer=wr(e.gammaRegularizer)}build(e){e=An(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(r==null)throw new pe(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Cs({ndim:e.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return Ne(()=>{const r=n.training==null?!1:n.training,s=zt(e),i=s.shape,a=i.length,o=yl(0,a),l=this.axis>=0?this.axis:this.axis+a;o.splice(l,1);const u=Vh(1,a);u[l]=i[l];const d=o.slice();d.sort();const f=!yn(d,yl(0,a).slice(0,a-1)),p=()=>{if(f){const S=me(this.movingMean.read(),u),C=me(this.movingVariance.read(),u),T=this.center?me(this.beta.read(),u):null,N=this.scale?me(this.gamma.read(),u):null;return db(s,S,C,T,N,this.epsilon)}else return db(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return p();const[m,y,v]=a$e(s,this.gamma.read(),this.beta.read(),o,this.epsilon),b=(S,C,T)=>{Ne(()=>{const N=1-T,O=S.read(),_=fe(bt(O,C),N);S.write(bt(O,_))})};return b(this.movingMean,y,this.momentum),b(this.movingVariance,v,this.momentum),m})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Or(this.betaInitializer),gammaInitializer:Or(this.gammaInitializer),movingMeanInitializer:Or(this.movingMeanInitializer),movingVarianceInitializer:Or(this.movingVarianceInitializer),betaRegularizer:rr(this.betaRegularizer),gammaRegularizer:rr(this.gammaRegularizer),betaConstraint:Ts(this.betaConstraint),gammaConstraint:Ts(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}wY.className="BatchNormalization";Ze(wY);class SY extends cn{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=xr(e.betaInitializer||"zeros"),this.gammaInitializer=xr(e.gammaInitializer||"ones"),this.betaRegularizer=wr(e.betaRegularizer),this.gammaRegularizer=wr(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=An(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==Rd(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const r=zt(e),s=r.shape,i=s.length;return Ne(()=>{let{mean:o,variance:l}=DT(r,this.axis,!0);const u=Vh(1,i);for(const v of this.axis)u[v]=s[v];const d=v=>v!=null&&v.shape.length!==i?me(v,u):v;let f=this.scale?d(this.gamma.read()):null,p=this.center?d(this.beta.read()):null;const m=[],y=[];for(let v=0;v<i;++v)this.axis.indexOf(v)!==-1?(m.push(s[v]),y.push(1)):(m.push(1),y.push(s[v]));return o=Eo(o,m),l=Eo(l,m),f!=null&&(f=Eo(f,y)),p!=null&&(p=Eo(p,y)),db(r,o,l,p,f,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Or(this.betaInitializer),gammaInitializer:Or(this.gammaInitializer),betaRegularizer:rr(this.betaRegularizer),gammaRegularizer:rr(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}SY.className="LayerNormalization";Ze(SY);function o$e(t,e,n){return Ne(()=>{if(t.rank!==4)throw new pe(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new pe("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=vl()),n!=="channelsLast"&&n!=="channelsFirst")throw new pe(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],cf(t,r)})}class CY extends cn{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?vl():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new pe(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new pe(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new pe(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new Cs({ndim:4})]}computeOutputShape(e){e=An(e);let n,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],n,r]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],n,r,e[3]])}call(e,n){return Ne(()=>o$e(zt(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}CY.className="ZeroPadding2D";Ze(CY);function i2(t,e,n,r,s,i){return Ne(()=>{Zr(s),z7(i),to(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=vl()),i==null&&(i="max"),t=LM(t,s);let a;const o=r==="same"?"same":"valid";return i==="max"?a=RT(t,e,n,o):a=kT(t,e,n,o),s==="channelsFirst"&&(a=Sn(a,[0,3,1,2])),a})}function kY(t,e,n,r,s,i){return Ne(()=>{Zr(s),z7(i),to(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=vl()),i==null&&(i="max"),t=jX(t,s);let a;const o=r==="same"?"same":"valid";return i==="max"?a=g9(t,e,n,o):a=VK(t,e,n,o),s==="channelsFirst"&&(a=Sn(a,[0,4,1,2,3])),a})}class TY extends cn{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new pe(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(Ms(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new pe(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);Ms(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,to(this.padding),this.inputSpec=[new Cs({ndim:3})]}computeOutputShape(e){e=An(e);const n=cl(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return Ne(()=>{this.invokeCallHook(e,n),e=Q0(zt(e),2);const r=this.poolingFunction(zt(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return ap(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class EY extends TY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Zr(i),to(s),i2(e,n,r,s,i,"max")}}EY.className="MaxPooling1D";Ze(EY);class NY extends TY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Zr(i),to(s),i2(e,n,r,s,i,"avg")}}NY.className="AveragePooling1D";Ze(NY);class $Y extends cn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new pe(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Ms(this.poolSize,"poolSize"),Ms(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Zr(this.dataFormat),to(this.padding),this.inputSpec=[new Cs({ndim:4})]}computeOutputShape(e){e=An(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=cl(n,this.poolSize[0],this.padding,this.strides[0]),r=cl(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return Ne(()=>(this.invokeCallHook(e,n),this.poolingFunction(zt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class IY extends $Y{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Zr(i),to(s),i2(e,n,r,s,i,"max")}}IY.className="MaxPooling2D";Ze(IY);class AY extends $Y{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Zr(i),to(s),i2(e,n,r,s,i,"avg")}}AY.className="AveragePooling2D";Ze(AY);class OY extends cn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new pe(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Ms(this.poolSize,"poolSize"),Ms(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Zr(this.dataFormat),to(this.padding),this.inputSpec=[new Cs({ndim:5})]}computeOutputShape(e){e=An(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=cl(n,this.poolSize[0],this.padding,this.strides[0]),r=cl(r,this.poolSize[1],this.padding,this.strides[1]),s=cl(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r,s]:[e[0],n,r,s,e[4]]}call(e,n){return Ne(()=>(this.invokeCallHook(e,n),this.poolingFunction(zt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class RY extends OY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Zr(i),to(s),kY(e,n,r,s,i,"max")}}RY.className="MaxPooling3D";Ze(RY);class DY extends OY{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Zr(i),to(s),kY(e,n,r,s,i,"avg")}}DY.className="AveragePooling3D";Ze(DY);class _Y extends cn{constructor(e){super(e),this.inputSpec=[new Cs({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new tn}}class PY extends _Y{constructor(e){super(e||{})}call(e,n){return Ne(()=>{const r=zt(e);return Mr(r,1)})}}PY.className="GlobalAveragePooling1D";Ze(PY);class MY extends _Y{constructor(e){super(e||{})}call(e,n){return Ne(()=>{const r=zt(e);return _o(r,1)})}}MY.className="GlobalMaxPooling1D";Ze(MY);class LY extends cn{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Zr(this.dataFormat),this.inputSpec=[new Cs({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new tn}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class FY extends LY{call(e,n){return Ne(()=>{const r=zt(e);return this.dataFormat==="channelsLast"?Mr(r,[1,2]):Mr(r,[2,3])})}}FY.className="GlobalAveragePooling2D";Ze(FY);class zY extends LY{call(e,n){return Ne(()=>{const r=zt(e);return this.dataFormat==="channelsLast"?_o(r,[1,2]):_o(r,[2,3])})}}zY.className="GlobalMaxPooling2D";Ze(zY);class BY extends cn{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const s=n.layer,i=du(s,r);delete n.layer;const a={layer:i};return Object.assign(a,n),new e(a)}}class jY extends BY{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=An(e),e.length<3)throw new pe(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=An(e);const n=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),s=e[1];return[r[0],s].concat(r.slice(1))}call(e,n){return Ne(()=>(e=zt(e),YX((a,o)=>[zt(this.layer.call(a,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}jY.className="TimeDistributed";Ze(jY);function l$e(t){lp(NEe,"BidirectionalMergeMode",t)}const u$e="concat";class UY extends BY{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=du(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=du(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?u$e:e.mergeMode,l$e(this.mergeMode),e.weights)throw new tn("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Ki(s)}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=XX(e,r,s,this.numConstants);if(e=i.inputs,r=i.initialState,s=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&s==null)return super.apply(e,n);const a=[],o=[];if(r!=null){const u=r.length;if(u%2>0)throw new pe("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,a.push(...r);const d=r.map(f=>new Cs({shape:f.shape}));this.forwardLayer.stateSpec=d.slice(0,u/2),this.backwardLayer.stateSpec=d.slice(u/2),o.push(...d)}if(s!=null)throw new tn("Support for constants in Bidirectional layers is not implemented yet.");const l=a[0]instanceof mu;for(const u of a)if(u instanceof mu!==l)throw new pe("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[e].concat(a),d=this.inputSpec.concat(o),f=this.inputSpec;this.inputSpec=d;const p=super.apply(u,n);return this.inputSpec=f,p}else return super.apply(e,n)}call(e,n){return Ne(()=>{const r=n.initialState;let s,i;if(r==null)s=this.forwardLayer.call(e,n),i=this.backwardLayer.call(e,n);else{const l=r.slice(0,r.length/2),u=r.slice(r.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),i=this.backwardLayer.call(e,Object.assign(n,{initialState:u}))}let a;this.returnState&&(Array.isArray(s)&&(a=s.slice(1).concat(i.slice(1))),s=s[0],i=i[0]),this.returnSequences&&(i=Mo(i,1));let o;return this.mergeMode==="concat"?o=kM([s,i]):this.mergeMode==="sum"?o=Ye(s,i):this.mergeMode==="ave"?o=fe(.5,Ye(s,i)):this.mergeMode==="mul"?o=fe(s,i):this.mergeMode==null&&(o=[s,i]),this.returnState?this.mergeMode==null?o.concat(a):[o].concat(a):o})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){kh(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),kh(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(a=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=du(n.layer);if(delete n.layer,n.numConstants!=null)throw new tn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new e(s)}}UY.className="Bidirectional";Ze(UY);class VY extends cn{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Ne(()=>(e=zt(e),e.dtype!=="float32"&&(e=uu(e,"float32")),Ye(fe(e,this.scale),this.offset)))}}VY.className="Rescaling";Ze(VY);const{resizeBilinear:c$e,cropAndResize:d$e}=ll;class WY extends cn{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,r,s,i,a,o,l){return Ne(()=>{let u,d=!1;const f=n/a,p=r/o,m=(s+n)/a,y=(i+r)/o,v=[f,p,m,y],b=[];e.rank===3?(d=!0,u=Ta([e])):u=e;for(let N=0;N<u.shape[0];N++)b.push(v);const w=ul(b,[b.length,4]),S=eg(0,b.length,1,"int32"),T=d$e(u,w,S,[s,i],"nearest");return uu(d?zt(Lo(T)):T,l)})}upsize(e,n,r,s){return Ne(()=>{const i=c$e(e,[n,r]);return uu(i,s)})}call(e,n){return Ne(()=>{const r=zt(e),s=r.dtype,i=r.shape,a=i[i.length-3],o=i[i.length-2];let l=0;a!==this.height&&(l=Math.floor((a-this.height)/2));let u=0;return o!==this.width&&(u=Math.floor((o-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(r,l,u,this.height,this.width,a,o,s):this.upsize(e,this.height,this.width,s)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=An(e);const n=e.length-3,r=e.length-2;return e[n]=this.height,e[r]=this.width,e}}WY.className="CenterCrop";Ze(WY);function f$e(t,e,n,r){let s=zt(t);if(s.dtype!=="int32"&&(s=uu(s,"int32")),e==="int")return s;const i=s.shape;if(s.rank===0&&(s=Ri(s,-1)),e==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=Ri(s,-1)),s.rank>2)throw new pe(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${i} which would result in output rank ${s.rank}.`);const a=["multiHot","oneHot"].includes(e),o=s;let l;if(typeof r<"u"&&e==="count"?l=OO(o,r,n,a):l=OO(o,[],n,a),e!=="tfIdf")return l;if(r)return fe(l,r);throw new pe("When outputMode is 'tfIdf', weights must be provided.")}class HY extends cn{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=An(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return Ne(()=>{e=zt(e),e.dtype!=="int32"&&(e=uu(e,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new pe(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=zt(n.countWeights)}const s=_o(e),i=rb(e),a=Aa(this.numTokens,s).bufferSync().get(0),o=uf(i,0).bufferSync().get(0);if(!(a&&o))throw new pe(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return f$e(e,this.outputMode,this.numTokens,r)})}}HY.className="CategoryEncoding";Ze(HY);const h$e=["bilinear","nearest"],oV=new Set(h$e);class GY extends cn{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(oV.has(e.interpolation))this.interpolation=e.interpolation;else throw new pe(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=An(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Ne(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return ll.resizeBilinear(e,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return ll.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...oV]} are supported`)})}}GY.className="Resizing";Ze(GY);class qY{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}qY.className="RandomSeed";class KY extends cn{constructor(e){super(e),this.randomGenerator=new qY(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}KY.className="BaseRandomLayer";const p$e=["bilinear","nearest"],lV=new Set(p$e);class XY extends KY{constructor(e){super(e);const{factor:n,interpolation:r="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new pe(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new pe(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new pe(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(lV.has(r))this.interpolation=r;else throw new pe(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=An(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return Ne(()=>{const r=zt(e);this.imgHeight=r.shape[r.shape.length-3];const s=r.shape[r.shape.length-2];this.widthFactor=ip([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*s;i=Math.round(i);const a=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return ll.resizeBilinear(e,a);case"nearest":return ll.resizeNearestNeighbor(e,a);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...lV]} are supported`)}})}}XY.className="RandomWidth";Ze(XY);const m$e=Oe();m$e.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var fa;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(fa||(fa={}));var uV;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(uV||(uV={}));const g$e={};function YY(t){return g$e[t]}function B(t,e,n,r,s){const i=e.inputParams[t];if(i&&i.inputIndexStart!==void 0){const o=i.inputIndexStart,l=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?o+1:i.inputIndexEnd,u=o<0?e.inputNames.length+o:o;if(i.type==="tensor")return Zs(e.inputNames[u],n,r,s);if(i.type==="tensors"){const p=e.inputs.slice(o,l);return e.inputNames.slice(o,l).filter((y,v)=>{var b;return((b=p[v])===null||b===void 0?void 0:b.op)!=="NoOp"}).map(y=>Zs(y,n,r,s))}const d=Zs(e.inputNames[u],n,r,s),f=d.dataSync();return i.type==="number"?f[0]:Do(d.shape,f)}const a=e.attrParams[t];return a&&a.value}function Zs(t,e,n,r){const[s,i]=ha(t,n);if(r!=null){const o=r.getHashTableHandleByName(s);if(o!=null)return o}const a=n.currentContextIds.find(o=>!!e[HS(s,o)]);return a!==void 0?e[HS(s,a)][i]:void 0}function cV(t,e,n){return e[HS(t,n.currentContextId)]}function tc(t,e){const[n,r,s]=ha(t,e);return[HS(n,e&&e.currentContextId),r,s]}function HS(t,e){return e?`${t}-${e}`:t}function ha(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const i=e.parseNodeNameCache.get(t);if(i!=null)return i}const r=t.split(":");let s;if(r.length===1)s=[t,0,void 0];else{const i=r[0],a=r.length===3?r[1]:void 0,o=Number(r[r.length-1]);s=[i,o,a]}return n&&e.parseNodeNameCache.set(t,s),s}function Jw(t,e,n){let r=B("pad",t,e,n);if(r==="explicit"){r=B("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)s[i][0]=r[i*2],s[i][1]=r[i*2+1];return s}return r}function nc(t){return t.kept?t:dc(t)}const y$e=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],v$e=Object.freeze(Object.defineProperty({__proto__:null,json:y$e},Symbol.toStringTag,{value:"Module"}));const b$e=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],x$e=Object.freeze(Object.defineProperty({__proto__:null,json:b$e},Symbol.toStringTag,{value:"Module"}));const w$e=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],S$e=Object.freeze(Object.defineProperty({__proto__:null,json:w$e},Symbol.toStringTag,{value:"Module"}));const C$e=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],k$e=Object.freeze(Object.defineProperty({__proto__:null,json:C$e},Symbol.toStringTag,{value:"Module"}));const T$e=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],E$e=Object.freeze(Object.defineProperty({__proto__:null,json:T$e},Symbol.toStringTag,{value:"Module"}));const N$e=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],$$e=Object.freeze(Object.defineProperty({__proto__:null,json:N$e},Symbol.toStringTag,{value:"Module"}));const I$e=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],A$e=Object.freeze(Object.defineProperty({__proto__:null,json:I$e},Symbol.toStringTag,{value:"Module"}));const O$e=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],R$e=Object.freeze(Object.defineProperty({__proto__:null,json:O$e},Symbol.toStringTag,{value:"Module"}));const D$e=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],_$e=Object.freeze(Object.defineProperty({__proto__:null,json:D$e},Symbol.toStringTag,{value:"Module"}));const P$e=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],M$e=Object.freeze(Object.defineProperty({__proto__:null,json:P$e},Symbol.toStringTag,{value:"Module"}));const L$e=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],F$e=Object.freeze(Object.defineProperty({__proto__:null,json:L$e},Symbol.toStringTag,{value:"Module"}));const z$e=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],B$e=Object.freeze(Object.defineProperty({__proto__:null,json:z$e},Symbol.toStringTag,{value:"Module"}));const j$e=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],U$e=Object.freeze(Object.defineProperty({__proto__:null,json:j$e},Symbol.toStringTag,{value:"Module"}));const V$e=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],W$e=Object.freeze(Object.defineProperty({__proto__:null,json:V$e},Symbol.toStringTag,{value:"Module"}));const H$e=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],G$e=Object.freeze(Object.defineProperty({__proto__:null,json:H$e},Symbol.toStringTag,{value:"Module"}));const q$e=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],K$e=Object.freeze(Object.defineProperty({__proto__:null,json:q$e},Symbol.toStringTag,{value:"Module"}));const X$e=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Y$e=Object.freeze(Object.defineProperty({__proto__:null,json:X$e},Symbol.toStringTag,{value:"Module"}));const Z$e=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Q$e=Object.freeze(Object.defineProperty({__proto__:null,json:Z$e},Symbol.toStringTag,{value:"Module"}));const J$e=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],eIe=Object.freeze(Object.defineProperty({__proto__:null,json:J$e},Symbol.toStringTag,{value:"Module"}));class dV{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[v$e,x$e,S$e,k$e,E$e,$$e,A$e,R$e,_$e,M$e,F$e,B$e,U$e,W$e,G$e,K$e,Y$e,Q$e,eIe],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(e,n={}){const r=e.node,s=[],i=[],a=[],o=r.reduce((v,b)=>(v[b.name]=this.mapNode(b),b.op.startsWith("Placeholder")?s.push(v[b.name]):b.op==="Const"?i.push(v[b.name]):(b.input==null||b.input.length===0)&&a.push(v[b.name]),v),{});let l=[];const u=[];let d={},f={};n!=null&&(d=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));const p=Object.keys(o);p.forEach(v=>{const b=o[v];b.inputNames.forEach((w,S)=>{const[C,,T]=tc(w),N=o[C];if(N.outputs!=null){const O=N.outputs.indexOf(T);if(O!==-1){const _=`${C}:${O}`;b.inputNames[S]=_}}b.inputs.push(N),N.children.push(b)})}),Object.keys(f).length===0?p.forEach(v=>{const b=o[v];b.children.length===0&&u.push(b)}):Object.keys(f).forEach(v=>{const[b]=tc(v),w=o[b];w!=null&&(w.signatureKey=f[v],u.push(w))}),Object.keys(d).length>0?Object.keys(d).forEach(v=>{const[b]=tc(v),w=o[b];w&&(w.signatureKey=d[v],l.push(w))}):l=s;let m={};e.library!=null&&e.library.function!=null&&(m=e.library.function.reduce((v,b)=>(v[b.signature.name]=this.mapFunction(b),v),{}));const y={nodes:o,inputs:l,outputs:u,weights:i,placeholders:s,signature:n,functions:m};return a.length>0&&(y.initNodes=a),y}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=YY(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,i)=>(s[i.name]={type:i.type,inputIndexStart:i.start,inputIndexEnd:i.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,i)=>{const a=i.type;let o;switch(i.type){case"string":o=HO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=HO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"string[]":o=QO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=QO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number":o=qO(e.attr,i.tfName,i.defaultValue||0),o===void 0&&i.tfDeprecatedName&&(o=qO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number[]":o=ZO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=ZO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool":o=GO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=GO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool[]":o=eR(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=eR(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape":o=YO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=YO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape[]":o=JO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=JO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype":o=KO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=KO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype[]":o=XO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=XO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"func":o=fV(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=fV(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${i.type} for op: ${e.op}`)}return s[i.name]={value:o,type:a},s},{})),r}mapFunction(e){const n=e.nodeDef,r=[],s=[];let i={};n!=null&&(i=n.reduce((f,p)=>(f[p.name]=this.mapNode(p),p.op==="Const"&&s.push(f[p.name]),f),{}));const a=[],o=[];e.signature.inputArg.forEach(f=>{const[p]=tc(f.name),m={name:p,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:VM(f.type),type:"dtype"}},children:[]};m.signatureKey=f.name,a.push(m),i[p]=m}),Object.keys(i).forEach(f=>{const p=i[f];p.inputNames.forEach((m,y)=>{const[v,,b]=tc(m),w=i[v];if(w.outputs!=null){const S=w.outputs.indexOf(b);if(S!==-1){const C=`${v}:${S}`;p.inputNames[y]=C}}p.inputs.push(w),w.children.push(p)})});const u=e.ret;e.signature.outputArg.forEach(f=>{const[p,m]=tc(u[f.name]),y=i[p];y!=null&&(y.defaultOutput=m,o.push(y))});const d=this.mapArgsToSignature(e);return{nodes:i,inputs:a,outputs:o,weights:s,placeholders:r,signature:d}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function tIe(t){const e=Oe().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function ZY(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):tIe(t);return e?n:n.toLowerCase()}function HO(t,e,n,r=!1){const s=t[e];return s!=null?ZY(s.s,r):n}function GO(t,e,n){const r=t[e];return r?r.b:n}function qO(t,e,n){const r=t[e]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function VM(t){switch(typeof t=="string"&&(t=fa[t]),t){case fa.DT_FLOAT:case fa.DT_HALF:return"float32";case fa.DT_INT32:case fa.DT_INT64:case fa.DT_INT8:case fa.DT_UINT8:return"int32";case fa.DT_BOOL:return"bool";case fa.DT_DOUBLE:return"float32";case fa.DT_STRING:return"string";case fa.DT_COMPLEX64:case fa.DT_COMPLEX128:return"complex64";default:return null}}function fV(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function KO(t,e,n){const r=t[e];return r&&r.type?VM(r.type):n}function XO(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(s=>VM(s)):n}function QY(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function YO(t,e,n){const r=t[e];return r&&r.shape?QY(r.shape):n}function ZO(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function QO(t,e,n,r=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(i=>ZY(i,r)):n}function JO(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(s=>QY(s)):n}function eR(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}class nIe{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,i)=>(s[i]=this.getAttr(i),s),{}))}getInput(e){return Zs(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return Zs(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return qO(this.node.rawAttrs,e,n);if(r.s!=null)return HO(this.node.rawAttrs,e,n);if(r.b!=null)return GO(this.node.rawAttrs,e,n);if(r.shape!=null)return YO(this.node.rawAttrs,e,n);if(r.type!=null)return KO(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return ZO(this.node.rawAttrs,e,n);if(r.list.s!=null)return QO(this.node.rawAttrs,e,n);if(r.list.shape!=null)return JO(this.node.rawAttrs,e,n);if(r.list.b!=null)return eR(this.node.rawAttrs,e,n);if(r.list.type!=null)return XO(this.node.rawAttrs,e,n)}return n}}const ai=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:yK,abs:bs,acos:PK,acosh:MK,add:Ye,addN:v0e,all:dP,any:DS,argMax:Zm,argMin:LK,asin:FK,asinh:zK,atan:BK,atan2:jK,atanh:UK,avgPool:kT,avgPool3d:VK,basicLSTMCell:j0e,batchNorm:U0,batchNorm2d:WK,batchNorm3d:HK,batchNorm4d:GK,batchToSpaceND:TT,bincount:qK,bitwiseAnd:Y0e,booleanMaskAsync:_Se,broadcastArgs:Q0e,broadcastTo:Fm,buffer:rn,cast:ht,ceil:KK,clipByValue:Ca,clone:dc,complex:Bd,concat:us,concat1d:XK,concat2d:YK,concat3d:ZK,concat4d:QK,conv1d:hP,conv2d:Vd,conv2dTranspose:mP,conv3d:JK,conv3dTranspose:t9,cos:ET,cosh:gP,cosineWindow:jP,cumprod:_S,cumsum:yP,denseBincount:OO,depthToSpace:n9,depthwiseConv2d:V0,diag:wxe,dilation2d:r9,div:Et,divNoNan:s9,dot:i9,dropout:O9,einsum:Em,elu:W0,enclosingPowerOfTwo:R9,ensureShape:Oxe,equal:gl,erf:vP,euclideanNorm:l9,exp:ka,expandDims:Ri,expm1:u9,eye:xP,fft:BT,fill:Ig,floor:G0,floorDiv:cP,fused:nCe,gather:q0,gatherND:WSe,greater:Aa,greaterEqual:uf,ifft:ob,imag:NT,image:ll,inTopKAsync:KSe,irfft:PP,isFinite:c9,isInf:d9,isNaN:f9,leakyRelu:$T,less:sb,lessEqual:sp,linalg:B9,linspace:r1e,localResponseNormalization:h9,log:Ya,log1p:IT,logSigmoid:p9,logSoftmax:wP,logSumExp:AT,logicalAnd:pu,logicalNot:OT,logicalOr:SP,logicalXor:m9,losses:Dke,lowerBound:b1e,matMul:dn,max:_o,maxPool:RT,maxPool3d:g9,maxPoolWithArgmax:C1e,maximum:Ac,mean:Mr,meshgrid:E1e,min:rb,minimum:jh,mirrorPad:y9,mod:v9,moments:DT,movingAverage:LSe,mul:fe,multiRNNCell:R1e,multinomial:_1e,neg:dr,norm:H0,notEqual:Jm,oneHot:kP,ones:ga,onesLike:Za,op:oe,outerProduct:z1e,pad:cf,pad1d:U1e,pad2d:W1e,pad3d:G1e,pad4d:K1e,pool:b9,pow:yc,prelu:PT,print:_K,prod:x9,raggedGather:nwe,raggedRange:swe,raggedTensorToTensor:awe,rand:lwe,randomGamma:Awe,randomNormal:EP,randomStandardNormal:Dwe,randomUniform:ip,randomUniformInt:Mwe,range:eg,real:ib,reciprocal:w9,relu:Su,relu6:NP,reshape:me,reverse:Mo,reverse1d:Vwe,reverse2d:Hwe,reverse3d:qwe,reverse4d:Xwe,rfft:jT,round:$P,rsqrt:IP,scalar:It,scatterND:zSe,searchSorted:CP,selu:AP,separableConv2d:OP,setdiff1dAsync:tSe,sigmoid:au,sign:S9,signal:Rke,sin:RP,sinh:DP,slice:wn,slice1d:LT,slice2d:_P,slice3d:FT,slice4d:ab,softmax:zT,softplus:Ag,spaceToBatchND:_T,sparse:_ke,sparseToDense:USe,spectral:Oke,split:va,sqrt:ri,square:nr,squaredDifference:MP,squeeze:ap,stack:Ta,step:Og,stridedSlice:C9,string:Pke,sub:bt,sum:St,tan:k9,tanh:Bh,tensor:ul,tensor1d:Fi,tensor2d:ou,tensor3d:T9,tensor4d:wSe,tensor5d:SSe,tensor6d:CSe,tensorScatterUpdate:TSe,tile:Eo,topk:N9,transpose:Sn,truncatedNormal:FP,unique:$9,unsortedSegmentSum:zP,unstack:Lo,upperBound:OSe,variable:I9,where:vi,whereAsync:A9,zeros:ws,zerosLike:Cn},Symbol.toStringTag,{value:"Module"}));const rIe=(t,e,n,r=ai)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(B("a",t,e,n),B("b",t,e,n))];case"AddN":return[r.addN(B("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(B("a",t,e,n),B("b",t,e,n))];case"Mul":return[r.mul(B("a",t,e,n),B("b",t,e,n))];case"RealDiv":case"Div":return[r.div(B("a",t,e,n),B("b",t,e,n))];case"DivNoNan":return[r.divNoNan(B("a",t,e,n),B("b",t,e,n))];case"FloorDiv":return[r.floorDiv(B("a",t,e,n),B("b",t,e,n))];case"Sub":return[r.sub(B("a",t,e,n),B("b",t,e,n))];case"Minimum":return[r.minimum(B("a",t,e,n),B("b",t,e,n))];case"Maximum":return[r.maximum(B("a",t,e,n),B("b",t,e,n))];case"Pow":return[r.pow(B("a",t,e,n),B("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(B("a",t,e,n),B("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const sIe=(t,e,n,r=ai)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(B("x",t,e,n))];case"Acos":return[r.acos(B("x",t,e,n))];case"Acosh":return[r.acosh(B("x",t,e,n))];case"Asin":return[r.asin(B("x",t,e,n))];case"Asinh":return[r.asinh(B("x",t,e,n))];case"Atan":return[r.atan(B("x",t,e,n))];case"Atan2":return[r.atan2(B("x",t,e,n),B("y",t,e,n))];case"Atanh":return[r.atanh(B("x",t,e,n))];case"Ceil":return[r.ceil(B("x",t,e,n))];case"Complex":return[r.complex(B("real",t,e,n),B("imag",t,e,n))];case"Cos":return[r.cos(B("x",t,e,n))];case"Cosh":return[r.cosh(B("x",t,e,n))];case"Elu":return[r.elu(B("x",t,e,n))];case"Erf":return[r.erf(B("x",t,e,n))];case"Exp":return[r.exp(B("x",t,e,n))];case"Expm1":return[r.expm1(B("x",t,e,n))];case"Floor":return[r.floor(B("x",t,e,n))];case"Log":return[r.log(B("x",t,e,n))];case"Log1p":return[r.log1p(B("x",t,e,n))];case"Imag":return[r.imag(B("x",t,e,n))];case"Neg":return[r.neg(B("x",t,e,n))];case"Reciprocal":return[r.reciprocal(B("x",t,e,n))];case"Real":return[r.real(B("x",t,e,n))];case"Relu":return[r.relu(B("x",t,e,n))];case"Round":return[r.round(B("x",t,e,n))];case"Selu":return[r.selu(B("x",t,e,n))];case"Sigmoid":return[r.sigmoid(B("x",t,e,n))];case"Sin":return[r.sin(B("x",t,e,n))];case"Sign":return[r.sign(B("x",t,e,n))];case"Sinh":return[r.sinh(B("x",t,e,n))];case"Softplus":return[r.softplus(B("x",t,e,n))];case"Sqrt":return[r.sqrt(B("x",t,e,n))];case"Square":return[r.square(B("x",t,e,n))];case"Tanh":return[r.tanh(B("x",t,e,n))];case"Tan":return[r.tan(B("x",t,e,n))];case"ClipByValue":return[r.clipByValue(B("x",t,e,n),B("clipValueMin",t,e,n),B("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(B("x",t,e,n))];case"Rsqrt":return[r.rsqrt(Zs(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(B("x",t,e,n),B("alpha",t,e,n))];case"Prelu":return[r.prelu(B("x",t,e,n),B("alpha",t,e,n))];case"IsNan":return[r.isNaN(Zs(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(Zs(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(Zs(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function So(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){Y(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const s=t[r],i=e[r];Y(s<0||i<0||s===i,()=>n+` Shapes ${t} and ${e} must match`)}}}function hV(t){return!(typeof t=="number"||t.some(e=>e<0))}function mv(t,e,n){let r=tR(t,n);const s=!hV(r);if(s&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&e.forEach(i=>{r=tR(i.shape,r)}),!hV(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function tR(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const s=t[r],i=e[r];if(s>=0&&i>=0&&s!==i)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=s>=0?s:i}return n}class iIe{constructor(e,n,r,s,i,a,o){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=i,this.dynamicSize=a,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=It(0),Ps(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),So(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Ps(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,s)=>this.write(r,n[s]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return ul([],[0].concat(this.elementShape));const r=this.readMany(e);return So(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Ta(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return ul([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return So(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),us(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,Lo(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=e.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=r===0?0:n.size/r,a=[];Ne(()=>{n=me(n,[1,r,i]);for(let l=0;l<e.length;++l){const d=[0,l===0?0:s[l-1],0],f=[1,e[l],i];a[l]=me(wn(n,d,f),this.elementShape)}return a});const o=[];for(let l=0;l<e.length;l++)o[l]=l;this.writeMany(o,a)}}class Wh{get id(){return this.idTensor.id}constructor(e,n,r,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e?.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);So(n,i.shape,"TensorList shape mismatch: "),Ps(i)}),this.idTensor=It(0),this.maxNumElements=s,Ps(this.idTensor)}copy(){return new Wh([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);So(e,this.elementShape,"TensorList shape mismatch: ");const s=mv(this.elementShape,this.tensors,e);return Ne(()=>{const i=this.tensors.map(a=>me(a,s));return Ta(i,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=mv(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,So(s.shape,e,"TensorList shape mismatch: "),me(s,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(So(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Ps(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Wh([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);So(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=mv(this.elementShape,this.tensors,n);return me(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);So(this.elementShape,n.shape,"TensorList shape mismatch: "),Ps(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);So(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=mv(this.elementShape,this.tensors,r);return e.length===0?ul([],[0].concat(s)):Ne(()=>{const i=e.map(a=>me(this.tensors[a],s));return Ta(i,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);So(this.elementShape,n,"TensorList shape mismatch: ");const r=mv(this.elementShape,this.tensors,n);return this.size()===0?ul([],[0].concat(r)):Ne(()=>{const s=this.tensors.map(i=>me(i,r));return us(s,0)})}}function aIe(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const s=t.shape.slice(1);So(s,e,"TensorList shape mismatch: ");const i=Lo(t);return new Wh(i,e,r)}function oIe(t,e,n,r){return new Wh([],t,e,r)}function lIe(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const s=Math.max(...e);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const i=new Wh([],n,t.dtype,r),a=Lo(t,0);return e.forEach((o,l)=>{i.setItem(o,a[l])}),i}function uIe(t,e,n){let r=0;const s=e.map(d=>(r+=d,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const i=t.shape.slice(1),a=tR(i,n),o=r===0?0:t.size/r,l=Ne(()=>{const d=[];t=me(t,[1,r,o]);for(let f=0;f<e.length;++f){const m=[0,f===0?0:s[f-1],0],y=[1,e[f],o];d[f]=me(wn(t,m,y),a)}return t.dispose(),d}),u=new Wh([],n,t.dtype,e.length);for(let d=0;d<l.length;d++)u.setItem(d,l[d]);return u}const cIe=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=B("thenBranch",t,e,n),s=B("elseBranch",t,e,n),i=B("cond",t,e,n),a=B("args",t,e,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=B("body",t,e,n),s=B("cond",t,e,n),i=B("args",t,e,n),a=await n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),o=i.map(d=>d.id);let l=await a[0].data();a.forEach(d=>{!d.kept&&o.indexOf(d.id)===-1&&d.dispose()});let u=i;for(;l[0];){const d=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const f=u.map(m=>m.id);d.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&f.indexOf(m.id)===-1&&m.dispose()});const p=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await p[0].data(),p.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&f.indexOf(m.id)===-1&&m.dispose()})}return u}case"LoopCond":{const r=B("pred",t,e,n);return[nc(r)]}case"Switch":{const r=B("pred",t,e,n);let s=B("data",t,e,n);return s.kept||(s=nc(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=t.inputNames.find(s=>Zs(s,e,n)!==void 0);if(r){const s=Zs(r,e,n);return[nc(s)]}return}case"Enter":{const r=B("frameName",t,e,n),s=B("tensor",t,e,n);return n.enterFrame(r),[nc(s)]}case"Exit":{const r=B("tensor",t,e,n);return n.exitFrame(),[nc(r)]}case"NextIteration":{const r=B("tensor",t,e,n);return n.nextIteration(),[nc(r)]}case"TensorArrayV3":{const r=B("size",t,e,n),s=B("dtype",t,e,n),i=B("elementShape",t,e,n),a=B("dynamicSize",t,e,n),o=B("clearAfterRead",t,e,n),l=B("identicalElementShapes",t,e,n),u=B("name",t,e,n),d=new iIe(u,s,r,i,l,a,o);return n.addTensorArray(d),[d.idTensor,It(1)]}case"TensorArrayWriteV3":{const r=B("tensorArrayId",t,e,n),s=B("index",t,e,n),i=B("tensor",t,e,n),a=n.getTensorArray(r.id);return a.write(s,i),[a.idTensor]}case"TensorArrayReadV3":{const r=B("tensorArrayId",t,e,n),s=B("index",t,e,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=B("tensorArrayId",t,e,n),s=B("indices",t,e,n),i=B("dtype",t,e,n);return[n.getTensorArray(r.id).gather(s,i)]}case"TensorArrayScatterV3":{const r=B("tensorArrayId",t,e,n),s=B("indices",t,e,n),i=B("tensor",t,e,n),a=n.getTensorArray(r.id);return a.scatter(s,i),[a.idTensor]}case"TensorArrayConcatV3":{const r=B("tensorArrayId",t,e,n),s=n.getTensorArray(r.id),i=B("dtype",t,e,n);return[s.concat(i)]}case"TensorArraySplitV3":{const r=B("tensorArrayId",t,e,n),s=B("tensor",t,e,n),i=B("lengths",t,e,n),a=n.getTensorArray(r.id);return a.split(i,s),[a.idTensor]}case"TensorArraySizeV3":{const r=B("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return[It(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=B("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=B("tensorListId",t,e,n),s=B("index",t,e,n),i=B("tensor",t,e,n),a=n.getTensorList(r.id);return a.setItem(s,i),[a.idTensor]}case"TensorListGetItem":{const r=B("tensorListId",t,e,n),s=B("index",t,e,n),i=B("elementShape",t,e,n),a=B("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(s,i,a)]}case"TensorListScatterV2":case"TensorListScatter":{const r=B("indices",t,e,n),s=B("tensor",t,e,n),i=B("elementShape",t,e,n),a=B("numElements",t,e,n),o=lIe(s,r,i,a);return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=B("elementShape",t,e,n),s=B("elementDType",t,e,n);let i;t.op==="TensorListReserve"?i="numElements":i="maxNumElements";const a=B(i,t,e,n),o=t.op==="TensorListReserve"?-1:a,l=oIe(r,s,a,o);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=B("tensorListId",t,e,n),s=B("indices",t,e,n),i=B("elementShape",t,e,n),a=B("elementDType",t,e,n);return[n.getTensorList(r.id).gather(s,a,i)]}case"TensorListStack":{const r=B("tensorListId",t,e,n),s=B("elementShape",t,e,n),i=B("elementDType",t,e,n),a=B("numElements",t,e,n);return[n.getTensorList(r.id).stack(s,i,a)]}case"TensorListFromTensor":{const r=B("tensor",t,e,n),s=B("elementShape",t,e,n),i=B("elementDType",t,e,n),a=aIe(r,s,i);return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=B("tensorListId",t,e,n),s=n.getTensorList(r.id),i=B("dtype",t,e,n),a=B("elementShape",t,e,n);return[s.concat(i,a)]}case"TensorListPushBack":{const r=B("tensorListId",t,e,n),s=B("tensor",t,e,n),i=n.getTensorList(r.id);return i.pushBack(s),[i.idTensor]}case"TensorListPopBack":{const r=B("tensorListId",t,e,n),s=B("elementShape",t,e,n),i=B("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(s,i)]}case"TensorListSplit":{const r=B("tensor",t,e,n),s=B("elementShape",t,e,n),i=B("lengths",t,e,n),a=uIe(r,i,s);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const r=B("tensorListId",t,e,n),s=n.getTensorList(r.id);return[It(s.size(),"int32")]}case"TensorListResize":{const r=B("tensorListId",t,e,n),s=B("size",t,e,n),a=n.getTensorList(r.id).resize(s);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};function pV(t,e,n){const[r,s]=B("fusedOps",t,e,n),i=r==="biasadd",a=!i,o=s==="prelu",l=r==="fusedbatchnorm",u=B("numArgs",t,e,n);if(i){if(o&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&i&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const d=B("strides",t,e,n),f=Jw(t,e,n),p=B("dataFormat",t,e,n).toUpperCase(),m=B("dilations",t,e,n);let[y,v]=B("args",t,e,n);a&&(v=y,y=void 0);const b=B("leakyreluAlpha",t,e,n);return{stride:d,pad:f,dataFormat:p,dilations:m,biasArg:y,preluArg:v,activationFunc:s,leakyreluAlpha:b}}const dIe=(t,e,n,r=ai)=>{switch(t.op){case"Conv1D":{const s=B("stride",t,e,n),i=B("pad",t,e,n),a=B("dataFormat",t,e,n).toUpperCase(),o=B("dilation",t,e,n);return[r.conv1d(B("x",t,e,n),B("filter",t,e,n),s,i,a,o)]}case"Conv2D":{const s=B("strides",t,e,n),i=Jw(t,e,n),a=B("dataFormat",t,e,n).toUpperCase(),o=B("dilations",t,e,n);return[r.conv2d(B("x",t,e,n),B("filter",t,e,n),[s[1],s[2]],i,a,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:s,pad:i,dataFormat:a,dilations:o,biasArg:l,preluArg:u,activationFunc:d,leakyreluAlpha:f}=pV(t,e,n);return[r.fused.conv2d({x:B("x",t,e,n),filter:B("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:a,dilations:[o[1],o[2]],bias:l,activation:d,preluActivationWeights:u,leakyreluAlpha:f})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:i,dataFormat:a,dilations:o,biasArg:l,preluArg:u,activationFunc:d,leakyreluAlpha:f}=pV(t,e,n);return[r.fused.depthwiseConv2d({x:B("x",t,e,n),filter:B("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:a,dilations:[o[1],o[2]],bias:l,activation:d,preluActivationWeights:u,leakyreluAlpha:f})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=B("outputShape",t,e,n),i=B("strides",t,e,n),a=Jw(t,e,n);return[r.conv2dTranspose(B("x",t,e,n),B("filter",t,e,n),s,[i[1],i[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=B("strides",t,e,n),i=Jw(t,e,n),a=B("dilations",t,e,n),o=B("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(B("input",t,e,n),B("filter",t,e,n),[s[1],s[2]],i,o,[a[1],a[2]])]}case"Conv3D":{const s=B("strides",t,e,n),i=B("pad",t,e,n),a=B("dataFormat",t,e,n).toUpperCase(),o=B("dilations",t,e,n);return[r.conv3d(B("x",t,e,n),B("filter",t,e,n),[s[1],s[2],s[3]],i,a,[o[1],o[2],o[3]])]}case"AvgPool":{const s=B("strides",t,e,n),i=B("pad",t,e,n),a=B("kernelSize",t,e,n);return[r.avgPool(B("x",t,e,n),[a[1],a[2]],[s[1],s[2]],i)]}case"MaxPool":{const s=B("strides",t,e,n),i=B("pad",t,e,n),a=B("kernelSize",t,e,n);return[r.maxPool(B("x",t,e,n),[a[1],a[2]],[s[1],s[2]],i)]}case"MaxPoolWithArgmax":{const s=B("strides",t,e,n),i=B("pad",t,e,n),a=B("kernelSize",t,e,n),o=B("includeBatchInIndex",t,e,n),{result:l,indexes:u}=r.maxPoolWithArgmax(B("x",t,e,n),[a[1],a[2]],[s[1],s[2]],i,o);return[l,u]}case"AvgPool3D":{const s=B("strides",t,e,n),i=B("pad",t,e,n),a=B("kernelSize",t,e,n);return[r.avgPool3d(B("x",t,e,n),[a[1],a[2],a[3]],[s[1],s[2],s[3]],i)]}case"MaxPool3D":{const s=B("strides",t,e,n),i=B("pad",t,e,n),a=B("kernelSize",t,e,n);return[r.maxPool3d(B("x",t,e,n),[a[1],a[2],a[3]],[s[1],s[2],s[3]],i)]}case"Dilation2D":{const s=B("strides",t,e,n),i=B("pad",t,e,n),a=B("dilations",t,e,n),o=s[1],l=s[2],u=a[1],d=a[2];return[r.dilation2d(B("x",t,e,n),B("filter",t,e,n),[o,l],i,[u,d],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const fIe=(t,e,n,r=ai)=>{switch(t.op){case"Fill":{const s=B("shape",t,e,n),i=B("dtype",t,e,n),a=B("value",t,e,n);return[r.fill(s,a,i)]}case"LinSpace":{const s=B("start",t,e,n),i=B("stop",t,e,n),a=B("num",t,e,n);return[r.linspace(s,i,a)]}case"Multinomial":{const s=B("logits",t,e,n),i=B("numSamples",t,e,n),a=B("seed",t,e,n);return[r.multinomial(s,i,a)]}case"OneHot":{const s=B("indices",t,e,n),i=B("depth",t,e,n),a=B("onValue",t,e,n),o=B("offValue",t,e,n),l=B("dtype",t,e,n);return[r.oneHot(s,i,a,o,l)]}case"Ones":return[r.ones(B("shape",t,e,n),B("dtype",t,e,n))];case"OnesLike":return[r.onesLike(B("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(B("shape",t,e,n),B("dtype",t,e,n),B("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(B("shape",t,e,n),B("minval",t,e,n),B("maxval",t,e,n),B("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(B("shape",t,e,n),B("minval",t,e,n),B("maxval",t,e,n),B("seed",t,e,n))];case"Range":{const s=B("start",t,e,n),i=B("stop",t,e,n),a=B("step",t,e,n);return[r.range(s,i,a,B("dtype",t,e,n))]}case"TruncatedNormal":{const s=B("shape",t,e,n),i=B("mean",t,e,n),a=B("stdDev",t,e,n),o=B("seed",t,e,n);return[r.truncatedNormal(s,i,a,B("dtype",t,e,n),o)]}case"Zeros":return[r.zeros(B("shape",t,e,n),B("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(B("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function B$(t,e,n){const r=B("boxes",t,e,n),s=B("scores",t,e,n),i=B("maxOutputSize",t,e,n),a=B("iouThreshold",t,e,n),o=B("scoreThreshold",t,e,n),l=B("softNmsSigma",t,e,n);return{boxes:r,scores:s,maxOutputSize:i,iouThreshold:a,scoreThreshold:o,softNmsSigma:l}}const hIe=async(t,e,n,r,s=ai)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:i,scores:a,maxOutputSize:o,iouThreshold:l,scoreThreshold:u,softNmsSigma:d}=B$(t,e,n),f=await s.image.nonMaxSuppressionWithScoreAsync(i,a,o,l,u,d);return[f.selectedIndices,f.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:i,scores:a,maxOutputSize:o,iouThreshold:l,scoreThreshold:u}=B$(t,e,n),d=B("padToMaxOutputSize",t,e,n),f=await s.image.nonMaxSuppressionPaddedAsync(i,a,o,l,u,d);return[f.selectedIndices,f.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:i,scores:a,maxOutputSize:o,iouThreshold:l,scoreThreshold:u}=B$(t,e,n);return[await s.image.nonMaxSuppressionAsync(i,a,o,l,u)]}case"Where":{const i=s.cast(B("condition",t,e,n),"bool"),a=[await s.whereAsync(i)];return i.dispose(),a}case"ListDiff":return s.setdiff1dAsync(B("x",t,e,n),B("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};const pIe=(t,e,n,r=ai)=>{switch(t.op){case"LowerBound":{const s=B("sortedSequence",t,e,n),i=B("values",t,e,n);return[r.lowerBound(s,i)]}case"TopKV2":{const s=B("x",t,e,n),i=B("k",t,e,n),a=B("sorted",t,e,n),o=r.topk(s,i,a);return[o.values,o.indices]}case"UpperBound":{const s=B("sortedSequence",t,e,n),i=B("values",t,e,n);return[r.upperBound(s,i)]}case"Unique":{const s=B("x",t,e,n),i=r.unique(s);return[i.values,i.indices]}case"UniqueV2":{const s=B("x",t,e,n),i=B("axis",t,e,n),a=r.unique(s,i);return[a.values,a.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const mIe=(t,e,n,r=ai)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=B("default",t,e,n);return[Zs(t.name,e,n)||s];case"Placeholder":return[Zs(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const d=B("x",t,e,n);return[nc(d)]}case"IdentityN":return B("x",t,e,n).map(d=>nc(d));case"Snapshot":const i=B("x",t,e,n);return[nc(i)];case"Shape":return[r.tensor1d(B("x",t,e,n).shape,"int32")];case"ShapeN":return B("x",t,e,n).map(d=>r.tensor1d(d.shape));case"Size":return[r.scalar(B("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(B("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const a=B("x",t,e,n),o=B("data",t,e,n),l=B("message",t,e,n),u=B("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let d=0;d<o.length;d++)console.log(Array.prototype.slice.call(o[d].dataSync()).slice(0,u));return[a];default:throw TypeError(`Node type ${t.op} is not implemented`)}};class gIe{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=It(0),this.tensorMap=new Map,Ps(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return It(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),Ne(()=>{const s=Lo(n),i=r.length,a=s.length;Y(i===a,()=>`The number of elements doesn't match, keys has ${i} elements, the values has ${a} elements.`);for(let o=0;o<i;o++){const l=r[o],u=s[o];Ps(u),this.tensorMap.set(l,u)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return Ne(()=>{const s=[];for(let i=0;i<r.length;i++){const a=r[i],o=this.findWithDefault(a,n);s.push(o)}return Ta(s)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}const yIe=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(t.name);if(s!=null)return[s];{const i=B("keyDType",t,e,n),a=B("valueDType",t,e,n),o=new gIe(i,a);return r.addHashTable(t.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=B("tableHandle",t,e,n,r),i=B("keys",t,e,n),a=B("values",t,e,n);return[await r.getHashTableById(s.id).import(i,a)]}case"LookupTableFind":case"LookupTableFindV2":{const s=B("tableHandle",t,e,n,r),i=B("keys",t,e,n),a=B("defaultValue",t,e,n);return[await r.getHashTableById(s.id).find(i,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=B("tableHandle",t,e,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const vIe=(t,e,n,r=ai)=>{switch(t.op){case"ResizeBilinear":{const s=B("images",t,e,n),i=B("size",t,e,n),a=B("alignCorners",t,e,n),o=B("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(s,[i[0],i[1]],a,o)]}case"ResizeNearestNeighbor":{const s=B("images",t,e,n),i=B("size",t,e,n),a=B("alignCorners",t,e,n),o=B("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(s,[i[0],i[1]],a,o)]}case"CropAndResize":{const s=B("image",t,e,n),i=B("boxes",t,e,n),a=B("boxInd",t,e,n),o=B("cropSize",t,e,n),l=B("method",t,e,n),u=B("extrapolationValue",t,e,n);return[r.image.cropAndResize(s,i,a,o,l,u)]}case"ImageProjectiveTransformV3":{const s=B("images",t,e,n),i=B("transforms",t,e,n),a=B("outputShape",t,e,n),o=B("fillValue",t,e,n),l=B("interpolation",t,e,n),u=B("fillMode",t,e,n);return[r.image.transform(s,i,l.toLowerCase(),u.toLowerCase(),o,a)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const bIe=(t,e,n,r=ai)=>{switch(t.op){case"Equal":return[r.equal(B("a",t,e,n),B("b",t,e,n))];case"NotEqual":return[r.notEqual(B("a",t,e,n),B("b",t,e,n))];case"Greater":return[r.greater(B("a",t,e,n),B("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(B("a",t,e,n),B("b",t,e,n))];case"Less":return[r.less(B("a",t,e,n),B("b",t,e,n))];case"LessEqual":return[r.lessEqual(B("a",t,e,n),B("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(B("a",t,e,n),B("b",t,e,n))];case"LogicalNot":return[r.logicalNot(B("a",t,e,n))];case"LogicalOr":return[r.logicalOr(B("a",t,e,n),B("b",t,e,n))];case"Select":case"SelectV2":return[r.where(B("condition",t,e,n),B("a",t,e,n),B("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(B("a",t,e,n),B("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const xIe=(t,e,n,r=ai)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(B("a",t,e,n),B("b",t,e,n),B("transposeA",t,e,n),B("transposeB",t,e,n))];case"Einsum":return[r.einsum(B("equation",t,e,n),...B("tensors",t,e,n))];case"Transpose":return[r.transpose(B("x",t,e,n),B("perm",t,e,n))];case"_FusedMatMul":const[s,i]=B("fusedOps",t,e,n),a=s==="biasadd",o=i==="prelu",l=B("numArgs",t,e,n),u=B("leakyreluAlpha",t,e,n);if(a){if(o&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[d,f]=B("args",t,e,n);return[r.fused.matMul({a:B("a",t,e,n),b:B("b",t,e,n),transposeA:B("transposeA",t,e,n),transposeB:B("transposeB",t,e,n),bias:d,activation:i,preluActivationWeights:f,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(B("a",t,e,n),B("numLower",t,e,n),B("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const wIe=(t,e,n,r=ai)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(B("x",t,e,n),B("axis",t,e,n),B("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(B("x",t,e,n),B("mean",t,e,n),B("variance",t,e,n),B("offset",t,e,n),B("scale",t,e,n),B("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(B("x",t,e,n),B("mean",t,e,n),B("variance",t,e,n),B("offset",t,e,n),B("scale",t,e,n),B("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(B("x",t,e,n),B("radius",t,e,n),B("bias",t,e,n),B("alpha",t,e,n),B("beta",t,e,n))];case"Softmax":return[r.softmax(B("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(B("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const SIe=(t,e,n,r=ai)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:i}=r.raggedGather(B("paramsNestedSplits",t,e,n),B("paramsDenseValues",t,e,n),B("indices",t,e,n),B("outputRaggedRank",t,e,n));return s.concat(i)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:i}=r.raggedRange(B("starts",t,e,n),B("limits",t,e,n),B("splits",t,e,n));return[s,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(B("shape",t,e,n),B("values",t,e,n),B("defaultValue",t,e,n),B("rowPartitionTensors",t,e,n),B("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const CIe=(t,e,n,r=ai)=>{switch(t.op){case"Max":{const o=B("axis",t,e,n),l=B("keepDims",t,e,n);return[r.max(B("x",t,e,n),o,l)]}case"Mean":{const o=B("axis",t,e,n),l=B("keepDims",t,e,n);return[r.mean(B("x",t,e,n),o,l)]}case"Min":{const o=B("axis",t,e,n),l=B("keepDims",t,e,n);return[r.min(B("x",t,e,n),o,l)]}case"Sum":{const o=B("axis",t,e,n),l=B("keepDims",t,e,n);return[r.sum(B("x",t,e,n),o,l)]}case"All":{const o=B("axis",t,e,n),l=B("keepDims",t,e,n);return[r.all(B("x",t,e,n),o,l)]}case"Any":{const o=B("axis",t,e,n),l=B("keepDims",t,e,n);return[r.any(B("x",t,e,n),o,l)]}case"ArgMax":{const o=B("axis",t,e,n);return[r.argMax(B("x",t,e,n),o)]}case"ArgMin":{const o=B("axis",t,e,n);return[r.argMin(B("x",t,e,n),o)]}case"Prod":{const o=B("axis",t,e,n),l=B("keepDims",t,e,n);return[r.prod(B("x",t,e,n),o,l)]}case"Cumprod":{const o=B("axis",t,e,n),l=B("exclusive",t,e,n),u=B("reverse",t,e,n);return[r.cumprod(B("x",t,e,n),o,l,u)]}case"Cumsum":{const o=B("axis",t,e,n),l=B("exclusive",t,e,n),u=B("reverse",t,e,n);return[r.cumsum(B("x",t,e,n),o,l,u)]}case"Bincount":const s=B("x",t,e,n),i=B("weights",t,e,n),a=B("size",t,e,n);return[r.bincount(s,i,a)];case"DenseBincount":{const o=B("x",t,e,n),l=B("weights",t,e,n),u=B("size",t,e,n),d=B("binaryOutput",t,e,n);return[r.denseBincount(o,l,u,d)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const kIe=(t,e,n,r=ai)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=B("n",t,e,n),i=B("axis",t,e,n);let a=B("tensors",t,e,n);return a=a.slice(0,s),[r.concat(a,i)]}case"Gather":{const s=B("x",t,e,n),i=B("indices",t,e,n);return[r.gather(s,r.cast(i,"int32"),0)]}case"GatherV2":{const s=B("axis",t,e,n),i=B("batchDims",t,e,n),a=B("x",t,e,n),o=B("indices",t,e,n);return[r.gather(a,r.cast(o,"int32"),s,i)]}case"Reverse":{const s=B("dims",t,e,n),i=[];for(let o=0;o<s.length;o++)s[o]&&i.push(o);const a=B("x",t,e,n);return[r.reverse(a,i)]}case"ReverseV2":{const s=B("axis",t,e,n),i=B("x",t,e,n);return[r.reverse(i,s)]}case"Slice":{const s=B("begin",t,e,n),i=B("size",t,e,n);return[r.slice(B("x",t,e,n),s,i)]}case"StridedSlice":{const s=B("begin",t,e,n),i=B("end",t,e,n),a=B("strides",t,e,n),o=B("beginMask",t,e,n),l=B("endMask",t,e,n),u=B("ellipsisMask",t,e,n),d=B("newAxisMask",t,e,n),f=B("shrinkAxisMask",t,e,n),p=B("x",t,e,n);return[r.stridedSlice(p,s,i,a,o,l,u,d,f)]}case"Pack":return Ne(()=>{const s=B("axis",t,e,n),i=B("tensors",t,e,n),a=i[0].shape,o=r.squeeze(i[0]).shape,l=i.map(u=>{const d=yn(u.shape,a);if(!d&&!yn(r.squeeze(u).shape,o))throw new Error("the input tensors shape does not match");return d?u:r.reshape(u,a)});return[r.stack(l,s)]});case"Unpack":{const s=B("axis",t,e,n),i=B("tensor",t,e,n);return r.unstack(i,s)}case"Tile":{const s=B("reps",t,e,n);return[r.tile(B("x",t,e,n),s)]}case"Split":case"SplitV":{const s=B("axis",t,e,n),i=B("numOrSizeSplits",t,e,n),a=B("x",t,e,n);return r.split(a,i,s)}case"ScatterNd":{const s=B("indices",t,e,n),i=B("values",t,e,n),a=B("shape",t,e,n);return[r.scatterND(s,i,a)]}case"GatherNd":{const s=B("x",t,e,n),i=B("indices",t,e,n);return[r.gatherND(s,i)]}case"SparseToDense":{const s=B("sparseIndices",t,e,n),i=B("outputShape",t,e,n),a=B("sparseValues",t,e,n),o=B("defaultValue",t,e,n);return[r.sparseToDense(s,a,i,a.dtype===o.dtype?o:r.cast(o,a.dtype))]}case"TensorScatterUpdate":{const s=B("indices",t,e,n),i=B("values",t,e,n),a=B("tensor",t,e,n);return[r.tensorScatterUpdate(a,s,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const TIe=(t,e,n,r=ai)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:i,emptyRowIndicator:a,reverseIndexMap:o}=r.sparse.sparseFillEmptyRows(B("indices",t,e,n),B("values",t,e,n),B("denseShape",t,e,n),B("defaultValue",t,e,n));return[s,i,a,o]}case"SparseReshape":{const{outputIndices:s,outputShape:i}=r.sparse.sparseReshape(B("inputIndices",t,e,n),B("inputShape",t,e,n),B("newShape",t,e,n));return[s,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(B("data",t,e,n),B("indices",t,e,n),B("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(B("data",t,e,n),B("indices",t,e,n),B("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const EIe=(t,e,n,r=ai)=>{switch(t.op){case"FFT":return[r.fft(B("x",t,e,n))];case"IFFT":return[r.ifft(B("x",t,e,n))];case"RFFT":return[r.rfft(B("x",t,e,n))];case"IRFFT":return[r.irfft(B("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const NIe=(t,e,n,r=ai)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(B("input",t,e,n),B("pattern",t,e,n),B("rewrite",t,e,n),B("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:i}=r.string.stringNGrams(B("data",t,e,n),B("dataSplits",t,e,n),B("separator",t,e,n),B("nGramWidths",t,e,n),B("leftPad",t,e,n),B("rightPad",t,e,n),B("padWidth",t,e,n),B("preserveShortSequences",t,e,n));return[s,i]}case"StringSplit":{const{indices:s,values:i,shape:a}=r.string.stringSplit(B("input",t,e,n),B("delimiter",t,e,n),B("skipEmpty",t,e,n));return[s,i,a]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(B("input",t,e,n),B("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const $Ie=(t,e,n,r=ai)=>{switch(t.op){case"Cast":return[r.cast(B("x",t,e,n),B("dtype",t,e,n))];case"ExpandDims":{const s=B("axis",t,e,n);return[r.expandDims(B("x",t,e,n),s)]}case"Squeeze":{const s=B("axis",t,e,n);return[r.squeeze(B("x",t,e,n),s)]}case"Reshape":return[r.reshape(B("x",t,e,n),B("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(B("x",t,e,n),B("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(B("x",t,e,n),B("padding",t,e,n),B("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(B("x",t,e,n),B("padding",t,e,n),B("constantValue",t,e,n))];case"SpaceToBatchND":{const s=B("blockShape",t,e,n),i=B("paddings",t,e,n);return[r.spaceToBatchND(B("x",t,e,n),s,i)]}case"BatchToSpaceND":{const s=B("blockShape",t,e,n),i=B("crops",t,e,n);return[r.batchToSpaceND(B("x",t,e,n),s,i)]}case"DepthToSpace":{const s=B("blockSize",t,e,n),i=B("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(B("x",t,e,n),s,i)]}case"BroadcastTo":return[r.broadcastTo(B("x",t,e,n),B("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(B("s0",t,e,n),B("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function mV(t,e,n,r,s=Ne){const i=((a,o,l)=>{switch(a.category){case"arithmetic":return s(()=>rIe(a,o,l));case"basic_math":return s(()=>sIe(a,o,l));case"control":return cIe(a,o,l);case"convolution":return s(()=>dIe(a,o,l));case"creation":return s(()=>fIe(a,o,l));case"dynamic":return hIe(a,o,l);case"evaluation":return s(()=>pIe(a,o,l));case"image":return s(()=>vIe(a,o,l));case"graph":return s(()=>mIe(a,o,l));case"logical":return s(()=>bIe(a,o,l));case"matrices":return s(()=>xIe(a,o,l));case"normalization":return s(()=>wIe(a,o,l));case"ragged":return s(()=>SIe(a,o,l));case"reduction":return s(()=>CIe(a,o,l));case"slice_join":return s(()=>kIe(a,o,l));case"sparse":return s(()=>TIe(a,o,l));case"spectral":return s(()=>EIe(a,o,l));case"string":return s(()=>NIe(a,o,l));case"transformation":return s(()=>$Ie(a,o,l));case"hash_table":return yIe(a,o,l,r);case"custom":const u=YY(a.op);if(u&&u.customExecutor)return u.customExecutor(new nIe(a,o,l));throw TypeError(`Custom op ${a.op} is not registered.`);default:throw TypeError(`Unknown op '${a.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return _h(i)?i.then(a=>[].concat(a)):[].concat(i)}class gV{constructor(e={},n={},r={},s={},i){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.parseNodeNameCache=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}function yV(t,e,n,r){const s=new Set,i=[];let a=null,o=null;const l=new Set,u=new Set(Object.keys(t).map(p=>ha(p)[0]));r=r||[];const d=new Set(r.map(p=>ha(p.name)[0])),f=[...e];for(;f.length>0;){const p=f.pop();if((fh(p)||MIe(p)||LIe(p))&&a==null&&(a=p,o=a.children.map(m=>m.name).filter(m=>s.has(m))),s.add(p.name),n[p.name]==null&&!u.has(p.name)&&!d.has(p.name)){if(p.inputs.length===0){i.push(p.name);continue}p.inputs.forEach(m=>{l.has(m.name)||(l.add(m.name),f.push(m))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:i,dynamicNode:a,syncInputs:o}}function IIe(t,e){const{usedNodes:n,inputs:r}=e,s=Object.keys(r).map(b=>ha(b)[0]).map(b=>t.nodes[b]),i=t.initNodes||[],a=b=>n.has(typeof b=="string"?b:b.name);function o(b){return[...new Map(b.map(w=>[w.name,w])).values()]}const l=o([...s,...t.weights,...i]).filter(a),u=o([...l,...Object.values(t.nodes)]).filter(a),d=new Map(u.map(b=>[b.name,b])),f={};for(const b of u){f[b.name]=f[b.name]||0;for(const w of b.children)a(w)||(f[w.name]=Number.POSITIVE_INFINITY),f[w.name]=(f[w.name]||0)+1}const p=Object.entries(f).filter(([,b])=>b===0).map(([b])=>b),m=[...p];for(;p.length>0;){const b=p.pop(),w=d.get(b);for(const S of w.children.filter(a))--f[S.name]===0&&(m.push(S.name),p.push(S.name))}const y=m.map(b=>d.get(b)),v=AIe(y,l);return OIe(v,l),v}function AIe(t,e){const n=new Map(t.map(a=>[a.name,a])),r=e.map(a=>a.name),s=new Set(r);for(;r.length>0;){const a=r.pop(),o=n.get(a);for(const l of o.children)!n.has(l.name)||s.has(l.name)||(s.add(l.name),r.push(l.name))}return t.filter(a=>s.has(a.name))}class cw extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function OIe(t,e){const n=new Map(t.map((o,l)=>[o.name,l])),r=new Set(e.map(o=>o.name)),s=o=>r.has(typeof o=="string"?o:o.name),i=new Set(t.map(o=>o.name)),a=o=>i.has(typeof o=="string"?o:o.name);for(const o of t){for(const l of o.children.filter(a)){if(!n.has(l.name))throw new cw(`Child ${l.name} of node ${o.name} is unreachable.`);if(n.get(o.name)>n.get(l.name))throw new cw(`Node ${o.name} is scheduled to run after its child ${l.name}.`)}if(!s(o))for(const l of o.inputs){if(!n.has(l.name))throw new cw(`Input ${l.name} of node ${o.name} is unreachable.`);if(n.get(l.name)>n.get(o.name))throw new cw(`Node ${o.name} is scheduled to run before its input ${l.name}.`)}}}function RIe(t){const e=new Map(t.map((o,l)=>[o.name,l])),n=Number.MAX_SAFE_INTEGER,r=t.map((o,l)=>fh(o)?n:l),s=o=>{const l=r[e.get(o.name)];return l??-1},i=t.map((o,l)=>o.children.map(s).reduce((u,d)=>Math.max(u,d),r[l])),a=new Map;for(let o=0;o<t.length;++o){const l=i[o];if(l===n)continue;const u=t[o],d=t[l];a.has(d.name)||a.set(d.name,[]),a.get(d.name).push(u)}return a}const DIe=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),_Ie=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),PIe=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function fh(t){return DIe.has(t.op)}function MIe(t){return _Ie.has(t.op)}function LIe(t){return PIe.has(t.op)}class GS{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new GS(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(i=>i.name).sort(),s=n.map(i=>i.name).sort();return r.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,n){const r=yV(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:i,syncInputs:a}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(s.length>0){const u=n.map(f=>f.name),d=Object.keys(e);throw new Error(`Cannot compute the outputs [${u}] from the provided inputs [${d}]. Missing the following inputs: [${s}]`)}const o=IIe(this.graph,r),l=RIe(o);return{orderedNodes:o,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Ps(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(p=>this.graph.nodes[ha(p)[0]]),i=n.map(p=>ha(p)[0]),a=new Set(i);let o=i.map(p=>this.graph.nodes[p]);o.length===0&&(o=this._outputs);const l=this.getCompilationKey(s,o);let u=this.compiledMap.get(l);u==null&&(u=this.compile(e,o),this.compiledMap.set(l,u));try{this.keepIntermediateTensors=Oe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){this.keepIntermediateTensors=!1,console.warn(p.message)}const d={},f={};return Ne(()=>{const p=new gV(this.weightMap,d,f,this.functionExecutorMap,this.parseNodeNameCache),m=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(w=>{const[S,C]=ha(w,p),T=[];T[C]=e[w],m[S]=T,this.keepIntermediateTensors&&(this.clonedTensorsMap[S]=this.cloneTensorList(T))});const y=this.getFrozenTensorIds(m),{orderedNodes:v,nodeLiveUntilMap:b}=u;for(const w of v){if(m[w.name])continue;const S=mV(w,m,p,this._resourceManager);if(_h(S))throw new Error(`The execution of the op '${w.op}' returned a promise. Please use model.executeAsync() instead.`);m[w.name]=S,this.keepIntermediateTensors&&(this.clonedTensorsMap[w.name]=this.cloneTensorList(S)),this.checkTensorForDisposalWithNodeLiveUntilInfo(w,m,p,y,a,b.get(w.name))}return this.parent==null&&p.dispose(y),n.map(w=>Zs(w,m,p))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,r,s,i,a,o){if(!(fh(n)||a.has(e))){for(const l of r[e])l!=null&&(o[l.id]=(o[l.id]||0)+n.children.length);for(const l of n.inputs){if(fh(l))continue;const u=cV(l.name,r,s);if(u!=null)for(const d of u){if(!d||d.kept||i.has(d.id))continue;const f=o[d.id];f===1?(d.dispose(),delete o[d.id]):f!=null&&o[d.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,s,i,a){function o(l){return fh(l)||i.has(l.name)}if(!(fh(e)||a==null))for(const l of a){if(o(l))continue;const u=cV(l.name,n,r);for(const d of u)!d||d.kept||s.has(d.id)||d.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,s={},i={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Oe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){this.keepIntermediateTensors=!1,console.warn(p.message)}const a=new gV(this.weightMap,s,i,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const o=await this.executeWithControlFlow(e,a,n,r),l=n.map(p=>Zs(p,o,a)),u=l.map(p=>p.id),d=Object.keys(e).map(p=>e[p].id),f=new Set([...u,...d,...this.weightIds]);return Object.values(o).forEach(p=>{p.forEach(m=>{m&&!m.isDisposed&&!f.has(m.id)&&m.dispose()})}),this.parent==null&&a.dispose(f),l}async executeFunctionAsync(e,n,r){const s=e.reduce((i,a,o)=>(i[this.inputs[o].name]=a,i),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,s){const i=Object.keys(e),a=i.map(T=>this.graph.nodes[ha(T)[0]]),o=r.map(T=>ha(T)[0]),l=new Set(o);let u=o.map(T=>this.graph.nodes[T]);u.length===0&&(u=this._outputs);const{usedNodes:d,missingInputs:f,dynamicNode:p,syncInputs:m}=yV(e,u,this.weightMap,this._initNodes),y=[...a,...this.graph.weights,...this._initNodes||[]].map(T=>({node:T,contexts:n.currentContext})),v=Object.assign({},this.weightMap);Object.keys(e).forEach(T=>{const[N,O]=ha(T),_=[];_[O]=e[T],v[N]=_});const b={},w=this.getFrozenTensorIds(v),S={};for(;y.length>0;){const T=this.processStack(a,y,n,v,S,w,l,b,d);await Promise.all(T)}p==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const C=u.filter(T=>!fh(T)&&!Zs(T.name,v,n)).map(T=>T.name);if(C.length>0){let T="";throw p!=null&&(T=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${m}]`),new Error(`Cannot compute the outputs [${C}] from the provided inputs [${i}]. Consider providing the following inputs: [${f}]. ${T}`)}return v}processStack(e,n,r,s,i,a,o,l,u){const d=[];for(;n.length>0;){const f=n.pop();r.currentContext=f.contexts;let p="";if(f.node.op==="Enter"&&B("isConstant",f.node,s,r)&&([p]=tc(f.node.name,r)),s[f.node.name]==null){const m=mV(f.node,s,r,this._resourceManager);p||([p]=tc(f.node.name,r));const y=r.currentContext;_h(m)?d.push(m.then(v=>(s[p]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[p]=this.cloneTensorList(v)),r.currentContext=y,this.checkTensorForDisposal(p,f.node,s,r,a,o,l),this.processChildNodes(f.node,n,r,s,i,u),v))):(s[p]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[p]=this.cloneTensorList(m)),this.checkTensorForDisposal(p,f.node,s,r,a,o,l),this.processChildNodes(f.node,n,r,s,i,u))}else this.processChildNodes(f.node,n,r,s,i,u)}return d}processChildNodes(e,n,r,s,i,a){e.children.forEach(o=>{const[l]=tc(o.name,r);i[l]||!a.has(o.name)||(o.op==="Merge"?o.inputNames.some(u=>!!Zs(u,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:o})):o.inputNames.every(u=>!!Zs(u,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:o})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[s]=ha(n),i=this.graph.nodes[s];if(i.attrParams.shape&&i.attrParams.shape.value){const a=i.attrParams.shape.value,o=a.length===r.shape.length&&r.shape.every((l,u)=>a[u]===-1||a[u]===l);Y(o,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${a}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&Y(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const s={};for(const i in e){const a=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[i];a!=null?s[a.name]=e[i]:s[i]=e[i]}return s}checkInputs(e){const n=Object.keys(e).filter(r=>{const[s]=ha(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,s;const i=(s=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||s===void 0?void 0:s[n];return i!=null?i.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=ha(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class FIe{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const zIe="?tfjs-format=file",BIe="model.json";class jIe{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=J9){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new FIe}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return _h(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await wK(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const r=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const i=this.artifacts.userDefinedMetadata;i.signature!=null&&(s=i.signature),i.structuredOutputKeys!=null&&(this.structuredOutputKeys=i.structuredOutputKeys)}if(this.signature=s,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new GS(dV.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const i=dV.Instance.transformGraph(e.modelInitializer);this.initializer=new GS(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Ir?[e]:e,r={};return n.forEach((s,i)=>r[this.structuredOutputKeys[i]]=s),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof Ir)&&!Array.isArray(e)){const i=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(i!=null)for(const a in i){const o=i[a];o.resourceId!=null&&(e[a]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((i,a)=>{var o,l,u;const d=(u=(l=(o=this.signature)===null||o===void 0?void 0:o.inputs)===null||l===void 0?void 0:l[a])===null||u===void 0?void 0:u.resourceId;return d!=null?i[a]=this.resourceIdToCapturedInput[d]:i[a]=e[s++],i},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let s=0;s<r.length;s++){const i=r[s],a=n[i];this.resourceIdToCapturedInput[a.resourceId]=e[s]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&nn(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function UIe(t,e={},n=J9){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=VIe(t));const r=new jIe(t,e,n);return await r.load(),r}function VIe(t){return t.endsWith("/")||(t=t+"/"),`${t}${BIe}${zIe}`}var vV;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(vV||(vV={}));function Ct(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&Y(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}const WIe=BP;class a2 extends QD{nextDataId(){return a2.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new K8(this,Wl())}write(e,n,r){this.firstUse&&(this.firstUse=!1,Oe().get("IS_NODE")&&Wa(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:r,refCount:1}),s}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Wb(r[0])){const i=r.map(a=>Od(a));s=this.write(i,e,n)}else s=this.write(r,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,s,i){this.data.set(e,{values:n,dtype:s,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const s=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return bc(s,i)}return Kve(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>zd(s));return rn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return rn(e.shape,e.dtype,n)}makeOutput(e,n,r){return Wl().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=qi();return e(),{kernelMs:qi()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Ct([e],"where");const n=this.readSync(e.dataId);return WIe(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}a2.nextDataId=0;function JY(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const HIe=t=>{const{x:e}=t.inputs,n=t.backend;Ct(e,"abs");let r=new Float32Array(Le(e.shape));const s=n.data.get(e.dataId).values;return r=JY(s),n.makeOutput(r,e.shape,e.dtype)},GIe={kernelName:xk,backendName:"cpu",kernelFunc:HIe};function Qr(t){return(e,n,r,s,i)=>{const a=Xt(e,n),o=a.length,l=At(a),u=Le(a),d=ni(i,u),f=e.length,p=n.length,m=At(e),y=At(n),v=Qm(e,a),b=Qm(n,a);if(v.length+b.length===0)for(let w=0;w<d.length;++w)d[w]=t(r[w%r.length],s[w%s.length]);else for(let w=0;w<d.length;++w){const S=Ng(w,o,l),C=S.slice(-f);v.forEach(_=>C[_]=0);const T=iu(C,f,m),N=S.slice(-p);b.forEach(_=>N[_]=0);const O=iu(N,p,y);d[w]=t(r[T],s[O])}return[d,a]}}function pa(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(o.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(s.shape,"float32",a)},o}const qIe={kernelName:l_,backendName:"cpu",kernelFunc:pa};function qS(t,e,n="float32"){if(n==="complex64"){const s=qS(t,e,"float32"),i=qS(t,e,"float32");return pa({inputs:{real:s,imag:i},backend:t})}const r=xi(Le(e),n);return t.makeTensorInfo(e,n,r)}function gu(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const KIe={kernelName:d0,backendName:"cpu",kernelFunc:gu};function Hh(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const XIe={kernelName:B_,backendName:"cpu",kernelFunc:Hh};function eZ(t,e,n,r){if(r==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(r==="bool"){const s=rp([0],n),[i,a]=Qr((o,l)=>o!==l?1:0)(e,[],t,s,"bool");return[a,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function Kd(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return gu({inputs:{x:s},backend:n});const d=qS(n,s.shape,s.dtype),f=Kd({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),p=pa({inputs:{real:f,imag:d},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),p}if(s.dtype==="complex64"){const d=Hh({inputs:{input:s},backend:n}),f=Kd({inputs:{x:d},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(d),f}if(!Y8(s.dtype,i)){const d=gu({inputs:{x:s},backend:n});return{dataId:d.dataId,shape:d.shape,dtype:i}}const a=n.data.get(s.dataId).values,[o,l,u]=eZ(a,s.shape,s.dtype,i);return n.makeTensorInfo(o,l,u)}const YIe={kernelName:Qb,backendName:"cpu",kernelFunc:Kd};function As(t,e,n,r){return n==null?({inputs:s,backend:i})=>{const{a,b:o}=s,l=i;Ct([a,o],t);const u=l.data.get(a.dataId).values,d=l.data.get(o.dataId).values,f=a.dtype==="string"?xc(u):u,p=a.dtype==="string"?xc(d):d,m=r||a.dtype,[y,v]=e(a.shape,o.shape,f,p,m);return l.makeTensorInfo(v,m,y)}:({inputs:s,backend:i})=>{const{a,b:o}=s,l=i;if(a.dtype==="complex64"||o.dtype==="complex64"){const u=Kd({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(u.dataId),f=d.complexTensorInfos.real,p=d.complexTensorInfos.imag,m=l.data.get(f.dataId).values,y=l.data.get(p.dataId).values,v=Kd({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),b=l.data.get(v.dataId),w=b.complexTensorInfos.real,S=b.complexTensorInfos.imag,C=l.data.get(w.dataId).values,T=l.data.get(S.dataId).values,[N,O,_]=n(a.shape,o.shape,m,y,C,T),F=l.makeTensorInfo(_,"float32",N),L=l.makeTensorInfo(_,"float32",O),z=pa({inputs:{real:F,imag:L},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(v),l.disposeIntermediateTensorInfo(F),l.disposeIntermediateTensorInfo(L),z}else{const u=l.data.get(a.dataId).values,d=l.data.get(o.dataId).values,f=r||a.dtype,[p,m]=e(a.shape,o.shape,u,d,f);return l.makeTensorInfo(m,f,p)}}}function WM(t){return(e,n,r,s,i,a)=>{const o=Xt(e,n),l=Le(o),u=o.length,d=At(o),f=ni("float32",l),p=ni("float32",l),m=Qm(e,o),y=Qm(n,o),v=bc(r,s),b=bc(i,a),w=e.length,S=At(e),C=n.length,T=At(n);if(m.length+y.length===0)for(let N=0;N<f.length;N++){const O=N%v.length,_=N%b.length,F=t(v[O*2],v[O*2+1],b[_*2],b[_*2+1]);f[N]=F.real,p[N]=F.imag}else for(let N=0;N<f.length;N++){const O=Ng(N,u,d),_=O.slice(-w);m.forEach(R=>_[R]=0);const F=iu(_,w,S),L=O.slice(-C);y.forEach(R=>L[R]=0);const z=iu(L,C,T),P=t(v[F*2],v[F*2+1],b[z*2],b[z*2+1]);f[N]=P.real,p[N]=P.imag}return[f,p,o]}}const tZ=Qr(((t,e)=>t+e)),ZIe=WM(((t,e,n,r)=>({real:t+n,imag:e+r}))),ng=As($g,tZ,ZIe),QIe={kernelName:$g,backendName:"cpu",kernelFunc:ng};function HM(t,e,n,r,s){const i=Le(r),a=xi(s,n);for(let o=0;o<t.length;o++){const l=t[o];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(i>0?a[l]+=e[o]:a[l]+=1)}return a}function nZ(t,e,n,r=!1){const s=t.shape[0],i=t.shape[1],a=rn([s,n],e.dtype);for(let o=0;o<s;o++)for(let l=0;l<i;l++){const u=t.get(o,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?a.set(1,o,u):e.size>0?a.set(a.get(o,u)+e.get(o,l),o,u):a.set(a.get(o,u)+1,o,u))}return a}const rZ=Qr(((t,e)=>t&e)),JIe=As($k,rZ),eAe={kernelName:$k,backendName:"cpu",kernelFunc:JIe};function Cu(t){return(e,n,r)=>{const s=Kr(n,e.length);for(let i=0;i<e.length;++i)s[i]=t(e[i],r);return s}}function Un(t,e,n){const r=Cu(e);return hf(t,r,n)}function hf(t,e,n){return({inputs:r,attrs:s,backend:i})=>{const{x:a}=r;Ct(a,t);const o=i,l=o.data.get(a.dataId).values;let u;if(a.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=xc(l)}else u=l;const d=n||a.dtype,f=e(u,d,s);return o.makeTensorInfo(a.shape,d,f)}}const sZ=Cu(t=>Math.ceil(t)),tAe=hf(Jb,sZ),nAe={kernelName:Jb,backendName:"cpu",kernelFunc:tAe};function iZ(t,e,n,r){const s=Kr(n,Le(e));if(r&&n!=="string"){let i=0;t.forEach(a=>{const o=Le(a.shape);s.set(a.vals,i),i+=o})}else{let i=0;t.forEach(a=>{const o=n==="string"?xc(a.vals):a.vals;let l=0;for(let u=0;u<a.shape[0];++u){const d=u*e[1]+i;for(let f=0;f<a.shape[1];++f)s[d+f]=o[l++]}i+=a.shape[1]})}return s}const aZ=Qr((t,e)=>t===e?1:0),oZ=As(Lk,aZ,null,"bool"),rAe={kernelName:Lk,backendName:"cpu",kernelFunc:oZ};const lZ=Cu(t=>Math.exp(t)),uZ=hf(a0,lZ,"float32"),sAe={kernelName:a0,backendName:"cpu",kernelFunc:uZ};const cZ=Cu(t=>Math.expm1(t)),iAe=hf(o0,cZ),aAe={kernelName:o0,backendName:"cpu",kernelFunc:iAe};const dZ=Cu(t=>Math.floor(t)),oAe=hf(l0,dZ),lAe={kernelName:l0,backendName:"cpu",kernelFunc:oAe};const fZ=Qr((t,e)=>Math.floor(t/e)),uAe=As(u0,fZ,null,"int32"),cAe={kernelName:u0,backendName:"cpu",kernelFunc:uAe};function hZ(t,e,n,r,s,i,a,o,l){const u=rn([r,i],n);for(let d=0;d<r;d++){const f=[];let p=0;for(let m=0;m<s;m++){const y=t[d*s+m];p+=y*a[m],f.push(y)}if(p<0||p>=l/i)throw new Error(`Invalid indices: ${f} does not index into ${o}`);for(let m=0;m<i;m++)u.values[d*i+m]=e.get(...e.indexToLoc(p*i+m))}return u}function pZ(t,e,n){const r=rn(n,t.dtype);for(let s=0;s<r.size;++s){const a=r.indexToLoc(s).slice(),o=a[0],l=a[2],u=e.locToIndex([o,l]);a[2]=e.values[u];const d=t.locToIndex(a);0<=d&&d<t.values.length&&(r.values[s]=t.values[d])}return r}const mZ=Qr((t,e)=>t>e?1:0),dAe=As(jk,mZ,null,"bool"),fAe={kernelName:jk,backendName:"cpu",kernelFunc:dAe};const gZ=Qr((t,e)=>t>=e?1:0),hAe=As(c0,gZ,null,"bool"),pAe={kernelName:c0,backendName:"cpu",kernelFunc:hAe};const yZ=Qr((t,e)=>t<e?1:0),mAe=As(Vk,yZ,null,"bool"),gAe={kernelName:Vk,backendName:"cpu",kernelFunc:mAe};const vZ=Qr((t,e)=>t<=e?1:0),yAe=As(Wk,vZ,null,"bool"),vAe={kernelName:Wk,backendName:"cpu",kernelFunc:yAe};function bZ(t,e,n){const r=(e-t)/(n-1),s=xi(n,"float32");s[0]=t;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}const xZ=Cu(t=>Math.log(t)),bAe=hf(m0,xZ),xAe={kernelName:m0,backendName:"cpu",kernelFunc:bAe};function wZ(t,e,n,r){const s=ni(r,Le(n));for(let i=0;i<s.length;++i){const a=i*e;let o=t[a];for(let l=0;l<e;++l){const u=t[a+l];(Number.isNaN(u)||u>o)&&(o=u)}s[i]=o}return s}const SZ=Qr(((t,e)=>Math.max(t,e))),wAe=As(y0,SZ),SAe={kernelName:y0,backendName:"cpu",kernelFunc:wAe};const CZ=Qr(((t,e)=>Math.min(t,e))),CAe=As(v0,CZ),kAe={kernelName:v0,backendName:"cpu",kernelFunc:CAe};const GM=Qr(((t,e)=>t*e)),TAe=WM(((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n}))),o2=As(x0,GM,TAe),EAe={kernelName:x0,backendName:"cpu",kernelFunc:o2};function kZ(t,e,n){const r=rf(-1,n);return GM([],e,r,t,n)}function NAe(t){const{inputs:e,backend:n}=t,{x:r}=e;Ct(r,"neg");const s=n.data.get(r.dataId).values,[i,a]=kZ(s,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}const $Ae={kernelName:tT,backendName:"cpu",kernelFunc:NAe};const TZ=Qr(((t,e)=>t!==e?1:0)),IAe=As(nT,TZ,null,"bool"),AAe={kernelName:nT,backendName:"cpu",kernelFunc:IAe};function qM(t,e,n,r,s){const i=e.length,a=Le(e),o=At(e),l=At(s),u=ni(n,Le(s));for(let d=0;d<a;++d){const f=Ng(d,i,o),p=new Array(f.length);for(let y=0;y<p.length;y++)p[y]=f[r[y]];const m=iu(p,i,l);u[m]=t[d]}return u}function Ji(t){const{inputs:e,attrs:n,backend:r}=t,{x:s}=e,{perm:i}=n;Ct(s,"transpose");const a=s.shape.length,o=new Array(a);for(let f=0;f<o.length;f++)o[f]=s.shape[i[f]];const l=r.data.get(s.dataId).values,u=qM(l,s.shape,s.dtype,i,o);return{dataId:r.write(u,o,s.dtype),shape:o,dtype:s.dtype}}const OAe={kernelName:Pm,backendName:"cpu",kernelFunc:Ji};function EZ(t,e,n,r){const[s,i]=Fs(t,r),a=Sa(e,"int32"),o=xi(Le(s),a),l=Le(i);for(let u=0;u<o.length;++u){const d=u*l;let f=1;for(let p=0;p<l;++p)f*=n[d+p];o[u]=f}return{outVals:o,outShape:s,outDtype:a}}function RAe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Ct(s,"prod");const o=s.shape.length,l=un(i,s.shape),u=Dr(l,o);let d=l,f=s;const p=[];u!=null&&(f=Ji({inputs:{x:s},backend:n,attrs:{perm:u}}),p.push(f),d=Yr(d.length,o));const m=n.data.get(f.dataId).values,{outVals:y,outShape:v,outDtype:b}=EZ(f.shape,f.dtype,m,d);let w=v;return a&&(w=Xr(v,l)),p.forEach(S=>n.disposeIntermediateTensorInfo(S)),n.makeTensorInfo(w,b,y)}const DAe={kernelName:lT,backendName:"cpu",kernelFunc:RAe};function _Ae(t,e,n){t.forEach((r,s)=>{if(r<0||r>=n){const i=Ng(s,e.length,At(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function PAe(t,e){for(let n=0;n<t.length;++n){const r=t[n],s=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function MAe(t,e,n,r){const s=[];let i=0;const a=e.length-1+n.length,o=new Array(a).fill(null).map(()=>[0]);PAe(n,r);let l=1;for(let u=0;u<e.length-1;++u){l*=e[u];const d=e[u+1];for(let f=1;f<l+1;++f)o[u].push(f*d)}for(let u=0;u<t.length;++u){let d=t[u],f=t[u]+1;for(let p=0;p<n.length;++p){const m=n[p],y=p+e.length-1;if(y>=0){const v=o[y],b=v[v.length-1]-m[d];for(let w=d;w<f;++w)o[y].push(m[w+1]+b)}d=m[d],f=m[f]}f!==d&&(s.push([d,f]),i+=f-d)}return{outSplits:o,valueSlices:s,numValues:i}}function LAe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,s=Kr("int32",r);e.push(s),t[n].forEach((i,a)=>s[a]=i)}return e}function bV(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function FAe(t,e,n,r,s,i){const a=bV(e,2)[1],o=bV(i,2)[1];let l=0;for(const u of n)for(let d=u[0];d<u[1];++d){for(let f=0;f<r;++f)s[l*o+f]=t[d*a+f];++l}}function zAe(t,e,n,r,s){const i=e.slice();i[0]=s;const a=Kr(n,Le(i)),o=t.length,l=o===0?0:o/e[0];return FAe(t,e,r,l,a,i),[a,i]}function NZ(t,e,n,r,s,i,a,o){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(_Ae(i,a,l),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:d,valueSlices:f,numValues:p}=MAe(i,a,t,u),m=LAe(d),y=zAe(n,r,s,f,p);return[m,y[0],y[1]]}const xV=2147483647;function $Z(t,e,n,r,s,i,a){if(e.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const o=e.length===0,l=s.length===0,u=a.length===0,d=[];o||d.push(e[0]),l||d.push(s[0]),u||d.push(a[0]);for(let b=1;b<d.length;++b)if(d[b]!==d[b-1])throw new Error("starts, limits, and deltas must have the same shape");const f=d.length===0?1:d[0],p=Kr("int32",f+1);p[0]=0;for(let b=0;b<f;++b){const w=o?t[0]:t[b],S=l?r[0]:r[b],C=u?i[0]:i[b];if(C===0)throw new Error("Requires delta != 0");let T;if(C>0&&S<w||C<0&&S>w)T=0;else if(T=Math.ceil(Math.abs((S-w)/C)),T>xV)throw new Error(`Requires ((limit - start) / delta) <= ${xV}`);p[b+1]=p[b]+T}const m=p[f],y=Kr(n,m);let v=0;for(let b=0;b<f;++b){const w=p[b+1]-p[b];let S=o?t[0]:t[b];const C=u?i[0]:i[b];for(let T=0;T<w;++T)y[v++]=S,S+=C}return[p,y]}var go=sl;class KS{constructor(e,n,r,s,i,a,o,l,u,d){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=i,this.defaultValue=a,this.defaultValueShape=o,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=c7(d),this.raggedRank=d7(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===go.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===go.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case go.VALUE_ROWIDS:return KS.getMaxWidthValueRowID(n);case go.ROW_SPLITS:return KS.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${go[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const i=e[s+1]-e[s];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,s=e[0],i=0;for(let a=1;a<n;++a){const o=e[a];o!==s&&(s=o,i=Math.max(a-r,i),r=a)}return Math.max(n-r,i)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return SV(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;f7(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=u7(this.raggedRank,s,n);a[0]<0&&(a[0]=e);for(let o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}calculateFirstParentOutputIndex(e,n,r){const s=Math.min(e,r),i=[];let a=0;for(let o=0;o<s;++o,a+=n)i.push(a);for(let o=s;o<e;++o)i.push(-1);return Y(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,n,r,s){const i=e.length,a=[];for(let o=0;o<i-1;++o){const l=e[o+1]-e[o];let u=Math.min(s,l),d=n[o];d===-1&&(u=0);for(let f=0;f<u;++f)a.push(d),d+=r;for(let f=0;f<l-u;++f)a.push(-1)}if(i>0&&a.length!==e[i-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,n,r,s){const i=e.length,a=[];if(i===0)return[];let o=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];a.push(u);for(let d=1;d<i;++d){const f=e[d];if(f===l)u>=0&&(++o,o<s?u+=r:u=-1);else{if(o=0,l=f,f>=n.length)throw new Error(`Got nextValueRowId=${f} which is not less than ${n.length}`);u=n[f]}a.push(u)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,n,r,s){const i=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case go.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,s);case go.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,s);default:throw new Error(`Unsupported partition type: ${go[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case go.FIRST_DIM_SIZE:return e[0];case go.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case go.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${go[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*r[l+1];const i=SV(r,!1),a=Kr(this.valuesDType,Le(i));if(s[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,s[u],r[u]);this.setOutput(this.raggedRank,l,a,i)}return[i,a]}setOutput(e,n,r,s){if(r.length===0)return;const i=this.values,a=r;let o=s.slice();o=o.slice(e+1);const l=Le(o),u=n.length;let d=this.defaultValue;if(d.length!==l&&d.length!==1){const y=this.defaultValueShape;Ne(()=>{const v=me(d,y);d=Fm(v,o).dataSync()})}let f=0,p=0,m=0;for(let y=0;y<=u;++y){let v=y<u?n[y]:-1;if(v===m){++m;continue}if(p<m){const b=i.subarray(f*l),w=a.subarray(p*l),S=(m-p)*l;wV(w,b,S)}if(y>=u){const b=r.length;v=Math.floor(b/l)}if(v>m)if(this.defaultValue.length===1)a.subarray(m*l,v*l).fill(this.defaultValue[0]),m=v;else for(;v>m;){const b=a.slice(m*l);wV(b,d,l),++m}v<0?(f=y+1,p=m):(f=y,p=m,m=p+1)}}}function wV(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function SV(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function IZ(t,e,n,r,s,i,a,o,l,u){return new KS(t,e,n,r,s,i,a,o,l,u).compute()}function AZ(t,e,n,r){const s=t===e,i=t<e&&n<0,a=e<t&&n>1;if(s||i||a)return xi(0,r);const o=Math.abs(Math.ceil((e-t)/n)),l=xi(o,r);e<t&&n===1&&(n=-1),l[0]=t;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}const OZ=Cu(t=>1/Math.sqrt(t)),BAe=hf(E0,OZ),jAe={kernelName:E0,backendName:"cpu",kernelFunc:BAe};function yh(t,e,n,r,s,i,a,o,l,u){const d=[r/s,s],f=t.values,p=e.values;if(r===0)return rn(n,e.dtype);const m=l instanceof ks?l:rn(d,e.dtype);typeof l=="string"||typeof l=="number"?m.values.fill(l):typeof l=="boolean"&&m.values.fill(+l);for(let y=0;y<i;y++){const v=[];let b=0;for(let w=0;w<a;w++){const S=f[y*a+w];v.push(S),b+=S*o[w]}if(b<0||b>=r/s)throw new Error(`Invalid indices: ${v} does not index into ${n}`);for(let w=0;w<s;w++)u?m.values[b*s+w]+=p[y*s+w]:m.values[b*s+w]=e.rank===0?p[0]:p[y*s+w]}return m}const UAe=Cu(t=>1/(1+Math.exp(-t))),RZ=Un(O0,t=>1/(1+Math.exp(-t))),VAe={kernelName:O0,backendName:"cpu",kernelFunc:RZ};function DZ(t,e,n,r,s){const i=JP(r,e,n),a=Le(n),o=At(r);if(i){const f=eM(e,o);return s==="string"?t.slice(f,f+a):t.subarray(f,f+a)}const l=s==="string"?xc(t):t,u=rn(r,s,l),d=rn(n,s);for(let f=0;f<d.size;++f){const p=d.indexToLoc(f),m=p.map((y,v)=>y+e[v]);d.set(u.get(...m),...p)}return s==="string"?R7(d.values):d.values}function Gh(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:a}=r;Ct(s,"slice");const[o,l]=GT(s,i,a);ZP(s,o,l);const u=n.data.get(s.dataId).values,d=DZ(u,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,d)}const WAe={kernelName:pT,backendName:"cpu",kernelFunc:Gh};function _Z(t,e,n,r,s,i,a){const o=e[0],l=i[0],u=new Array(l),d=new Array(o),f=e[1];if(l===0){if(o!==0)throw new Error(b7(o));const b=Kr(n,0),w=Kr(s,0);return[b,[0,f],w,u,d]}let p=!0,m=0;const y=new Array(l).fill(0);for(let b=0;b<o;++b){const w=t[b*f];if(w<0)throw new Error(x7(b,w));if(w>=l)throw new Error(w7(b,w,l));++y[w],p=p&&w>=m,m=w}let v=!0;for(let b=0;b<l;++b){const w=y[b]===0;u[b]=w,v=v&&!w,y[b]=Math.max(y[b],1),b>0&&(y[b]+=y[b-1])}if(v&&p){const b=t,w=r;for(let S=0;S<o;++S)d[S]=S;return[b,[o,f],w,u,d]}else{const b=y[l-1],w=Kr(n,b*f),S=Kr(s,b),C=new Array(l).fill(0);for(let T=0;T<o;++T){const N=t[T*f],O=C[N],_=(N===0?0:y[N-1])+O;C[N]++;for(let F=0;F<f;++F)w[_*f+F]=t[T*f+F];S[_]=r[T],d[T]=_}for(let T=0;T<l;++T)if(C[T]===0){const O=T===0?0:y[T-1];w[O*f+0]=T;for(let _=1;_<f;++_)w[O*f+_]=0;S[O]=a}return[w,[b,f],S,u,d]}}function PZ(t,e,n,r,s){const i=Le(r),a=e[0],o=s.length,l=[];let u=1,d=-1;for(let b=0;b<o;++b){const w=s[b];if(w===-1){if(d!==-1)throw new Error(S7(d,b));d=b,l.push(1)}else{if(w<0)throw new Error(C7(b,w));u*=w,l.push(w)}}if(d!==-1){if(u<=0)throw new Error(k7());const b=Math.trunc(i/u);if(u*b!==i)throw new Error(T7(r,l));l[d]=b}if(Le(l)!==i)throw new Error(E7(r,l));const p=r.length,m=[];if(p>0){m[p-1]=1;for(let b=p-2;b>=0;--b)m[b]=m[b+1]*r[b+1]}const y=[];if(o>0){y[o-1]=1;for(let b=o-2;b>=0;--b)y[b]=y[b+1]*l[b+1]}const v=Kr(n,a*o);for(let b=0;b<a;++b){let w=0;for(let S=0;S<p;++S)w+=t[b*p+S]*m[S];for(let S=0;S<o;++S)v[b*o+S]=Math.trunc(w/y[S]),w%=y[S]}return[v,[a,o],l]}function KM(t,e,n,r,s,i=!1,a=0){const o=r.length,l=[e[0],t.length/e[0]],u=l[1],f=o>0?s[o-1]+1:0;if(f<0)throw new Error(PO());const p=e.slice();p[0]=f;const m=p.reduce((C,T)=>C*T,1),y=Kr(n,m);if(o===0)return f>0&&y.fill(a),[y,p];if(f<=0)throw new Error(PO());let v=0,b=1,w=0,S=s[v];for(;;){let C=0;if(b<o){if(C=s[b],S===C){++b;continue}if(S>=C)throw new Error(N7())}if(S<0||S>=f)throw new Error($7(S,f));S>w&&y.fill(a,w*u,S*u);for(let T=v;T<b;++T){const N=r[T];if(N<0||N>=l[0])throw new Error(I7(T,r[T],l[0]));for(let O=0;O<u;O++)y[S*u+O]+=t[N*u+O]}if(i)for(let T=0;T<u;T++)y[S*u+T]/=b-v;if(v=b,++b,w=S+1,S=C,b>o)break}return w<f&&y.fill(a,w*u,f*u),[y,p]}const HAe=Cu(t=>Math.sqrt(t)),GAe=Un(D0,t=>Math.sqrt(t)),qAe={kernelName:D0,backendName:"cpu",kernelFunc:GAe};const MZ=Qr(((t,e)=>{const n=t-e;return n*n})),KAe=As(_0,MZ),XAe={kernelName:_0,backendName:"cpu",kernelFunc:KAe};const LZ=Cu((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=e;return t.replace(new RegExp(n,r?"g":""),s)}),YAe=hf(bT,LZ),ZAe={kernelName:bT,backendName:"cpu",kernelFunc:YAe};function FZ(t,e,n,r){const s=rn(t,e.dtype);for(let i=0;i<s.size;i++){const a=s.indexToLoc(i),o=new Array(a.length);for(let l=0;l<o.length;l++)o[l]=a[l]*n[l]+r[l];s.set(e.get(...o),...a)}return s}class QAe{constructor(e,n,r,s,i,a){this.separator=Od(e),this.nGramWidths=n,this.leftPad=Od(r),this.rightPad=Od(s),this.padWidth=i,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,s,i,a){for(let o=0;o<i;++o){const l=this.getPadWidth(a),u=Math.max(0,l-o),d=Math.max(0,l-(i-(o+1))),f=a-(u+d),p=n+(u>0?0:o-l);let m=0;m+=u*this.leftPad.length;for(let S=0;S<f;++S)m+=e[p+S].length;m+=d*this.rightPad.length;const y=u+d+f-1;m+=y*this.separator.length,r[s+o]=new Uint8Array(m);const v=r[s+o];let b=0;const w=S=>S.forEach(C=>v[b++]=C);for(let S=0;S<u;++S)w(this.leftPad),w(this.separator);for(let S=0;S<f-1;++S)w(e[p+S]),w(this.separator);if(f>0){w(e[p+f-1]);for(let S=0;S<d;++S)w(this.separator),w(this.rightPad)}else{for(let S=0;S<d-1;++S)w(this.rightPad),w(this.separator);w(this.rightPad)}}}compute(e,n){const r=e.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<s;++u){let d=n[u]>=l;if(d=d&&n[u]<=r,!d)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${r}]`);l=n[u]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=s-1,a=Kr("int32",s);if(r===0||s===0){const l=new Array(r);for(let u=0;u<=i;++u)a[u]=0;return[l,a]}a[0]=0;for(let l=1;l<=i;++l){const u=n[l]-n[l-1];let d=0;this.nGramWidths.forEach(f=>{d+=this.getNumNGrams(u,f)}),this.preserveShort&&u>0&&d===0&&(d=1),a[l]=a[l-1]+d}const o=new Array(a[i]);for(let l=0;l<i;++l){const u=n[l];let d=a[l];if(this.nGramWidths.forEach(f=>{const p=n[l+1]-n[l],m=this.getNumNGrams(p,f);this.createNGrams(e,u,o,d,m,f),d+=m}),this.preserveShort&&d===a[l]){const f=n[l+1]-n[l];if(f===0)continue;const p=f+2*this.padWidth;this.createNGrams(e,u,o,d,1,p)}}return[o,a]}}function zZ(t,e,n,r,s,i,a,o){return new QAe(n,r,s,i,a,o).compute(t,e)}function JAe(t,e,n,r){if(!t.length)return;if(e.length===0){for(let i=0;i<t.length;++i)r.push(t.subarray(i,i+1));return}if(e.length===1){const i=e[0];let a=t.indexOf(i);for(;a!==-1;){const o=t.subarray(0,a);(!n||o.length!==0)&&r.push(o),t=t.subarray(a+1),a=t.indexOf(i)}(!n||t.length!==0)&&r.push(t);return}let s=0;for(let i=0;i<t.length+1;i++)if(i===t.length||e.indexOf(t[i])!==-1){const a=t.subarray(s,i);(!n||a.length!==0)&&r.push(a),s=i+1}}function BZ(t,e,n){const r=t.length,s=[];let i=0,a=0;const o=new Array(r);for(let p=0;p<r;++p){const m=s.length;JAe(t[p],e,n,s);const y=s.length-m;o[p]=y,i+=y,a=Math.max(a,y)}const l=Kr("int32",i*2),u=new Array(i),d=[r,a];let f=0;for(let p=0;p<r;++p)for(let m=0;m<o[p];++m)l[f*2]=p,l[f*2+1]=m,u[f]=s[f],++f;return[l,u,d]}function jZ(t,e){const n=Kr("int32",t.length);for(let r=0;r<t.length;++r)n[r]=fbe(t[r]).modulo(e).getLowBitsUnsigned();return n}const UZ=Qr(((t,e)=>t-e)),eOe=WM(((t,e,n,r)=>({real:t-n,imag:e-r}))),XM=As(P0,UZ,eOe),tOe={kernelName:P0,backendName:"cpu",kernelFunc:XM};function VZ(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const r=rn(n,t.dtype);for(let s=0;s<r.values.length;++s){const i=r.indexToLoc(s),a=new Array(t.rank);for(let l=0;l<a.length;l++)a[l]=i[l]%t.shape[l];const o=t.locToIndex(a);r.values[s]=t.values[o]}return r}const Dv=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function WZ(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const o=r-n+1,l=e-n+1,u=Math.log(o),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(o-d)/o)*Math.sign(l-o/2),p=Math.max(n,Math.floor(e-l*d/o+f)),m=Math.min(r,Math.floor(e+(o-l)*d/o+f));WZ(t,e,p,m)}const s=t[e];let i=n,a=r;for(Cm(t,n,e),Dv(t[r],s)>0&&Cm(t,n,r);i<a;){for(Cm(t,i,a),i++,a--;Dv(t[i],s)<0;)i=i+1;for(;Dv(t[a],s)>0;)a=a-1}Dv(t[n],s)===0?Cm(t,n,a):(a=a+1,Cm(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}}function HZ(t,e,n,r,s){const i=e[e.length-1],[a,o]=[t.length/i,i],l=ni(n,a*r),u=ni("int32",a*r);for(let f=0;f<a;f++){const p=f*o,m=t.subarray(p,p+o);let y=new Array(m.length);m.forEach((S,C)=>y[C]={value:S,index:C}),r<y.length&&(WZ(y,r),y=y.slice(0,r)),s&&y.sort(Dv);const v=f*r,b=l.subarray(v,v+r),w=u.subarray(v,v+r);for(let S=0;S<r;S++)b[S]=y[S].value,w[S]=y[S].index}const d=e.slice();return d[d.length-1]=r,[rn(d,n,l),rn(d,"int32",u)]}function GZ(t,e,n,r){const s=un(e,n)[0],i=[1,n[0],1];for(let y=0;y<s;y++)i[0]*=n[y];i[1]=n[s];for(let y=s+1;y<n.length;y++)i[2]*=n[y];const a=new Map,o=new Int32Array(n[s]),l=new ks(i,r,t),u=[],d=i[0]===1&&i[2]===1;for(let y=0;y<n[s];y++){let v;if(d)v=t[y].toString();else{const w=[];for(let S=0;S<i[0];S++)for(let C=0;C<i[2];C++)w.push(l.get(S,y,C));v=w.join(",")}const b=a.get(v);if(b!=null)o[y]=b;else{const w=a.size;a.set(v,w),o[y]=w,u.push(y)}}const f=i.slice();f[1]=a.size;const p=new ks(f,r);u.forEach((y,v)=>{for(let b=0;b<i[0];b++)for(let w=0;w<i[2];w++)p.set(l.get(b,y,w),b,v,w)});const m=n.slice();return m[s]=f[1],{outputValues:p.values,outputShape:m,indices:o}}const nOe=Object.freeze(Object.defineProperty({__proto__:null,addImpl:tZ,bincountImpl:HM,bincountReduceImpl:nZ,bitwiseAndImpl:rZ,castImpl:eZ,ceilImpl:sZ,concatImpl:iZ,equalImpl:aZ,expImpl:lZ,expm1Impl:cZ,floorDivImpl:fZ,floorImpl:dZ,gatherNdImpl:hZ,gatherV2Impl:pZ,greaterEqualImpl:gZ,greaterImpl:mZ,lessEqualImpl:vZ,lessImpl:yZ,linSpaceImpl:bZ,logImpl:xZ,maxImpl:wZ,maximumImpl:SZ,minimumImpl:CZ,multiplyImpl:GM,negImpl:kZ,notEqualImpl:TZ,prodImpl:EZ,raggedGatherImpl:NZ,raggedRangeImpl:$Z,raggedTensorToTensorImpl:IZ,rangeImpl:AZ,rsqrtImpl:OZ,scatterImpl:yh,sigmoidImpl:UAe,simpleAbsImpl:JY,sliceImpl:DZ,sparseFillEmptyRowsImpl:_Z,sparseReshapeImpl:PZ,sparseSegmentReductionImpl:KM,sqrtImpl:HAe,squaredDifferenceImpl:MZ,staticRegexReplaceImpl:LZ,stridedSliceImpl:FZ,stringNGramsImpl:zZ,stringSplitImpl:BZ,stringToHashBucketFastImpl:jZ,subImpl:UZ,tileImpl:VZ,topKImpl:HZ,transposeImpl:qM,uniqueImpl:GZ},Symbol.toStringTag,{value:"Module"}));vK("cpu",()=>new a2,1);const qZ=Un(s0,t=>t>=0?t:Math.exp(t)-1),rOe={kernelName:s0,backendName:"cpu",kernelFunc:qZ};function KZ(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r;Ct([s],"leakyRelu");const a=Le(s.shape),o=n.data.get(s.dataId).values,l=ni("float32",a);for(let u=0;u<o.length;u++)l[u]=o[u]<0?i*o[u]:o[u];return n.makeTensorInfo(s.shape,"float32",l)}const sOe={kernelName:Uk,backendName:"cpu",kernelFunc:KZ};const iOe=Qr((t,e)=>t<0?e*t:t);function XZ(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e;Ct([r,s],"prelu");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,[o,l]=iOe(r.shape,s.shape,i,a,"float32");return n.makeTensorInfo(l,"float32",o)}const aOe={kernelName:oT,backendName:"cpu",kernelFunc:XZ};const YZ=Un(C0,t=>Math.max(0,t)),oOe={kernelName:C0,backendName:"cpu",kernelFunc:YZ};const ZZ=Un(k0,t=>Math.min(Math.max(0,t),6)),lOe={kernelName:k0,backendName:"cpu",kernelFunc:ZZ};function XS(t,e,n,r,s){if(n==="linear")return gu({inputs:{x:e},backend:t});if(n==="relu")return YZ({inputs:{x:e},backend:t});if(n==="elu")return qZ({inputs:{x:e},backend:t});if(n==="relu6")return ZZ({inputs:{x:e},backend:t});if(n==="prelu")return XZ({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return KZ({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return RZ({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function lr(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,a=Le(s.shape),o=X8(i,a),l=Le(o);Y(a===l,()=>`The new shape (${o}) has ${l} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const u=n.data.get(s.dataId);if(u.complexTensorInfos!=null){const d=u.complexTensorInfos.real,f=u.complexTensorInfos.imag;d.shape=o,f.shape=o}return{dataId:s.dataId,shape:o,dtype:s.dtype}}const uOe={kernelName:uT,backendName:"cpu",kernelFunc:lr};function QZ(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:a,transposeB:o}=r;Ct([s,i],"matMul");const l=s.shape.length,u=i.shape.length,d=a?s.shape[l-2]:s.shape[l-1],f=o?i.shape[u-1]:i.shape[u-2],p=a?s.shape[l-1]:s.shape[l-2],m=o?i.shape[u-2]:i.shape[u-1],y=s.shape.slice(0,-2),v=i.shape.slice(0,-2),b=Le(y),w=Le(v),C=Xt(s.shape.slice(0,-2),i.shape.slice(0,-2)).concat([p,m]);Y(d===f,()=>`Error in matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${a} and transposeB=${o} must match.`);const T=a?[b,d,p]:[b,p,d],N=o?[w,m,f]:[w,f,m],O=lr({inputs:{x:s},backend:n,attrs:{shape:T}}),_=lr({inputs:{x:i},backend:n,attrs:{shape:N}}),F=a?O.shape[1]:O.shape[2],L=a?O.shape[2]:O.shape[1],z=o?_.shape[1]:_.shape[2],P=Math.max(b,w),R=n.data.get(O.dataId).values,H=n.data.get(_.dataId).values,q=At(O.shape),X=At(_.shape),[V,ee,J]=a?[q[0],1,q[1]]:[q[0],q[1],1],[te,ce,G]=o?[1,X[1],X[0]]:[X[1],1,X[0]],ne=L*z,ae=rn([P,L,z],O.dtype),be=ae.values,$e=n.blockSize;for(let Ie=0;Ie<P;Ie++){const Me=Ie%b,st=Ie%w;for(let se=0;se<L;se+=$e){const je=Math.min(se+$e,L);for(let Ge=0;Ge<z;Ge+=$e){const Se=Math.min(Ge+$e,z);for(let yt=0;yt<F;yt+=$e){const Qe=Math.min(yt+$e,F);for(let ut=se;ut<je;ut++)for(let kt=Ge;kt<Se;kt++){let Dt=0;for(let Ot=yt;Ot<Qe;Ot++){const fn=R[Me*V+ut*ee+Ot*J],Zt=H[Ot*te+kt*ce+st*G];Dt+=fn*Zt}be[Ie*ne+(ut*z+kt)]+=Dt}}}}}return n.disposeIntermediateTensorInfo(O),n.disposeIntermediateTensorInfo(_),n.makeTensorInfo(C,ae.dtype,ae.values)}const cOe={kernelName:Ek,backendName:"cpu",kernelFunc:QZ};function dOe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:a,preluActivationWeights:o}=e,{transposeA:l,transposeB:u,activation:d,leakyreluAlpha:f}=r;let p,m,y;const v=[];p=QZ({inputs:{a:s,b:i},attrs:{transposeA:l,transposeB:u},backend:n}),a&&(m=ng({inputs:{a:p,b:a},backend:n}),v.push(p),p=m),d&&(y=XS(n,p,d,o,f),v.push(p),p=y);for(const w of v)n.disposeIntermediateTensorInfo(w);return p}const fOe={kernelName:NS,backendName:"cpu",kernelFunc:dOe};const hOe=Un(Hb,t=>Math.acos(t)),pOe={kernelName:Hb,backendName:"cpu",kernelFunc:hOe};const mOe=Un(Gb,t=>Math.acosh(t)),gOe={kernelName:Gb,backendName:"cpu",kernelFunc:mOe};function yOe(t){const{inputs:e,backend:n}=t,r=e;Ct(e,"addN");const s=r.map(o=>n.data.get(o.dataId).values),i=rn(r[0].shape,r[0].dtype),a=i.values;for(let o=0;o<r.length;o++){const l=s[o];for(let u=0;u<a.length;u++)a[u]+=l[u]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const vOe={kernelName:wk,backendName:"cpu",kernelFunc:yOe};function bOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Ct(s,"all");const o=un(i,s.shape);let l=o;const u=Dr(l,s.shape.length);let d=s;u!=null&&(d=Ji({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Yr(l.length,s.shape.length)),ii("all",l,d.shape.length);const[f,p]=Fs(d.shape,l),m=Le(p),y=xi(Le(f),d.dtype),v=n.data.get(d.dataId).values;for(let w=0;w<y.length;++w){const S=w*m;let C=v[S];for(let T=0;T<m;++T){const N=v[S+T];C=C&&N}y[w]=C}u!=null&&n.disposeIntermediateTensorInfo(d);const b=n.makeTensorInfo(f,d.dtype,y);if(a){const w=Xr(f,o),S=lr({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),S}return b}const xOe={kernelName:n_,backendName:"cpu",kernelFunc:bOe};function wOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Ct(s,"any");const o=un(i,s.shape);let l=o;const u=Dr(l,s.shape.length);let d=s;u!=null&&(d=Ji({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Yr(l.length,s.shape.length)),ii("any",l,d.shape.length);const[f,p]=Fs(d.shape,l),m=Le(p),y=xi(Le(f),d.dtype),v=n.data.get(d.dataId).values;for(let w=0;w<y.length;++w){const S=w*m;let C=v[S];for(let T=0;T<m;++T){const N=v[S+T];C=C||N}y[w]=C}u!=null&&n.disposeIntermediateTensorInfo(d);const b=n.makeTensorInfo(f,d.dtype,y);if(a){const w=Xr(f,o),S=lr({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),S}return b}const SOe={kernelName:r_,backendName:"cpu",kernelFunc:wOe};function COe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;Ct(s,"argMax");let a=un(i,s.shape);const o=Dr(a,s.shape.length);let l=s;const u=[];o!=null&&(l=Ji({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(l),a=Yr(a.length,l.shape.length)),a=[a[0]],ii("argMax",a,l.shape.length);const[d,f]=Fs(l.shape,a),p=Le(d),m=xi(p,"int32"),y=Le(f),v=n.data.get(l.dataId).values;for(let b=0;b<m.length;++b){const w=b*y;let S=v[w],C=0;for(let T=0;T<y;++T){const N=v[w+T];N>S&&(S=N,C=T)}m[b]=C}return u.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(d,"int32",m)}const kOe={kernelName:Sk,backendName:"cpu",kernelFunc:COe};function TOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;Ct(s,"argMin");let a=un(i,s.shape);const o=Dr(a,s.shape.length);let l=s;const u=[];o!=null&&(l=Ji({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(l),a=Yr(a.length,l.shape.length)),a=[a[0]],ii("argMin",a,l.shape.length);const[d,f]=Fs(l.shape,a),p=Le(d),m=xi(p,"int32"),y=Le(f),v=n.data.get(l.dataId).values;for(let b=0;b<m.length;++b){const w=b*y;let S=v[w],C=0;for(let T=0;T<y;++T){const N=v[w+T];N<S&&(S=N,C=T)}m[b]=C}return u.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(d,"int32",m)}const EOe={kernelName:Ck,backendName:"cpu",kernelFunc:TOe};const NOe=Un(qb,t=>Math.asin(t)),$Oe={kernelName:qb,backendName:"cpu",kernelFunc:NOe};const IOe=Un(Kb,t=>Math.asinh(t)),AOe={kernelName:Kb,backendName:"cpu",kernelFunc:IOe};const OOe=Un(Xb,t=>Math.atan(t)),ROe={kernelName:Xb,backendName:"cpu",kernelFunc:OOe};const DOe=Qr((t,e)=>Math.atan2(t,e)),_Oe=As(Zb,DOe),POe={kernelName:Zb,backendName:"cpu",kernelFunc:_Oe};const MOe=Un(Yb,t=>Math.atanh(t)),LOe={kernelName:Yb,backendName:"cpu",kernelFunc:MOe};function YM(t,e,n,r,s,i){const a=s.strideHeight,o=s.strideWidth,l=s.dilationHeight,u=s.dilationWidth,d=s.effectiveFilterHeight,f=s.effectiveFilterWidth,p=s.padInfo.top,m=s.padInfo.left,y=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=rn(s.outShape,n),b=v.values,w=s.outShape[1]*s.outShape[2]*s.outShape[3],S=s.outShape[2]*s.outShape[3],C=s.outShape[3];for(let T=0;T<s.batchSize;++T){const N=T*w,O=T*r[0];for(let _=0;_<s.inChannels;++_)for(let F=0;F<s.outHeight;++F){const L=F*a-p,z=Math.max(0,L),P=Math.min(s.inHeight,d+L),R=N+F*S;for(let H=0;H<s.outWidth;++H){const q=H*o-m,X=Math.max(0,q),V=Math.min(s.inWidth,f+q);let ee=y,J=0,te=0;for(let G=z;G<P;G+=l){const ne=O+G*r[1];for(let ae=X;ae<V;ae+=u){const be=ne+ae*r[2],$e=t[be+_];i==="max"&&$e>ee?ee=$e:i==="avg"&&(J+=$e,te++)}if(isNaN(ee))break}const ce=R+H*C+_;b[ce]=i==="avg"?J/te:ee}}}return v}function JZ(t,e,n,r,s=!1,i=!1){const a=rn(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterHeight,p=r.effectiveFilterWidth,m=r.padInfo.top,y=r.padInfo.left,v=rn(e,n,t);for(let b=0;b<r.batchSize;++b)for(let w=0;w<r.inChannels;++w)for(let S=0;S<r.outHeight;++S){const C=S*o-m;let T=C;for(;T<0;)T+=u;const N=Math.min(r.inHeight,f+C);for(let O=0;O<r.outWidth;++O){const _=O*l-y;let F=_;for(;F<0;)F+=d;const L=Math.min(r.inWidth,p+_);let z=Number.NEGATIVE_INFINITY,P=-1;for(let R=T;R<N;R+=u){const H=R-C;for(let q=F;q<L;q+=d){const X=q-_,V=v.get(b,R,q,w);V>z&&(z=V,s?P=i?((b*r.inHeight+R)*r.inWidth+q)*r.inChannels+w:(R*r.inWidth+q)*r.inChannels+w:P=H*p+X)}}a.set(P,b,S,O,w)}}return a}function eQ(t,e,n,r,s,i){const a=s.strideDepth,o=s.strideHeight,l=s.strideWidth,u=s.dilationDepth,d=s.dilationHeight,f=s.dilationWidth,p=s.effectiveFilterDepth,m=s.effectiveFilterHeight,y=s.effectiveFilterWidth,v=s.padInfo.front,b=s.padInfo.top,w=s.padInfo.left,S=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,C=rn(s.outShape,n),T=C.values,N=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],O=s.outShape[2]*s.outShape[3]*s.outShape[4],_=s.outShape[3]*s.outShape[4],F=s.outShape[4];for(let L=0;L<s.batchSize;++L){const z=L*N,P=L*r[0];for(let R=0;R<s.inChannels;++R)for(let H=0;H<s.outDepth;++H){const q=H*a-v;let X=q;for(;X<0;)X+=u;const V=Math.min(s.inDepth,p+q),ee=z+H*O;for(let J=0;J<s.outHeight;++J){const te=J*o-b;let ce=te;for(;ce<0;)ce+=d;const G=Math.min(s.inHeight,m+te),ne=ee+J*_;for(let ae=0;ae<s.outWidth;++ae){const be=ae*l-w;let $e=be;for(;$e<0;)$e+=f;const Ie=Math.min(s.inWidth,y+be),Me=ne+ae*F;let st=S,se=0,je=0;for(let Se=X;Se<V;Se+=u){const yt=P+Se*r[1];for(let Qe=ce;Qe<G;Qe+=d){const ut=yt+Qe*r[2];for(let kt=$e;kt<Ie;kt+=f){const Dt=ut+kt*r[3],Ot=t[Dt+R];if(i==="max"&&Ot>st?st=Ot:i==="avg"&&(se+=Ot,je++),isNaN(st))break}if(isNaN(st))break}if(isNaN(st))break}const Ge=Me+R;T[Ge]=i==="avg"?se/Math.max(je,1):st}}}}return C}function FOe(t,e){const n=rn(e.outShape,"int32"),r=e.strideDepth,s=e.strideHeight,i=e.strideWidth,a=e.dilationDepth,o=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,f=e.effectiveFilterWidth,p=e.padInfo.front,m=e.padInfo.top,y=e.padInfo.left;for(let v=0;v<e.batchSize;++v)for(let b=0;b<e.inChannels;++b)for(let w=0;w<e.outDepth;++w){const S=w*r-p;let C=S;for(;C<0;)C+=a;const T=Math.min(e.inDepth,u+S);for(let N=0;N<e.outHeight;++N){const O=N*s-m;let _=O;for(;_<0;)_+=o;const F=Math.min(e.inHeight,d+O);for(let L=0;L<e.outWidth;++L){const z=L*i-y;let P=z;for(;P<0;)P+=l;const R=Math.min(e.inWidth,f+z);let H=Number.NEGATIVE_INFINITY,q=-1;for(let X=C;X<T;X+=a){const V=X-S;for(let ee=_;ee<F;ee+=o){const J=ee-O;for(let te=P;te<R;te+=l){const ce=te-z,G=t.get(v,X,ee,te,b);G>=H&&(H=G,q=V*d*f+J*d+ce)}}}n.set(q,v,w,N,L,b)}}}return n}function zOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Ct(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,u=1;Y(si(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=Vo(s.shape,i,a,u,o,l);let f;if(d.filterWidth===1&&d.filterHeight===1&&yn(d.inShape,d.outShape))f=gu({inputs:{x:s},backend:n});else{const p=n.data.get(s.dataId).values,m=At(s.shape),y=YM(p,s.shape,s.dtype,m,d,"avg");f=n.makeTensorInfo(d.outShape,s.dtype,y.values)}return f}const BOe={kernelName:kk,backendName:"cpu",kernelFunc:zOe};function jOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:u}=r;Ct(s,"avgPool3d");const d=$c(s.shape,i,a,1,o,l,u),f=n.data.get(s.dataId).values,p=eQ(f,s.shape,s.dtype,At(s.shape),d,"avg");return n.makeTensorInfo(p.shape,"float32",p.values)}const UOe={kernelName:Tk,backendName:"cpu",kernelFunc:jOe};function VOe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:a,strides:o,pad:l,dimRoundingMode:u}=r;Ct([s,i],"avgPool3DGrad");const d=$c(i.shape,a,o,1,l,u),f=d.strideDepth,p=d.strideHeight,m=d.strideWidth,y=d.filterDepth,v=d.filterHeight,b=d.filterWidth,w=d.dilationDepth,S=d.dilationHeight,C=d.dilationWidth,T=d.effectiveFilterDepth,N=d.effectiveFilterHeight,O=d.effectiveFilterWidth,_=T-1-d.padInfo.front,F=O-1-d.padInfo.left,L=N-1-d.padInfo.top,z=rn(i.shape,"float32"),P=1/(y*v*b),R=n.bufferSync(s);for(let H=0;H<d.batchSize;++H)for(let q=0;q<d.inChannels;++q)for(let X=0;X<d.inDepth;++X)for(let V=0;V<d.inHeight;++V)for(let ee=0;ee<d.inWidth;++ee){const J=X-_,te=V-L,ce=ee-F;let G=0;for(let ne=0;ne<T;ne+=w){const ae=(J+ne)/f;if(!(ae<0||ae>=d.outDepth||Math.floor(ae)!==ae))for(let be=0;be<N;be+=S){const $e=(te+be)/p;if(!($e<0||$e>=d.outHeight||Math.floor($e)!==$e))for(let Ie=0;Ie<O;Ie+=C){const Me=(ce+Ie)/m;if(Me<0||Me>=d.outWidth||Math.floor(Me)!==Me)continue;const st=R.get(H,ae,$e,Me,q);G+=st}}}z.set(G*P,H,X,V,ee,q)}return n.makeTensorInfo(z.shape,z.dtype,z.values)}const WOe={kernelName:i_,backendName:"cpu",kernelFunc:VOe};function HOe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i;Ct([s,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=r,d=Vo(a.shape,o,l,1,u),f=d.strideHeight,p=d.strideWidth,m=d.filterHeight,y=d.filterWidth,v=d.dilationHeight,b=d.dilationWidth,w=d.effectiveFilterHeight,S=d.effectiveFilterWidth,C=S-1-d.padInfo.left,T=w-1-d.padInfo.top,N=rn(a.shape,"float32"),O=1/(m*y),_=n.data.get(s.dataId).values,F=rn(s.shape,"float32",_);for(let L=0;L<d.batchSize;++L)for(let z=0;z<d.inChannels;++z)for(let P=0;P<d.inHeight;++P)for(let R=0;R<d.inWidth;++R){const H=P-T,q=R-C;let X=0;for(let V=0;V<w;V+=v){const ee=(H+V)/f;if(!(ee<0||ee>=d.outHeight||Math.floor(ee)!==ee))for(let J=0;J<S;J+=b){const te=(q+J)/p;if(te<0||te>=d.outWidth||Math.floor(te)!==te)continue;const ce=F.get(L,ee,te,z);X+=ce}}N.set(X*O,L,P,R,z)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}const GOe={kernelName:s_,backendName:"cpu",kernelFunc:HOe};function qOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,scale:i,offset:a,mean:o,variance:l}=e;Y(o.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Y(a==null||o.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Y(i==null||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Ct([s,o,l,i,a],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);const d=n.data.get(s.dataId).values,f=n.data.get(o.dataId).values,p=n.data.get(l.dataId).values,m=i?n.data.get(i.dataId).values:new Float32Array([1]),y=a?n.data.get(a.dataId).values:new Float32Array([0]),v=new Float32Array(d.length),b=y.length,w=m.length,S=p.length,C=f.length;let T=0,N=0,O=0,_=0;for(let F=0;F<d.length;++F)v[F]=y[T++]+(d[F]-f[N++])*m[O++]/Math.sqrt(p[_++]+u),T>=b&&(T=0),N>=C&&(N=0),O>=w&&(O=0),_>=S&&(_=0);return n.makeTensorInfo(s.shape,s.dtype,v)}const KOe={kernelName:zk,backendName:"cpu",kernelFunc:qOe};function XOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:a}=r;Ct([s],"batchToSpaceND");const o=i.reduce((w,S)=>w*S),l=K0(s.shape,i,o),u=X0(l.length,i.length),d=Y0(s.shape,i,o),f=iM(a,i.length),p=aM(d,a,i.length),m=lr({inputs:{x:s},backend:n,attrs:{shape:l}}),y=Ji({inputs:{x:m},backend:n,attrs:{perm:u}}),v=lr({inputs:{x:y},backend:n,attrs:{shape:d}}),b=Gh({inputs:{x:v},backend:n,attrs:{begin:f,size:p}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),b}const YOe={kernelName:Nk,backendName:"cpu",kernelFunc:XOe};function ZOe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a}=r,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,u=HM(o,l,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}const QOe={kernelName:a_,backendName:"cpu",kernelFunc:ZOe};function JOe(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,o=Xt(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const eRe={kernelName:o_,backendName:"cpu",kernelFunc:JOe};const tRe=Un(e0,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),nRe={kernelName:e0,backendName:"cpu",kernelFunc:tRe};const rRe=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(Le(e.shape)),s=n.data.get(e.dataId),i=s.complexTensorInfos.real,a=s.complexTensorInfos.imag,o=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values;for(let u=0;u<o.length;u++){const d=o[u],f=l[u];r[u]=Math.hypot(d,f)}return n.makeOutput(r,e.shape,"float32")},sRe={kernelName:Ik,backendName:"cpu",kernelFunc:rRe};function rg(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const iRe={kernelName:E_,backendName:"cpu",kernelFunc:rg};function sg(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=un(s,e[0].shape)[0],a=e.map(v=>v.shape);nM(a,i);let o=lu(e.map(v=>v.shape),i);if(Le(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const l=e.filter(v=>Le(v.shape)>0);if(l.length===1)return gu({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const v=l.map(T=>Hh({inputs:{input:T},backend:n})),b=l.map(T=>rg({inputs:{input:T},backend:n})),w=sg({inputs:v,backend:n,attrs:{axis:i}}),S=sg({inputs:b,backend:n,attrs:{axis:i}}),C=pa({inputs:{real:w,imag:S},backend:n});return v.forEach(T=>n.disposeIntermediateTensorInfo(T)),b.forEach(T=>n.disposeIntermediateTensorInfo(T)),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(S),C}const u=l.map(v=>{const w=[-1,Le(v.shape.slice(i))];return lr({inputs:{x:v},backend:n,attrs:{shape:w}})}),d=u.map(v=>({vals:n.data.get(v.dataId).values,shape:v.shape}));o=lu(u.map(v=>v.shape),1);const f=u[0].shape[0]===1,p=iZ(d,o,e[0].dtype,f),m=lu(l.map(v=>v.shape),i),y=n.makeTensorInfo(m,e[0].dtype,p);return u.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const aRe={kernelName:Ak,backendName:"cpu",kernelFunc:sg};function tQ(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dataFormat:l,dilations:u,dimRoundingMode:d}=r;Ct([s,i],"conv2d");const f=Ic(l),p=Ls(s.shape,i.shape,a,u,o,d,!1,f),m=p.filterHeight,y=p.filterWidth,v=p.dilationHeight,b=p.dilationWidth,w=p.padInfo.left,S=p.padInfo.top,C=p.dataFormat==="channelsLast",T=new ks(p.outShape,s.dtype),N=At(s.shape),O=At(i.shape),_=N[0],F=C?N[1]:N[2],L=C?N[2]:1,z=C?1:N[1],P=T.strides[0],R=C?T.strides[1]:T.strides[2],H=C?T.strides[2]:1,q=C?1:T.strides[1],X=n.data.get(s.dataId).values,V=n.data.get(i.dataId).values,ee=T.values;for(let J=0;J<p.batchSize;++J){const te=J*_,ce=J*P;for(let G=0;G<p.outHeight;++G){const ne=ce+G*R,ae=G*p.strideHeight-S;for(let be=0;be<m;++be){const $e=ae+be*v;if($e<0||$e>=p.inHeight)continue;const Ie=be*O[0],Me=te+$e*F;for(let st=0;st<p.outWidth;++st){const se=ne+st*H,je=st*p.strideWidth-w;for(let Ge=0;Ge<y;++Ge){const Se=je+Ge*b;if(Se<0||Se>=p.inWidth)continue;const yt=Ie+Ge*O[1],Qe=Me+Se*L;let ut=yt;for(let kt=0;kt<p.inChannels;++kt){const Dt=X[Qe+kt*z];for(let Ot=0;Ot<p.outChannels;++Ot)ee[se+Ot*q]+=Dt*V[ut+Ot];ut+=p.outChannels}}}}}}return n.makeTensorInfo(T.shape,T.dtype,ee)}const oRe={kernelName:Ok,backendName:"cpu",kernelFunc:tQ};function lRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:d}=r;Ct([s,i],"conv2dBackpropFilter");const f=Ic(l),p=Ls(s.shape,d,a,1,o,u,!1,f),{strideHeight:m,strideWidth:y,filterHeight:v,filterWidth:b}=p,w=p.dataFormat==="channelsLast",S=new ks(p.filterShape,"float32"),C=p.padInfo.left,T=p.padInfo.top,N=n.data.get(s.dataId).values,O=n.data.get(i.dataId).values,_=new ks(s.shape,s.dtype,N),F=new ks(i.shape,i.dtype,O);for(let L=0;L<v;++L){const z=Math.max(0,Math.ceil((T-L)/m)),P=Math.min(p.outHeight,(p.inHeight+T-L)/m);for(let R=0;R<b;++R){const H=Math.max(0,Math.ceil((C-R)/y)),q=Math.min(p.outWidth,(p.inWidth+C-R)/y);for(let X=0;X<p.inChannels;++X)for(let V=0;V<p.outChannels;++V){let ee=0;for(let J=0;J<p.batchSize;++J)for(let te=z;te<P;++te){const ce=L+te*m-T;for(let G=H;G<q;++G){const ne=R+G*y-C;w?ee+=_.get(J,ce,ne,X)*F.get(J,te,G,V):ee+=_.get(J,X,ce,ne)*F.get(J,V,te,G)}}S.set(ee,L,R,X,V)}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const uRe={kernelName:u_,backendName:"cpu",kernelFunc:lRe};function cRe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:a,strides:o,pad:l,dataFormat:u,dimRoundingMode:d}=r;Ct([s,i],"conv2dBackpropInput");const f=At(i.shape),p=At(s.shape);let m=Ic(u);const y=Ls(a,i.shape,o,1,l,d,!1,m),v=new ks(y.inShape,"float32"),b=v.values,w=n.data.get(s.dataId).values,S=n.data.get(i.dataId).values,[C,T,N]=f,{batchSize:O,filterHeight:_,filterWidth:F,inChannels:L,inHeight:z,inWidth:P,outChannels:R,outHeight:H,outWidth:q,strideHeight:X,strideWidth:V}=y;m=y.dataFormat;const ee=_-1-y.padInfo.top,J=F-1-y.padInfo.left,te=m==="channelsLast",ce=v.strides[0],G=te?v.strides[1]:v.strides[2],ne=te?v.strides[2]:1,ae=te?1:v.strides[1],be=p[0],$e=te?p[1]:p[2],Ie=te?p[2]:1,Me=te?1:p[1];for(let st=0;st<O;++st)for(let se=0;se<L;++se)for(let je=0;je<z;++je){const Ge=je-ee,Se=Math.max(0,Math.ceil(Ge/X)),yt=Math.min(H,(_+Ge)/X);for(let Qe=0;Qe<P;++Qe){const ut=Qe-J,kt=Math.max(0,Math.ceil(ut/V)),Dt=Math.min(q,(F+ut)/V);let Ot=0;for(let Zt=Se;Zt<yt;++Zt){const Ht=Zt*X-Ge;for(let pt=kt;pt<Dt;++pt){const fr=pt*V-ut,Lt=be*st+$e*Zt+Ie*pt,hr=C*(_-1-Ht)+T*(F-1-fr)+N*se;for(let an=0;an<R;++an){const Bt=w[Lt+Me*an],kn=S[hr+an];Ot+=Bt*kn}}}const fn=ce*st+G*je+ne*Qe+ae*se;b[fn]=Ot}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const dRe={kernelName:Rk,backendName:"cpu",kernelFunc:cRe};function fRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l}=r;Ct([s,i],"conv3d");const u=of(s.shape,i.shape,a,l,o),{filterDepth:d,filterHeight:f,filterWidth:p,dilationDepth:m,dilationHeight:y,dilationWidth:v,padInfo:b}=u,w=b.front,S=b.left,C=b.top,T=new ks(u.outShape,s.dtype),N=n.data.get(s.dataId).values,O=n.data.get(i.dataId).values,_=T.values,F=At(s.shape),L=At(i.shape);for(let z=0;z<u.batchSize;++z){const P=z*F[0],R=z*T.strides[0];for(let H=0;H<u.outDepth;++H){const q=R+H*T.strides[1],X=H*u.strideDepth-w;for(let V=0;V<d;++V){const ee=X+V*m;if(ee<0||ee>=u.inDepth)continue;const J=V*L[0],te=P+ee*F[1];for(let ce=0;ce<u.outHeight;++ce){const G=q+ce*T.strides[2],ne=ce*u.strideHeight-C;for(let ae=0;ae<f;++ae){const be=ne+ae*y;if(be<0||be>=u.inHeight)continue;const $e=J+ae*L[1],Ie=te+be*F[2];for(let Me=0;Me<u.outWidth;++Me){const st=G+Me*u.outChannels,se=Me*u.strideWidth-S;for(let je=0;je<p;++je){const Ge=se+je*v;if(Ge<0||Ge>=u.inWidth)continue;const Se=$e+je*L[2],yt=Ie+Ge*u.inChannels;let Qe=Se;for(let ut=0;ut<u.inChannels;++ut){const kt=N[yt+ut];for(let Dt=0;Dt<u.outChannels;++Dt)_[st+Dt]+=kt*O[Qe+Dt];Qe+=u.outChannels}}}}}}}}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const hRe={kernelName:Dk,backendName:"cpu",kernelFunc:fRe};function pRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,filterShape:l}=r;Ct([s,i],"conv3dBackpropFilterV2");const u=At(s.shape),d=At(i.shape),f=of(s.shape,l,a,1,o),p=f.strideDepth,m=f.strideHeight,y=f.strideWidth,v=f.filterDepth,b=f.filterHeight,w=f.filterWidth,S=new ks(f.filterShape,"float32"),C=S.values,[T,N,O,_]=S.strides,F=n.data.get(i.dataId).values,[L,z,P,R]=d,H=n.data.get(s.dataId).values,[q,X,V,ee]=u,J=f.padInfo.front,te=f.padInfo.left,ce=f.padInfo.top;for(let G=0;G<v;++G){const ne=Math.max(0,Math.ceil((J-G)/p)),ae=Math.min(f.outDepth,(f.inDepth+J-G)/p),be=G*T;for(let $e=0;$e<b;++$e){const Ie=Math.max(0,Math.ceil((ce-$e)/m)),Me=Math.min(f.outHeight,(f.inHeight+ce-$e)/m),st=$e*N+be;for(let se=0;se<w;++se){const je=Math.max(0,Math.ceil((te-se)/y)),Ge=Math.min(f.outWidth,(f.inWidth+te-se)/y),Se=se*O+st;for(let yt=0;yt<f.inChannels;++yt){const Qe=yt*_+Se;for(let ut=0;ut<f.outChannels;++ut){let kt=0;for(let Dt=0;Dt<f.batchSize;++Dt){const Ot=Dt*q,fn=Dt*L;for(let Zt=ne;Zt<ae;++Zt){const pt=(G+Zt*p-J)*X+Ot,fr=Zt*z+fn;for(let Lt=Ie;Lt<Me;++Lt){const an=($e+Lt*m-ce)*V+pt,Bt=Lt*P+fr;for(let kn=je;kn<Ge;++kn){const Jr=(se+kn*y-te)*ee+an,vn=kn*R+Bt;kt+=H[Jr+yt]*F[vn+ut]}}}}C[Qe+ut]=kt}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const mRe={kernelName:c_,backendName:"cpu",kernelFunc:pRe};function gRe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:a,strides:o,inputShape:l}=r;Ct([s],"conv3dBackpropInputV2");const u=At(s.shape),d=At(i.shape),f=of(l,i.shape,o,1,a),p=new ks(f.inShape,"float32"),m=p.values,[y,v,b,w]=p.strides,S=n.data.get(s.dataId).values,[C,T,N,O]=u,_=n.data.get(i.dataId).values,[F,L,z,P]=d,{batchSize:R,filterDepth:H,filterHeight:q,filterWidth:X,inChannels:V,inDepth:ee,inHeight:J,inWidth:te,outChannels:ce,outDepth:G,outHeight:ne,outWidth:ae,strideDepth:be,strideHeight:$e,strideWidth:Ie}=f,Me=H-1-f.padInfo.front,st=q-1-f.padInfo.top,se=X-1-f.padInfo.left;for(let je=0;je<R;++je)for(let Ge=0;Ge<V;++Ge)for(let Se=0;Se<ee;++Se){const yt=Se-Me,Qe=Math.max(0,Math.ceil(yt/be)),ut=Math.min(G,(H+yt)/be);for(let kt=0;kt<J;++kt){const Dt=kt-st,Ot=Math.max(0,Math.ceil(Dt/$e)),fn=Math.min(ne,(q+Dt)/$e);for(let Zt=0;Zt<te;++Zt){const Ht=Zt-se,pt=Math.max(0,Math.ceil(Ht/Ie)),fr=Math.min(ae,(X+Ht)/Ie);let Lt=0;for(let hr=Qe;hr<ut;++hr){const an=hr*be-yt;for(let Bt=Ot;Bt<fn;++Bt){const kn=Bt*$e-Dt;for(let _n=pt;_n<fr;++_n){const Jr=_n*Ie-Ht,vn=C*je+T*hr+N*Bt+O*_n,es=F*(H-1-an)+L*(q-1-kn)+z*(X-1-Jr)+P*Ge;for(let Br=0;Br<ce;++Br){const _r=S[vn+Br],ts=_[es+Br];Lt+=_r*ts}}}}m[y*je+v*Se+b*kt+w*Zt+Ge]=Lt}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const yRe={kernelName:d_,backendName:"cpu",kernelFunc:gRe};const vRe=Un(t0,t=>Math.cos(t)),bRe={kernelName:t0,backendName:"cpu",kernelFunc:vRe};const xRe=Un(n0,t=>Math.cosh(t)),wRe={kernelName:n0,backendName:"cpu",kernelFunc:xRe};function SRe(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:a}=e,{cropSize:o,method:l,extrapolationValue:u}=r,[d,f,p,m]=s.shape,y=i.shape[0],[v,b]=o,w=rn([y,v,b,m],"float32"),S=n.data.get(i.dataId).values,C=n.data.get(a.dataId).values,T=n.data.get(s.dataId).values,N=At(s.shape),O=At(w.shape);for(let _=0;_<y;_++){const F=_*4,L=S[F],z=S[F+1],P=S[F+2],R=S[F+3],H=C[_];if(H>=d)continue;const q=v>1?(P-L)*(f-1)/(v-1):0,X=b>1?(R-z)*(p-1)/(b-1):0;for(let V=0;V<v;V++){const ee=v>1?L*(f-1)+V*q:.5*(L+P)*(f-1);if(ee<0||ee>f-1){for(let J=0;J<b;J++)for(let te=0;te<m;te++){const ce=te+J*O[2]+V*O[1]+_*O[0];w.values[ce]=u}continue}if(l==="bilinear"){const J=Math.floor(ee),te=Math.ceil(ee),ce=ee-J;for(let G=0;G<b;G++){const ne=b>1?z*(p-1)+G*X:.5*(z+R)*(p-1);if(ne<0||ne>p-1){for(let Ie=0;Ie<m;Ie++){const Me=Ie+G*O[2]+V*O[1]+_*O[0];w.values[Me]=u}continue}const ae=Math.floor(ne),be=Math.ceil(ne),$e=ne-ae;for(let Ie=0;Ie<m;Ie++){let Me=Ie+ae*N[2]+J*N[1]+H*N[0];const st=T[Me];Me=Ie+be*N[2]+J*N[1]+H*N[0];const se=T[Me];Me=Ie+ae*N[2]+te*N[1]+H*N[0];const je=T[Me];Me=Ie+be*N[2]+te*N[1]+H*N[0];const Ge=T[Me],Se=st+(se-st)*$e,yt=je+(Ge-je)*$e;Me=Ie+G*O[2]+V*O[1]+_*O[0],w.values[Me]=Se+(yt-Se)*ce}}}else for(let J=0;J<b;++J){const te=b>1?z*(p-1)+J*X:.5*(z+R)*(p-1);if(te<0||te>p-1){for(let ne=0;ne<m;ne++){const ae=ne+J*O[2]+V*O[1]+_*O[0];w.values[ae]=u}continue}const ce=Math.round(te),G=Math.round(ee);for(let ne=0;ne<m;ne++){const ae=ne+ce*N[2]+G*N[1]+H*N[0],be=ne+J*O[2]+V*O[1]+_*O[0];w.values[be]=T[ae]}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const CRe={kernelName:h_,backendName:"cpu",kernelFunc:SRe};function kRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;Ct(s,"cumprod");const l=Dr([i],s.shape.length);let u=s;l!=null&&(u=Ji({inputs:{x:s},backend:n,attrs:{perm:l}}));const d=Yr(1,s.shape.length)[0];if(d!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${d}`);const f=Sa(u.dtype,"int32"),p=e_(Le(u.shape),f),m=n.data.get(u.dataId).values,y=u.shape[u.shape.length-1],v=o?(w,S)=>w+y-S-1:(w,S)=>w+S;for(let w=0;w<m.length;w+=y)for(let S=0;S<y;S++){const C=v(w,S);if(S===0)p[C]=a?1:m[C];else{const T=v(w,S-1);p[C]=a?m[T]*p[T]:m[C]*p[T]}}const b=n.makeTensorInfo(u.shape,f,p);if(l!=null){const w=lf(l),S=Ji({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(u),S}return b}const TRe={kernelName:f_,backendName:"cpu",kernelFunc:kRe};function ERe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;Ct(s,"cumsum");const l=Dr([i],s.shape.length);let u=s;l!=null&&(u=Ji({inputs:{x:s},backend:n,attrs:{perm:l}}));const d=Yr(1,s.shape.length)[0];if(d!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${d}`);const f=Sa(u.dtype,"int32"),p=xi(Le(u.shape),f),m=n.data.get(u.dataId).values,y=u.shape[u.shape.length-1],v=o?(w,S)=>w+y-S-1:(w,S)=>w+S;for(let w=0;w<m.length;w+=y)for(let S=0;S<y;S++){const C=v(w,S);if(S===0)p[C]=a?0:m[C];else{const T=v(w,S-1);p[C]=a?m[T]+p[T]:m[C]+p[T]}}const b=n.makeTensorInfo(u.shape,f,p);if(l!=null){const w=lf(l),S=Ji({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(u),S}return b}const NRe={kernelName:_k,backendName:"cpu",kernelFunc:ERe};function $Re(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a,binaryOutput:o}=r;if(s.shape.length===1){const l=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,d=HM(l,u,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,d)}else if(s.shape.length===2){const l=n.bufferSync(s),u=n.bufferSync(i),d=nZ(l,u,a,o);return n.makeTensorInfo(d.shape,i.dtype,d.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const IRe={kernelName:p_,backendName:"cpu",kernelFunc:$Re};function ARe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:a}=r;Y(a==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`);const o=s.shape[0],l=s.shape[1],u=s.shape[2],d=s.shape[3],f=l*i,p=u*i,m=d/(i*i),y=n.data.get(s.dataId).values,v=new Float32Array(o*f*p*m);let b=0;for(let w=0;w<o;++w)for(let S=0;S<f;++S){const C=Math.floor(S/i),T=S%i;for(let N=0;N<p;++N){const O=Math.floor(N/i),_=N%i,F=(T*i+_)*m;for(let L=0;L<m;++L){const P=L+F+d*(O+u*(C+l*w));v[b++]=y[P]}}}return n.makeTensorInfo([o,f,p,m],s.dtype,v)}const ORe={kernelName:m_,backendName:"cpu",kernelFunc:ARe};function nQ(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l,dimRoundingMode:u}=r;Ct([s,i],"depthwiseConv2DNative");const d=At(s.shape),f=At(i.shape);let p=l;p==null&&(p=[1,1]),Y(si(a,p),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${p}'`);const m=Ls(s.shape,i.shape,a,p,o,u,!0),{filterHeight:y,filterWidth:v,dilationHeight:b,dilationWidth:w,padInfo:S}=m,C=S.left,T=S.top,N=m.outChannels/m.inChannels,O=new ks(m.outShape,s.dtype),_=n.data.get(s.dataId).values,F=n.data.get(i.dataId).values,L=O.values;for(let z=0;z<m.batchSize;++z){const P=z*d[0],R=z*O.strides[0];for(let H=0;H<m.outHeight;++H){const q=R+H*O.strides[1],X=H*m.strideHeight-T;for(let V=0;V<y;++V){const ee=X+V*b;if(ee<0||ee>=m.inHeight)continue;const J=V*f[0],te=P+ee*d[1];for(let ce=0;ce<m.outWidth;++ce){const G=q+ce*O.strides[2],ne=ce*m.strideWidth-C;for(let ae=0;ae<v;++ae){const be=ne+ae*w;if(be<0||be>=m.inWidth)continue;const $e=J+ae*f[1],Ie=te+be*m.inChannels;let Me=G,st=$e;for(let se=0;se<m.inChannels;++se){const je=_[Ie+se];for(let Ge=0;Ge<N;++Ge)L[Me+Ge]+=je*F[st+Ge];Me+=N,st+=N}}}}}}return n.makeTensorInfo(O.shape,O.dtype,O.values)}const RRe={kernelName:Pk,backendName:"cpu",kernelFunc:nQ};function DRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:u,filterShape:d}=r;Ct([s,i],"depthwiseConv2dNativeBackpropFilter");const f=Ls(s.shape,d,a,o,l,u,!0),{strideHeight:p,strideWidth:m,filterHeight:y,filterWidth:v}=f,b=new ks(f.filterShape,"float32"),w=f.padInfo.left,S=f.padInfo.top,C=f.outChannels/f.inChannels,T=n.data.get(s.dataId).values,N=new ks(s.shape,s.dtype,T),O=n.data.get(i.dataId).values,_=new ks(i.shape,i.dtype,O);for(let F=0;F<y;++F){const L=Math.max(0,Math.ceil((S-F)/p)),z=Math.min(f.outHeight,(f.inHeight+S-F)/p);for(let P=0;P<v;++P){const R=Math.max(0,Math.ceil((w-P)/m)),H=Math.min(f.outWidth,(f.inWidth+w-P)/m);for(let q=0;q<f.outChannels;++q){const X=Math.trunc(q/C),V=q%C;let ee=0;for(let J=0;J<f.batchSize;++J)for(let te=L;te<z;++te){const ce=F+te*p-S;for(let G=R;G<H;++G){const ne=P+G*m-w;ee+=N.get(J,ce,ne,X)*_.get(J,te,G,q)}}b.set(ee,F,P,X,V)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const _Re={kernelName:g_,backendName:"cpu",kernelFunc:DRe};function PRe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:u,inputShape:d}=r;Ct([s,i],"depthwiseConv2DNativeBackpropInput");const f=At(s.shape),p=At(i.shape),m=Ls(d,i.shape,a,o,l,u,!0),y=new ks(m.inShape,"float32"),v=y.values,[b,w,S]=y.strides,C=n.data.get(s.dataId).values,[T,N,O]=f,_=n.data.get(i.dataId).values,[F,L,z]=p,{batchSize:P,filterHeight:R,filterWidth:H,inChannels:q,inHeight:X,inWidth:V,outChannels:ee,outHeight:J,outWidth:te,strideHeight:ce,strideWidth:G}=m,ne=R-1-m.padInfo.top,ae=H-1-m.padInfo.left,be=ee/q;for(let $e=0;$e<P;++$e)for(let Ie=0;Ie<q;++Ie)for(let Me=0;Me<X;++Me){const st=Me-ne,se=Math.max(0,Math.ceil(st/ce)),je=Math.min(J,(R+st)/ce);for(let Ge=0;Ge<V;++Ge){const Se=Ge-ae,yt=Math.max(0,Math.ceil(Se/G)),Qe=Math.min(te,(H+Se)/G);let ut=0;for(let kt=se;kt<je;++kt){const Dt=kt*ce-st;for(let Ot=yt;Ot<Qe;++Ot){const fn=Ot*G-Se,Zt=T*$e+N*kt+O*Ot,Ht=F*(R-1-Dt)+L*(H-1-fn)+z*Ie;for(let pt=0;pt<be;++pt){const fr=Ie*be+pt,Lt=C[Zt+fr],hr=_[Ht+pt];ut+=Lt*hr}}}v[b*$e+w*Me+S*Ge+Ie]=ut}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const MRe={kernelName:y_,backendName:"cpu",kernelFunc:PRe};function LRe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=Le(r.shape),i=n.data.get(r.dataId).values,a=rn([s,s],r.dtype),o=a.values;for(let u=0;u<i.length;u++)o[u*s+u]=i[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,a.dtype,a.values)}const FRe={kernelName:v_,backendName:"cpu",kernelFunc:LRe};const zRe={kernelName:Mk,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s}=t,{strides:i,pad:a,dilations:o}=n,l=e,u=l.data.get(r.dataId).values,d=r.shape.length,f=l.data.get(s.dataId).values,p=s.shape.length,{batchSize:m,inHeight:y,inWidth:v,inChannels:b,outHeight:w,outWidth:S,padInfo:C,strideHeight:T,strideWidth:N,filterHeight:O,filterWidth:_,dilationHeight:F,dilationWidth:L,outShape:z}=j0(r.shape,s.shape,i,a,"NHWC",o),P=Le(z),R=z.length,H=Kr(r.dtype,P);for(let X=0;X<m;++X)for(let V=0;V<w;++V){const ee=V*T-C.top;for(let J=0;J<S;++J){const te=J*N-C.left;for(let ce=0;ce<b;++ce){let G=Number.MIN_SAFE_INTEGER;for(let ae=0;ae<O;++ae){const be=ee+ae*F;if(be>=0&&be<y)for(let $e=0;$e<_;++$e){const Ie=te+$e*L;if(Ie>=0&&Ie<v){const Me=iu([X,be,Ie,ce],d,At(r.shape)),st=iu([ae,$e,ce],p,At(s.shape)),se=u[Me]+f[st];se>G&&(G=se)}}}const ne=iu([X,V,J,ce],R,At(z));H[ne]=G}}}return{dataId:l.write(rp(H,r.dtype),z,r.dtype),shape:z,dtype:r.dtype}}};const BRe={kernelName:gO,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:a,pad:o,dilations:l}=n,u=e,d=Do(r.shape,u.data.get(r.dataId).values),f=Do(s.shape,u.data.get(s.dataId).values),{batchSize:p,inHeight:m,inWidth:y,inChannels:v,outHeight:b,outWidth:w,padInfo:S,strideHeight:C,strideWidth:T,filterHeight:N,filterWidth:O,dilationHeight:_,dilationWidth:F,outShape:L}=j0(r.shape,s.shape,a,o,"NHWC",l);Y(i.rank===L.length,()=>`Error in ${gO}, dy must have the same rank as output ${L.length}, but got ${i.rank}`);const z=Do(L,u.data.get(i.dataId).values),P=Q8(s.shape,s.dtype);for(let H=0;H<p;++H)for(let q=0;q<b;++q){const X=q*C-S.top;for(let V=0;V<w;++V){const ee=V*T-S.left;for(let J=0;J<v;++J){let te=Number.MIN_SAFE_INTEGER,ce=0,G=0;for(let ne=0;ne<N;++ne){const ae=X+ne*_;if(ae>=0&&ae<m)for(let be=0;be<O;++be){const $e=ee+be*F;if($e>=0&&$e<y){const Ie=d[H][ae][$e][J]+f[ne][be][J];Ie>te&&(te=Ie,ce=ne,G=be)}}}P[ce][G][J]+=z[H][q][V][J]}}}return{dataId:u.write(rp(P,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const jRe={kernelName:mO,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:a,pad:o,dilations:l}=n,u=e,d=Do(r.shape,u.data.get(r.dataId).values),f=Do(s.shape,u.data.get(s.dataId).values),{batchSize:p,inHeight:m,inWidth:y,inChannels:v,outHeight:b,outWidth:w,padInfo:S,strideHeight:C,strideWidth:T,filterHeight:N,filterWidth:O,dilationHeight:_,dilationWidth:F,outShape:L}=j0(r.shape,s.shape,a,o,"NHWC",l);Y(i.rank===L.length,()=>`Error in ${mO}, dy must have the same rank as output ${L.length}, but got ${i.rank}`);const z=Do(L,u.data.get(i.dataId).values),P=Q8(r.shape,r.dtype);for(let H=0;H<p;++H)for(let q=0;q<b;++q){const X=q*C-S.top;for(let V=0;V<w;++V){const ee=V*T-S.left;for(let J=0;J<v;++J){let te=Number.MIN_SAFE_INTEGER,ce=X<0?0:X,G=ee<0?0:ee;for(let ne=0;ne<N;++ne){const ae=X+ne*_;if(ae>=0&&ae<m)for(let be=0;be<O;++be){const $e=ee+be*F;if($e>=0&&$e<y){const Ie=d[H][ae][$e][J]+f[ne][be][J];Ie>te&&(te=Ie,ce=ae,G=$e)}}}P[H][ce][G][J]+=z[H][q][V][J]}}}return{dataId:u.write(rp(P,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function URe(t){const{inputs:e,backend:n,attrs:r}=t,{image:s}=e,{canvas:i,options:a}=r,{contextOptions:o,imageOptions:l}=a||{},u=l?.alpha||1,d=o?.contextType||"2d";if(d!=="2d")throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const f=i.getContext(d,o?.contextAttributes||{});if(f==null)throw new Error(`Could not get the context with ${d} type.`);const[p,m]=s.shape.slice(0,2),y=s.shape.length===2?1:s.shape[2],v=n.data.get(s.dataId).values,b=s.dtype==="float32"?255:1,w=new Uint8ClampedArray(m*p*4);for(let C=0;C<p*m;++C){const T=[0,0,0,255*u];for(let O=0;O<y;O++){const _=v[C*y+O];if(s.dtype==="float32"){if(_<0||_>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${_}.`)}else if(s.dtype==="int32"&&(_<0||_>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${_}.`);y===1?(T[0]=_*b,T[1]=_*b,T[2]=_*b):T[O]=_*b}const N=C*4;w[N+0]=Math.round(T[0]),w[N+1]=Math.round(T[1]),w[N+2]=Math.round(T[2]),w[N+3]=Math.round(T[3])}i.width=m,i.height=p;const S=new ImageData(w,m,p);return f.putImageData(S,0,0),s}const VRe={kernelName:nbe,backendName:"cpu",kernelFunc:URe};function ix(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Ct(s,"sum");let o;s.dtype==="bool"?o=Kd({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):o=gu({inputs:{x:s},backend:n});const l=o.shape.length,u=un(i,o.shape),d=Dr(u,l);let f=u,p=o;d!=null&&(p=Ji({inputs:{x:o},backend:n,attrs:{perm:d}}),f=Yr(f.length,l)),ii("sum",f,p.shape.length);const[m,y]=Fs(p.shape,f),v=Sa(p.dtype,"int32");let b=qS(n,m,v);const w=Le(y),S=n.data.get(b.dataId).values,C=n.data.get(p.dataId).values;for(let T=0;T<S.length;++T){const N=T*w;let O=0;for(let _=0;_<w;++_)O+=C[N+_];S[T]=O}if(a){const T=Xr(b.shape,u),N=b;b=lr({inputs:{x:b},backend:n,attrs:{shape:T}}),n.disposeIntermediateTensorInfo(N)}return n.disposeIntermediateTensorInfo(o),d!=null&&n.disposeIntermediateTensorInfo(p),b}const WRe={kernelName:mT,backendName:"cpu",kernelFunc:ix};function HRe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:a,summedDims:o,idDims:l}=pM(s,i.length);gM(a.length,l,i);const{path:u,steps:d}=yM(o,l),f=d.length;let p=null,m=a.length;const y=[];for(let v=0;v<f;++v){for(const b of d[v]){const{permutationIndices:w,expandDims:S}=mM(m,l[b]);let C;vM(w)?C=i[b]:(C=Ji({inputs:{x:i[b]},backend:n,attrs:{perm:w}}),y.push(C));const T=C.shape.slice();for(let N=0;N<S.length;++N)T.splice(S[N],0,1);yn(C.shape,T)||(C=lr({inputs:{x:C},backend:n,attrs:{shape:T}}),y.push(C)),p===null?p=C:(p=o2({inputs:{a:C,b:p},backend:n}),y.push(p))}v<f-1&&(u[v]>=0&&(p=ix({inputs:{x:p},backend:n,attrs:{axis:u[v]-(a.length-m),keepDims:!1}}),y.push(p)),m--)}for(const v of y)v!==p&&n.disposeIntermediateTensorInfo(v);return p}const GRe={kernelName:b_,backendName:"cpu",kernelFunc:HRe};function qRe(t){const{inputs:e,backend:n}=t,{dy:r,y:s}=e;Ct([r,s],"eluGrad");const i=new Float32Array(Le(s.shape)),a=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values;for(let l=0;l<a.length;++l){const u=a[l];u>=0?i[l]=o[l]:i[l]=o[l]*(u+1)}return n.makeTensorInfo(s.shape,"float32",i)}const KRe={kernelName:x_,backendName:"cpu",kernelFunc:qRe};const XRe=oM,YRe=lM,ZRe=uM,QRe=cM,JRe=dM,eDe=fM,tDe=Un(i0,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+XRe*n);return e*(1-((((eDe*r+JRe)*r+QRe)*r+ZRe)*r+YRe)*r*Math.exp(-n*n))}),nDe={kernelName:i0,backendName:"cpu",kernelFunc:tDe};function YS(t){const{inputs:e,backend:n,attrs:r}=t,{input:s}=e,{dim:i}=r,a=s.shape.length,o=s.shape.slice();let l=i;return i<0&&(Y(-(a+1)<=i,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+i+1),o.splice(l,0,1),lr({inputs:{x:s},backend:n,attrs:{shape:o}})}const rDe={kernelName:Fk,backendName:"cpu",kernelFunc:YS};const sDe=Qr((t,e)=>t/e),ZM=As(r0,sDe),nR={kernelName:r0,backendName:"cpu",kernelFunc:ZM};function rQ(t,e,n){const r=t.shape,s=r[0],i=r[1],a=n.data.get(t.dataId),o=a.complexTensorInfos.real,l=a.complexTensorInfos.imag,u=[s,i],d=Le(u),f=ni("float32",d),p=ni("float32",d);for(let b=0;b<s;b++){const w=Gh({inputs:{x:o},backend:n,attrs:{begin:[b,0],size:[1,i]}}),S=Gh({inputs:{x:l},backend:n,attrs:{begin:[b,0],size:[1,i]}}),C=pa({inputs:{real:w,imag:S},backend:n}),{real:T,imag:N}=iDe(C,e,n),O=bc(T,N);for(let _=0;_<i;_++){const F=hM(O,_);f[b*i+_]=F.real,p[b*i+_]=F.imag}n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(C)}const m=n.makeTensorInfo(u,"float32",f),y=n.makeTensorInfo(u,"float32",p),v=pa({inputs:{real:m,imag:y},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}function iDe(t,e,n){const r=Le(t.shape),s=n.data.get(t.dataId),i=n.data.get(s.complexTensorInfos.real.dataId).values,a=n.data.get(s.complexTensorInfos.imag.dataId).values;if(aDe(r)){const o=rR(i,a,r,e,n),l=[t.shape[0],t.shape[1]];if(e){const u=n.makeTensorInfo(l,"float32",o.real),d=n.makeTensorInfo(l,"float32",o.imag),f=n.makeTensorInfo([],"float32",rf(r,"float32")),p=gu({inputs:{x:f},backend:n}),m=nR.kernelFunc({inputs:{a:u,b:f},backend:n}),y=nR.kernelFunc({inputs:{a:d,b:p},backend:n}),v=n.data.get(m.dataId).values,b=n.data.get(y.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),{real:v,imag:b}}return o}else{const o=bc(i,a),l=oDe(o,r,e);return h7(l)}}function aDe(t){return(t&t-1)===0}function rR(t,e,n,r,s){if(n===1)return{real:t,imag:e};const i=bc(t,e),a=n/2,o=p7(i),l=o.real,u=o.imag,d=[l.length],f=s.makeTensorInfo(d,"float32",l),p=s.makeTensorInfo(d,"float32",u),m=pa({inputs:{real:f,imag:p},backend:s}),y=m7(i),v=y.real,b=y.imag,w=[v.length],S=s.makeTensorInfo(w,"float32",v),C=s.makeTensorInfo(w,"float32",b),T=pa({inputs:{real:S,imag:C},backend:s}),N=rR(l,u,a,r,s),O=N.real,_=N.imag,F=[O.length],L=s.makeTensorInfo(F,"float32",O),z=s.makeTensorInfo(F,"float32",_),P=pa({inputs:{real:L,imag:z},backend:s}),R=rR(v,b,a,r,s),H=R.real,q=R.imag,X=[H.length],V=s.makeTensorInfo(X,"float32",H),ee=s.makeTensorInfo(X,"float32",q),J=pa({inputs:{real:V,imag:ee},backend:s}),te=y7(n,r),ce=[te.real.length],G=s.makeTensorInfo(ce,"float32",te.real),ne=s.makeTensorInfo(ce,"float32",te.imag),ae=pa({inputs:{real:G,imag:ne},backend:s}),be=o2({inputs:{a:ae,b:J},backend:s}),$e=ng({inputs:{a:P,b:be},backend:s}),Ie=XM({inputs:{a:P,b:be},backend:s}),Me=Hh({inputs:{input:$e},backend:s}),st=Hh({inputs:{input:Ie},backend:s}),se=rg({inputs:{input:$e},backend:s}),je=rg({inputs:{input:Ie},backend:s}),Ge=sg({inputs:[Me,st],backend:s,attrs:{axis:0}}),Se=sg({inputs:[se,je],backend:s,attrs:{axis:0}}),yt=s.data.get(Ge.dataId).values,Qe=s.data.get(Se.dataId).values;return s.disposeIntermediateTensorInfo(f),s.disposeIntermediateTensorInfo(p),s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(S),s.disposeIntermediateTensorInfo(C),s.disposeIntermediateTensorInfo(T),s.disposeIntermediateTensorInfo(L),s.disposeIntermediateTensorInfo(z),s.disposeIntermediateTensorInfo(P),s.disposeIntermediateTensorInfo(V),s.disposeIntermediateTensorInfo(ee),s.disposeIntermediateTensorInfo(J),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(ne),s.disposeIntermediateTensorInfo(ae),s.disposeIntermediateTensorInfo(be),s.disposeIntermediateTensorInfo($e),s.disposeIntermediateTensorInfo(Ie),s.disposeIntermediateTensorInfo(Me),s.disposeIntermediateTensorInfo(se),s.disposeIntermediateTensorInfo(st),s.disposeIntermediateTensorInfo(je),s.disposeIntermediateTensorInfo(Ge),s.disposeIntermediateTensorInfo(Se),{real:yt,imag:Qe}}function oDe(t,e,n){const r=new Float32Array(e*2);for(let s=0;s<e;s++){let i=0,a=0;for(let o=0;o<e;o++){const l=v7(s*o,e,n),u=hM(t,o);i+=u.real*l.real-u.imag*l.imag,a+=u.real*l.imag+u.imag*l.real}n&&(i/=e,a/=e),g7(r,i,a,s)}return r}function lDe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=Le(r.shape),i=r.shape[r.shape.length-1],a=s/i,o=lr({inputs:{x:r},backend:n,attrs:{shape:[a,i]}}),l=rQ(o,!1,n),u=lr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}const uDe={kernelName:w_,backendName:"cpu",kernelFunc:lDe};function QM(t){const{backend:e,attrs:n}=t,{shape:r,value:s,dtype:i}=n,a=i||Eg(s),o=Kr(a,Le(r));return dDe(o,s,a),e.makeTensorInfo(r,a,o)}const cDe={kernelName:S_,backendName:"cpu",kernelFunc:QM};function dDe(t,e,n){t.fill(e)}const fDe={kernelName:C_,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,s=n,i=ni(r.dtype,Le(r.shape)),[a,o,l,u]=r.shape,d=s.data.get(r.dataId).values;for(let p=0;p<a;p++){const m=p*l*o*u;for(let y=0;y<o;y++){const v=y*(l*u);for(let b=0;b<l;b++){const w=b*u;for(let S=0;S<u;S++){const C=Math.round(l-b-1),T=m+v+w+S;let N=d[T];if(C>=0&&C<l){const O=C*u,_=m+v+O+S;N=d[_]}i[T]=N}}}}return{dataId:s.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function hDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:u,dataFormat:d,dilations:f,dimRoundingMode:p,activation:m,leakyreluAlpha:y}=r;let v=tQ({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:d,dilations:f,dimRoundingMode:p}});if(a){const b=v;if(d==="NCHW"&&a.shape.length===1&&a.shape[0]!==1){const w=lr({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});v=ng({inputs:{a:v,b:w},backend:n}),n.disposeIntermediateTensorInfo(w)}else v=ng({inputs:{a:v,b:a},backend:n});n.disposeIntermediateTensorInfo(b)}if(m){const b=v;if(d==="NCHW"&&m==="prelu"&&o.shape.length===1&&o.shape[0]!==1){const w=lr({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});v=XS(n,v,m,w,y),n.disposeIntermediateTensorInfo(w)}else v=XS(n,v,m,o,y);n.disposeIntermediateTensorInfo(b)}return v}const pDe={kernelName:$S,backendName:"cpu",kernelFunc:hDe};function mDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:u,dataFormat:d,dilations:f,dimRoundingMode:p,activation:m,leakyreluAlpha:y}=r;let v=nQ({inputs:{x:s,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:d,dilations:f,dimRoundingMode:p}});if(a){const b=v;v=ng({inputs:{a:v,b:a},backend:n}),n.disposeIntermediateTensorInfo(b)}if(m){const b=v;v=XS(n,v,m,o,y),n.disposeIntermediateTensorInfo(b)}return v}const gDe={kernelName:IS,backendName:"cpu",kernelFunc:mDe};function yDe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=Le(r.shape),a=s.shape,o=a[a.length-1],[l,u,d,f]=YP(r,s);if(u===0)return n.makeTensorInfo(l,r.dtype,[]);const p=n.data.get(s.dataId).values,m=n.bufferSync(r),y=hZ(p,m,r.dtype,u,o,d,f,r.shape,i);return n.makeTensorInfo(l,r.dtype,y.values)}const vDe={kernelName:k_,backendName:"cpu",kernelFunc:yDe};function bDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:a,batchDims:o}=r;Ct([s,i],"gatherV2");const l=un(a,s.shape)[0],u=n.data.get(i.dataId).values,d=s.shape[l];for(let T=0;T<u.length;++T){const N=u[T];Y(N<=d-1&&N>=0,()=>`GatherV2: the index value ${N} is not in [0, ${d-1}]`)}let f=o;o==null&&(f=0);const p=Le(i.shape),m=xM(s,i,l,f),y=lr({inputs:{x:s},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),v=lr({inputs:{x:i},backend:n,attrs:{shape:[m.batchSize,p/m.batchSize]}}),b=[m.batchSize,m.outerSize,p/m.batchSize,m.sliceSize],w=n.bufferSync(v),S=n.bufferSync(y),C=pZ(S,w,b);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(m.outputShape,C.dtype,C.values)}const xDe={kernelName:Bk,backendName:"cpu",kernelFunc:bDe};function wDe(t){const{inputs:e,backend:n}=t,{input:r}=e,s=Le(r.shape),i=r.shape[r.shape.length-1],a=s/i,o=lr({inputs:{x:r},backend:n,attrs:{shape:[a,i]}}),l=rQ(o,!0,n),u=lr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}const SDe={kernelName:T_,backendName:"cpu",kernelFunc:wDe};const CDe=Un(f0,t=>Number.isFinite(t)?1:0,"bool"),kDe={kernelName:f0,backendName:"cpu",kernelFunc:CDe};const TDe=Un(h0,t=>Math.abs(t)===1/0?1:0,"bool"),EDe={kernelName:h0,backendName:"cpu",kernelFunc:TDe};const NDe=Un(p0,t=>Number.isNaN(t)?1:0,"bool"),$De={kernelName:p0,backendName:"cpu",kernelFunc:NDe};function IDe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,a=bZ(r,s,i);return e.makeTensorInfo([a.length],"float32",a)}const ADe={kernelName:N_,backendName:"cpu",kernelFunc:IDe};const ODe=Un(g0,t=>Math.log1p(t)),RDe={kernelName:g0,backendName:"cpu",kernelFunc:ODe};const DDe=Qr((t,e)=>t&&e),_De=As(Hk,DDe,null,"bool"),PDe={kernelName:Hk,backendName:"cpu",kernelFunc:_De};const MDe=Un(Gk,t=>t?0:1,"bool"),LDe={kernelName:Gk,backendName:"cpu",kernelFunc:MDe};const FDe=Qr((t,e)=>t||e),zDe=As(qk,FDe,null,"bool"),BDe={kernelName:qk,backendName:"cpu",kernelFunc:zDe};function jDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:a,alpha:o,beta:l}=r;Ct(s,"LRN");const u=s.shape[3],d=u-1,f=n.data.get(s.dataId).values,p=Le(s.shape),m=new Float32Array(p);function y(v){const b=v%u;let w=v-b+Math.max(0,b-i);const S=v-b+Math.min(b+i,d);let C=0;for(;w<=S;w++){const T=f[w];C+=T*T}return C}for(let v=0;v<p;v++){const b=y(v),w=f[v]*Math.pow(a+o*b,-l);m[v]=w}return n.makeTensorInfo(s.shape,s.dtype,m)}const UDe={kernelName:Kk,backendName:"cpu",kernelFunc:jDe};function VDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:a}=e,{depthRadius:o,bias:l,alpha:u,beta:d}=r;Ct(a,"LRNGrad");const f=Le(a.shape),p=a.shape[3],m=n.data.get(a.dataId).values,y=n.data.get(s.dataId).values,v=n.data.get(i.dataId).values,b=new Float32Array(f),w=f;for(let S=0;S<w;S++){const C=S%p,T=S-C+Math.max(0,C-o),N=S-C+Math.min(p,C+o+1);let O=0;for(let _=T;_<N;_++)O+=Math.pow(y[_],2);O=u*O+l;for(let _=T;_<N;_++){let F=-2*u*d*y[_]*v[S]/O;S===_&&(F+=Math.pow(O,-d)),F*=m[S],b[_]+=F}}return n.makeTensorInfo(a.shape,s.dtype,b)}const WDe={kernelName:$_,backendName:"cpu",kernelFunc:VDe};function sQ(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:a}=r,o=n;let l=s.shape;const u=l.length,d=un(i,l);let f=d;const p=Dr(f,u);let m=o.data.get(s.dataId).values;if(p!=null){const T=new Array(u);for(let N=0;N<T.length;N++)T[N]=l[p[N]];m=qM(m,l,s.dtype,p,T),f=Yr(f.length,u),l=T}Ct(s,"max"),ii("max",f,u);const[y,v]=Fs(l,f),b=Le(v),w=wZ(m,b,y,s.dtype),S=o.write(w,y,s.dtype);let C=y;return a&&(C=Xr(y,d)),{dataId:S,shape:C,dtype:s.dtype}}const HDe={kernelName:Xk,backendName:"cpu",kernelFunc:sQ};function GDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Ct(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,u=1;Y(si(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=Vo(s.shape,i,a,u,o,l);let f;if(d.filterWidth===1&&d.filterHeight===1&&yn(d.inShape,d.outShape))f=gu({inputs:{x:s},backend:n});else{const p=n.data.get(s.dataId).values,m=At(s.shape),y=YM(p,s.shape,s.dtype,m,d,"max");f=n.makeTensorInfo(d.outShape,s.dtype,y.values)}return f}const qDe={kernelName:Yk,backendName:"cpu",kernelFunc:GDe};function KDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:u}=r;Ct(s,"maxPool3d");const d=$c(s.shape,i,a,1,o,l,u),f=n.data.get(s.dataId).values,p=eQ(f,s.shape,s.dtype,At(s.shape),d,"max");return n.makeTensorInfo(p.shape,"float32",p.values)}const XDe={kernelName:Zk,backendName:"cpu",kernelFunc:KDe};function YDe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:a,strides:o,pad:l,dimRoundingMode:u}=r;Ct([s,i],"maxPool3DGrad");const d=$c(i.shape,a,o,1,l,u),f=n.bufferSync(i),p=FOe(f,d),m=d.strideDepth,y=d.strideHeight,v=d.strideWidth,b=d.dilationDepth,w=d.dilationHeight,S=d.dilationWidth,C=d.effectiveFilterDepth,T=d.effectiveFilterHeight,N=d.effectiveFilterWidth,O=C-1-d.padInfo.front,_=N-1-d.padInfo.left,F=T-1-d.padInfo.top,L=rn(i.shape,"float32"),z=n.bufferSync(s);for(let P=0;P<d.batchSize;++P)for(let R=0;R<d.inChannels;++R)for(let H=0;H<d.inDepth;++H)for(let q=0;q<d.inHeight;++q)for(let X=0;X<d.inWidth;++X){const V=H-O,ee=q-F,J=X-_;let te=0;for(let ce=0;ce<C;ce+=b){const G=(V+ce)/m;if(!(G<0||G>=d.outDepth||Math.floor(G)!==G))for(let ne=0;ne<T;ne+=w){const ae=(ee+ne)/y;if(!(ae<0||ae>=d.outHeight||Math.floor(ae)!==ae))for(let be=0;be<N;be+=S){const $e=(J+be)/v;if($e<0||$e>=d.outWidth||Math.floor($e)!==$e)continue;const Ie=C*T*N-1-p.get(P,G,ae,$e,R),Me=ce*T*N+ne*N+be,st=Ie===Me?1:0;if(st===0)continue;const se=z.get(P,G,ae,$e,R);te+=se*st}}}L.set(te,P,H,q,X,R)}return n.makeTensorInfo(L.shape,L.dtype,L.values)}const ZDe={kernelName:A_,backendName:"cpu",kernelFunc:YDe};function QDe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:a}=e,o=i;Ct([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:d,dimRoundingMode:f}=r,p=Vo(o.shape,l,u,1,d,f),m=n.data.get(o.dataId).values,y=rn(p.outShape,o.dtype,JZ(m,o.shape,o.dtype,p).values),v=p.strideHeight,b=p.strideWidth,w=p.dilationHeight,S=p.dilationWidth,C=p.effectiveFilterHeight,T=p.effectiveFilterWidth,N=T-1-p.padInfo.left,O=C-1-p.padInfo.top,_=rn(o.shape,"float32"),F=n.data.get(s.dataId).values,L=rn(s.shape,"float32",F);for(let z=0;z<p.batchSize;++z)for(let P=0;P<p.inChannels;++P)for(let R=0;R<p.inHeight;++R)for(let H=0;H<p.inWidth;++H){const q=R-O,X=H-N;let V=0;for(let ee=0;ee<C;ee+=w){const J=(q+ee)/v;if(!(J<0||J>=p.outHeight||Math.floor(J)!==J))for(let te=0;te<T;te+=S){const ce=(X+te)/b;if(ce<0||ce>=p.outWidth||Math.floor(ce)!==ce)continue;const G=C*T-1-y.get(z,J,ce,P),ne=ee*T+te,ae=G===ne?1:0;if(ae===0)continue;const be=L.get(z,J,ce,P);V+=be*ae}}_.set(V,z,R,H,P)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const JDe={kernelName:I_,backendName:"cpu",kernelFunc:QDe};function e_e(t,e,n,r,s){const i=At(e),a=YM(t,e,n,i,s,"max"),o=JZ(t,e,n,s,!0,r);return[a.values,o.values]}const t_e={kernelName:O_,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:a,includeBatchInIndex:o}=e,l=n;Ct(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,d=Vo(r.shape,s,i,[1,1],a),[f,p]=e_e(u,r.shape,r.dtype,o,d),m=l.write(f,d.outShape,r.dtype),y=l.write(p,d.outShape,r.dtype);return[{dataId:m,shape:d.outShape,dtype:r.dtype},{dataId:y,shape:d.outShape,dtype:"int32"}]}};function n_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=un(i,s.shape),u=Fs(s.shape,o)[1],d=Le(u),f=[],p=n.makeTensorInfo([],"float32",new Float32Array([d]));f.push(p);const m=Kd({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});f.push(m);const y=ZM({inputs:{a:m,b:p},backend:n});f.push(y);const v=ix({inputs:{x:y},backend:n,attrs:{axis:i,keepDims:a}});return f.forEach(b=>n.disposeIntermediateTensorInfo(b)),v}const r_e={kernelName:Qk,backendName:"cpu",kernelFunc:n_e};function s_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;Ct(s,"min");const o=un(i,s.shape);let l=o;const u=Dr(l,s.shape.length);let d=s;u!=null&&(d=Ji({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Yr(l.length,s.shape.length)),ii("min",l,d.shape.length);const[f,p]=Fs(d.shape,l),m=Le(p),y=xi(Le(f),d.dtype),v=n.data.get(d.dataId).values;for(let w=0;w<y.length;++w){const S=w*m;let C=v[S];for(let T=0;T<m;++T){const N=v[S+T];(Number.isNaN(N)||N<C)&&(C=N)}y[w]=C}u!=null&&n.disposeIntermediateTensorInfo(d);const b=n.makeTensorInfo(f,d.dtype,y);if(a){const w=Xr(f,o),S=lr({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),S}return b}const i_e={kernelName:Jk,backendName:"cpu",kernelFunc:s_e};function a_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,mode:a}=r;Ct(s,"mirrorPad");const o=i.map((C,T)=>C[0]+s.shape[T]+C[1]),l=i.map(C=>C[0]),u=i.map((C,T)=>C[0]+s.shape[T]),d=a==="reflect"?0:1,f=n.data.get(s.dataId).values,p=s.shape.length,m=At(s.shape),y=Le(o),v=o.length,b=At(o),w=ni(s.dtype,y);for(let C=0;C<y;C++){let T=Ng(C,v,b);for(let O=0;O<v;O++)T[O]<l[O]?T[O]=l[O]*2-T[O]-d:T[O]>=u[O]&&(T[O]=(u[O]-1)*2-T[O]+d);T=T.map((O,_)=>O-l[_]);const N=iu(T,p,m);w[C]=f[N]}return{dataId:n.write(w,o,s.dtype),shape:o,dtype:s.dtype}}const o_e={kernelName:eT,backendName:"cpu",kernelFunc:a_e};const l_e=Qr(((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})),u_e=As(b0,l_e),c_e={kernelName:b0,backendName:"cpu",kernelFunc:u_e};function iQ(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,a=s.shape.length;let o=i;if(o===-1&&(o=a-1),o!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${o}`);const l=un([o],s.shape),u=sQ({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),d=Xr(u.shape,l),f=lr({inputs:{x:u},backend:n,attrs:{shape:d}}),p=XM({inputs:{a:s,b:f},backend:n}),m=uZ({inputs:{x:p},backend:n}),y=ix({inputs:{x:m},backend:n,attrs:{axis:l,keepDims:!1}}),v=lr({inputs:{x:y},backend:n,attrs:{shape:d}}),b=ZM({inputs:{a:m,b:v},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),b}const d_e={kernelName:vT,backendName:"cpu",kernelFunc:iQ};function f_e(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:a,normalized:o}=r;Ct(s,"multinomial");const l=o?s:iQ({inputs:{logits:s},backend:n,attrs:{dim:-1}}),u=l.shape[0],d=l.shape[1],f=n.data.get(l.dataId).values,p=[u,i],m=xi(Le(p),"int32");for(let y=0;y<u;++y){const v=y*d,b=new Float32Array(d-1);b[0]=f[v];for(let C=1;C<b.length;++C)b[C]=b[C-1]+f[v+C];const w=MT.alea(a.toString()),S=y*i;for(let C=0;C<i;++C){const T=w();m[S+C]=b.length;for(let N=0;N<b.length;N++)if(T<b[N]){m[S+C]=N;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(p,"int32",m)}const h_e={kernelName:R_,backendName:"cpu",kernelFunc:f_e};const p_e=VP;function m_e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=r;Ct(s,"NonMaxSuppression");const u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,{selectedIndices:f}=p_e(u,d,a,o,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const g_e={kernelName:D_,backendName:"cpu",kernelFunc:m_e};const y_e=WP;function v_e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r;Ct(s,"NonMaxSuppressionPadded");const d=n.data.get(s.dataId).values,f=n.data.get(i.dataId).values,{selectedIndices:p,validOutputs:m}=y_e(d,f,a,o,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}const b_e={kernelName:__,backendName:"cpu",kernelFunc:v_e};const x_e=HP;function w_e(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r;Ct(s,"NonMaxSuppressionWithScore");const d=n.data.get(s.dataId).values,f=n.data.get(i.dataId).values,p=a,m=o,y=l,v=u,{selectedIndices:b,selectedScores:w}=x_e(d,f,p,m,y,v);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([w.length],"float32",new Float32Array(w))]}const S_e={kernelName:P_,backendName:"cpu",kernelFunc:w_e};function C_e(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:a,onValue:o,offValue:l}=r;Ct(s,"oneHot");const u=Le(s.shape),d=new Float32Array(u*a);d.fill(l);const f=n.data.get(s.dataId).values;for(let p=0;p<u;++p)f[p]>=0&&f[p]<a&&(d[p*a+f[p]]=o);return n.makeTensorInfo([...s.shape,a],i,d)}const k_e={kernelName:sT,backendName:"cpu",kernelFunc:C_e};function ZS(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=Hh({inputs:{input:r},backend:n}),i=ZS({inputs:{x:s},backend:n}),a=rg({inputs:{input:r},backend:n}),o=ZS({inputs:{x:a},backend:n}),l=pa({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return QM({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const T_e={kernelName:ST,backendName:"cpu",kernelFunc:ZS};function aQ(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=Hh({inputs:{input:r},backend:n}),i=aQ({inputs:{x:s},backend:n}),a=rg({inputs:{input:r},backend:n}),o=ZS({inputs:{x:a},backend:n}),l=pa({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return QM({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const E_e={kernelName:rT,backendName:"cpu",kernelFunc:aQ};function oQ(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return YS({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,a=e[0].dtype;e.forEach(d=>{Ia(i,d.shape,"All tensors passed to stack must have matching shapes"),Y(a===d.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=e.map(d=>{const f=YS({inputs:{input:d},backend:n,attrs:{dim:s}});return o.push(f),f}),u=sg({inputs:l,backend:n,attrs:{axis:s}});return o.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const N_e={kernelName:iT,backendName:"cpu",kernelFunc:oQ};function $_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:a}=r;Ct(s,"pad");const o=i.map((S,C)=>S[0]+s.shape[C]+S[1]),l=i.map(S=>S[0]),u=n.data.get(s.dataId).values,d=Le(s.shape),f=s.shape.length,p=At(s.shape),m=Le(o),y=o.length,v=At(o),b=ni(s.dtype,m);a!==0&&b.fill(a);for(let S=0;S<d;S++){const T=Ng(S,f,p).map((O,_)=>O+l[_]),N=iu(T,y,v);b[N]=u[S]}return{dataId:n.write(b,o,s.dtype),shape:o,dtype:s.dtype}}const lQ={kernelName:aT,backendName:"cpu",kernelFunc:$_e};const I_e=Qr((t,e)=>Math.pow(t,e)),A_e=As(w0,I_e),O_e={kernelName:w0,backendName:"cpu",kernelFunc:A_e};function R_e(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=e,{outputRaggedRank:o}=r,l=s.map(w=>n.data.get(w.dataId).values),u=s.map(w=>w.shape),d=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,[p,m,y]=NZ(l,u,d,i.shape,i.dtype,f,a.shape),v=p.map(w=>n.makeTensorInfo([w.length],"int32",w)),b=n.makeTensorInfo(y,i.dtype,m);return v.concat([b])}const D_e={kernelName:M_,backendName:"cpu",kernelFunc:R_e};function __e(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[u,d]=$Z(a,r.shape,r.dtype,o,s.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),p=n.makeTensorInfo([d.length],r.dtype,d);return[f,p]}const P_e={kernelName:L_,backendName:"cpu",kernelFunc:__e};function M_e(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=e,{rowPartitionTypes:l}=r,u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,p=o.map(b=>n.data.get(b.dataId).values),m=o.map(b=>b.shape),[y,v]=IZ(u,s.shape,d,i.shape,i.dtype,f,a.shape,p,m,l);return n.makeTensorInfo(y,i.dtype,v)}const L_e={kernelName:F_,backendName:"cpu",kernelFunc:M_e};function F_e(t){const{backend:e,attrs:n}=t,{start:r,stop:s,dtype:i,step:a}=n,o=AZ(r,s,a,i);return e.makeTensorInfo([o.length],i,o)}const z_e={kernelName:z_,backendName:"cpu",kernelFunc:F_e};const B_e=Un(S0,t=>1/t),j_e={kernelName:S0,backendName:"cpu",kernelFunc:B_e};function U_e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r;Ct(s,"resizeBilinear");const l=At(s.shape),[u,d]=o,[f,p,m,y]=s.shape,v=n.data.get(s.dataId).values,b=new Float32Array(Le([f,u,d,y])),w=[i&&u>1?p-1:p,i&&d>1?m-1:m],S=[i&&u>1?u-1:u,i&&d>1?d-1:d];let C=0;const T=w[0]/S[0],N=w[1]/S[1];for(let O=0;O<f;O++)for(let _=0;_<u;_++){let F;a?F=T*(_+.5)-.5:F=T*_;const L=Math.max(0,Math.floor(F)),z=F-L,P=Math.min(p-1,Math.ceil(F)),R=O*l[0]+L*l[1],H=O*l[0]+P*l[1];for(let q=0;q<d;q++){let X;a?X=N*(q+.5)-.5:X=N*q;const V=Math.max(0,Math.floor(X)),ee=X-V,J=Math.min(m-1,Math.ceil(X)),te=R+V*l[2],ce=H+V*l[2],G=R+J*l[2],ne=H+J*l[2];for(let ae=0;ae<y;ae++){const be=v[te+ae],$e=v[ce+ae],Ie=v[G+ae],Me=v[ne+ae],st=be+(Ie-be)*ee,se=$e+(Me-$e)*ee,je=st+(se-st)*z;b[C++]=je}}}return n.makeTensorInfo([f,u,d,y],"float32",b)}const V_e={kernelName:dT,backendName:"cpu",kernelFunc:U_e};function W_e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r;Ct([i,s],"resizeBilinearGrad");const o=At(s.shape),[l,u,d,f]=s.shape,[,p,m]=i.shape,y=new Float32Array(l*u*d*f),v=[a&&p>1?u-1:u,a&&m>1?d-1:d],b=[a&&p>1?p-1:p,a&&m>1?m-1:m],w=v[0]/b[0],S=v[1]/b[1],C=n.data.get(i.dataId).values;let T=0;for(let N=0;N<l;N++){const O=N*o[0];for(let _=0;_<p;_++){const F=_*w,L=Math.floor(F),z=Math.min(Math.ceil(F),u-1),P=O+L*o[1],R=O+z*o[1],H=F-L,q=1-H;for(let X=0;X<m;X++){const V=X*S,ee=Math.floor(V),J=Math.min(Math.ceil(V),d-1),te=V-ee,ce=1-te,G=P+ee*o[2],ne=P+J*o[2],ae=R+ee*o[2],be=R+J*o[2],$e=q*ce,Ie=q*te,Me=H*ce,st=H*te;for(let se=0;se<f;se++){const je=C[T++];y[G+se]+=je*$e,y[ne+se]+=je*Ie,y[ae+se]+=je*Me,y[be+se]+=je*st}}}}return n.makeTensorInfo([l,d,u,f],"float32",y)}const H_e={kernelName:U_,backendName:"cpu",kernelFunc:W_e};function G_e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r;Ct(s,"resizeNearestNeighbor");const l=At(s.shape),[u,d]=o,[f,p,m,y]=s.shape,v=n.data.get(s.dataId).values,b=new Float32Array(f*u*d*y),w=[i&&u>1?p-1:p,i&&d>1?m-1:m],S=[i&&u>1?u-1:u,i&&d>1?d-1:d],C=w[0]/S[0],T=w[1]/S[1];let N=0;for(let O=0;O<f;O++){const _=O*l[0];for(let F=0;F<u;F++){const L=a?C*(F+.5):C*F;let z=Math.min(p-1,i?Math.round(L):Math.floor(L));a&&(z=Math.max(0,z));const P=_+z*l[1];for(let R=0;R<d;R++){const H=a?T*(R+.5):T*R;let q=Math.min(m-1,i?Math.round(H):Math.floor(H));a&&(q=Math.max(0,q));const X=P+q*l[2];for(let V=0;V<y;V++){const ee=v[X+V];b[N++]=ee}}}}return n.makeTensorInfo([f,u,d,y],s.dtype,b)}const q_e={kernelName:cT,backendName:"cpu",kernelFunc:G_e};function K_e(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r;Ct([i,s],"resizeNearestNeighborGrad");const o=At(s.shape),l=At(i.shape),[u,d,f,p]=s.shape,[,m,y]=i.shape,v=new Float32Array(u*d*f*p),b=n.data.get(i.dataId).values,w=[a&&m>1?d-1:d,a&&y>1?f-1:f],S=[a&&m>1?m-1:m,a&&y>1?y-1:y],C=w[0]/S[0],T=w[1]/S[1],N=1/C,O=1/T,_=Math.ceil(N)*2+2,F=Math.ceil(O)*2+2;for(let L=0;L<u;L++){const z=L*o[0];for(let P=0;P<d;P++){const R=z+P*o[1],H=Math.floor(P*N),q=Math.floor(H-_/2);for(let X=0;X<f;X++){const V=R+X*o[2],ee=Math.floor(X*O),J=Math.floor(ee-F/2);for(let te=0;te<p;te++){let ce=0;for(let G=0;G<_;G++){const ne=G+q;if(ne<0||ne>=m)continue;const ae=z+ne*l[1],be=ne*C,$e=Math.min(d-1,a?Math.round(be):Math.floor(be));if(P===$e)for(let Ie=0;Ie<F;Ie++){const Me=Ie+J;if(Me<0||Me>=y)continue;const st=ae+Me*l[2],se=Me*T,je=Math.min(f-1,a?Math.round(se):Math.floor(se));X===je&&(ce+=b[st+te])}}v[V+te]=ce}}}}return n.makeTensorInfo(s.shape,s.dtype,v)}const X_e={kernelName:j_,backendName:"cpu",kernelFunc:K_e};function Y_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r;Ct(s,"reverse");const a=s.shape.length,o=un(i,s.shape);if(a===0)return gu({inputs:{x:s},backend:n});const l=new ks(s.shape,s.dtype),u=n.bufferSync(s);for(let d=0;d<l.size;d++){const f=l.indexToLoc(d),p=f.slice();o.forEach(m=>p[m]=s.shape[m]-1-p[m]),l.set(u.get(...p),...f)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const Z_e={kernelName:fT,backendName:"cpu",kernelFunc:Y_e};const Q_e={kernelName:iP,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:a}=e,o=n,l=ni(r.dtype,Le(r.shape)),[u,d,f,p]=r.shape,[m,y]=sM(a,d,f),v=255,b=Math.sin(s),w=Math.cos(s),S=o.data.get(r.dataId).values;for(let T=0;T<u;T++){const N=T*f*d*p;for(let O=0;O<d;O++){const _=O*(f*p);for(let F=0;F<f;F++){const L=F*p;for(let z=0;z<p;z++){const P=[u,O,F,z],R=P[2],H=P[1];let q=(R-m)*w-(H-y)*b,X=(R-m)*b+(H-y)*w;q=Math.round(q+m),X=Math.round(X+y);let V=i;if(typeof i!="number"&&(z===3?V=v:V=i[z]),q>=0&&q<f&&X>=0&&X<d){const J=X*(f*p),te=q*p,ce=N+J+te+z;V=S[ce]}const ee=N+_+L+z;l[ee]=V}}}}return{dataId:o.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const J_e=Un(T0,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),ePe={kernelName:T0,backendName:"cpu",kernelFunc:J_e};function tPe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:a}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:d,outputSize:f}=op(i,s,a),p=!0,m=n.bufferSync(s),y=n.bufferSync(i),v=yh(m,y,a,f,u,l,o,d,0,p);return n.makeTensorInfo(a,v.dtype,v.values)}const nPe={kernelName:V_,backendName:"cpu",kernelFunc:tPe};function rPe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<e?n=s+1:r=s;return r}function sPe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<=e?n=s+1:r=s;return r}function iPe(t,e,n,r,s,i){const a=Kr("int32",n*s);for(let o=0;o<n;++o){const l=t.slice(o*r,(o+1)*r),u=o*s;for(let d=0;d<s;++d)a[u+d]=i==="left"?rPe(l,e[d+u]):sPe(l,e[d+u])}return a}function aPe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:a}=r,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,u=iPe(o,l,s.shape[0],s.shape[1],i.shape[1],a);return n.makeTensorInfo(i.shape,"int32",u)}const oPe={kernelName:H_,backendName:"cpu",kernelFunc:aPe};function lPe(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e;Ct([r,s,i],"select");const a=r.shape.length,o=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,d=Sa(s.dtype,i.dtype),f=xi(Le(s.shape),d);let p=0;const m=a===0||a>1||s.shape.length===1?1:Le(s.shape.slice(1));for(let y=0;y<o.length;y++)for(let v=0;v<m;v++)o[y]===1?f[p++]=l[y]:f[p++]=u[y];return n.makeTensorInfo(s.shape,d,f)}const uPe={kernelName:hT,backendName:"cpu",kernelFunc:lPe};const cPe=KT,dPe=XT,fPe=Un(N0,t=>t>=0?dPe*t:cPe*(Math.exp(t)-1)),hPe={kernelName:N0,backendName:"cpu",kernelFunc:fPe};const pPe=Un(A0,t=>t<0?-1:t>0?1:0),mPe={kernelName:A0,backendName:"cpu",kernelFunc:pPe};const gPe=Un($0,t=>Math.sin(t)),yPe={kernelName:$0,backendName:"cpu",kernelFunc:gPe};const vPe=Un(I0,t=>Math.sinh(t)),bPe={kernelName:I0,backendName:"cpu",kernelFunc:vPe};const xPe=11920928955078125e-23,CV=Math.log(xPe)+2,wPe=Un(R0,t=>{const e=t>-CV,n=t<CV,r=Math.exp(t);let s;return n?s=r:e?s=t:s=Math.log(1+r),s}),SPe={kernelName:R0,backendName:"cpu",kernelFunc:wPe};function CPe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:a}=r;Ct([s],"spaceToBatchND");const o=Le(i),l=[[0,0]];l.push(...a);for(let O=1+i.length;O<s.shape.length;++O)l.push([0,0]);const u=lQ.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),d=K0(u.shape,i,o,!1),f=X0(d.length,i.length,!1),p=Y0(u.shape,i,o,!1),v=lr({inputs:{x:u},backend:n,attrs:{shape:d}}),S=Ji({inputs:{x:v},backend:n,attrs:{perm:f}}),N=lr({inputs:{x:S},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(S),N}const kPe={kernelName:gT,backendName:"cpu",kernelFunc:CPe};function TPe(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values[0],[f,p,m,y,v]=_Z(o,r.shape,r.dtype,l,s.dtype,u,d);return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([p[0]],s.dtype,m),n.makeTensorInfo([y.length],"bool",new Uint8Array(y.map(b=>Number(b)))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}const EPe={kernelName:G_,backendName:"cpu",kernelFunc:TPe};function NPe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.data.get(s.dataId).values),o=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[u,d,f]=PZ(o,r.shape,r.dtype,a,l);return[n.makeTensorInfo(d,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const $Pe={kernelName:q_,backendName:"cpu",kernelFunc:NPe};function IPe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[u,d]=KM(a,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(d,r.dtype,u)}const APe={kernelName:K_,backendName:"cpu",kernelFunc:IPe};function OPe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,[u,d]=KM(a,r.shape,r.dtype,o,l);return n.makeTensorInfo(d,r.dtype,u)}const RPe={kernelName:X_,backendName:"cpu",kernelFunc:OPe};function DPe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:a}=e,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:d,strides:f,outputSize:p}=op(i,s,o),m=!1,y=n.bufferSync(s);let v;switch(i.dtype){case"bool":{const b=n.bufferSync(i),w=!!n.data.get(a.dataId).values[0];v=yh(y,b,o,p,d,u,l,f,w,m);break}case"float32":{const b=n.bufferSync(i),w=n.data.get(a.dataId).values[0];v=yh(y,b,o,p,d,u,l,f,w,m);break}case"int32":{const b=n.bufferSync(i),w=n.data.get(a.dataId).values[0];v=yh(y,b,o,p,d,u,l,f,w,m);break}case"string":{const b=n.bufferSync(i),w=zd(n.data.get(a.dataId).values[0]);v=yh(y,b,o,p,d,u,l,f,w,m);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(o,v.dtype,v.values)}const _Pe={kernelName:Y_,backendName:"cpu",kernelFunc:DPe};function PPe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:a}=r,o=un(a,s.shape)[0],l=bM(s,i,o),u=new Array(s.shape.length).fill(0),d=s.shape.slice();return l.map(f=>{const p=[...d];p[o]=f;const m=Gh({inputs:{x:s},backend:n,attrs:{begin:u,size:p}});return u[o]+=f,m})}const MPe={kernelName:yT,backendName:"cpu",kernelFunc:PPe};const LPe={kernelName:Z_,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;Ct(n,"square");const s=r.data.get(n.dataId).values,i=new Float32Array(s.length);for(let o=0;o<s.length;++o){const l=s[o];i[o]=l*l}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};const FPe=Un(z0,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),zPe={kernelName:z0,backendName:"cpu",kernelFunc:FPe};function BPe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:a,strides:o,beginMask:l,endMask:u,ellipsisMask:d,newAxisMask:f,shrinkAxisMask:p}=r;Ct(s,"stridedSlice");const{finalShapeSparse:m,finalShape:y,isIdentity:v,sliceDim0:b,isSimpleSlice:w,begin:S,end:C,strides:T}=tM(s.shape,i,a,o,l,u,d,f,p);let N;if(v)N=lr({inputs:{x:s},backend:n,attrs:{shape:y}});else if(b||w){Y(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const O=QP(S,C,T),_=Gh({inputs:{x:s},backend:n,attrs:{begin:S,size:O}});N=lr({inputs:{x:_},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(_)}else{const O=n.bufferSync(s),_=FZ(m,O,T,S);N=n.makeTensorInfo(y,_.dtype,_.values)}return N}const jPe={kernelName:Q_,backendName:"cpu",kernelFunc:BPe};function UPe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:d,dataSplits:f}=e,p=n.data.get(d.dataId).values,m=n.data.get(f.dataId).values,[y,v]=zZ(p,m,s,i,a,o,l,u);return[n.makeTensorInfo([y.length],"string",y),n.makeTensorInfo(f.shape,"int32",v)]}const VPe={kernelName:J_,backendName:"cpu",kernelFunc:UPe};function WPe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values[0],[u,d,f]=BZ(o,l,s),p=d.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const HPe={kernelName:eP,backendName:"cpu",kernelFunc:WPe};function GPe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=n.data.get(i.dataId).values,o=jZ(a,s);return n.makeTensorInfo(i.shape,"int32",o)}const qPe={kernelName:tP,backendName:"cpu",kernelFunc:GPe};const KPe=Un(M0,t=>Math.tan(t)),XPe={kernelName:M0,backendName:"cpu",kernelFunc:KPe};const YPe=Un(L0,t=>Math.tanh(t)),ZPe={kernelName:L0,backendName:"cpu",kernelFunc:YPe};function QPe(t){const{inputs:e,backend:n}=t,{tensor:r,indices:s,updates:i}=e,{sliceRank:a,numUpdates:o,sliceSize:l,strides:u,outputSize:d}=op(i,s,r.shape),f=!1,p=n.bufferSync(s),m=n.bufferSync(i),y=n.bufferSync(r),v=yh(p,m,r.shape,d,l,o,a,u,y,f);return n.makeTensorInfo(r.shape,v.dtype,v.values)}const JPe={kernelName:W_,backendName:"cpu",kernelFunc:QPe};function eMe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;Ct(s,"tile");const a=VZ(n.bufferSync(s),i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const tMe={kernelName:F0,backendName:"cpu",kernelFunc:eMe};function nMe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:a}=r;Ct(s,"topk");const o=n.data.get(s.dataId).values,[l,u]=HZ(o,s.shape,s.dtype,i,a);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const rMe={kernelName:nP,backendName:"cpu",kernelFunc:nMe};function sMe(t){const{inputs:e,attrs:n,backend:r}=t,{image:s,transforms:i}=e,{interpolation:a,fillMode:o,fillValue:l,outputShape:u}=n,[d,f,p,m]=s.shape,[y,v]=u??[f,p],b=[d,y,v,m],w=At(s.shape),S=w[0],C=w[1],T=w[2],N=At(b),O=N[0],_=N[1],F=N[2],L=ni(s.dtype,Le(b));L.fill(l);const z=r.data.get(s.dataId).values,P=r.data.get(i.dataId).values;for(let H=0;H<d;++H){const q=i.shape[0]===1?P:P.subarray(H*8,H*8+8);for(let X=0;X<y;++X)for(let V=0;V<v;++V)for(let ee=0;ee<m;++ee){let J;const te=q[6]*V+q[7]*X+1;if(te===0)continue;const ce=(q[0]*V+q[1]*X+q[2])/te,G=(q[3]*V+q[4]*X+q[5])/te,ne=kV(ce,p,o),ae=kV(G,f,o);switch(a){case"nearest":J=cMe(z,f,p,S,C,T,H,ae,ne,ee,l);break;case"bilinear":J=dMe(z,f,p,S,C,T,H,ae,ne,ee,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}const be=H*O+X*_+V*F+ee;L[be]=J}return r.makeTensorInfo(b,s.dtype,L)}return{dataId:r.write(L,b,s.dtype),shape:s.shape,dtype:s.dtype}}const iMe={kernelName:rP,backendName:"cpu",kernelFunc:sMe};function kV(t,e,n){switch(n){case"reflect":return aMe(t,e);case"wrap":return oMe(t,e);case"nearest":return uMe(t,e);default:return lMe(t)}}function aMe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return Dh(0,n,e-1)}function oMe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return Dh(0,n,e-1)}function lMe(t,e){return t}function uMe(t,e){return Dh(0,t,e-1)}function _v(t,e,n,r,s,i,a,o,l,u,d){const f=a*r+o*s+l*i+u;return 0<=o&&o<e&&0<=l&&l<n?t[f]:d}function cMe(t,e,n,r,s,i,a,o,l,u,d){const f=Math.round(o),p=Math.round(l);return _v(t,e,n,r,s,i,a,f,p,u,d)}function dMe(t,e,n,r,s,i,a,o,l,u,d){const f=Math.floor(o),p=Math.floor(l),m=f+1,y=p+1,v=(y-l)*_v(t,e,n,r,s,i,a,f,p,u,d)+(l-p)*_v(t,e,n,r,s,i,a,f,y,u,d),b=(y-l)*_v(t,e,n,r,s,i,a,m,p,u,d)+(l-p)*_v(t,e,n,r,s,i,a,m,y,u,d);return(m-o)*v+(o-f)*b}function fMe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;Ct(i,"unique");const a=r.data.get(i.dataId).values,{outputValues:o,outputShape:l,indices:u}=GZ(a,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}const hMe={kernelName:sP,backendName:"cpu",kernelFunc:fMe};function pMe(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s.shape.length,o=s.shape[i],l=new Array(a-1);let u=0;for(let m=0;m<a;m++)m!==i&&(l[u++]=s.shape[m]);const d=new Array(a).fill(0),f=s.shape.slice();f[i]=1;const p=new Array(o);for(let m=0;m<p.length;m++){d[i]=m;const y=Gh({inputs:{x:s},backend:n,attrs:{begin:d,size:f}});p[m]=lr({inputs:{x:y},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(y)}return p}const mMe={kernelName:xT,backendName:"cpu",kernelFunc:pMe};function gMe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:a}=r;Ct(s,"unsortedSegmentSum");const o=s.shape.length,l=i.shape.length,u=[],d=[],f=o-l;let p=i;for(let y=0;y<f;++y){const v=YS({inputs:{input:p},backend:n,attrs:{dim:y+1}});p=v,d.push(v)}for(let y=0;y<a;++y){const v=rf(y,"int32"),b=n.makeTensorInfo([],"int32",v),w=oZ({inputs:{a:b,b:p},backend:n}),S=Kd({inputs:{x:w},backend:n,attrs:{dtype:"float32"}}),C=o2({inputs:{a:S,b:s},backend:n}),T=ix({inputs:{x:C},backend:n,attrs:{axis:0,keepDims:!1}});u.push(T),d.push(b),d.push(w),d.push(S),d.push(C),d.push(T)}const m=oQ({inputs:u,backend:n,attrs:{axis:0}});return d.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const yMe={kernelName:wT,backendName:"cpu",kernelFunc:gMe};const vMe=[fOe,GIe,pOe,gOe,QIe,vOe,xOe,SOe,kOe,EOe,$Oe,AOe,ROe,POe,LOe,BOe,UOe,WOe,GOe,cOe,KOe,YOe,QOe,eAe,eRe,YIe,nAe,nRe,qIe,sRe,aRe,oRe,uRe,dRe,hRe,mRe,yRe,bRe,wRe,CRe,TRe,NRe,IRe,ORe,RRe,_Re,MRe,FRe,zRe,BRe,jRe,VRe,GRe,rOe,KRe,rAe,nDe,sAe,rDe,aAe,uDe,cDe,fDe,lAe,cAe,pDe,gDe,vDe,xDe,fAe,pAe,KIe,SDe,iRe,kDe,EDe,$De,sOe,gAe,vAe,ADe,xAe,RDe,PDe,LDe,BDe,UDe,WDe,HDe,SAe,qDe,XDe,ZDe,JDe,t_e,r_e,i_e,kAe,o_e,c_e,h_e,EAe,$Ae,g_e,b_e,S_e,AAe,k_e,E_e,N_e,lQ,O_e,aOe,DAe,D_e,P_e,L_e,z_e,XIe,nR,j_e,oOe,lOe,uOe,V_e,H_e,q_e,X_e,Z_e,Q_e,ePe,jAe,nPe,oPe,uPe,hPe,VAe,mPe,yPe,bPe,WAe,d_e,SPe,kPe,EPe,$Pe,APe,RPe,_Pe,MPe,qAe,LPe,XAe,ZAe,zPe,jPe,VPe,HPe,qPe,tOe,WRe,XPe,ZPe,JPe,tMe,rMe,iMe,OAe,hMe,mMe,yMe,T_e];for(const t of vMe)tK(t);const hh={},dw={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function bMe(t,e){hh[t]=e}function bl(t,e){if(!(t in hh)||e!=null){const r=wMe(t,e);if(r!==null)hh[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=hh[t];return n==null||n.isContextLost()?(delete hh[t],bl(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),hh[t])}function xMe(t){if(!Oe().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function wMe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??xMe(t);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete hh[t]},!1),Oe().getBool("SOFTWARE_WEBGL_ENABLED")&&(dw.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",dw)||n.getContext("experimental-webgl",dw):n.getContext("webgl2",dw)}var fb;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(fb||(fb={}));var Ga;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(Ga||(Ga={}));var Qs;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Qs||(Qs={}));function ax(t,e){return[e,t]}function SMe(t,e){return t*e}function fw(t){const e=Le(t),n=Math.ceil(e/4);return dO(n)}function Pg(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function CMe(t,e){const[n,r]=Pg(t,e);return n*r*4}function JM(t,e){const n=t;let r,s,i,a,o,l,u,d,f,p;return Oe().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,i=n.RGBA16F,a=n.RGBA32F,o=n.RED,u=4,d=1,f=n.HALF_FLOAT,p=n.FLOAT,l=n.RGBA8):(r=t.RGBA,s=t.RGBA,i=t.RGBA,a=n.RGBA,o=t.RGBA,u=4,d=4,f=e!=null?e.HALF_FLOAT_OES:null,p=t.FLOAT,l=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:d,textureTypeHalfFloat:f,textureTypeFloat:p}}function gt(t,e){const n=e();return Oe().getBool("DEBUG")&&kMe(t),n}function kMe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+$Me(t,e))}const TMe=596e-10,EMe=65504;function NMe(t){return!!(Oe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||TMe<Math.abs(t)&&Math.abs(t)<EMe)}function $Me(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function hw(t,e){return Rc(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function IMe(t,e){const n=Rc(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(gt(t,()=>t.shaderSource(n,e)),gt(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function AMe(t,e){const n=Rc(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(gt(t,()=>t.shaderSource(n,e)),gt(t,()=>t.compileShader(n)),Oe().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw uQ(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const OMe=/ERROR: [0-9]+:([0-9]+):/g;function uQ(t,e){const n=OMe.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],s=t.split(`
`),i=s.length.toString().length+2,a=s.map((f,p)=>_m((p+1).toString(),i)+f);let o=0;for(let f=0;f<a.length;f++)o=Math.max(a[f].length,o);const l=a.slice(0,r-1),u=a.slice(r-1,r),d=a.slice(r);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${_m(u[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join(`
`))}function RMe(t){return Rc(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function DMe(t,e){if(gt(t,()=>t.linkProgram(e)),!Oe().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function j$(t,e){if(gt(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function _Me(t,e){const n=Rc(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return gt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),gt(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function PMe(t,e){const n=Rc(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return gt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),gt(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function MMe(t){return Rc(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function LMe(t,e){const n=Oe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function FMe(t){return Rc(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function TV(t,e,n,r,s,i,a){const o=t.getAttribLocation(e,n);return o===-1?!1:(gt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),gt(t,()=>t.vertexAttribPointer(o,s,t.FLOAT,!1,i,a)),gt(t,()=>t.enableVertexAttribArray(o)),!0)}function zMe(t,e,n){WMe(t,n),gt(t,()=>t.activeTexture(t.TEXTURE0+n)),gt(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function BMe(t,e,n){return Rc(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function jMe(t,e,n){return t.getUniformLocation(e,n)}function UMe(t,e,n,r){gt(t,()=>zMe(t,e,r)),gt(t,()=>t.uniform1i(n,r))}function U$(t,e,n){gt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),gt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function EV(t,e){gt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),gt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function pw(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+VMe(t,e))}function VMe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function Rc(t,e,n){const r=gt(t,()=>e());if(r==null)throw new Error(n);return r}function WMe(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function ig(t,e=2){return Le(t.slice(0,t.length-e))}function ag(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function mw(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[ig(t),...ag(t)]),e}function HMe(t,e=!1){let n=Oe().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Oe().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&Oe().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((o,l)=>l>=t.length-2?JD(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=nf(t).newShape);let s=Le(t),i=null;t.length<=1&&s<=n?i=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?i=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?i=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?i=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?i=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(i=[t[0],t[1]*t[2]*t[3]]);const a=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||a)if(e){const o=ig(t);let l=2,u=2;t.length&&([l,u]=ag(t)),s=o*(l/2)*(u/2),i=dO(s).map(d=>d*2)}else i=dO(s);return i}function gw(t){return t%2===0}function QS(t,e){if(t=t.slice(-2),e=e.slice(-2),yn(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],r=e[e.length-1];if(n===r||gw(n)&&gw(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&gw(t[0])&&gw(e[0])}let V$,W$;function GMe(t){if(V$==null){const e=bl(t);V$=e.getParameter(e.MAX_TEXTURE_SIZE)}return V$}function qMe(t){if(W$==null){const e=bl(t);W$=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,W$)}function KMe(t){if(t===0)return 0;let e;const n=bl(t);return $o(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:$o(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function $o(t,e){return t.getExtension(e)!=null}function NV(t){try{if(bl(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function XMe(t){if(t===0)return!1;const e=bl(t);if(t===1){if(!$o(e,"OES_texture_float"))return!1}else if(!$o(e,"EXT_color_buffer_float"))return!1;return sR(e)}function YMe(t){if(t===0)return!1;const e=bl(t);if(t===1){if(!$o(e,"OES_texture_float")||!$o(e,"WEBGL_color_buffer_float"))return!1}else{if($o(e,"EXT_color_buffer_float"))return sR(e);const r="EXT_color_buffer_half_float";if($o(e,r)){const s=e.getExtension(r);return ZMe(e,s)}return!1}return sR(e)}function sR(t){const e=JM(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),a}function ZMe(t,e){const n=JM(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(a),o}function QMe(t){return t!==2?!1:bl(t).fenceSync!=null}function ox(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&Y(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}const Tt=Oe();Tt.registerFlag("HAS_WEBGL",()=>Tt.getNumber("WEBGL_VERSION")>0);Tt.registerFlag("WEBGL_VERSION",()=>NV(2)?2:NV(1)?1:0);Tt.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Tt.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Tt.get("WEBGL_VERSION")===2);Tt.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Tt.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Tt.registerFlag("WEBGL_PACK",()=>Tt.getBool("HAS_WEBGL"));Tt.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_CLIP",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_REDUCE",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_LAZILY_UNPACK",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_CONV_IM2COL",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Tt.getBool("WEBGL_PACK"));Tt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>GMe(Tt.getNumber("WEBGL_VERSION")));Tt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>qMe(Tt.getNumber("WEBGL_VERSION")));Tt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Tt.getNumber("WEBGL_VERSION");return t===0?0:KMe(t)});Tt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Tt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!pK());Tt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>XMe(Tt.getNumber("WEBGL_VERSION")));Tt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Tt.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Tt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Tt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>YMe(Tt.getNumber("WEBGL_VERSION")));Tt.registerFlag("WEBGL_FENCE_API_ENABLED",()=>QMe(Tt.getNumber("WEBGL_VERSION")));Tt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Tt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Tt.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});Tt.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>pK()?1:-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});Tt.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Tt.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Tt.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Tt.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Tt.registerFlag("WEBGL_EXP_CONV",()=>!1);Tt.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Tt.getBool("IS_TEST"));Tt.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Tt.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Tt.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Tt.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function ji(){let t,e,n,r,s,i,a,o,l,u;return Oe().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",s="texture",i="outputColor",a="out vec4 outputColor;",o=Oe().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",s="texture2D",i="gl_FragColor",a="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:s,output:i,defineOutput:a,defineSpecialNaN:o,defineSpecialInf:l,defineRound:u}}function cp(t,e,n="index"){const r=At(e);return r.map((s,i)=>{const a=`int ${t[i]} = ${n} / ${s}`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${s}`:`index -= ${t[i]} * ${s}`;return`${a}; ${o};`}).join("")}function l2(t,e,n="index"){const r=At(e);return r.map((s,i)=>{const a=`int ${t[i]} = ${n} / outShapeStrides[${i}]`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * outShapeStrides[${i}]`:`index -= ${t[i]} * outShapeStrides[${i}]`;return`${a}; ${o};`}).join("")}function JMe(t,e){const n=t.length,r=t.map(i=>`${e}[${i}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let i=n-3;i>=0;--i)s[i]=`(${s[i+1]} * ${r[i+1]})`;return s}function eLe(t,e,n="index"){const r=t.map((i,a)=>a),s=JMe(r,e);return s.map((i,a)=>{const o=`int ${t[a]} = ${n} / ${s[a]}`,l=a===s.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * ${s[a]}`:`index -= ${t[a]} * ${s[a]}`;return`${o}; ${l};`}).join("")}function eL(t){const e=At(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function tL(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const cQ=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;const{getBroadcastDims:dQ}=pTe;function tLe(t,e,n){const r=[];if(t.forEach(m=>{const y=Le(m.shapeInfo.logicalShape);if(m.shapeInfo.isUniform?r.push(`uniform float ${m.name}${y>1?`[${y}]`:""};`):(r.push(`uniform sampler2D ${m.name};`),r.push(`uniform int offset${m.name};`)),n.enableShapeUniforms){const{uniformShape:v}=nL(n.packedInputs,m.shapeInfo.logicalShape,m.shapeInfo.texShape);switch(v.length){case 1:r.push(`uniform int ${m.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${m.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${m.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${m.name}Shape;`);break}r.push(`uniform ivec2 ${m.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(m=>{r.push(`uniform ${m.type} ${m.name}${m.arrayIndex?`[${m.arrayIndex}]`:""};`)});const s=r.join(`
`),i=t.map(m=>nLe(m,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),a=e.texShape,o=ji(),l=iLe(o);let u,d,f=lLe(o);return e.isPacked?(u=rLe(e.logicalShape,a,n.enableShapeUniforms),d=oLe(o)):(u=sLe(e.logicalShape,a,n.enableShapeUniforms),d=aLe(o)),n.packedInputs&&(f+=fLe),[f,l,d,s,u,i,n.userCode].join(`
`)}function Mg(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return kLe(t,e);case 1:return ELe(t,e);case 2:return $Le(t,e);case 3:return ALe(t,e);case 4:return RLe(t,e);case 5:return DLe(t);case 6:return _Le(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function fQ(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return CLe(t);case 1:return TLe(t,e);case 2:return NLe(t,e);case 3:return ILe(t,e);default:return OLe(t,e)}}function nLe(t,e,n=!1,r){let s="";n?s+=fQ(t,r):s+=Mg(t,r);const i=t.shapeInfo.logicalShape,a=e.logicalShape;return i.length<=a.length&&(n?s+=PLe(t,e):s+=MLe(t,e)),s}function rLe(t,e,n){switch(t.length){case 0:return hQ();case 1:return hLe(t,e,n);case 2:return wLe(t,e,n);case 3:return mLe(t,e,n);default:return yLe(t,e,n)}}function sLe(t,e,n){switch(t.length){case 0:return hQ();case 1:return pLe(t,e,n);case 2:return SLe(t,e,n);case 3:return gLe(t,e,n);case 4:return vLe(t,e,n);case 5:return bLe(t,e);case 6:return xLe(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function iLe(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function aLe(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function oLe(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function lLe(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${uLe}
    ${cLe}
    ${dLe}
  `}const uLe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,cLe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,dLe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,fLe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function hQ(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function hLe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function pLe(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function mLe(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),i=s*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function gLe(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${l2(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=cp(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function yLe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),i=s*Math.ceil(t[t.length-2]/2);let a=i,o="",l="b, r, c";for(let u=2;u<t.length-1;u++)a*=t[t.length-u-1],o=`
      int b${u} = index / ${a};
      index -= b${u} * ${a};
    `+o,l=`b${u}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${o}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${t.length}(${l});
    }
  `}function vLe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${l2(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=cp(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function bLe(t,e){const n=cp(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function xLe(t,e){const n=cp(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function wLe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(yn(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function SLe(t,e,n){return yn(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function dp(t){return`offset${t}`}function CLe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=ji();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function kLe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,i]=t.shapeInfo.texShape;if(s===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=dp(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});
      return sampleTexture(${n}, uv);
    }
  `;const[o,l]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${o}, ${l}, ${a});
      return sampleTexture(${n}, uv);
    }
  `}function TLe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=ji();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const a=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${a[0]}, ${a[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function ELe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${Lg(t)}
      }
    `;const s=t.shapeInfo.texShape,i=s[0],a=s[1];if(a===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=dp(n);return a===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${a}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${a}, index + ${o});
      return sampleTexture(${n}, uv);
    }
  `}function NLe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=i[0],o=i[1],l=ji();if(i!=null&&yn(n,i))return e?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${a}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],d=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${d}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function $Le(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(i!=null&&yn(n,i)){if(e)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const p=i[0],m=i[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${m}.0, ${p}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:a,keptDims:o}=nf(n),l=a;if(l.length<n.length){const p=Fg(t,l),m=["row","col"];return`
      ${Mg(p,e)}
      float ${s}(int row, int col) {
        return ${s}(${zg(m,o)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Lg(t)}
      }
    `;const u=i[0],d=i[1],f=dp(r);return d===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${f};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${f};
    vec2 uv = uvFromFlat(${u}, ${d}, index);
    return sampleTexture(${r}, uv);
  }
`}function ILe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const p=n.slice(1),m=[1,2],y=Fg(t,p),v=["b","row","col"];return`
        ${fQ(y,e)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${zg(v,m)});
        }
      `}const o=ji();if(e)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `;const l=a[0],u=a[1],d=Math.ceil(n[2]/2),f=d*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${f}, ${d}, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `}function ALe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],{newShape:o,keptDims:l}=nf(n),u=o;if(u.length<n.length){const v=Fg(t,u),b=["row","col","depth"];return`
        ${Mg(v,e)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${zg(b,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${a}, 1)));
        ${Lg(t)}
      }
    `;const d=t.shapeInfo.texShape,f=d[0],p=d[1],m=t.shapeInfo.flatOffset;if(p===i&&m==null)return e?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${a}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${p}.0, ${f}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(p===a&&m==null)return e?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${p}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `;const y=dp(r);return e?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${y};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${a} + depth + ${y};
        vec2 uv = uvFromFlat(${f}, ${p}, index);
        return sampleTexture(${r}, uv);
      }
  `}function OLe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=ji();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const i=t.shapeInfo.logicalShape,a=i.length,o=t.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=l[0],d=l[1],f=Math.ceil(i[a-1]/2);let p=f*Math.ceil(i[a-2]/2),m="int b, int row, int col",y=`b * ${p} + (row / 2) * ${f} + (col / 2)`;for(let v=2;v<a-1;v++)m=`int b${v}, `+m,p*=i[a-v-1],y=`b${v} * ${p} + `+y;return`
    vec4 ${r}(${m}) {
      int index = ${y};
      int texR = index / ${d};
      int texC = index - texR * ${d};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${u});
      return ${s.texture2D}(${n}, uv);
    }
  `}function RLe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,o=n[1]*a,{newShape:l,keptDims:u}=nf(n);if(l.length<n.length){const S=Fg(t,l),C=["row","col","depth","depth2"];return`
      ${Mg(S,e)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${zg(C,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${a}, ${i}, 1)));
        ${Lg(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,p=f[0],m=f[1],y=`int stride2 = ${r}Shape[3];`,v=`int stride1 = ${r}Shape[2] * stride2;`,b=`int stride0 = ${r}Shape[1] * stride1;`;if(m===o&&d==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${y}
        ${v}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${a}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${p}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(m===i&&d==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${p}.0);
        return sampleTexture(${r}, uv);
      }
    `;const w=dp(r);return e?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${y}
      ${v}
      ${b}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${w});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${a} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${p}, ${m}, index + ${w});
      return sampleTexture(${r}, uv);
    }
  `}function DLe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],i=e[3]*s,a=e[2]*i,o=e[1]*a,{newShape:l,keptDims:u}=nf(e);if(l.length<e.length){const v=Fg(t,l),b=["row","col","depth","depth2","depth3"];return`
      ${Mg(v)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${zg(b,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${a}, ${i}, ${s})) +
          depth3;
        ${Lg(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,p=f[0],m=f[1];if(m===o&&d==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${a}, ${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===s&&d==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;const y=dp(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${a} + depth * ${i} +
          depth2 * ${s} + depth3 + ${y};
      vec2 uv = uvFromFlat(${p}, ${m}, index);
      return sampleTexture(${n}, uv);
    }
  `}function _Le(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:i}=nf(e);if(s.length<e.length){const b=Fg(t,s),w=["row","col","depth","depth2","depth3","depth4"];return`
      ${Mg(b)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${zg(w,i)});
      }
    `}const a=e[5],o=e[4]*a,l=e[3]*o,u=e[2]*l,d=e[1]*u;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${d}, ${u}, ${l}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${a}, 1)));
        ${Lg(t)}
      }
    `;const f=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,m=p[0],y=p[1];if(y===d&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${o}, ${a})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${y}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(y===a&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${y}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;const v=dp(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${d} + col * ${u} + depth * ${l} +
          depth2 * ${o} + depth3 * ${a} + depth4 + ${v};
      vec2 uv = uvFromFlat(${m}, ${y}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Lg(t){const e=t.name,n=Le(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function PLe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=t.shapeInfo.logicalShape.length,a=e.logicalShape.length,o=dQ(t.shapeInfo.logicalShape,e.logicalShape),l=Xn(a),u=a-i;let d;const f=["x","y","z","w","u","v"];i===0?d="":a<2&&o.length>=1?d="coords = 0;":d=o.map(S=>`coords.${f[S+u]} = 0;`).join(`
`);let p="";a<2&&i>0?p="coords":p=t.shapeInfo.logicalShape.map((S,C)=>`coords.${f[C+u]}`).join(", ");let m="return outputValue;";const v=Le(t.shapeInfo.logicalShape)===1,w=Le(e.logicalShape)===1;if(i===1&&!v&&!w)m=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(v&&!w)a===1?m=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:m=`
        return vec4(outputValue.x);
      `;else if(o.length){const S=i-2,C=i-1;o.indexOf(S)>-1&&o.indexOf(C)>-1?m="return vec4(outputValue.x);":o.indexOf(S)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(C)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${l} coords = getOutputCoords();
      ${d}
      vec4 outputValue = get${r}(${p});
      ${m}
    }
  `}function MLe(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=e.texShape,a=t.shapeInfo.texShape,o=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&o===l&&t.shapeInfo.flatOffset==null&&yn(a,i))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=Xn(l),d=dQ(t.shapeInfo.logicalShape,e.logicalShape),f=l-o;let p;const m=["x","y","z","w","u","v"];o===0?p="":l<2&&d.length>=1?p="coords = 0;":p=d.map(v=>`coords.${m[v+f]} = 0;`).join(`
`);let y="";return l<2&&o>0?y="coords":y=t.shapeInfo.logicalShape.map((v,b)=>`coords.${m[b+f]}`).join(", "),`
    float ${s}() {
      ${u} coords = getOutputCoords();
      ${p}
      return get${r}(${y});
    }
  `}function Xn(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function nL(t,e,n){const{newShape:r,keptDims:s}=nf(e),i=e.length,a=t&&i===3&&e[0]===1,o=a?e.slice(1):r,l=!t&&i>1&&!yn(e,n)&&r.length<i||a;return{useSqueezeShape:l,uniformShape:l?o:e,keptDims:s}}function Fg(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function zg(t,e){return e.map(n=>t[n]).join(", ")}function LLe(t,e,n,r){const s=n.map((d,f)=>{const p={logicalShape:d.shape,texShape:d.isUniform?null:d.texData.texShape,isUniform:d.isUniform,isPacked:d.isUniform?!1:d.texData.isPacked,flatOffset:null};return d.texData!=null&&d.texData.slice!=null&&d.texData.slice.flatOffset>0&&(p.flatOffset=d.texData.slice.flatOffset),{name:e.variableNames[f],shapeInfo:p}}),i=s.map(d=>d.shapeInfo),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=tLe(s,a,e),l=AMe(t.gl,o),u=t.createProgram(l);return Oe().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(u),Object.assign({program:e,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:a},pQ(t,e,u)))}function pQ(t,e,n){const r=[],s=[];let i,a,o,l=null,u=null;u=t.getUniformLocation(n,"NAN",!1),Oe().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const d=!1;for(const f of e.variableNames){const p={name:f,uniform:t.getUniformLocation(n,f,d),offset:t.getUniformLocation(n,`offset${f}`,d)};e.enableShapeUniforms&&(p.shape=t.getUniformLocation(n,`${f}Shape`,d),p.texShape=t.getUniformLocation(n,`${f}TexShape`,d)),r.push(p)}if(e.enableShapeUniforms&&(i=t.getUniformLocation(n,"outShape",d),o=t.getUniformLocation(n,"outShapeStrides",d),a=t.getUniformLocation(n,"outTexShape",d)),e.customUniforms)for(const f of e.customUniforms)s.push(t.getUniformLocation(n,f.name,d));return{variablesLocations:r,customUniformLocations:s,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:a}}function $V(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const s=n.logicalShape,i=e[r],a=i.shape;if(!yn(s,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${a} must match`);if(n.isUniform&&i.isUniform)return;const o=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!yn(o,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${l} must match`)})}function FLe(t,e,n,r,s){e.program.enableShapeUniforms||($V(e.inShapeInfos,n),$V([e.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):t.setOutputMatrixTexture(i.texture,a[0],a[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),Oe().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const u=n[l],{uniform:d,offset:f,shape:p,texShape:m}=e.variablesLocations[l];if(p){const{uniformShape:y}=nL(e.program.packedInputs,u.shape,u.texData.texShape);switch(y.length){case 1:t.gl.uniform1iv(p,new Int32Array(y));break;case 2:t.gl.uniform2iv(p,new Int32Array(y));break;case 3:t.gl.uniform3iv(p,new Int32Array(y));break;case 4:t.gl.uniform4iv(p,new Int32Array(y));break}}if(m&&t.gl.uniform2i(m,u.texData.texShape[0],u.texData.texShape[1]),d!=null){if(u.isUniform){if(Le(u.shape)<2)t.gl.uniform1f(d,u.uniformValues[0]);else{let y=u.uniformValues;y instanceof Float32Array||(y=new Float32Array(y)),t.gl.uniform1fv(d,y)}continue}u.texData.slice!=null&&f!=null&&t.gl.uniform1i(f,u.texData.slice.flatOffset),t.setInputMatrixTexture(u.texData.texture.texture,d,l)}}const o=e.outShapeLocation;if(o)switch(r.shape.length){case 1:t.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(o,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const l=At(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&s)for(let l=0;l<e.program.customUniforms.length;++l){const u=e.program.customUniforms[l],d=e.customUniformLocations[l],f=s[l];if(u.type==="float")t.gl.uniform1fv(d,f);else if(u.type==="vec2")t.gl.uniform2fv(d,f);else if(u.type==="vec3")t.gl.uniform3fv(d,f);else if(u.type==="vec4")t.gl.uniform4fv(d,f);else if(u.type==="int")t.gl.uniform1iv(d,f);else if(u.type==="ivec2")t.gl.uniform2iv(d,f);else if(u.type==="ivec3")t.gl.uniform3iv(d,f);else if(u.type==="ivec4")t.gl.uniform4iv(d,f);else throw Error(`uniform type ${u.type} is not supported yet.`)}t.executeProgram()}function zLe(t,e,n){let r="";e.concat(n).forEach(a=>{const o=a.texData!=null&&a.texData.slice!=null&&a.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!a.isUniform){const l=a.texData.texShape,{useSqueezeShape:u,uniformShape:d,keptDims:f}=nL(t.packedInputs,a.shape,l);let p="",m="",y="";if(d.length===1&&t.packedInputs){const N=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];p=`${N[0]>1}_${N[1]>1}`}else if(d.length===2&&!t.packedInputs)m=`${d[0]>1}_${d[1]>1}`;else if(d.length>2&&!t.packedInputs){const N=At(d);y=`${N[0]===l[1]}_${N[N.length-1]===l[1]}`}const v=a.shape.length,b=d.length===2&&yn(a.shape,l),w=Le(a.shape)===1,S=Qm(a.shape,n.shape),C=!t.packedInputs&&v===n.shape.length&&yn(l,n.texData.texShape),T=t.packedInputs||d.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${v}_${C}_${u?f:""}_${d.length}_${w}_${S}_${b}_${p}_${m}_${y}_${T}_${o}`}else{const l=a.isUniform?"uniform":a.texData.texShape;r+=`${a.shape}_${l}_${o}`}});const s=t.userCode;let i=t.constructor.name;return i+="_"+r+"_"+s+`${Oe().getNumber("WEBGL_VERSION")}`,i}function Si(t){return Oe().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}class BLe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=fb.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ji();this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?l2(["r","c","d"],e):cp(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}class jLe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=fb.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ji();this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?l2(["r","c","d"],e):cp(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}class ULe{constructor(e){this.variableNames=["A"],this.outTexUsage=Ga.DOWNLOAD;const n=ji();this.outputShape=e,this.userCode=`
      ${cQ}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}class VLe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ga.DOWNLOAD;const n=ji();this.outputShape=e,this.userCode=`
      ${cQ}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}const WLe={R:0,G:1,B:2,A:3};class IV{constructor(e,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=ji();this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)");let a="";for(let o=0;o<r.length;o++){const l=r[o];a+=`
          if(offset == ${o}) {
            result = values[${WLe[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?tL():eL(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${a}
        }
        ${s.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}class HLe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ji();this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length);let s="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let o=0;o<=1;o++){const l=a*2+o;s+=`
          localCoords = coords;
          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${o};
          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${a};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?tL():eL(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${i};
        }
    `}}function GLe(t){const e=ji(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return IMe(t,n)}function qLe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return _Me(t,e)}function KLe(t){const e=new Uint16Array([0,1,2,2,1,3]);return PMe(t,e)}function lx(t,e,n,r,s,i){LMe(e,n);const a=MMe(t),o=t.TEXTURE_2D;return gt(t,()=>t.bindTexture(o,a)),gt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),gt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),gt(t,()=>t.texParameteri(o,t.TEXTURE_MIN_FILTER,t.NEAREST)),gt(t,()=>t.texParameteri(o,t.TEXTURE_MAG_FILTER,t.NEAREST)),Oe().getNumber("WEBGL_VERSION")===1?gt(t,()=>t.texImage2D(o,0,r,e,n,0,s,i,null)):gt(t,()=>t.texStorage2D(o,1,r,e,n)),gt(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:a,texShape:[n,e]}}function mQ(t){return t.internalFormatFloat}function XLe(t,e,n,r){const[s,i]=ax(e,n);return lx(t,s,i,mQ(r),r.textureFormatFloat,t.FLOAT)}function gQ(t){return t.internalFormatHalfFloat}function YLe(t,e,n,r){const[s,i]=ax(e,n);return lx(t,s,i,gQ(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function yQ(t){return t.downloadTextureFormat}function ZLe(t,e,n,r){const[s,i]=ax(e,n);return lx(t,s,i,yQ(r),t.RGBA,t.UNSIGNED_BYTE)}function vQ(t){return t.internalFormatPackedFloat}function QLe(t,e,n,r){const[s,i]=Pg(e,n);return lx(t,s,i,vQ(r),t.RGBA,t.FLOAT)}function bQ(t){return t.internalFormatPackedHalfFloat}function JLe(t,e,n,r){const[s,i]=Pg(e,n);return lx(t,s,i,bQ(r),t.RGBA,r.textureTypeHalfFloat)}function eFe(t,e,n){return gt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),TV(t,e,"clipSpacePos",n,3,20,0)&&TV(t,e,"uv",n,2,20,12)}function tFe(t,e,n,r,s,i){gt(t,()=>t.bindTexture(t.TEXTURE_2D,e));let a,o,l;s instanceof Uint8Array?(a=new Uint8Array(n*r*4),o=t.UNSIGNED_BYTE,l=t.RGBA):(a=new Float32Array(n*r*4),o=t.FLOAT,l=i.internalFormatPackedFloat),a.set(s),Oe().getNumber("WEBGL_VERSION")===2?gt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,o,a)):gt(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,r,0,t.RGBA,o,a)),gt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function nFe(t,e,n){gt(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?Oe().getNumber("WEBGL_VERSION")===2?gt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):gt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):Oe().getNumber("WEBGL_VERSION")===2?gt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):gt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),gt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function rFe(t,e,n,r){const s=t.createBuffer();gt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const o=4*4*e*n;return gt(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)),gt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),gt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function sFe(t,e,n){const r=t,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function iFe(t,e,n,r){const[s,i]=ax(e,n),a=4,o=new Uint8Array(SMe(e*n,a));return gt(t,()=>t.readPixels(0,0,s,i,r.downloadTextureFormat,t.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function aFe(t,e,n,r,s,i,a,o){const l=t,u=new Float32Array(CMe(i,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function oFe(t,e,n){const r=new Float32Array(e*n*4);return gt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}class H${constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Oe().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,bMe(n,e)):this.gl=bl(n),e=this.gl,Oe().getNumber("WEBGL_VERSION")===2){const i=e;this.createVertexArray=()=>gt(i,()=>i.createVertexArray()),this.bindVertexArray=a=>gt(i,()=>i.bindVertexArray(a)),this.deleteVertexArray=a=>gt(i,()=>i.deleteVertexArray(a)),this.getVertexArray=()=>gt(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(e!=null){const i=e.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>gt(e,()=>i.createVertexArrayOES()),this.bindVertexArray=a=>gt(e,()=>i.bindVertexArrayOES(a)),this.deleteVertexArray=a=>gt(e,()=>i.deleteVertexArrayOES(a)),this.getVertexArray=()=>gt(e,()=>e.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Oe().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",a="OES_texture_half_float";if(this.textureFloatExtension=hw(this.gl,i),$o(this.gl,a))this.textureHalfFloatExtension=hw(this.gl,a);else if(Oe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),$o(this.gl,s))this.colorBufferHalfFloatExtension=hw(this.gl,s);else if(Oe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",$o(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if($o(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=qLe(this.gl),this.indexBuffer=KLe(this.gl),this.framebuffer=FMe(this.gl),this.textureConfig=JM(this.gl,this.textureHalfFloatExtension)}get debug(){return Oe().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;gt(e,()=>e.finish()),gt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),gt(e,()=>e.deleteFramebuffer(this.framebuffer)),gt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),gt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),gt(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),XLe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),YLe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),ZLe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),nFe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,s){this.throwIfDisposed(),tFe(this.gl,e,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),JLe(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),QLe(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(EV(this.gl,this.framebuffer),this.outputTexture=null),gt(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>iFe(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,s,i,a){return aFe(this.gl,e,n,r,s,i,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return sFe(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const s=rFe(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(Oe().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,i=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const a=s.clientWaitSync(i,0,0);return a===s.ALREADY_SIGNALED||a===s.CONDITION_SATISFIED},n=i}else Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>oFe(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=GLe(n));const r=RMe(n);gt(n,()=>n.attachShader(r,this.vertexShader)),gt(n,()=>n.attachShader(r,e)),DMe(n,r);const s=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&j$(n,s),s}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;gt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),eFe(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(gt(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&j$(this.gl,this.program),gt(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?BMe(this.gl,e,n):jMe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),gt(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),UMe(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[s,i]=Pg(n,r);this.setOutputMatrixTextureDriver(e,s,i)}setOutputMatrixWriteRegion(e,n,r,s){this.setOutputMatrixWriteRegionDriver(r,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&j$(this.gl,this.program),pw(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}gt(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),gt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=hw(this.gl,Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await iU(()=>this.disposed||this.isQueryAvailable(e,Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=lFe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in Oe().platform&&(r=Oe().platform.setTimeoutCustom.bind(Oe().platform)),iU(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),U$(this.gl,e,this.framebuffer),this.debug&&pw(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(U$(this.gl,this.outputTexture,this.framebuffer),this.debug&&pw(this.gl)):EV(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const s=this.gl;U$(s,e,this.framebuffer),this.debug&&pw(s),this.outputTexture=e,gt(s,()=>s.viewport(0,0,n,r)),gt(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,s){this.throwIfDisposed(),gt(this.gl,()=>this.gl.scissor(e,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function lFe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}const{addImpl:uFe,bincountImpl:xQ,bincountReduceImpl:cFe,bitwiseAndImpl:dFe,castImpl:fFe,ceilImpl:hFe,concatImpl:pFe,equalImpl:mFe,expImpl:gFe,expm1Impl:yFe,floorImpl:vFe,gatherNdImpl:bFe,gatherV2Impl:xFe,greaterImpl:wFe,greaterEqualImpl:SFe,lessImpl:CFe,lessEqualImpl:kFe,linSpaceImpl:TFe,logImpl:EFe,maxImpl:NFe,maximumImpl:$Fe,minimumImpl:IFe,multiplyImpl:AFe,negImpl:OFe,notEqualImpl:RFe,prodImpl:DFe,raggedGatherImpl:_Fe,raggedRangeImpl:PFe,raggedTensorToTensorImpl:MFe,rangeImpl:LFe,rsqrtImpl:FFe,scatterImpl:zFe,sigmoidImpl:BFe,simpleAbsImpl:wQ,sliceImpl:jFe,sparseFillEmptyRowsImpl:UFe,sparseReshapeImpl:VFe,sparseSegmentReductionImpl:SQ,sqrtImpl:WFe,staticRegexReplaceImpl:HFe,stridedSliceImpl:GFe,stringNGramsImpl:qFe,stringSplitImpl:KFe,stringToHashBucketFastImpl:XFe,subImpl:YFe,tileImpl:ZFe,topKImpl:QFe,transposeImpl:rL,uniqueImpl:JFe}=nOe;function CQ(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Pi(t,e){return e===1?[t]:CQ(t,e)}function e3e(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}class t3e{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Si(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Pi("rc",this.rank),r=Xn(this.rank),s=this.getOutOfBoundsCondition(n),i=this.getSetup(n),a=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${a}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let i=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let a=2;a<this.rank;a++)i=`${e[e.length-1-a]},`+i;n.push(i)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}class kQ{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length);let r="";for(let s=0;s<4;s++){let i="thisRC = rc;";s%2===1&&(i+="thisRC.z += 1;"),s>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${n3e(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?tL():eL(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function n3e(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?eLe(["r","c","d"],"inputShape"):cp(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}class r3e{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,r){const s=OV(n,r),i=RV(e,s,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const a=AV(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const l=this.freeTextures[i].pop();return this.usedTextures[i].push(l),l}let o;return s===Qs.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===Qs.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===Qs.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===Qs.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===Qs.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(o),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),o}releaseTexture(e,n,r,s){if(this.freeTextures==null)return;const i=OV(r,s),a=RV(n,i,s);a in this.freeTextures||(this.freeTextures[a]=[]);const o=AV(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=Oe().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const u=this.usedTextures[a],d=u&&u.indexOf(e);if(d==null||d<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[d]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function s3e(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function AV(t,e,n,r,s){const i=i3e(e,r);let a;if(s){const[l,u]=Pg(t[0],t[1]);a=l*u}else{const[l,u]=ax(t[0],t[1]);a=l*u}const o=s3e(n,i);return a*o}function i3e(t,e){switch(t){case Qs.PACKED_2X2_FLOAT32:return vQ(e);case Qs.PACKED_2X2_FLOAT16:return bQ(e);case Qs.UNPACKED_FLOAT32:return mQ(e);case Qs.UNPACKED_FLOAT16:return gQ(e);case Qs.PACKED_4X1_UNSIGNED_BYTE:return yQ(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function a3e(t){return Oe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Qs.PACKED_2X2_FLOAT32:Qs.UNPACKED_FLOAT32:t?Qs.PACKED_2X2_FLOAT16:Qs.UNPACKED_FLOAT16}function OV(t,e){if(t===Ga.UPLOAD)return Qs.PACKED_2X2_FLOAT32;if(t===Ga.RENDER||t==null)return a3e(e);if(t===Ga.DOWNLOAD||t===Ga.PIXELS)return Qs.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function RV(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}class eu{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Ho="if (isnan(x)) return x;",o3e="return x;",DV="return abs(x);",l3e="return (x >= 0.0) ? x : (exp(x) - 1.0);",u3e=Ho+`
  return (x < 0.0) ? 0.0 : x;
`,c3e=Ho+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,wd="return x;",d3e="return 1.0 / (1.0 + exp(-1.0 * x));";const f3e="return x;",h3e=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,p3e=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,m3e=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,g3e="return 1.0 / (1.0 + exp(-1.0 * x));";class Nd{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class y3e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length);const n=e.length,r=Pi("rc",n),s=Xn(n),i=e3e(n,r),a=r.slice(-2),o=n<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${o}));
      }
    `}}const v3e=BP,b3e=1e-7,x3e=1e-4,yw={};function w3e(t){return t in yw||(yw[t]={}),yw[t]}const S3e=Oe().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),C3e=600;function k3e(){return Oe().global.screen==null?1024:Oe().global.screen.height*Oe().global.screen.width*window.devicePixelRatio*C3e/1024/1024}class u2 extends QD{nextDataId(){return u2.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Oe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof H$)n=e;else{const r=bl(Oe().getNumber("WEBGL_VERSION"),e);n=new H$(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=bl(Oe().getNumber("WEBGL_VERSION"));n=new H$(r),this.binaryCache=w3e(Oe().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new r3e(this.gpgpu),this.numMBBeforeWarning=k3e(),this.texData=new K8(this,Wl())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,r,s,i,a){const o=this.makeTensorInfo(n,r),l=this.texData.get(o.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[s,i]},l.texShape=[s,i];const u=mw(n),d=new IV(u,!1,a),f=this.runWebGLProgram(d,[o],r,[[s,i]]);return f.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(o),f.dataId}write(e,n,r){if((Oe().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Oe().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:e,usage:Ga.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,s,i){if(Oe().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:s,values:n,usage:Ga.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:s,complexTensorInfos:i,slice:a,shape:o,isPacked:l}=n;if(a!=null){let p;l?p=new Nd(o,wd):p=new eu(o,wd);const m=this.runWebGLProgram(p,[{dataId:e,shape:o,dtype:s}],s),y=this.readSync(m.dataId);return this.disposeIntermediateTensorInfo(m),y}if(r!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return r;const u=this.activeTimers!=null;let d;u&&(d=qi());let f;if(s==="complex64"){const p=this.readSync(i.real.dataId),m=this.readSync(i.imag.dataId);f=bc(p,m)}else f=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=qi()-d),this.convertAndCacheOnCPU(e,f)}async read(e){if(this.pendingRead.has(e)){const y=this.pendingRead.get(e);return new Promise(v=>y.push(v))}const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:a,complexTensorInfos:o,isPacked:l}=n;if(i!=null){let y;l?y=new Nd(s,wd):y=new eu(s,wd);const v=this.runWebGLProgram(y,[{dataId:e,shape:s,dtype:a}],a),b=this.read(v.dataId);return this.disposeIntermediateTensorInfo(v),b}if(r!=null)return this.convertAndCacheOnCPU(e);if(Oe().getBool("DEBUG")&&!Oe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Oe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,d;if(a!=="complex64"&&Oe().get("WEBGL_BUFFER_SUPPORTED")){d=this.decode(e);const y=this.texData.get(d.dataId);u=this.gpgpu.createBufferFromTexture(y.texture.texture,...fw(s))}this.pendingRead.set(e,[]),a!=="complex64"&&await this.gpgpu.createAndWaitForFence();let f;if(a==="complex64"){const y=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),v=y[0],b=y[1];f=bc(v,b)}else if(u==null)f=this.getValuesFromTexture(e);else{const y=Le(s);f=this.gpgpu.downloadFloat32MatrixFromBuffer(u,y)}if(d!=null&&this.disposeIntermediateTensorInfo(d),u!=null){const y=this.gpgpu.gl;gt(y,()=>y.deleteBuffer(u))}const p=this.convertAndCacheOnCPU(e,f),m=this.pendingRead.get(e);return this.pendingRead.delete(e),m.forEach(y=>y(p)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Wl().removeDataId(e,this),this.pendingDeletes--),p}readToGPU(e,n={}){const r=this.texData.get(e),{values:s,shape:i,slice:a,dtype:o,isPacked:l,texture:u}=r;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(a!=null){let m;l?m=new Nd(i,wd):m=new eu(i,wd);const y=this.runWebGLProgram(m,[{dataId:e,shape:i,dtype:o}],o),v=this.readToGPU(y,n);return this.disposeIntermediateTensorInfo(y),v}if(u==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const d=this.decode(e,n.customTexShape),f=Wl().makeTensorFromTensorInfo(d),p=this.texData.get(d.dataId);return Object.assign({tensorRef:f},p.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>zd(s));return rn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return rn(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!NMe(r))throw Oe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:s}=this.texData.get(e),i=Le(n);if(Oe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const p=this.decode(e),m=this.texData.get(p.dataId),y=this.gpgpu.downloadMatrixFromPackedTexture(m.texture.texture,...fw(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(p),y}const a=Oe().getBool("WEBGL_PACK")&&s===!0,o=a?mw(n):n,l=a?new VLe(o):new ULe(o),u=this.runWebGLProgram(l,[{shape:o,dtype:r,dataId:e}],"float32"),d=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture.texture,d.texShape[0],d.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(u),f}timerAvailable(){return Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=Ph(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),a=Ph(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);o.kernelMs=Uve(l),o.getExtraProfileInfo=()=>l.map((u,d)=>({name:a[d],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:qi(),endMs:null}}endTimer(e){return Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=qi(),e)}async getQueryTime(e){if(Oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:s,usage:i,isPacked:a,slice:o}=this.texData.get(e),l=o&&o.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,i,a)));const d=this.texData.get(e);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=S3e){return Oe().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&Le(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){Wa("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return v3e(e.shape,n)}packedUnaryOp(e,n,r){const s=new Nd(e.shape,n),i=this.compileAndRun(s,[e],r);return Wl().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=wQ(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(Oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,DV,e.dtype);const n=new eu(e.shape,DV),r=this.compileAndRun(n,[e]);return Wl().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Wb(r[0])){const i=r.map(a=>Od(a));s=this.write(i,e,n)}else s=this.write(r,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,r){return Wl().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new y3e(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new t3e(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const r=[ig(e.shape),...ag(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},i=[ig(n),...ag(n)],a=new kQ(i,r),o=!0,l=[r],u=this.runWebGLProgram(a,[s],e.dtype,l,o);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:s,shape:i,dtype:a}=r;if(n!=null){const p=Le(i),m=n[0]*n[1]*4;Y(p<=m,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const o=mw(i);let l;s?l=new jLe(o):l=new BLe(o);const u=!0,d=[n??fw(o)],f=this.runWebGLProgram(l,[{shape:o,dtype:a,dataId:e}],a,d,u,n);return{dtype:a,shape:i,dataId:f.dataId}}runWebGLProgram(e,n,r,s,i=!1,a){const o=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(o.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===fb.DENSE){const w=a??fw(e.outputShape);l.texShape=w.map(S=>S*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),Le(o.shape)===0)return l.values=ni(o.dtype,0),o;const u=[],d=n.map(w=>{if(w.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let S=this.texData.get(w.dataId);if(S.texture==null){if(!e.packedInputs&&Le(w.shape)<=Oe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:w.shape,texData:null,isUniform:!0,uniformValues:S.values};e.packedInputs&&(S.isPacked=!0,S.shape=w.shape)}if(this.uploadToGPU(w.dataId),!!S.isPacked!=!!e.packedInputs)w=S.isPacked?this.unpackTensor(w):this.packTensor(w),u.push(w),S=this.texData.get(w.dataId);else if(S.isPacked&&!QS(S.shape,w.shape)){const C=w,T=w.shape;w.shape=S.shape,w=this.packedReshape(w,T),u.push(w),S=this.texData.get(w.dataId),C.shape=T}return{shape:w.shape,texData:S,isUniform:!1}});this.uploadToGPU(o.dataId);const f={shape:o.shape,texData:l,isUniform:!1},p=zLe(e,d,f),m=this.getAndSaveBinary(p,()=>LLe(this.gpgpu,e,d,f)),y=this.activeTimers!=null;let v;y&&(v=this.startTimer()),Oe().get("ENGINE_COMPILE_ONLY")||FLe(this.gpgpu,m,d,f,s),u.forEach(w=>this.disposeIntermediateTensorInfo(w)),y&&(v=this.endTimer(v),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(v)}));const b=Oe().getNumber("WEBGL_FLUSH_THRESHOLD");if(b>0){const w=qi();w-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=w)}if(!Oe().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const w=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),w}return o}compileAndRun(e,n,r,s,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,s,i)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Oe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Ne(()=>{if(!Oe().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Oe().getBool("DEBUG");Oe().set("DEBUG",!1);const n=this.abs(It(1e-8)).dataSync()[0];if(Oe().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?b3e:x3e}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:s,values:i,texture:a,usage:o,isPacked:l}=n;if(a!=null)return;const u=this.activeTimers!=null;let d;u&&(d=qi());let f=n.texShape;if(f==null&&(f=HMe(r,l),n.texShape=f),i!=null){const p=mw(r);let m,y=f[1],v=f[0];const b=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!b)&&([y,v]=Pg(f[0],f[1])),l?m=new HLe(p,b):m=new IV(p,b);const w=b?[v,y]:f,S=this.makeTensorInfo(w,s),C=this.texData.get(S.dataId);b?C.usage=Ga.PIXELS:C.usage=Ga.UPLOAD,C.texShape=w,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(S.dataId),y,v,i);const T=[[v,y]],O=this.runWebGLProgram(m,[S],s,T,!0),_=this.texData.get(O.dataId);n.texShape=_.texShape,n.isPacked=_.isPacked,n.usage=_.usage,Oe().get("ENGINE_COMPILE_ONLY")?this.disposeData(O.dataId):(n.texture=_.texture,n.values=null,this.texData.delete(O.dataId)),this.disposeIntermediateTensorInfo(S),u&&(this.uploadWaitMs+=qi()-d)}else{const p=this.acquireTexture(f,o,s,l);n.texture=p}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:s}=r;return n!=null&&(r.values=T3e(n,s)),r.values}acquireTexture(e,n,r,s){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*ES(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await l7(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(uQ(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:s,nanLoc:i,outShapeLocation:a,outShapeStridesLocation:o,outTexShapeLocation:l}=pQ(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=r,e.infLoc=s,e.nanLoc=i,e.outShapeLocation=a,e.outShapeStridesLocation=o,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,r){e.channels=e.channels||"RGBA";const{texture:s,height:i,width:a,channels:o}=e,l=Wl().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(s,n,r,i,a,o);return Wl().makeTensorFromDataId(u,n,r,l)}}u2.nextDataId=0;function T3e(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}mK()&&vK("webgl",()=>new u2,2);const sL=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class qh{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=Xt(n,r),this.enableShapeUniforms=Si(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}const fp=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class Bg{constructor(e,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Xt(n,r);const i=this.outputShape.length;this.enableShapeUniforms=Si(i);let a="";if(s)if(i===0||Le(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          ${Xn(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?a+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:a+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Pi("coords",i);this.enableShapeUniforms?a+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:a+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${a}

        setOutput(result);
      }
    `}}function Na(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const E3e={kernelName:d0,backendName:"webgl",kernelFunc:Na};function pf(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.makeTensorInfo(r.shape,"complex64"),a=n.texData.get(i.dataId),o=Na({inputs:{x:r},backend:n}),l=Na({inputs:{x:s},backend:n});return a.complexTensorInfos={real:o,imag:l},i}const N3e={kernelName:l_,backendName:"webgl",kernelFunc:pf};const TQ="return (a < 0.) ? b * a : a;",EQ=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function $3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r,a=n.makeTensorInfo([],"float32",rf(i,"float32")),o=Oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bg(EQ,s.shape,a.shape):new qh(TQ,s.shape,a.shape),l=n.runWebGLProgram(o,[s,a],"float32");return n.disposeIntermediateTensorInfo(a),l}const I3e={kernelName:Uk,backendName:"webgl",kernelFunc:$3e};const NQ="return (a < 0.) ? b * a : a;",$Q=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function A3e(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e,i=Oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bg($Q,r.shape,s.shape):new qh(NQ,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],"float32")}const O3e={kernelName:oT,backendName:"webgl",kernelFunc:A3e};const jg="if (isnan(x)) return x;";function In({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:i})=>{const{x:a}=s,o=i,l=r||a.dtype;if(o.shouldExecuteOnCPU([a])&&n!=null){const f=o.texData.get(a.dataId),p=n(f.values,l);return o.makeTensorInfo(a.shape,l,p)}const u=Oe().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let d;return u?d=new Nd(a.shape,e):d=new eu(a.shape,t),o.runWebGLProgram(d,[a],l)}}function oi({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:i}){return({inputs:a,backend:o})=>{const{a:l,b:u}=a,d=o;if(r&&l.dtype==="complex64"){const y=d.texData.get(l.dataId),v=d.texData.get(u.dataId),[b,w]=[[y.complexTensorInfos.real,v.complexTensorInfos.real],[y.complexTensorInfos.imag,v.complexTensorInfos.imag]].map(C=>{const[T,N]=C,O={dataId:T.dataId,dtype:T.dtype,shape:l.shape},_={dataId:N.dataId,dtype:N.dtype,shape:u.shape},F=new qh(t,l.shape,u.shape);return d.runWebGLProgram(F,[O,_],Sa(T.dtype,N.dtype))}),S=pf({inputs:{real:b,imag:w},backend:d});return d.disposeIntermediateTensorInfo(b),d.disposeIntermediateTensorInfo(w),S}const f=i||Sa(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||d.shouldExecuteOnCPU([l,u]))&&s!=null){const y=d.texData.get(l.dataId).values,v=d.texData.get(u.dataId).values,b=l.dtype==="string"?xc(y):y,w=l.dtype==="string"?xc(v):v,[S,C]=s(l.shape,u.shape,b,w,f),T=d.makeTensorInfo(C,f),N=d.texData.get(T.dataId);return N.values=S,T}const p=Oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let m;return p?m=new Bg(e,l.shape,u.shape,n):m=new qh(t,l.shape,u.shape),d.runWebGLProgram(m,[l,u],f)}}function hb(t,e=!1){if(t==="linear")return e?f3e:o3e;if(t==="relu")return e?p3e:u3e;if(t==="elu")return e?h3e:l3e;if(t==="relu6")return e?m3e:c3e;if(t==="prelu")return e?$Q:NQ;if(t==="leakyrelu")return e?EQ:TQ;if(t==="sigmoid")return e?g3e:d3e;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}class IQ{constructor(e,n,r,s=!1,i=!1,a=!1,o=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Si(this.outputShape.length);const d=s?e[1]:e[2],f=Math.ceil(d/2),p=s?"i * 2, rc.y":"rc.y, i * 2",m=i?"rc.z, i * 2":"i * 2, rc.z",y=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let b="",w="";o&&(l?b=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:u?b=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:b=`vec4 activation(vec4 x) {
          ${o}
        }`,w="result = activation(result);");const S=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let C="rc.x",T="rc.x";e[0]<n[0]?C=`imod(rc.x, ${e[0]})`:n[0]<e[0]&&(T=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${b}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${f}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${C};
        int batchB = ${T};
        for (int i = 0; i < ${f}; i++) {
          vec4 a = getMatrixA(batchA, ${p});
          vec4 b = getMatrixB(batchB, ${m});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${y[0]} * ${v[0]});
          result += (${y[1]} * ${v[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${S}

        ${w}

        setOutput(result);
      }
    `}}const _V={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class PV{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Xt(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}const MV="return a * b;";function iL(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=Sa(r.dtype,s.dtype);if(r.dtype==="complex64"){const o=n.texData.get(r.dataId),l=n.texData.get(s.dataId),u=new PV(_V.REAL,r.shape,s.shape),d=new PV(_V.IMAG,r.shape,s.shape),f=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:r.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],p=n.runWebGLProgram(u,f,"float32"),m=n.runWebGLProgram(d,f,"float32"),y=pf({inputs:{real:p,imag:m},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}if(n.shouldExecuteOnCPU([r,s])){const o=n.texData.get(r.dataId),l=n.texData.get(s.dataId),[u,d]=AFe(r.shape,s.shape,o.values,l.values,i),f=n.makeTensorInfo(d,i),p=n.texData.get(f.dataId);return p.values=u,f}let a;return Oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?a=new Bg(MV,r.shape,s.shape):a=new qh(MV,r.shape,s.shape),n.runWebGLProgram(a,[r,s],i)}const R3e={kernelName:x0,backendName:"webgl",kernelFunc:iL};function D3e(t,e,n){const r=[ig(t.shape),...ag(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},i=[ig(e),...ag(e)],a=new kQ(i,r),o=!0,l=[r],u=n.runWebGLProgram(a,[s],t.dtype,l,o);return{dataId:u.dataId,shape:e,dtype:u.dtype}}function ft(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,a=n,o=Le(s.shape),l=X8(i,o),u=Le(l);Y(o===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const d=a.texData.get(s.dataId);return d.isPacked&&!QS(s.shape,l)&&!(d.texture!==null&&QS(d.shape,l))?D3e(s,l,a):(a.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const _3e={kernelName:uT,backendName:"webgl",kernelFunc:ft};class LV{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:a}=e;this.outputShape=[s,a];const o=Math.floor(r/4)*4,l=r%4;let u="sumValue += dot(values, ones);";if(n!=null){const f=1/n;u=`sumValue += dot(values * ${Xm(f)?f.toPrecision(2):f}, ones);`}let d="";i%r>0&&(d=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${d}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${o};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}class P3e{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:a}=e;this.outputShape=[s,a];let o="0.0",l="";n==="prod"?o="1.0":n==="min"?(o="1.0 / 1e-20",l="min"):n==="max"&&(o="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const d=Math.floor(r/4)*4,f=r%4;let p=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,m="vec4";n==="all"?(o="1.0",p=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):n==="any"&&(o="0.0",p=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");let y="";i%r>0&&(y=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${o};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${y}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${o});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${p}
        }

        int inIdx = inOffset + ${d};
        if (${f===1}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${p}
        } else if (${f===2}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${p}
        } else if (${f===3}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${p}
        }
        setOutput(${u});
      }
    `}}function M3e(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=qT(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function hp(t,e,n,r){const s=M3e(t.shape);let i=t;for(let a=0;a<s.length;a++){const{inSize:o,windowSize:l,outSize:u}=s[a];let d,f;n==="mean"?d=a===0?new LV({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:u},o):new LV({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:u}):d=new P3e({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:u},n),f=i,i=r.runWebGLProgram(d,[i],e),f.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(f)}return i}class L3e{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[n[a]];this.outputShape=r,this.rank=r.length;const s=Xn(this.rank),i=F3e(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function F3e(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let s=0;s<t.length;s++)r[t[s]]=n[s];return r.join()}class z3e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let d=0;d<r.length;d++)r[d]=e[n[d]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=Xn(this.rank),i=CQ("rc",this.rank),a=new Array(this.rank);for(let d=0;d<n.length;d++)a[n[d]]=i[d];const o=`vec2(${a.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${a.join()}), ${o})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}function c2(t,e,n){const r=Oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new z3e(t.shape,e):new L3e(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}function B3e(t,e,n,r){const s=e,i=t.shape.length,a=un(s,t.shape);let o=a;const l=Dr(o,i),u=l!=null;let d=t;u&&(d=c2(t,l,r),o=Yr(o.length,i)),ii("sum",o,i);const[f,p]=Fs(d.shape,o);let m=f;n&&(m=Xr(f,a));const y=Le(p),b=Le(t.shape)/y,w=ft({inputs:{x:d},attrs:{shape:[b,y]},backend:r}),S=aP(t.dtype),C=hp(w,S,"sum",r),T=ft({inputs:{x:C},attrs:{shape:m},backend:r});return r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(C),u&&r.disposeIntermediateTensorInfo(d),T}function d2(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r;return B3e(s,i,a,n)}const j3e={kernelName:mT,backendName:"webgl",kernelFunc:d2};function zi(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{perm:i}=r,a=n,o=s.shape.length,l=new Array(o);for(let d=0;d<l.length;d++)l[d]=s.shape[i[d]];let u;if(a.shouldExecuteOnCPU([s])){const f=a.texData.get(s.dataId).values,p=rL(f,s.shape,s.dtype,i,l);u=a.makeTensorInfo(l,s.dtype);const m=a.texData.get(u.dataId);m.values=p}else u=c2(s,i,a);return u}const U3e={kernelName:Pm,backendName:"webgl",kernelFunc:zi};const AQ=1e3;function JS({a:t,b:e,transposeA:n,transposeB:r,backend:s,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:l=null}){const u=t.shape.length,d=e.shape.length,f=n?t.shape[u-2]:t.shape[u-1],p=r?e.shape[d-1]:e.shape[d-2],m=n?t.shape[u-1]:t.shape[u-2],y=r?e.shape[d-2]:e.shape[d-1],v=t.shape.slice(0,-2),b=e.shape.slice(0,-2),w=Le(v),S=Le(b),T=Xt(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([m,y]);Y(f===p,()=>`Error in matMul: inner shapes (${f}) and (${p}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const N=n?[w,f,m]:[w,m,f],O=r?[S,y,p]:[S,p,y],_=ft({inputs:{x:t},backend:s,attrs:{shape:N}}),F=ft({inputs:{x:e},backend:s,attrs:{shape:O}}),L=[_,F],z=Math.max(w,S),P=n?_.shape[1]:_.shape[2],R=i!=null,H=a!=null,q=l==="leakyrelu",X=l!=null?hb(l,!0):null,V=R||H||q||X!=null;let ee;if((m===1||y===1)&&P>AQ&&V===!1){let te=_,ce=F;n&&(te=zi({inputs:{x:_},backend:s,attrs:{perm:[0,2,1]}}),L.push(te)),r&&(ce=zi({inputs:{x:F},backend:s,attrs:{perm:[0,2,1]}}),L.push(ce));const G=y!==1,ne=y===1;let ae=te;G&&(ae=ft({inputs:{x:te},backend:s,attrs:{shape:[z,P,1]}}),L.push(ae));const be=y===1?2:1;let $e=ce;ne&&($e=ft({inputs:{x:ce},backend:s,attrs:{shape:[z,1,P]}}),L.push($e));const Ie=iL({inputs:{a:ae,b:$e},backend:s});ee=d2({inputs:{x:Ie},backend:s,attrs:{axis:be,keepDims:!0}}),L.push(Ie)}else{const te=Sa(t.dtype,e.dtype),ce=new IQ(N,O,[z,m,y],n,r,R,X,H,q),G=[_,F];if(i!=null&&G.push(i),H&&G.push(a),q){const ne=s.makeTensorInfo([],"float32",rf(o,"float32"));G.push(ne),L.push(ne)}ee=s.runWebGLProgram(ce,G,te)}const J=ft({inputs:{x:ee},backend:s,attrs:{shape:T}});L.push(ee);for(const te of L)s.disposeIntermediateTensorInfo(te);return J}function V3e(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:a,preluActivationWeights:o}=e,{transposeA:l,transposeB:u,activation:d,leakyreluAlpha:f}=r;return JS({a:s,b:i,transposeA:l,transposeB:u,backend:n,bias:a,preluActivationWeights:o,leakyreluAlpha:f,activation:d})}const W3e={kernelName:NS,backendName:"webgl",kernelFunc:V3e};const FV="return abs(x);";function H3e(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),a=wQ(i.values);return n.makeTensorInfo(r.shape,r.dtype,a)}let s;return Oe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Nd(r.shape,FV):s=new eu(r.shape,FV),n.runWebGLProgram(s,[r],r.dtype)}const G3e={kernelName:xk,backendName:"webgl",kernelFunc:H3e};const q3e=Ho+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,K3e=In({opSnippet:q3e}),X3e={kernelName:Hb,backendName:"webgl",kernelFunc:K3e};const Y3e=Ho+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,Z3e=In({opSnippet:Y3e}),Q3e={kernelName:Gb,backendName:"webgl",kernelFunc:Z3e};const zV="return a + b;",J3e=oi({opSnippet:zV,packedOpSnippet:zV,supportsComplex:!0,cpuKernelImpl:uFe}),eze={kernelName:$g,backendName:"webgl",kernelFunc:J3e};class tze{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}class nze{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((i,a)=>`T${a}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}function eS(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return Na({inputs:{x:r[0]},backend:n});if(r.length>Oe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),u=eS({inputs:r.slice(0,l),backend:n}),d=eS({inputs:r.slice(l),backend:n});return eS({inputs:[u,d],backend:n})}const s=r.map(l=>l.dtype).reduce((l,u)=>Sa(l,u)),i=r.map(l=>l.shape),o=Oe().getBool("WEBGL_PACK")?new nze(r[0].shape,i):new tze(r[0].shape,i);return n.runWebGLProgram(o,r,s)}const rze={kernelName:wk,backendName:"webgl",kernelFunc:eS};function sze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=un(i,s.shape);let u=l;const d=Dr(u,o);let f=s;d!=null&&(f=zi({inputs:{x:s},backend:n,attrs:{perm:d}}),u=Yr(u.length,o)),ii("all",u,o);const[p,m]=Fs(f.shape,u),y=Le(m),v=ft({inputs:{x:f},backend:n,attrs:{shape:[-1,y]}}),b=hp(v,v.dtype,"all",n);let w;if(a){const S=Xr(p,l);w=ft({inputs:{x:b},backend:n,attrs:{shape:S}})}else w=ft({inputs:{x:b},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),d!=null&&n.disposeIntermediateTensorInfo(f),w}const ize={kernelName:n_,backendName:"webgl",kernelFunc:sze};function aze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=un(i,s.shape);let u=l;const d=Dr(u,o);let f=s;d!=null&&(f=zi({inputs:{x:s},backend:n,attrs:{perm:d}}),u=Yr(u.length,o)),ii("any",u,o);const[p,m]=Fs(f.shape,u),y=Le(m),v=ft({inputs:{x:f},backend:n,attrs:{shape:[-1,y]}}),b=hp(v,v.dtype,"any",n);let w;if(a){const S=Xr(p,l);w=ft({inputs:{x:b},backend:n,attrs:{shape:S}})}else w=ft({inputs:{x:b},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),d!=null&&n.disposeIntermediateTensorInfo(f),w}const oze={kernelName:r_,backendName:"webgl",kernelFunc:aze};class lze{constructor(e,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:i,outSize:a}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];const o=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${o} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}class uze{constructor(e,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Y(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],a=Math.ceil(i/n);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),s||this.variableNames.push("bestIndicesA");const o=this.outputShape,l=o.length,u=Xn(l),d=Pi("coords",l);let f,p;if(a===1){p=l+1;const F=Xn(p);f=`
        ${F} sourceLocR = ${F}(${d.join()}, 0);
        ++${d[l-1]};
        ${F} sourceLocG = ${F}(${d.join()}, 0);
        ++${d[l-2]};
        ${F} sourceLocA = ${F}(${d.join()}, 0);
        --${d[l-1]};
        ${F} sourceLocB = ${F}(${d.join()}, 0);
        --${d[l-2]};`}else p=l,f=`
        ${u} sourceLocR = coords;
        ++${d[l-1]};
        ${u} sourceLocG = coords;
        ++${d[l-2]};
        ${u} sourceLocA = coords;
        --${d[l-1]};
        ${u} sourceLocB = coords;
        --${d[l-2]};`;const m=["x","y","z","w","u","v"].slice(0,p),y="."+m[p-1],v=m.map(F=>"int "+F),b=Pi("sourceLocR",p-1).concat("inIdx.r"),w=Pi("sourceLocG",p-1).concat("inIdx.g"),S=Pi("sourceLocB",p-1).concat("inIdx.b"),C=Pi("sourceLocA",p-1).concat("inIdx.a"),T=r==="max"?"greaterThan":"lessThan",N=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${w.join()}),
                             getBestIndicesAChannel(${S.join()}),
                             getBestIndicesAChannel(${C.join()})));`,O=`vec4(
            getAChannel(${b.join()}),
            hasNextCol ? getAChannel(${w.join()}) : 0.,
            hasNextRow ? getAChannel(${S.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${C.join()}) : 0.)`,_=s?"":`
      float getBestIndicesAChannel(${v.join()}) {
        return getChannel(getBestIndicesA(${m.join()}),
                                          vec2(${m.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${v.join()}) {
        return getChannel(getA(${m.join()}),
                               vec2(${m.slice(-2).join()}));
      }
      ${_}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${d[l-1]} < ${o[l-1]-1};
        bool hasNextRow = ${d[l-2]} < ${o[l-2]-1};
        ${f}
        ivec4 srcIdx = ivec4(sourceLocR${y}, sourceLocG${y},
          sourceLocB${y}, sourceLocA${y}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${O};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${N}
          vec4 candidate = ${O};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${T}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}function OQ(t,e,n,r=null){let s=e.shape[0],i=e.shape[1];r!=null&&(s=r.shape[0],i=r.shape[1]);const a=qT(i),o={windowSize:a,inSize:i,batchSize:s,outSize:Math.ceil(i/a)},l=new lze(o,n,r==null),u=[e];r!=null&&u.push(r);const d=t.runWebGLProgram(l,u,"int32");if(d.shape[1]===1)return d;const f=OQ(t,e,n,d);return t.disposeIntermediateTensorInfo(d),f}function RQ(t,e,n,r=null){const s=r!=null?r.shape:e.shape,i=s[s.length-1],a=qT(i),o=new uze(s,a,n,r==null),l=r==null?[e]:[e,r],u=t.runWebGLProgram(o,l,"int32");if(u.shape.length===e.shape.length){const d=RQ(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}return u}function DQ(t,e,n,r){const s=[n];if(ii("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,e.shape.length),!Oe().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],a=t.texData.get(e.dataId),o=a!==null&&a.isPacked;let l=e;o&&(l=t.unpackTensor(e),i.push(l));const[u,d]=Fs(l.shape,s),f=Le(d),p=ft({inputs:{x:l},backend:t,attrs:{shape:[-1,f]}});i.push(p);const m=OQ(t,p,r);i.push(m);const y=ft({inputs:{x:m},backend:t,attrs:{shape:u}});return i.forEach(v=>t.disposeIntermediateTensorInfo(v)),y}return RQ(t,e,r)}function cze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let a=un(i,s.shape);const o=Dr(a,s.shape.length);let l=s;const u=[];o!=null&&(l=zi({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(l),a=Yr(a.length,l.shape.length)),ii("argMax",[a[0]],l.shape.length);const d=DQ(n,l,a[0],"max");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),d}const dze={kernelName:Sk,backendName:"webgl",kernelFunc:cze};function fze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let a=un(i,s.shape);const o=Dr(a,s.shape.length);let l=s;const u=[];o!=null&&(l=zi({inputs:{x:s},backend:n,attrs:{perm:o}}),u.push(l),a=Yr(a.length,l.shape.length)),ii("argMin",[a[0]],l.shape.length);const d=DQ(n,l,a[0],"min");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),d}const hze={kernelName:Ck,backendName:"webgl",kernelFunc:fze};const pze=Ho+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,mze=In({opSnippet:pze}),gze={kernelName:qb,backendName:"webgl",kernelFunc:mze};const yze=Ho+"return log(x + sqrt(x * x + 1.0));",vze=In({opSnippet:yze}),bze={kernelName:Kb,backendName:"webgl",kernelFunc:vze};const xze=Ho+`
  return atan(x);
`,wze=In({opSnippet:xze}),Sze={kernelName:Xb,backendName:"webgl",kernelFunc:wze};const Cze=sL+`
  return atan(a, b);
`,kze=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+fp+`
  return result;
`,Tze=oi({opSnippet:Cze,packedOpSnippet:kze}),Eze={kernelName:Zb,backendName:"webgl",kernelFunc:Tze};const Nze=Ho+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,$ze=In({opSnippet:Nze}),Ize={kernelName:Yb,backendName:"webgl",kernelFunc:$ze};class pb{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const v=n==="avg",b=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,w=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let S="0.0";if(v||(S="-1.0 / 1e-20"),r){this.userCode=`
        const ivec2 strides = ivec2(${o}, ${l});
        const ivec2 pads = ivec2(${m}, ${y});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${p};
                wC += ${d}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?i?b:w:`wR * ${p} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const C="max";let T=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(T="avgValue / max(count, 1.0)");const N=Math.floor(a/4)*4,O=a%4,_=`
      if (${v}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${C}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${l});
      const ivec2 pads = ivec2(${m}, ${y});
      const float initializationValue = ${S};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${S});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${f};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${N}; wC += 4) {
            int xC = xCCorner + wC * ${d};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              getValue(batch, xR, xC + 3 * ${d}, d)
            );

            ${_}
          }

          int xC = xCCorner + ${N};
          if (${O===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${_}
          } else if (${O===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              initializationValue,
              initializationValue
            );

            ${_}
          } else if (${O===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              initializationValue
            );

            ${_}
          }
        }
        setOutput(${T});
      }
    `}}class aL{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,o=e.strideDepth,l=e.strideHeight,u=e.strideWidth,d=e.dilationDepth,f=e.dilationHeight,p=e.dilationWidth,m=e.effectiveFilterDepth,y=e.effectiveFilterHeight,v=e.effectiveFilterWidth,b=e.padInfo.front,w=e.padInfo.top,S=e.padInfo.left;this.outputShape=e.outShape;const C=n==="avg";let T="0.0";if(C||(T="-1.0 / 1e-20"),r){this.userCode=`
        const ivec3 strides =
            ivec3(${o}, ${l}, ${u});
        const ivec3 pads = ivec3(${b}, ${w}, ${S});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${m};
              wD += ${d}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${y};
                wR += ${f}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${v};
                  wC += ${p}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${y} * ${v} +
                      wR * ${v} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const N="max";let O=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(O="avgValue / max(count, 1.0)");const _=Math.floor(a/4)*4,F=a%4,L=`
      if (${C}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${N}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${o}, ${l}, ${u});
      const ivec3 pads = ivec3(${b}, ${w}, ${S});
      const float initializationValue = ${T};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${T});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${m};
            wD += ${d}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${y};
            wR += ${f}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${_}; wC += 4) {
              int xC = xCCorner + wC * ${p};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${p}, ch),
                getValue(batch, xD, xR, xC + 2 * ${p}, ch),
                getValue(batch, xD, xR, xC + 3 * ${p}, ch)
              );

              ${L}
            }

            int xC = xCCorner + ${_};
            if (${F===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${L}
            } else if (${F===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${p}, ch),
                initializationValue,
                initializationValue
              );

              ${L}
            } else if (${F===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${p}, ch),
                getValue(batch, xD, xR, xC + 2 * ${p}, ch),
                initializationValue
              );

              ${L}
            }
          }
        }
        setOutput(${O});
      }
    `}}function Aze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;ox(s,"avgPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,u=1;Y(si(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=Vo(s.shape,i,a,u,o,l);if(d.filterWidth===1&&d.filterHeight===1&&yn(d.inShape,d.outShape))return Na({inputs:{x:s},backend:n});const f=new pb(d,"avg",!1);return n.runWebGLProgram(f,[s],"float32")}const Oze={kernelName:kk,backendName:"webgl",kernelFunc:Aze};function Rze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dimRoundingMode:l,dataFormat:u}=r,d=[1,1,1],f=$c(s.shape,i,a,d,o,l,u),p=new aL(f,"avg",!1);return n.runWebGLProgram(p,[s],"float32")}const Dze={kernelName:Tk,backendName:"webgl",kernelFunc:Rze};class _ze{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.top,f=u-1-e.padInfo.left,p=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${d}, ${f});
      const float avgMultiplier = float(${p});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${o}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class Pze{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,f=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,y=f-1-e.padInfo.front,v=p-1-e.padInfo.top,b=m-1-e.padInfo.left,w=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${y}, ${v}, ${b});
      const float avgMultiplier = float(${w});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${p};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${m};
                wC += ${d}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function Mze(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:d}=r,f=[1,1,1],p=$c(a.shape,o,l,f,u,d),m=new Pze(p);return n.runWebGLProgram(m,[s],a.dtype)}const Lze={kernelName:i_,backendName:"webgl",kernelFunc:Mze};function Fze(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i;ox([s,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=r,d=Vo(a.shape,o,l,1,u),f=new _ze(d);return n.runWebGLProgram(f,[s],a.dtype)}const zze={kernelName:s_,backendName:"webgl",kernelFunc:Fze};function Bze(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:a,transposeB:o}=r;return JS({a:s,b:i,transposeA:a,transposeB:o,backend:n})}const jze={kernelName:Ek,backendName:"webgl",kernelFunc:Bze};class Uze{constructor(e,n,r,s,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],Xt(e,n),Xt(e,r);let o="0.0";s!=null&&(Xt(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="1.0";i!=null&&(Xt(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${o};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${a}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}class Vze{constructor(e,n,r,s,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Xt(e,n),Xt(e,r);let o="vec4(0.0)";s!=null&&(Xt(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(Xt(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${o};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${a}));

        setOutput((x - mean) * inv + offset);
      }
    `}}const Wze=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:s,variance:i,offset:a,scale:o}=t;Y(s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Y(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Y(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[r,s,i];let d=null;a!=null&&(d=a.shape,u.push(a));let f=null;o!=null&&(f=o.shape,u.push(o));const p=Oe().getBool("WEBGL_PACK_NORMALIZATION")?new Vze(r.shape,s.shape,i.shape,d,f,l):new Uze(r.shape,s.shape,i.shape,d,f,l);return e.runWebGLProgram(p,u,u[0].dtype)},Hze={kernelName:zk,backendName:"webgl",kernelFunc:Wze};class Gze{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Xn(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=qze(this.rank);let s;const i=e.map((a,o)=>`sourceLoc.${iR[o]} = start[${o}] + coords.${iR[o]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const iR=["x","y","z","w","u","v"];function qze(t){if(t===1)return"sourceLoc";if(t<=6)return iR.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}class Kze{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Xn(this.rank),r=Pi("coords",this.rank),s=Pi("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,a=`getChannel(getSource(${s.join()}), ${i})`,o=`
      result.x = ${a};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${a};
        --${s[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${a};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${a};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((d,f)=>`start[${f}]`).join()});`:e.map((d,f)=>`${s[f]} = ${r[f]} + start[${f}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${o}
        ${l}
        setOutput(result);
      }
    `}}function Xze(t,e,n,r){const s=r.texData.get(t.dataId),i=r.makeTensorInfo(n,t.dtype),a=r.texData.get(i.dataId);Object.assign(a,s),a.refCount=1,a.shape=n,a.dtype=t.dtype;let o=eM(e,At(t.shape));s.slice&&(o+=s.slice.flatOffset),a.slice={flatOffset:o,origDataId:s.slice&&s.slice.origDataId||t.dataId};const l=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,l+1),i}function Ug(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:a}=r,[o,l]=GT(s,i,a);if(ZP(s,o,l),Le(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const f=n.texData.get(s.dataId),p=jFe(f.values,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,p)}const{isPacked:u}=n.texData.get(s.dataId),d=JP(s.shape,o,l);if(u||!d){const f=Oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Kze(l):new Gze(l),p=[o];return n.runWebGLProgram(f,[s],s.dtype,p)}return n.uploadToGPU(s.dataId),Xze(s,o,l,n)}const Yze={kernelName:pT,backendName:"webgl",kernelFunc:Ug};const Zze=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:a}=r;Y(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((S,C)=>S*C),l=K0(s.shape,i,o),u=X0(l.length,i.length),d=Y0(s.shape,i,o),f=iM(a,i.length),p=aM(d,a,i.length),m=[],y=ft({inputs:{x:s},backend:n,attrs:{shape:l}}),v=zi({inputs:{x:y},backend:n,attrs:{perm:u}}),b=ft({inputs:{x:v},backend:n,attrs:{shape:d}}),w=Ug({inputs:{x:b},backend:n,attrs:{begin:f,size:p}});return m.push(y),m.push(v),m.push(b),m.forEach(S=>n.disposeIntermediateTensorInfo(S)),w},Qze={kernelName:Nk,backendName:"webgl",kernelFunc:Zze};function Jze(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a}=r,o=n.readSync(s.dataId),l=n.readSync(i.dataId),u=xQ(o,l,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}const eBe={kernelName:a_,backendName:"webgl",kernelFunc:Jze};const tBe=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,nBe=`
  return float(int(a.r) & int(b.r));
`;function rBe(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=Oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=Oe().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,s])||a===1){const l=n.texData.get(r.dataId).values,u=n.texData.get(s.dataId).values,[d,f]=dFe(r.shape,s.shape,l,u,r.dtype),p=n.makeTensorInfo(f,r.dtype),m=n.texData.get(p.dataId);return m.values=d,p}let o;return i?o=new Bg(tBe,r.shape,s.shape,!1):o=new qh(nBe,r.shape,s.shape),n.runWebGLProgram(o,[r,s],r.dtype)}const sBe={kernelName:$k,backendName:"webgl",kernelFunc:rBe};function iBe(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.readSync(r.dataId),a=n.readSync(s.dataId),o=Xt(Array.from(i),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const aBe={kernelName:o_,backendName:"webgl",kernelFunc:iBe};const oBe="return float(a != b);",_Q=oi({opSnippet:oBe,cpuKernelImpl:RFe,dtype:"bool"}),lBe={kernelName:nT,backendName:"webgl",kernelFunc:_Q};function ux(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return Na({inputs:{x:s.complexTensorInfos.real},backend:n})}const uBe={kernelName:B_,backendName:"webgl",kernelFunc:ux};const cBe="return float(int(x));";function dBe(t,e){const n=new eu(t.shape,cBe),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function aR(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return Na({inputs:{x:s},backend:n});const a=ws(s.shape),o=aR({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=pf({inputs:{real:o,imag:a},backend:n});return a.dispose(),n.disposeIntermediateTensorInfo(o),l}if(s.dtype==="complex64"){const a=ux({inputs:{input:s},backend:n}),o=aR({inputs:{x:a},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(a),o}if(!Y8(s.dtype,i)){const a=Na({inputs:{x:s},backend:n});return{dataId:a.dataId,shape:a.shape,dtype:i}}if(n.shouldExecuteOnCPU([s])){const a=n.texData.get(s.dataId).values,[o,l,u]=fFe(a,s.shape,s.dtype,i);return n.makeTensorInfo(o,l,u)}if(i==="int32")return dBe(s,n);if(i==="bool"){const a=n.makeTensorInfo([],"bool",ni("bool",1)),l=_Q({inputs:{a:s,b:a},backend:n});return n.disposeIntermediateTensorInfo(a),l}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${i}`)}const fBe={kernelName:Qb,backendName:"webgl",kernelFunc:aR};const BV="return ceil(x);",hBe=In({opSnippet:BV,packedOpSnippet:BV,cpuKernelImpl:hFe}),pBe={kernelName:Jb,backendName:"webgl",kernelFunc:hBe};class mBe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}class gBe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}function yBe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{clipValueMin:i,clipValueMax:a}=r;let o;Oe().getBool("WEBGL_PACK_CLIP")?o=new gBe(s.shape):o=new mBe(s.shape);const l=[[i],[a]];return n.runWebGLProgram(o,[s],s.dtype,l)}const vBe={kernelName:e0,backendName:"webgl",kernelFunc:yBe};class bBe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}function jV(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function xBe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=n.texData.get(r.dataId),i=new bBe(r.shape),a=[jV(r,s.complexTensorInfos.real),jV(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(i,a,a[0].dtype)}const wBe={kernelName:Ik,backendName:"webgl",kernelFunc:xBe};class SBe{constructor(e){this.outputShape=[],this.outputShape=lu(e,1),this.variableNames=e.map((a,o)=>`T${o}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let a=1;a<n.length;a++)n[a]=n[a-1]+e[a][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<n.length;a++){const o=n[a-1];r.push(`else if (yC < ${n[a]}) setOutput(getT${a}(yR, yC-${o}));`)}const s=n.length,i=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}class CBe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=lu(e,n);const r=this.outputShape,s=r.length,i=Xn(s),a=Pi("coords",s),o=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((v,b)=>`T${b}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let v=1;v<l.length;v++)l[v]=l[v-1]+e[v][n];const u=o[n],d=o.slice(-2),f=o.join();let p=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${f}), vec2(${d.join()}));
        }`;for(let v=1;v<l.length;v++){const b=l[v-1];p+=`
        if (${u} < ${l[v]}  && ${u} >= ${l[v-1]}) {
          return getChannel(
            getT${v}(${vw(o,u,b)}),
            vec2(${vw(d,u,b)}));
        }`}const m=l.length,y=l[l.length-1];p+=`
        return getChannel(
          getT${m}(${vw(o,u,y)}),
          vec2(${vw(d,u,y)}));`,this.userCode=`
      float getValue(${o.map(v=>"int "+v)}) {
        ${p}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${a}), 0., 0., 0.);

        ${a[s-1]} = ${a[s-1]} + 1;
        if (${a[s-1]} < ${r[s-1]}) {
          result.g = getValue(${a});
        }

        ${a[s-2]} = ${a[s-2]} + 1;
        if (${a[s-2]} < ${r[s-2]}) {
          result.a = getValue(${a});
        }

        ${a[s-1]} = ${a[s-1]} - 1;
        if (${a[s-2]} < ${r[s-2]} &&
            ${a[s-1]} < ${r[s-1]}) {
          result.b = getValue(${a});
        }
        setOutput(result);
      }
    `}}function vw(t,e,n){const r=t.indexOf(e);return t.map((i,a)=>a===r?`${i} - ${n}`:i).join()}function f2(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return Na({inputs:{x:s.complexTensorInfos.imag},backend:n})}const kBe={kernelName:E_,backendName:"webgl",kernelFunc:f2};function Pv(t,e,n){const r=t[0].dtype;if(r==="complex64"){const m=t.map(S=>ux({inputs:{input:S},backend:n})),y=t.map(S=>f2({inputs:{input:S},backend:n})),v=Pv(m,e,n),b=Pv(y,e,n),w=pf({inputs:{real:v,imag:b},backend:n});return m.forEach(S=>n.disposeIntermediateTensorInfo(S)),y.forEach(S=>n.disposeIntermediateTensorInfo(S)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),w}let s=n.shouldExecuteOnCPU(t);if(r==="string"&&(s=!0),s){const m=t.map(T=>{const O=[-1,Le(T.shape.slice(e))];return ft({inputs:{x:T},backend:n,attrs:{shape:O}})}),y=m.map(T=>({vals:n.readSync(T.dataId),shape:T.shape})),v=lu(m.map(T=>T.shape),1),b=m[0].shape[0]===1,w=pFe(y,v,r,b),S=lu(t.map(T=>T.shape),e),C=n.makeTensorInfo(S,r,w);return m.forEach(T=>n.disposeIntermediateTensorInfo(T)),C}const i=t.filter(m=>Le(m.shape)>0),a=Oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const m=a?new eu(t[0].shape,wd):new Nd(t[0].shape,wd);return n.runWebGLProgram(m,t,r)}const o=Oe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>o){const m=[];for(let v=0;v<i.length;v+=o){const b=i.slice(v,v+o);m.push(Pv(b,e,n))}const y=Pv(m,e,n);for(const v of m)n.disposeIntermediateTensorInfo(v);return y}if(a){const m=new CBe(i.map(y=>y.shape),e);return n.runWebGLProgram(m,i,r)}const{tensors2D:l,outShape:u}=TBe(i,e,n),d=new SBe(l.map(m=>m.shape)),f=n.runWebGLProgram(d,l,r);l.forEach(m=>n.disposeIntermediateTensorInfo(m));const p=ft({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),p}function TBe(t,e,n){const r=lu(t.map(i=>i.shape),e);return{tensors2D:t.map(i=>ft({inputs:{x:i},attrs:{shape:[-1,Le(i.shape.slice(e))]},backend:n})),outShape:r}}function PQ(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=un(s,e[0].shape)[0],a=e.map(u=>u.shape);nM(a,i);const o=lu(e.map(u=>u.shape),i);if(Le(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const l=e.filter(u=>Le(u.shape)>0);return l.length===1?Na({inputs:{x:l[0]},backend:n}):Pv(l,i,n)}const EBe={kernelName:Ak,backendName:"webgl",kernelFunc:PQ};class MQ{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,o=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,d=e.dilationHeight,f=e.dilationWidth,p=e.filterHeight,m=e.filterWidth,y=Math.floor(e.inChannels/4)*4,v=e.inChannels%4,b=e.dataFormat==="channelsLast",w=b?1:2,S=b?2:3,C=b?3:1;let T="",N="";r&&(s?T=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?T=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:T=`
          float activation(float x) {
            ${r}
          }
        `,N="result = activation(result);");const O=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${T}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${a}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${C}];

        ivec2 xRCCorner =
            ivec2(coords[${w}], coords[${S}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${p}; wR++) {
          int xR = xRCorner + wR * ${d};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${m}; wC++) {
            int xC = xCCorner + wC * ${f};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${y}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${b}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${v===1}) {

              if (${b}) {
                dotProd +=
                    getX(batch, xR, xC, ${y}) *
                    getW(wR, wC, ${y}, d2);
              } else {
                dotProd +=
                    getX(batch, ${y}, xR, xC) *
                    getW(wR, wC, ${y}, d2);
              }

            } else if (${v===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${y}, d2),
                getW(wR, wC, ${y} + 1, d2)
              );

              if (${b}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${y}),
                  getX(batch, xR, xC, ${y} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${y}, xR, xC),
                  getX(batch, ${y} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${v===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${y}, d2),
                getW(wR, wC, ${y} + 1, d2),
                getW(wR, wC, ${y} + 2, d2)
              );

              if (${b}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${y}),
                  getX(batch, xR, xC, ${y} + 1),
                  getX(batch, xR, xC, ${y} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${y}, xR, xC),
                  getX(batch, ${y} + 1, xR, xC),
                  getX(batch, ${y} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${O}
        ${N}
        setOutput(result);
      }
    `}}class NBe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,s=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,f=e.filterDepth,p=e.filterHeight,m=e.filterWidth,y=Math.floor(e.inChannels/4)*4,v=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${a}, ${o});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${f}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${m}; wC++) {
              int xC = xCCorner + wC * ${d};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${y}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${v===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${y}) *
                  getW(wF, wR, wC, ${y}, d2);
              } else if (${v===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${y}),
                  getX(batch, xF, xR, xC, ${y} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${y}, d2),
                  getW(wF, wR, wC, ${y} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${v===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${y}),
                  getX(batch, xF, xR, xC, ${y} + 1),
                  getX(batch, xF, xR, xC, ${y} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${y}, d2),
                  getW(wF, wR, wC, ${y} + 1, d2),
                  getW(wF, wR, wC, ${y} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class LQ{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Si(this.outputShape.length);const a=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,f=d;let p=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let b=0;b<d;b++)p+=`
           vec4 xTexelC${b*2};
           int xTexelC${b*2}Ready;
           vec4 xTexelC${b*2+1};
           int xTexelC${b*2+1}Ready;
           vec4 xC${b};`;p+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let b=0;b<d;b++)p+=`
           xTexelC${b*2} = vec4(0.0);
           xTexelC${b*2}Ready = 0;
           xTexelC${b*2+1} = vec4(0.0);
           xTexelC${b*2+1}Ready = 0;
           xC${b} = vec4(0.0);`;p+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let b=0;b<(f+1)/2;b++){const w=b*2;if(p+=`
           xC = xCCorner + ${w*l};
           `,o===1){if(w<d&&(a%2===1?(p+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }
               `,l===1&&w>0?p+=`
                 xC${w} = vec4(xTexelC${w-2}.zw, xTexelC${w}.xy);
                 `:p+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${w} = vec4(previous.zw, xTexelC${w}.xy);
                   } else {
                     xC${w} = vec4(0.0, 0.0, xTexelC${w}.xy);
                   }
                   `):p+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }

                 xC${w} = xTexelC${w};
                 `,w+1<d)){const S=a%2===0?JD(l):l;l%2===0&&a%2===1||l%2!==0&&a%2!==1?(p+=`
                   xCOffset = xC + imod(pads[1], 2) + ${S};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                     xTexelC${w+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${w+1}.zw = vec2(0.0);
                     }
                     xTexelC${w+1}Ready = 1;
                   }
                   `,l>1?p+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${w+1} = vec4(previous.zw, xTexelC${w+1}.xy);
                     } else {
                      xC${w+1} = vec4(0.0, 0.0, xTexelC${w+1}.xy);
                     }
                     `:p+=`
                     xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.xy);
                     `):S===1?p+=`
                     xC${w+1} = xTexelC${w};
                     `:p+=`
                     xCOffset = xC + ${S};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                       xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${w+1}.zw = vec2(0.0);
                       }
                       xTexelC${w+1}Ready = 1;
                     }

                     xC${w+1} = xTexelC${w+1};
                     `}}else w<d&&(a%2===1?(p+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${w+1}Ready == 0) {
                   xTexelC${w+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${w+1}.zw = vec2(0.0);
                   }
                   xTexelC${w+1}Ready = 1;
                 }

                 xC${w} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
               `,w+1<d&&(p+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${w+1} = vec4(xTexelC${w+1}.xy, final.xy);
                 `)):(p+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                   xTexelC${w} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${w}.zw = vec2(0.0);
                   }
                   xTexelC${w}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                   xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${w+1}.zw = vec2(0.);
                   }
                   xTexelC${w+1}Ready = 1;
                 }

                 xC${w} = vec4(
                   xTexelC${w}.xy, xTexelC${w+1}.xy);
               `,w+1<d&&(p+=`
                   xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
                 `)));w<d&&(p+=`
             wTexel = getW(r, ${w}, d1, d2);
             dotProd += xC${w}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${w}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,w+1<d&&(p+=`
               wTexel = getW(r, ${w+1}, d1, d2);
               dotProd += xC${w+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${w+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}p+=`
     }
   `,p+=`
     }
   `,p+=`
     }
   `;let m="",y="";r&&(s?m=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?m=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:m=`vec4 activation(vec4 x) {
           ${r}
         }`,y="result = activation(result);");const v=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${m}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${p}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${v}
         ${y}
         setOutput(result);
       }
     `}}class $Be{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Si(this.outputShape.length);const{dataFormat:r}=n,s=ji(),i=r==="channelsLast",a=i?1:2,o=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let u="";for(let d=0;d<=1;d++)for(let f=0;f<=1;f++)u+=`
          blockIndex = rc.z + ${f};
          pos = rc.y + ${d};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${a}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${o}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${d*2+f}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${d*2+f}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${s.output} = result;
      }
    `}}function eC(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function FQ({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:o=null}){const l=t.shape,u=r.texData.get(t.dataId),d=n.inChannels,f=l[0]*l[1]*l[2],p=n.outChannels,m=n.dataFormat==="channelsLast",y=!1,v=!1;let b;const w=[];if(i!=null){const T=eC(i.shape,m);T!=null&&(i=ft({inputs:{x:i},backend:r,attrs:{shape:T}}),w.push(i))}if(s!=null){const T=eC(s.shape,m);T!=null&&(s=ft({inputs:{x:s},backend:r,attrs:{shape:T}}),w.push(s))}if(!((f===1||p===1)&&d>AQ)&&u.isPacked&&m&&u.texture!=null&&l[2]%2!==0&&yn(u.shape.slice(-3),l.slice(-3))){const T=l[0]*l[1]*(l[2]+1),N={dataId:t.dataId,shape:[1,T,n.inChannels],dtype:t.dtype},O=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,Y(QS(u.shape,N.shape),()=>`packed reshape ${u.shape} to ${N.shape} isn't free`);const _=ft({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});w.push(_);const F=JS({a:N,b:_,backend:r,transposeA:y,transposeB:v,bias:s,activation:o,preluActivationWeights:i,leakyreluAlpha:a}),L=r.texData.get(F.dataId);Y(L.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=O,L.shape=n.outShape,b=Na({inputs:{x:F},backend:r}),b.shape=n.outShape,w.push(F)}else{const T=n.outHeight*n.outWidth,N=ft({inputs:{x:t},backend:r,attrs:{shape:m?[n.batchSize,T,n.inChannels]:[n.batchSize,n.inChannels,T]}}),O=ft({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),_=JS({a:m?N:O,b:m?O:N,transposeA:!m,transposeB:v,backend:r,bias:s,activation:o,preluActivationWeights:i,leakyreluAlpha:a});b=ft({inputs:{x:_},backend:r,attrs:{shape:n.outShape}}),w.push(N),w.push(O),w.push(_)}for(const T of w)r.disposeIntermediateTensorInfo(T);return b}function zQ({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:o=null}){const{filterWidth:l,filterHeight:u,inChannels:d,outWidth:f,outHeight:p,dataFormat:m}=n,y=m==="channelsLast",v=l*u*d,b=p*f,w=[n.batchSize,v,b],S=!0,C=!1,T=[];if(i!=null){const J=eC(i.shape,y);J!=null&&(i=ft({inputs:{x:i},backend:r,attrs:{shape:J}}),T.push(i))}if(s!=null){const J=eC(s.shape,y);J!=null&&(s=ft({inputs:{x:s},backend:r,attrs:{shape:J}}),T.push(s))}const N=ft({inputs:{x:e},backend:r,attrs:{shape:[1,v,Le(e.shape)/v]}});T.push(N);const O=new $Be(w,n),_=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],F=r.runWebGLProgram(O,[t],"float32",_),L=ft({inputs:{x:F},backend:r,attrs:{shape:w}});T.push(F),T.push(L);const z=s!=null,P=i!=null,R=o==="leakyrelu",H=o?hb(o,!0):null,q=new IQ(y?L.shape:N.shape,y?N.shape:L.shape,y?[n.batchSize,b,n.outChannels]:[n.batchSize,n.outChannels,b],S,C,z,H,P,R),X=y?[L,N]:[N,L];if(s&&X.push(s),P&&X.push(i),R){const J=r.makeTensorInfo([],"float32",rf(a,"float32"));X.push(J),T.push(J)}const V=r.runWebGLProgram(q,X,"float32"),ee=ft({inputs:{x:V},backend:r,attrs:{shape:n.outShape}});T.push(V);for(const J of T)r.disposeIntermediateTensorInfo(J);return ee}function IBe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dataFormat:l,dilations:u,dimRoundingMode:d}=r,f=Ic(l),p=Ls(s.shape,i.shape,a,u,o,d,!1,f);let m;if(p.filterHeight===1&&p.filterWidth===1&&p.dilationHeight===1&&p.dilationWidth===1&&p.strideHeight===1&&p.strideWidth===1&&(p.padInfo.type==="SAME"||p.padInfo.type==="VALID"))m=FQ({x:s,filter:i,convInfo:p,backend:n});else if(p.strideWidth<=2&&f==="channelsLast"&&Oe().getBool("WEBGL_EXP_CONV")){const v=new LQ(p),b=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];m=n.runWebGLProgram(v,[s,i],"float32",b)}else if(Oe().getBool("WEBGL_CONV_IM2COL"))m=zQ({x:s,filter:i,convInfo:p,backend:n});else{const v=new MQ(p);m=n.runWebGLProgram(v,[s,i],"float32")}const y=ft({inputs:{x:m},backend:n,attrs:{shape:p.outShape}});return n.disposeIntermediateTensorInfo(m),y}const ABe={kernelName:Ok,backendName:"webgl",kernelFunc:IBe};class OBe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${a?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class RBe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=e.dataFormat==="channelsLast",o=n-1-e.padInfo.top,l=r-1-e.padInfo.left,u=a?1:2,d=a?2:3,f=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${f}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${d}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${a}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class DBe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${a};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${o};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class _Be{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,l=n-1-e.padInfo.front,u=r-1-e.padInfo.top,d=s-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${d});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function PBe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:d}=r,f=Ic(l),p=Ls(s.shape,d,a,1,o,u,!1,f),m=new OBe(p);return n.runWebGLProgram(m,[s,i],"float32")}const MBe={kernelName:u_,backendName:"webgl",kernelFunc:PBe};class LBe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Si(this.outputShape.length);const n=e.filterHeight,r=e.filterWidth,s=n-1-e.padInfo.top,i=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}function FBe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:a,strides:o,pad:l,dataFormat:u,dimRoundingMode:d}=r,f=Ic(u),p=Ls(a,i.shape,o,1,l,d,!1,f);if(Oe().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&f==="channelsLast"){const m=[[p.strideHeight,p.strideWidth]],y=new LBe(p);return n.runWebGLProgram(y,[s,i],"float32",m)}else{const m=new RBe(p);return n.runWebGLProgram(m,[s,i],"float32")}}const zBe={kernelName:Rk,backendName:"webgl",kernelFunc:FBe};function BBe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l}=r,u=of(s.shape,i.shape,a,l,o),d=new NBe(u);return n.runWebGLProgram(d,[s,i],"float32")}const jBe={kernelName:Dk,backendName:"webgl",kernelFunc:BBe};function UBe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,pad:o,filterShape:l}=r,u=of(s.shape,l,a,1,o),d=new DBe(u);return n.runWebGLProgram(d,[s,i],"float32")}const VBe={kernelName:c_,backendName:"webgl",kernelFunc:UBe};function WBe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:a,strides:o,inputShape:l}=r,u=of(l,i.shape,o,1,a),d=new _Be(u);return n.runWebGLProgram(d,[s,i],"float32")}const HBe={kernelName:d_,backendName:"webgl",kernelFunc:WBe};const GBe=jg+`
  return cos(x);
`,qBe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${fp}
  return result;
`,KBe=In({opSnippet:GBe,packedOpSnippet:qBe}),XBe={kernelName:t0,backendName:"webgl",kernelFunc:KBe};const YBe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,ZBe=In({opSnippet:YBe}),QBe={kernelName:n0,backendName:"webgl",kernelFunc:ZBe};class JBe{constructor(e,n,r,s,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,o,l,u]=e,[d]=n,[f,p]=r;this.outputShape=[d,f,p,u];const m=s==="bilinear"?1:0,[y,v]=[`${o-1}.0`,`${l-1}.0`],[b,w,S]=f>1?[`${(o-1)/(f-1)}`,"(y2-y1) * height_ratio",`y1*${y} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${y}`],[C,T,N]=p>1?[`${(l-1)/(p-1)}`,"(x2-x1) * width_ratio",`x1*${v} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${v}`];this.userCode=`
      const float height_ratio = float(${b});
      const float width_ratio = float(${C});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${a}) {
          return;
        }

        float height_scale = ${w};
        float width_scale = ${T};

        float in_y = ${S};
        if( in_y < 0.0 || in_y > ${y} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${N};
        if( in_x < 0.0 || in_x > ${v} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${m} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}const eje=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:a}=e,{cropSize:o,method:l,extrapolationValue:u}=r,d=new JBe(s.shape,i.shape,o,l,u);return n.runWebGLProgram(d,[s,i,a],"float32")},tje={kernelName:h_,backendName:"webgl",kernelFunc:eje};var mb;(function(t){t.Prod="*",t.Sum="+"})(mb||(mb={}));class UV{constructor(e,n,r,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,a=this.op===mb.Prod?"1.0":"0.0",o=r?a:`getX(${VV(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",d="";r?(u=s?`end != ${l-1}`:"end != 0",d=s?"end + 1":"end - 1"):(u=s?`end + pow2 < ${l}`:"end >= pow2",d=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Xn(i)} coords = getOutputCoords();
        int end = ${WV(i,"coords",this.op)};
        float val = ${o};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${d};
          ${WV(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${VV(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function VV(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function WV(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function BQ(t,e,n,r,s,i){const a=e.shape.length,o=Dr([r],a);let l=e;o!=null&&(l=zi({inputs:{x:e},backend:n,attrs:{perm:o}}));const u=Yr(1,a)[0];if(u!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const d=l.shape[u];let f=Na({inputs:{x:l},backend:n});for(let p=0;p<=Math.ceil(Math.log2(d))-1;p++){const m=new UV(t,l.shape,!1,i),y=[[p]],v=f;f=n.runWebGLProgram(m,[f],f.dtype,y),n.disposeIntermediateTensorInfo(v)}if(s){const p=new UV(t,l.shape,s,i),m=f;f=n.runWebGLProgram(p,[f],f.dtype),n.disposeIntermediateTensorInfo(m)}if(o!=null){const p=lf(o),m=zi({inputs:{x:f},backend:n,attrs:{perm:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),m}return f}function nje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;return BQ(mb.Prod,s,n,i,a,o)}const rje={kernelName:f_,backendName:"webgl",kernelFunc:nje};function sje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:a,reverse:o}=r;return BQ(mb.Sum,s,n,i,a,o)}const ije={kernelName:_k,backendName:"webgl",kernelFunc:sje};function aje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:a,binaryOutput:o}=r;if(s.shape.length===1){const l=n.readSync(s.dataId),u=n.readSync(i.dataId),d=xQ(l,u,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,d)}else if(s.shape.length===2){const l=n.bufferSync(s),u=n.bufferSync(i),d=cFe(l,u,a,o);return n.makeTensorInfo(d.shape,i.dtype,d.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const oje={kernelName:p_,backendName:"webgl",kernelFunc:aje};class lje{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}function uje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:a}=r,o=s.shape[0],l=a==="NHWC"?s.shape[1]:s.shape[2],u=a==="NHWC"?s.shape[2]:s.shape[3],d=a==="NHWC"?s.shape[3]:s.shape[1],f=l*i,p=u*i,m=d/(i*i),y=a==="NHWC"?[o,f,p,m]:[o,m,f,p],v=new lje(y,i,a);return n.runWebGLProgram(v,[s],s.dtype)}const cje={kernelName:m_,backendName:"webgl",kernelFunc:uje};class jQ{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Si(this.outputShape.length);const a=e.filterHeight,o=e.filterWidth,l=e.outChannels/e.inChannels;let u="",d="";r&&(s?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,d="result = activation(result);");const f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${a}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${o}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${f}
        ${d}
        setOutput(result);
      }
    `}}class UQ{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Si(this.outputShape.length);const a=e.outChannels/e.inChannels,o=e.padInfo.left,l=e.strideWidth,u=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,p=f;let m=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let w=0;w<f;w++)m+=`
          vec4 xTexelC${w*2};
          int xTexelC${w*2}Ready;
          vec4 xTexelC${w*2+1};
          int xTexelC${w*2+1}Ready;
          vec4 xC${w};`;m+=`
    for (int r = 0; r < ${d}; r++) {
      `;for(let w=0;w<f;w++)m+=`
          xTexelC${w*2} = vec4(0.0);
          xTexelC${w*2}Ready = 0;
          xTexelC${w*2+1} = vec4(0.0);
          xTexelC${w*2+1}Ready = 0;
          xC${w} = vec4(0.0);`;m+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let w=0;w<(p+1)/2;w++){const S=w*2;if(m+=`
          xC = xCCorner + ${S*u};
          `,l===1){if(S<f&&(o%2===1?(m+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${S}Ready == 0) {
                  xTexelC${S} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${S}.zw = vec2(0.0);
                  }
                  xTexelC${S}Ready = 1;
                }
              `,u===1&&S>0?m+=`
                xC${S} = vec4(xTexelC${S-2}.zw, xTexelC${S}.xy);
                `:m+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${S} = vec4(previous.zw, xTexelC${S}.xy);
                  } else {
                    xC${S} = vec4(0.0, 0.0, xTexelC${S}.xy);
                  }
                  `):m+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${S}Ready == 0) {
                  xTexelC${S} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${S}.zw = vec2(0.0);
                  }
                  xTexelC${S}Ready = 1;
                }

                xC${S} = xTexelC${S};
                `,S+1<f)){const C=o%2===0?JD(u):u;u%2===0&&o%2===1||u%2!==0&&o%2!==1?(m+=`
                  xCOffset = xC + imod(pads[1], 2) + ${C};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${S+1}Ready == 0) {
                    xTexelC${S+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${S+1}.zw = vec2(0.0);
                    }
                    xTexelC${S+1}Ready = 1;
                  }
                  `,u>1?m+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${S+1} = vec4(previous.zw, xTexelC${S+1}.xy);
                    } else {
                     xC${S+1} = vec4(0.0, 0.0, xTexelC${S+1}.xy);
                    }
                    `:m+=`
                    xC${S+1} = vec4(xTexelC${S}.zw, xTexelC${S+1}.xy);
                    `):C===1?m+=`
                    xC${S+1} = xTexelC${S};
                    `:m+=`
                    xCOffset = xC + ${C};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${S+1}Ready == 0) {
                      xTexelC${S+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${S+1}.zw = vec2(0.0);
                      }
                      xTexelC${S+1}Ready = 1;
                    }

                    xC${S+1} = xTexelC${S+1};
                    `}}else S<f&&(o%2===1?(m+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${S}Ready == 0) {
                  xTexelC${S} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${S}.zw = vec2(0.0);
                  }
                  xTexelC${S}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${S+1}Ready == 0) {
                  xTexelC${S+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${S+1}.zw = vec2(0.0);
                  }
                  xTexelC${S+1}Ready = 1;
                }

                xC${S} = vec4(xTexelC${S}.zw, xTexelC${S+1}.zw);
              `,S+1<f&&(m+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${S+1} = vec4(xTexelC${S+1}.xy, final.xy);
                `)):(m+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${S}Ready == 0) {
                  xTexelC${S} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${S}.zw = vec2(0.0);
                  }
                  xTexelC${S}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${S+1}Ready == 0) {
                  xTexelC${S+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${S+1}.zw = vec2(0.);
                  }
                  xTexelC${S+1}Ready = 1;
                }

                xC${S} = vec4(
                  xTexelC${S}.xy, xTexelC${S+1}.xy);
              `,S+1<f&&(m+=`
                  xC${S+1} = vec4(xTexelC${S}.zw, xTexelC${S+1}.zw);
                `)));S<f&&(m+=`
            wTexel = getW(r, ${S}, d1, q);
            dotProd += xC${S} * vec4(wTexel.xz, wTexel.xz);
          `,S+1<f&&(m+=`
              wTexel = getW(r, ${S+1}, d1, q);
              dotProd += xC${S+1} * vec4(wTexel.xz, wTexel.xz);
            `))}m+=`
    }
  `,m+=`
      }
    `;let y="",v="";r&&(s?y=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?y=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:y=`vec4 activation(vec4 x) {
          ${r}
        }`,v="result = activation(result);");const b=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${y}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${a};
        int q = d2 - d1 * ${a};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${m}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${b}
        ${v}
        setOutput(result);
      }
    `}}function dje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l,dimRoundingMode:u}=r;let d=l;d==null&&(d=[1,1]),Y(si(a,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${d}'`);const f=Ls(s.shape,i.shape,a,d,o,u,!0);let p;Oe().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?p=new UQ(f):p=new jQ(f);const m=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(p,[s,i],"float32",m)}const fje={kernelName:Pk,backendName:"webgl",kernelFunc:dje};class hje{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${a} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class pje{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,a=n-1-e.padInfo.top,o=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function mje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:u,filterShape:d}=r,f=Ls(s.shape,d,a,o,l,u,!0),p=new hje(f);return n.runWebGLProgram(p,[s,i],"float32")}const gje={kernelName:g_,backendName:"webgl",kernelFunc:mje};function yje(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:a,dilations:o,pad:l,dimRoundingMode:u,inputShape:d}=r,f=Ls(d,i.shape,a,o,l,u,!0),p=new pje(f);return n.runWebGLProgram(p,[s,i],"float32")}const vje={kernelName:y_,backendName:"webgl",kernelFunc:yje};class bje{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}function xje(t){const{inputs:e,backend:n}=t,{x:r}=e,s=[...r.shape,...r.shape],i=Le(r.shape),a=ft({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new bje(i),l=n.runWebGLProgram(o,[a],a.dtype),u=ft({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}const wje={kernelName:v_,backendName:"webgl",kernelFunc:xje};class Sje{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:i,strideWidth:a,filterHeight:o,filterWidth:l,dilationHeight:u,dilationWidth:d}=e,{top:f,left:p}=s;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${a});
      const ivec2 pads = ivec2(${f}, ${p});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${o}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${d};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}function Cje(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:a,pad:o,dilations:l}=r,u=j0(s.shape,i.shape,a,o,"NHWC",l);let d;const f=new Sje(u);d=n.runWebGLProgram(f,[s,i],"float32");const p=ft({inputs:{x:d},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(d),p}const kje={kernelName:Mk,backendName:"webgl",kernelFunc:Cje};function Tje(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:a,summedDims:o,idDims:l}=pM(s,i.length);gM(a.length,l,i);const{path:u,steps:d}=yM(o,l),f=d.length;let p=null,m=a.length;const y=[];for(let v=0;v<f;++v){for(const b of d[v]){const{permutationIndices:w,expandDims:S}=mM(m,l[b]);let C;vM(w)?C=i[b]:(C=zi({inputs:{x:i[b]},backend:n,attrs:{perm:w}}),y.push(C));const T=C.shape.slice();for(let N=0;N<S.length;++N)T.splice(S[N],0,1);yn(C.shape,T)||(C=ft({inputs:{x:C},backend:n,attrs:{shape:T}}),y.push(C)),p===null?p=C:(p=iL({inputs:{a:C,b:p},backend:n}),y.push(p))}v<f-1&&(u[v]>=0&&(p=d2({inputs:{x:p},backend:n,attrs:{axis:u[v]-(a.length-m),keepDims:!1}}),y.push(p)),m--)}for(const v of y)v!==p&&n.disposeIntermediateTensorInfo(v);return p}const Eje={kernelName:b_,backendName:"webgl",kernelFunc:Tje};const Nje="return (x >= 0.0) ? x : (exp(x) - 1.0);",$je=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Ije=In({opSnippet:Nje,packedOpSnippet:$je}),Aje={kernelName:s0,backendName:"webgl",kernelFunc:Ije};const Oje="return (b >= 0.0) ? a : a * (b + 1.0);",Rje=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,Dje=t=>{const{inputs:e,backend:n}=t,{dy:r,y:s}=e,i=Oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bg(Rje,r.shape,s.shape):new qh(Oje,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],r.dtype)},_je={kernelName:x_,backendName:"webgl",kernelFunc:Dje};const Pje=`
  return vec4(equal(a, b));
`,Mje="return float(a == b);",Lje=oi({opSnippet:Mje,packedOpSnippet:Pje,dtype:"bool",cpuKernelImpl:mFe}),Fje={kernelName:Lk,backendName:"webgl",kernelFunc:Lje};const zje=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${oM};
  float a1 = ${lM};
  float a2 = ${uM};
  float a3 = ${cM};
  float a4 = ${dM};
  float a5 = ${fM};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,Bje=In({opSnippet:zje}),jje={kernelName:i0,backendName:"webgl",kernelFunc:Bje};const Uje=jg+`
  return exp(x);
`,Vje=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,VQ=In({opSnippet:Uje,packedOpSnippet:Vje,cpuKernelImpl:gFe,dtype:"float32"}),Wje={kernelName:a0,backendName:"webgl",kernelFunc:VQ};function oR(t){const{inputs:e,attrs:n,backend:r}=t,{dim:s}=n,{input:i}=e,a=i.shape.length,o=i.shape.slice();let l=s;return s<0&&(Y(-(a+1)<=s,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+s+1),o.splice(l,0,1),ft({inputs:{x:i},backend:r,attrs:{shape:o}})}const Hje={kernelName:Fk,backendName:"webgl",kernelFunc:oR};const HV="return exp(x) - 1.0;",Gje=In({opSnippet:HV,packedOpSnippet:HV,cpuKernelImpl:yFe}),qje={kernelName:o0,backendName:"webgl",kernelFunc:Gje};class GV{constructor(e,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=r?`${s}.0`:"1.0";let o;if(e==="real")o="return real * expR - imag * expI;";else if(e==="imag")o="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${o}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${a};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}function WQ(t,e,n){const r=n.texData.get(t.dataId),s=Le(t.shape),i=t.shape[t.shape.length-1],a=s/i,o=ft({inputs:{x:t},backend:n,attrs:{shape:[a,i]}}),l=o.shape,u=new GV("real",l,e),d=new GV("imag",l,e),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],p=n.runWebGLProgram(u,f,"float32"),m=n.runWebGLProgram(d,f,"float32"),y=pf({inputs:{real:p,imag:m},backend:n});n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m);const v=ft({inputs:{x:y},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(y),v}function Kje(t){const{inputs:e,backend:n}=t,{input:r}=e;return WQ(r,!1,n)}const Xje={kernelName:w_,backendName:"webgl",kernelFunc:Kje};class Yje{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}function cx(t){const{backend:e,attrs:n}=t,{shape:r,value:s}=n;let{dtype:i}=n;if(i=i||Eg(s),i==="string"){const a=Kr(i,Le(r));return a.fill(s),e.makeTensorInfo(r,i,a)}else{const a=new Yje(r,s),o=[[s]];return e.runWebGLProgram(a,[],i,o)}}const Zje={kernelName:S_,backendName:"webgl",kernelFunc:cx};class Qje{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const Jje={kernelName:C_,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,s=new Qje(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};const qV="return floor(x);",e4e=In({opSnippet:qV,packedOpSnippet:qV,cpuKernelImpl:vFe}),t4e={kernelName:l0,backendName:"webgl",kernelFunc:e4e};const n4e=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,r4e=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,s4e=oi({opSnippet:n4e,packedOpSnippet:r4e,dtype:"int32"}),i4e={kernelName:u0,backendName:"webgl",kernelFunc:s4e};class a4e{constructor(e){this.variableNames=["A"];const n=ji(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}class o4e{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ji(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}const l4e={kernelName:yO,backendName:"webgl",kernelFunc:u4e};let gm,G$=Oe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function u4e(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:s}=e;const{numChannels:i}=r,a=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[l,u]=a?[s.videoWidth,s.videoHeight]:[s.width,s.height],d=[u,l],f=[u,l,i];if(o||a){const v=Oe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(gm==null||v!==G$)&&(G$=v,gm=document.createElement("canvas").getContext("2d",{willReadFrequently:G$})),gm.canvas.width=l,gm.canvas.height=u,gm.drawImage(s,0,0,l,u),s=gm.canvas}const p=n.makeTensorInfo(d,"int32");n.texData.get(p.dataId).usage=Ga.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),s);const m=Oe().getBool("WEBGL_PACK")?new o4e(f):new a4e(f),y=n.runWebGLProgram(m,[p],"int32");return n.disposeData(p.dataId),y}function c4e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:u,dataFormat:d,dilations:f,dimRoundingMode:p,activation:m,leakyreluAlpha:y}=r,v=Ic(d),b=Ls(s.shape,i.shape,l,f,u,p,!1,v);let w;const S=[],C=a!=null,T=o!=null,N=m==="leakyrelu",O=()=>{const F=[s,i],L=(z,P)=>{if(P==="NCHW"&&z.shape.length===1&&z.shape[0]!==1){const R=ft({inputs:{x:z},backend:n,attrs:{shape:[z.shape[0],1,1]}});return S.push(R),R}return z};if(C&&F.push(L(a,d)),T&&F.push(L(o,d)),N){const z=n.makeTensorInfo([],"float32",rf(y,"float32"));F.push(z),S.push(z)}return F};if(b.filterHeight===1&&b.filterWidth===1&&b.dilationHeight===1&&b.dilationWidth===1&&b.strideHeight===1&&b.strideWidth===1&&(b.padInfo.type==="SAME"||b.padInfo.type==="VALID"))w=FQ({x:s,filter:i,convInfo:b,backend:n,bias:a,activation:m,preluActivationWeights:o,leakyreluAlpha:y});else if(b.strideWidth<=2&&v==="channelsLast"&&Oe().getBool("WEBGL_EXP_CONV")){const F=m?hb(m,!0):null,L=new LQ(b,C,F,T,N),z=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],P=O();w=n.runWebGLProgram(L,P,"float32",z)}else if(Oe().getBool("WEBGL_CONV_IM2COL"))w=zQ({x:s,filter:i,convInfo:b,backend:n,bias:a,activation:m,preluActivationWeights:o,leakyreluAlpha:y});else{const F=m?hb(m,!1):null,L=new MQ(b,C,F,T,N),z=O();w=n.runWebGLProgram(L,z,"float32")}const _=ft({inputs:{x:w},backend:n,attrs:{shape:b.outShape}});return S.push(w),S.forEach(F=>n.disposeIntermediateTensorInfo(F)),_}const d4e={kernelName:$S,backendName:"webgl",kernelFunc:c4e};function f4e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:a,preluActivationWeights:o}=e,{strides:l,pad:u,dilations:d,dimRoundingMode:f,activation:p,leakyreluAlpha:m}=r,y=[];let v=d;v==null&&(v=[1,1]),Y(si(l,v),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${v}'`);const b=Ls(s.shape,i.shape,l,v,u,f,!0),w=Oe().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels===1,S=p?hb(p,w):null,C=[s,i],T=a!=null,N=o!=null,O=p==="leakyrelu";if(T&&C.push(a),N&&C.push(o),O){const z=n.makeTensorInfo([],"float32",rf(m,"float32"));C.push(z),y.push(z)}let _;w?_=new UQ(b,T,S,N,O):_=new jQ(b,T,S,N,O);const F=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],L=n.runWebGLProgram(_,C,"float32",F);return y.forEach(z=>n.disposeIntermediateTensorInfo(z)),L}const h4e={kernelName:IS,backendName:"webgl",kernelFunc:f4e};class p4e{constructor(e,n,r,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const i=Xn(r.length);let a=`
    int index;`;for(let o=0;o<this.sliceDim;o++)a+=`
          index = round(getIndices(coords[0], ${o}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[o]};
          flattenIndex += index * ${this.strides[o]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${a}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}function m4e(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=s.shape,a=i[i.length-1],o=Le(r.shape),[l,u,d,f]=YP(r,s),p=ft({inputs:{x:s},backend:n,attrs:{shape:[u,a]}}),m=ft({inputs:{x:r},backend:n,attrs:{shape:[Le(r.shape)/d,d]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const w=n.readSync(s.dataId),S=n.bufferSync(r),C=bFe(w,S,r.dtype,u,a,d,f,r.shape,o);return n.makeTensorInfo(l,r.dtype,C.values)}const y=new p4e(a,f,[u,d],r.shape),v=n.runWebGLProgram(y,[m,p],m.dtype),b=ft({inputs:{x:v},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),b}const g4e={kernelName:k_,backendName:"webgl",kernelFunc:m4e};class y4e{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Xn(this.rank),s=v4e(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function v4e(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<t.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}function HQ(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:a,batchDims:o}=r,l=un(a,s.shape)[0];if(Oe().get("DEBUG")){const S=n.readSync(i.dataId),C=s.shape[l];for(let T=0;T<S.length;++T){const N=S[T];Y(N<=C-1&&N>=0,()=>`GatherV2: the index value ${N} is not in [0, ${C-1}]`)}}const u=xM(s,i,l,o),d=Le(i.shape),f=[],p=ft({inputs:{x:s},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),m=ft({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,d/u.batchSize]}});f.push(p),f.push(m);const y=[u.batchSize,u.outerSize,d/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([s,i])||s.dtype==="string"){const S=n.bufferSync(m),C=n.bufferSync(p),T=xFe(C,S,y);return f.forEach(N=>n.disposeIntermediateTensorInfo(N)),n.makeTensorInfo(u.outputShape,T.dtype,T.values)}const v=new y4e(p.shape,y),b=n.runWebGLProgram(v,[p,m],p.dtype);f.push(b);const w=ft({inputs:{x:b},backend:n,attrs:{shape:u.outputShape}});return f.forEach(S=>n.disposeIntermediateTensorInfo(S)),w}const b4e={kernelName:Bk,backendName:"webgl",kernelFunc:HQ};const x4e="return float(a > b);",w4e=`
  return vec4(greaterThan(a, b));
`,S4e=oi({opSnippet:x4e,packedOpSnippet:w4e,cpuKernelImpl:wFe,dtype:"bool"}),C4e={kernelName:jk,backendName:"webgl",kernelFunc:S4e};const k4e="return float(a >= b);",T4e=`
  return vec4(greaterThanEqual(a, b));
`,E4e=oi({opSnippet:k4e,packedOpSnippet:T4e,dtype:"bool",cpuKernelImpl:SFe}),N4e={kernelName:c0,backendName:"webgl",kernelFunc:E4e};function $4e(t){const{inputs:e,backend:n}=t,{input:r}=e;return WQ(r,!0,n)}const I4e={kernelName:T_,backendName:"webgl",kernelFunc:$4e};const A4e="return float(!isnan(x) && !isinf(x));",O4e=In({opSnippet:A4e,dtype:"bool"}),R4e={kernelName:f0,backendName:"webgl",kernelFunc:O4e};const D4e="return float(isinf(x));",_4e=In({opSnippet:D4e,dtype:"bool"}),P4e={kernelName:h0,backendName:"webgl",kernelFunc:_4e};const M4e="return float(isnan(x));",L4e=In({opSnippet:M4e,dtype:"bool"}),F4e={kernelName:p0,backendName:"webgl",kernelFunc:L4e};const z4e="return float(a < b);",B4e=`
  return vec4(lessThan(a, b));
`,j4e=oi({opSnippet:z4e,packedOpSnippet:B4e,cpuKernelImpl:CFe,dtype:"bool"}),U4e={kernelName:Vk,backendName:"webgl",kernelFunc:j4e};const V4e="return float(a <= b);",W4e=`
  return vec4(lessThanEqual(a, b));
`,H4e=oi({opSnippet:V4e,packedOpSnippet:W4e,cpuKernelImpl:kFe,dtype:"bool"}),G4e={kernelName:Wk,backendName:"webgl",kernelFunc:H4e};function q4e(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,a=TFe(r,s,i);return e.makeTensorInfo([a.length],"float32",a)}const K4e={kernelName:N_,backendName:"webgl",kernelFunc:q4e};const X4e=jg+`
  return x < 0.0 ? 0./0. : log(x);
`,Y4e=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,Z4e=In({opSnippet:X4e,packedOpSnippet:Y4e,cpuKernelImpl:EFe}),Q4e={kernelName:m0,backendName:"webgl",kernelFunc:Z4e};const J4e=jg+`
  return log(1.0 + x);
`,eUe=In({opSnippet:J4e}),tUe={kernelName:g0,backendName:"webgl",kernelFunc:eUe};const nUe="return float(a >= 1.0 && b >= 1.0);",rUe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,sUe=oi({opSnippet:nUe,packedOpSnippet:rUe,dtype:"bool"}),iUe={kernelName:Hk,backendName:"webgl",kernelFunc:sUe};const aUe="return float(!(x >= 1.0));",oUe=In({opSnippet:aUe}),lUe={kernelName:Gk,backendName:"webgl",kernelFunc:oUe};const uUe="return float(a >= 1.0 || b >= 1.0);",cUe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,dUe=oi({opSnippet:uUe,packedOpSnippet:cUe,dtype:"bool"}),fUe={kernelName:qk,backendName:"webgl",kernelFunc:dUe};class hUe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[];const a=n,o=e[3]-1;this.outputShape=e;let l;const u=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${a}; j <= ${a}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${o}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}class pUe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=n,o=e[3]-1;this.outputShape=e;let l;const u=`float(${r}) + float(${s}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${a};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${a}; j <= ${a}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}const mUe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:a,alpha:o,beta:l}=r,u=Oe().getBool("WEBGL_PACK_NORMALIZATION")?new pUe(s.shape,i,a,o,l):new hUe(s.shape,i,a,o,l);return n.runWebGLProgram(u,[s],s.dtype)},gUe={kernelName:Kk,backendName:"webgl",kernelFunc:mUe};class yUe{constructor(e,n,r,s,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}const vUe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:a}=e,{depthRadius:o,bias:l,alpha:u,beta:d}=r,f=new yUe(s.shape,o,l,u,d);return n.runWebGLProgram(f,[s,i,a],s.dtype)},bUe={kernelName:$_,backendName:"webgl",kernelFunc:vUe};function xUe(t,e,n,r){const s=Le(e),a=Le(t.shape)/s,o=ft({inputs:{x:t},attrs:{shape:[a,s]},backend:r}),l=hp(o,t.dtype,"max",r),u=ft({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(l),u}function GQ(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:a}=r,o=s.shape.length,l=un(i,s.shape);let u=l;const d=Dr(u,o),f=d!=null,p=n.shouldExecuteOnCPU([s]);let m=s;if(f){if(p){const C=n.texData.get(m.dataId).values,T=new Array(o);for(let _=0;_<T.length;_++)T[_]=s.shape[d[_]];const N=rL(C,s.shape,s.dtype,d,T);m=n.makeTensorInfo(T,s.dtype);const O=n.texData.get(m.dataId);O.values=N}else m=c2(s,d,n);u=Yr(u.length,o)}ii("max",u,o);const[y,v]=Fs(m.shape,u);let b=y;a&&(b=Xr(y,l));let w;if(p){const C=n.texData.get(m.dataId).values,T=NFe(C,Le(v),b,s.dtype);w=n.makeTensorInfo(b,s.dtype);const N=n.texData.get(w.dataId);N.values=T}else w=xUe(m,v,b,n);return f&&n.disposeIntermediateTensorInfo(m),w}const wUe={kernelName:Xk,backendName:"webgl",kernelFunc:GQ};const SUe=sL+`
  return max(a, b);
`,CUe=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+fp+`
  return result;
`,kUe=oi({opSnippet:SUe,packedOpSnippet:CUe,cpuKernelImpl:$Fe}),TUe={kernelName:y0,backendName:"webgl",kernelFunc:kUe};function EUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;ox(s,"maxPool");const{filterSize:i,strides:a,pad:o,dimRoundingMode:l}=r,u=1;Y(si(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const d=Vo(s.shape,i,a,u,o,l);if(d.filterWidth===1&&d.filterHeight===1&&yn(d.inShape,d.outShape))return Na({inputs:{x:s},backend:n});const f=new pb(d,"max",!1);return n.runWebGLProgram(f,[s],s.dtype)}const NUe={kernelName:Yk,backendName:"webgl",kernelFunc:EUe};function $Ue(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:a,pad:o,dataFormat:l,dimRoundingMode:u}=r,d=[1,1,1],f=$c(s.shape,i,a,d,o,u,l),p=new aL(f,"max",!1);return n.runWebGLProgram(p,[s],s.dtype)}const IUe={kernelName:Zk,backendName:"webgl",kernelFunc:$Ue};class AUe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,l=a-1-e.padInfo.left,u=i*a-1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${a} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class OUe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=l-1-e.padInfo.front,p=u-1-e.padInfo.top,m=d-1-e.padInfo.left,y=l*u*d-1;this.userCode=`
      const ivec3 pads = ivec3(${f}, ${p}, ${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${a}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${d};
                wC += ${o}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${y} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${d} +
                  wR * ${d} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function RUe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,a=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:d}=r,f=[1,1,1],p=$c(a.shape,o,l,f,u,d),m=new aL(p,"max",!0),y=n.runWebGLProgram(m,[a],a.dtype),v=new OUe(p),b=n.runWebGLProgram(v,[s,y],a.dtype);return n.disposeIntermediateTensorInfo(y),b}const DUe={kernelName:A_,backendName:"webgl",kernelFunc:RUe};function _Ue(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:a}=e,o=i;ox([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:d,dimRoundingMode:f}=r,p=Vo(o.shape,l,u,1,d,f),m=!0,y=new pb(p,"max",m),v=n.runWebGLProgram(y,[o],o.dtype),b=new AUe(p),w=n.runWebGLProgram(b,[s,v],o.dtype);return n.disposeIntermediateTensorInfo(v),w}const PUe={kernelName:I_,backendName:"webgl",kernelFunc:_Ue};function MUe(t,e,n,r){let s=new pb(n,"max",!1);const i=r.runWebGLProgram(s,[t],"float32");s=new pb(n,"max",!0,!0,e);const a=r.runWebGLProgram(s,[t],"float32");return[i,a]}const LUe={kernelName:O_,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:a,includeBatchInIndex:o}=e,l=n;Y(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];Y(si(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const d=Vo(r.shape,s,i,u,a),[f,p]=MUe(r,o,d,l);return[f,p]}};function FUe(t,e,n,r){const s=Le(e),a=Le(t.shape)/s,o=ft({inputs:{x:t},attrs:{shape:[a,s]},backend:r}),l=hp(o,"float32","mean",r),u=ft({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(l),u}const zUe={kernelName:Qk,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:s,axis:i}=e,a=n,o=r.shape.length,l=un(i,r.shape);let u=l;const d=Dr(u,o),f=d!=null,p=a.shouldExecuteOnCPU([r]),m=[];let y=r;if(f){if(p){const T=a.texData.get(y.dataId).values,N=new Array(o);for(let F=0;F<N.length;F++)N[F]=r.shape[d[F]];const O=rL(T,r.shape,r.dtype,d,N);y=a.makeTensorInfo(N,r.dtype);const _=a.texData.get(y.dataId);_.values=O}else y=c2(r,d,a);m.push(y),u=Yr(u.length,o)}ii("sum",u,o);const[v,b]=Fs(y.shape,u);let w=v;s&&(w=Xr(v,l));const S=FUe(y,b,w,a);for(const C of m)a.disposeIntermediateTensorInfo(C);return S}};function BUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=un(i,s.shape);let u=l;const d=Dr(u,o);let f=s;d!=null&&(f=zi({inputs:{x:s},backend:n,attrs:{perm:d}}),u=Yr(u.length,s.shape.length)),ii("min",u,o);const[p,m]=Fs(f.shape,u),y=Le(m),v=ft({inputs:{x:f},backend:n,attrs:{shape:[-1,y]}}),b=hp(v,v.dtype,"min",n);let w;if(a){const S=Xr(p,l);w=ft({inputs:{x:b},backend:n,attrs:{shape:S}})}else w=ft({inputs:{x:b},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),d!=null&&n.disposeIntermediateTensorInfo(f),w}const jUe={kernelName:Jk,backendName:"webgl",kernelFunc:BUe};const UUe=sL+`
  return min(a, b);
`,VUe=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+fp+`
  return result;
`,WUe=oi({opSnippet:UUe,packedOpSnippet:VUe,cpuKernelImpl:IFe}),HUe={kernelName:v0,backendName:"webgl",kernelFunc:WUe};class GUe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((d,f)=>d[0]+e[f]+d[1]);const s=e.length,i=Xn(s),a=n.map(d=>d[0]).join(","),o=n.map((d,f)=>d[0]+e[f]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),u=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${a};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}class qUe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((y,v)=>y[0]+e[v]+y[1]);const s=e.length,i=Xn(s),a=n.map(y=>y[0]).join(","),o=n.map((y,v)=>y[0]+e[v]).join(","),l=Pi("rc",s),u=Pi("source",s),d=`${l[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,p=r==="reflect"?0:1;let m="";if(s===1){const y=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${p};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${p};
        }
        source -= start;
      `;m=`
        ${i} rc = outputLoc;
        ${y}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[s-1]} += 1;
        if(${d}) {
          ${y}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
      `}else{const y=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${p}) +
                gte * ((end - 1) * 2 - source + ${p});
        source -= start;
      `;m=`
        ${i} rc = outputLoc;
        ${y}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[s-1]} += 1;
        if(${d}) {
          ${y}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
        rc = outputLoc;
        ${l[s-2]} += 1;
        if(${l[s-2]} < ${this.outputShape[s-2]}) {
          ${y}
          result[2] = getChannel(getX(${u.join()}), ${f});
          ${l[s-1]} += 1;
          if(${d}) {
            ${y}
            result[3] = getChannel(getX(${u.join()}), ${f});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}const KUe=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:s,mode:i}=n,a=Oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new qUe(r.shape,s,i):new GUe(r.shape,s,i);return e.runWebGLProgram(a,[r],r.dtype)},XUe={kernelName:eT,backendName:"webgl",kernelFunc:KUe};const YUe=`if (b == 0.0) return NAN;
  return mod(a, b);`,ZUe=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+fp+`
  return result;
`,QUe=oi({opSnippet:YUe,packedOpSnippet:ZUe}),JUe={kernelName:b0,backendName:"webgl",kernelFunc:QUe};class eVe{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}const tVe=`
if (a == b) {
  return 1.0;
};
return a / b;`,nVe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,qQ=oi({opSnippet:tVe,packedOpSnippet:nVe,checkOutOfBounds:!0}),rVe={kernelName:r0,backendName:"webgl",kernelFunc:qQ};const KV="return a - b;",KQ=oi({opSnippet:KV,packedOpSnippet:KV,supportsComplex:!0,cpuKernelImpl:YFe}),sVe={kernelName:P0,backendName:"webgl",kernelFunc:KQ};function XQ(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,a=un([i],s.shape),o=GQ({inputs:{x:s},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),l=Xr(o.shape,a),u=ft({inputs:{x:o},backend:n,attrs:{shape:l}}),d=KQ({inputs:{a:s,b:u},backend:n}),f=VQ({inputs:{x:d},backend:n}),p=d2({inputs:{x:f},backend:n,attrs:{axis:a,keepDims:!1}}),m=ft({inputs:{x:p},backend:n,attrs:{shape:l}}),y=qQ({inputs:{a:f,b:m},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const iVe={kernelName:vT,backendName:"webgl",kernelFunc:XQ};function aVe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:a,normalized:o}=r,l=o?s:XQ({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),u=l.shape[0],d=l.shape[1],f=new eVe(u,d,i),p=[[a]],m=n.runWebGLProgram(f,[l],"int32",p);return o||n.disposeIntermediateTensorInfo(l),m}const oVe={kernelName:R_,backendName:"webgl",kernelFunc:aVe};const lVe=Ho+`
  return -x;
`,uVe=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function cVe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[a,o]=OFe(i.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,a)}let s;return Oe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Nd(r.shape,uVe):s=new eu(r.shape,lVe),n.runWebGLProgram(s,[r],r.dtype)}const dVe={kernelName:tT,backendName:"webgl",kernelFunc:cVe};const fVe=VP;function hVe(t){Wa("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=r,u=n.readSync(s.dataId),d=n.readSync(i.dataId),{selectedIndices:f}=fVe(u,d,a,o,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const pVe={kernelName:D_,backendName:"webgl",kernelFunc:hVe};const mVe=WP;function gVe(t){Wa("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r,d=n.readSync(s.dataId),f=n.readSync(i.dataId),{selectedIndices:p,validOutputs:m}=mVe(d,f,a,o,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}const yVe={kernelName:__,backendName:"webgl",kernelFunc:gVe};const vVe=HP;function bVe(t){Wa("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r,d=n.readSync(s.dataId),f=n.readSync(i.dataId),p=a,m=o,y=l,v=u,{selectedIndices:b,selectedScores:w}=vVe(d,f,p,m,y,v);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([w.length],"float32",new Float32Array(w))]}const xVe={kernelName:P_,backendName:"webgl",kernelFunc:bVe};class wVe{constructor(e,n,r,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}const SVe=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:a,onValue:o,offValue:l}=r,u=Le(s.shape),d=new wVe(u,a,o,l),f=ft({inputs:{x:s},backend:n,attrs:{shape:[u]}}),p=n.runWebGLProgram(d,[f],i);n.disposeIntermediateTensorInfo(f);const m=[...s.shape,a],y=ft({inputs:{x:p},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(p),y},CVe={kernelName:sT,backendName:"webgl",kernelFunc:SVe};function tC(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const s=ux({inputs:{input:r},backend:n}),i=tC({inputs:{x:s},backend:n}),a=f2({inputs:{input:r},backend:n}),o=tC({inputs:{x:a},backend:n}),l=pf({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return cx({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const kVe={kernelName:ST,backendName:"webgl",kernelFunc:tC};function YQ(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=ux({inputs:{input:r},backend:n}),i=YQ({inputs:{x:s},backend:n}),a=f2({inputs:{input:r},backend:n}),o=tC({inputs:{x:a},backend:n}),l=pf({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}else return cx({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const TVe={kernelName:rT,backendName:"webgl",kernelFunc:YQ};function EVe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return oR({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,a=e[0].dtype;e.forEach(d=>{Ia(i,d.shape,"All tensors passed to stack must have matching shapes"),Y(a===d.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=e.map(d=>{const f=oR({inputs:{input:d},backend:n,attrs:{dim:s}});return o.push(f),f}),u=PQ({inputs:l,backend:n,attrs:{axis:s}});return o.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const NVe={kernelName:iT,backendName:"webgl",kernelFunc:EVe};class $Ve{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const s=e.length,i=Xn(s),a=n.map(u=>u[0]).join(","),o=n.map((u,d)=>u[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${a};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${a});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}class IVe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((v,b)=>v[0]+e[b]+v[1]);const s=e.length,i=Xn(s),a=n.map(v=>v[0]).join(","),o=n.map((v,b)=>v[0]+e[b]).join(","),l=Pi("rc",s),u=Pi("source",s),d=`${l[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,p=[`${i} rc = outputLoc;`,`${l[s-1]} += 1;
       if(${d}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${l[s-2]} += 1;
       if(${l[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${l[s-1]} += 1;
         if(${d}) {`],m=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let y="";for(let v=0,b=s===1?2:4;v<b;v++)y+=`
        ${p[v]}
        if (${m}) {
          result[${v}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${v}] = getChannel(getX(${u.join()}), ${f});
        }
      `;y+=s===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${a});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${y}
        setOutput(result);
      }
    `}}const ZQ=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:a}=r;if(Le(s.shape)===0){const u=i.map((d,f)=>d[0]+s.shape[f]+d[1]);return cx({backend:n,attrs:{shape:u,value:a,dtype:s.dtype}})}const o=Oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new IVe(s.shape,i,a):new $Ve(s.shape,i,a),l=[[a]];return n.runWebGLProgram(o,[s],s.dtype,l)},AVe={kernelName:aT,backendName:"webgl",kernelFunc:ZQ};const OVe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,RVe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+fp+`
  return result;
`,DVe=oi({opSnippet:OVe,packedOpSnippet:RVe}),_Ve={kernelName:w0,backendName:"webgl",kernelFunc:DVe};function PVe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:a}=r,o=s.shape.length,l=[],u=un(i,s.shape);let d=u;const f=Dr(d,o);let p=s;f!=null&&(p=zi({inputs:{x:s},backend:n,attrs:{perm:f}}),d=Yr(d.length,o),l.push(p)),ii("prod",d,o);let m;if(n.shouldExecuteOnCPU([p])){const y=n.texData.get(p.dataId).values,{outVals:v,outShape:b,outDtype:w}=DFe(p.shape,p.dtype,y,d);m=n.makeTensorInfo(b,w,v)}else{const[y,v]=Fs(p.shape,d),b=Le(v),w=ft({inputs:{x:p},backend:n,attrs:{shape:[-1,b]}}),S=aP(s.dtype),C=hp(w,S,"prod",n);m=ft({inputs:{x:C},backend:n,attrs:{shape:y}}),l.push(w),l.push(C)}if(a){l.push(m);const y=Xr(m.shape,u);m=ft({inputs:{x:m},backend:n,attrs:{shape:y}})}return l.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const MVe={kernelName:lT,backendName:"webgl",kernelFunc:PVe};function LVe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:a}=e,{outputRaggedRank:o}=r,l=s.map(w=>n.readSync(w.dataId)),u=s.map(w=>w.shape),d=n.readSync(i.dataId),f=n.readSync(a.dataId),[p,m,y]=_Fe(l,u,d,i.shape,i.dtype,f,a.shape,o),v=p.map(w=>n.makeTensorInfo([w.length],"int32",w)),b=n.makeTensorInfo(y,i.dtype,m);return v.concat([b])}const FVe={kernelName:M_,backendName:"webgl",kernelFunc:LVe};function zVe(t){const{inputs:e,backend:n}=t,{starts:r,limits:s,deltas:i}=e,a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[u,d]=PFe(a,r.shape,r.dtype,o,s.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),p=n.makeTensorInfo([d.length],r.dtype,d);return[f,p]}const BVe={kernelName:L_,backendName:"webgl",kernelFunc:zVe};function jVe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:a,rowPartitionTensors:o}=e,{rowPartitionTypes:l}=r,u=n.readSync(s.dataId),d=n.readSync(i.dataId),f=n.readSync(a.dataId),p=o.map(b=>n.readSync(b.dataId)),m=o.map(b=>b.shape),[y,v]=MFe(u,s.shape,d,i.shape,i.dtype,f,a.shape,p,m,l);return n.makeTensorInfo(y,i.dtype,v)}const UVe={kernelName:F_,backendName:"webgl",kernelFunc:jVe};const QQ=t=>{const{backend:e,attrs:n}=t,{start:r,stop:s,step:i,dtype:a}=n,o=LFe(r,s,i,a);return e.makeTensorInfo([o.length],a,o)},VVe={kernelName:z_,backendName:"webgl",kernelFunc:QQ};const WVe="return 1.0 / x;",HVe=In({opSnippet:WVe}),GVe={kernelName:S0,backendName:"webgl",kernelFunc:HVe};const qVe=Ho+`
  return (x < 0.0) ? 0.0 : x;
`,KVe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,XVe=In({opSnippet:qVe,packedOpSnippet:KVe}),YVe={kernelName:C0,backendName:"webgl",kernelFunc:XVe};const ZVe=Ho+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,QVe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,JVe=In({opSnippet:ZVe,packedOpSnippet:QVe}),eWe={kernelName:k0,backendName:"webgl",kernelFunc:JVe};class tWe{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[a,o,l,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let p;i?p="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":p="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/f[0]},
          ${d[1]/f[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${p};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}class nWe{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,l,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let p;i?p="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":p="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/f[0]},
          ${d[1]/f[1]},
          ${d[1]/f[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${p};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}function rWe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r,[l,u]=o,d=Oe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new nWe(s.shape,l,u,i,a):new tWe(s.shape,l,u,i,a);return n.runWebGLProgram(d,[s],"float32")}const sWe={kernelName:dT,backendName:"webgl",kernelFunc:rWe};class iWe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,a,o]=e,l=[r&&a>1?s-1:s,r&&o>1?i-1:i],u=[r&&a>1?a-1:a,r&&o>1?o-1:o],d=l[0]/u[0],f=l[1]/u[1],p=1/d,m=1/f,y=Math.ceil(p)*2+2,v=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${f});

        const float invHeightScale = float(${p});
        const float invWidthScale = float(${m});

        const int winHeight = int(${y});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function aWe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r,o=new iWe(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}const oWe={kernelName:U_,backendName:"webgl",kernelFunc:aWe};class lWe{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[a,o,l,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],p=s?"0.5":"0.0";let m;i?m="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":m="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/f[0]},
          ${d[1]/f[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${p})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}class uWe{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,o,l,u]=e;this.outputShape=[a,n,r,u];const d=[s&&n>1?o-1:o,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],p=s?"0.5":"0.0";let m;i?m="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":m="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/f[0]},
          ${d[1]/f[1]},
          ${d[1]/f[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${p})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}function cWe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:a,size:o}=r,[l,u]=o,d=Oe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new uWe(s.shape,l,u,i,a):new lWe(s.shape,l,u,i,a);return n.runWebGLProgram(d,[s],s.dtype)}const dWe={kernelName:cT,backendName:"webgl",kernelFunc:cWe};class fWe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,a,o]=e,l=[r&&a>1?s-1:s,r&&o>1?i-1:i],u=[r&&a>1?a-1:a,r&&o>1?o-1:o],d=l[0]/u[0],f=l[1]/u[1],p=1/d,m=1/f,y=Math.ceil(p)*2+2,v=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${f});

        const float invHeightScale = float(${p});
        const float invWidthScale = float(${m});

        const int winHeight = int(${y});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function hWe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:a}=r,o=new fWe(i.shape,s.shape,a);return n.runWebGLProgram(o,[i],i.dtype)}const pWe={kernelName:j_,backendName:"webgl",kernelFunc:hWe};class mWe{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const s=o=>n.indexOf(o)!==-1&&e[o]!==1?`${e[o]} - coords[${o}] - 1`:`coords[${o}]`,i=e.map((o,l)=>s(l)).join(","),a=Xn(r);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}class gWe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const s=Pi("rc",r),i=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,a=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,o=Xn(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(s.slice())};
          if(${i}){
            result.g = ${u(s.slice())};
          }
          if(${a}) {
            result.b = ${d(s.slice())};
            if(${i}) {
              result.a = ${f(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(y){return p(y)}function u(y){return y[r-1]="("+y[r-1]+" + 1)",p(y)}function d(y){return y[r-2]="("+y[r-2]+" + 1)",p(y)}function f(y){return y[r-1]="("+y[r-1]+" + 1)",y[r-2]="("+y[r-2]+" + 1)",p(y)}function p(y){const v=e.map((S,C)=>m(C,y)),b=v.join(","),w=v.slice(-2).join(",");return`getChannel(getX(${b}), vec2(${w}))`}function m(y,v){return n.indexOf(y)!==-1&&e[y]!==1?`${e[y]} - ${v[y]} - 1`:`${v[y]}`}}}function yWe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r,a=s.shape.length,o=un(i,s.shape);if(a===0)return Na({inputs:{x:s},backend:n});const l=Oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gWe(s.shape,o):new mWe(s.shape,o);return n.runWebGLProgram(l,[s],s.dtype)}const vWe={kernelName:fT,backendName:"webgl",kernelFunc:yWe};class bWe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],s=e[2];this.outputShape=e;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const xWe={kernelName:iP,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:a}=e,o=n,l=new bWe(r.shape,i),[u,d]=sM(a,r.shape[1],r.shape[2]),f=[[u,d,Math.sin(s),Math.cos(s)]];return o.runWebGLProgram(l,[r],r.dtype,f)}};const wWe=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,SWe=In({opSnippet:wWe}),CWe={kernelName:T0,backendName:"webgl",kernelFunc:SWe};const kWe="return inversesqrt(x);",TWe=In({opSnippet:kWe,cpuKernelImpl:FFe}),EWe={kernelName:E0,backendName:"webgl",kernelFunc:TWe};class oL{constructor(e,n,r,s,i,a,o=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const u=Xn(i.length),d=Xn(a.length);let f="";r===1?f="i":r===2&&(f="i, j");const p=`getIndices(${f})`;let m="";s===1?m="i":s===2&&(m="i, coords[1]");const y=`getUpdates(${m})`;let v="";l&&(v="coords[0], coords[1]");const b=`getDefaultValue(${v})`,w=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${d} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${p});
              flattenedIndex += index * ${w};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${y};
              found = true;
            }
          }
          setOutput(mix(${b}, sum, float(found)));
        }
      `}}class NWe{constructor(e,n,r,s,i,a,o=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a;const u=Xn(i.length),d=Xn(a.length);let f="";r===1?f="i":r===2&&(f="i, j");const p=`getIndices(${f})`;let m="";s===1?m="i":s===2&&(m="i, coords[1]");const y=`getUpdates(${m})`;let v="";l&&(v="coords[0], coords[1]");const b=`getDefaultValue(${v})`,w=n>1?"strides[j]":"strides",S=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${d} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${p});
              flattenedIndex += index.xz * ${w};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${S};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${y};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${b}, sum, found));
        }
      `}}function $We(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:a}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:d,outputSize:f}=op(i,s,a),p=[f/u,u];if(f===0)return n.makeTensorInfo(a,s.dtype);const m=ft({inputs:{x:s},backend:n,attrs:{shape:[l,o]}}),y=ft({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0]));let b;Oe().getBool("WEBGL_PACK")?b=new NWe(l,o,m.shape.length,y.shape.length,d,p):b=new oL(l,o,m.shape.length,y.shape.length,d,p);const w=n.runWebGLProgram(b,[y,m,v],y.dtype),S=ft({inputs:{x:w},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(v),S}const IWe={kernelName:V_,backendName:"webgl",kernelFunc:$We};class AWe{constructor(e,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",a=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,o=Oe().getNumber("WEBGL_VERSION")===2?i:a,l=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}function OWe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:a}=r,o=new AWe(s.shape[0],s.shape[1],i.shape[1],a),l=[[s.shape[1]]];return n.runWebGLProgram(o,[s,i],"int32",l)}const RWe={kernelName:H_,backendName:"webgl",kernelFunc:OWe};class DWe{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",s="resRC";else{const o=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let d=0;d<n.length;d++)u.push(`${o[d]}`),d<e&&l.push(`${o[d]}`);s=l.join(),i=u.join()}const a=Xn(r);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}function _We(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e,a=new DWe(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(a,[r,s,i],Sa(s.dtype,i.dtype))}const PWe={kernelName:hT,backendName:"webgl",kernelFunc:_We};const MWe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${KT};
  float scale = ${XT};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,LWe=In({opSnippet:MWe}),FWe={kernelName:N0,backendName:"webgl",kernelFunc:LWe};const zWe=jg+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,BWe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,jWe=In({opSnippet:zWe,packedOpSnippet:BWe,cpuKernelImpl:BFe}),UWe={kernelName:O0,backendName:"webgl",kernelFunc:jWe};const VWe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,WWe=In({opSnippet:VWe}),HWe={kernelName:A0,backendName:"webgl",kernelFunc:WWe};const GWe=jg+`
  return sin(x);
`,qWe=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${fp}
  return result;
`,KWe=In({opSnippet:GWe,packedOpSnippet:qWe}),XWe={kernelName:$0,backendName:"webgl",kernelFunc:KWe};const YWe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,ZWe=In({opSnippet:YWe}),QWe={kernelName:I0,backendName:"webgl",kernelFunc:ZWe};const JWe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,e5e=In({opSnippet:JWe}),t5e={kernelName:R0,backendName:"webgl",kernelFunc:e5e};const n5e=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:a}=r;Y(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((w,S)=>w*S),l=[[0,0]];l.push(...a);for(let w=1+i.length;w<s.shape.length;++w)l.push([0,0]);const u=[],d=ZQ({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),f=K0(d.shape,i,o,!1),p=X0(f.length,i.length,!1),m=Y0(d.shape,i,o,!1),y=ft({inputs:{x:d},backend:n,attrs:{shape:f}}),v=zi({inputs:{x:y},backend:n,attrs:{perm:p}}),b=ft({inputs:{x:v},backend:n,attrs:{shape:m}});return u.push(d),u.push(y),u.push(v),u.forEach(w=>n.disposeIntermediateTensorInfo(w)),b},r5e={kernelName:gT,backendName:"webgl",kernelFunc:n5e};function s5e(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:a}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const o=n.readSync(r.dataId),l=n.readSync(s.dataId),u=n.readSync(i.dataId),d=n.readSync(a.dataId)[0],[f,p,m,y,v]=UFe(o,r.shape,r.dtype,l,s.dtype,u,d);return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([p[0]],s.dtype,m),n.makeTensorInfo([y.length],"bool",new Uint8Array(y.map(b=>Number(b)))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}const i5e={kernelName:G_,backendName:"webgl",kernelFunc:s5e};function a5e(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.readSync(s.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,d,f]=VFe(o,r.shape,r.dtype,a,l);return[n.makeTensorInfo(d,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const o5e={kernelName:q_,backendName:"webgl",kernelFunc:a5e};function l5e(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[u,d]=SQ(a,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(d,r.dtype,u)}const u5e={kernelName:K_,backendName:"webgl",kernelFunc:l5e};function c5e(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const a=n.readSync(r.dataId),o=n.readSync(s.dataId),l=n.readSync(i.dataId),[u,d]=SQ(a,r.shape,r.dtype,o,l);return n.makeTensorInfo(d,r.dtype,u)}const d5e={kernelName:X_,backendName:"webgl",kernelFunc:c5e};function f5e(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:a}=e,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:d,strides:f,outputSize:p}=op(i,s,o),m=!1;if(i.dtype==="string"){const w=n.bufferSync(s),S=n.bufferSync(i),C=zd(n.readSync(a.dataId)[0]),T=zFe(w,S,o,p,d,u,l,f,C,m);return n.makeTensorInfo(o,T.dtype,T.values)}const y=new oL(u,l,s.shape.length,i.shape.length,f,[p,1],m),v=n.runWebGLProgram(y,[i,s,a],i.dtype),b=ft({inputs:{x:v},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(v),b}const h5e={kernelName:Y_,backendName:"webgl",kernelFunc:f5e};function p5e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:a}=r,o=un(a,s.shape)[0],l=bM(s,i,o),u=s.shape.length,d=new Array(u).fill(0),f=s.shape.slice();return l.map(p=>{const m=[...f];m[o]=p;const y=Ug({inputs:{x:s},backend:n,attrs:{begin:d,size:m}});return d[o]+=p,y})}const m5e={kernelName:yT,backendName:"webgl",kernelFunc:p5e};const XV="return sqrt(x);",g5e=In({opSnippet:XV,packedOpSnippet:XV,cpuKernelImpl:WFe}),y5e={kernelName:D0,backendName:"webgl",kernelFunc:g5e};const v5e="return x * x;",b5e=In({opSnippet:v5e}),x5e={kernelName:Z_,backendName:"webgl",kernelFunc:b5e};const YV="return (a - b) * (a - b);",w5e=oi({opSnippet:YV,packedOpSnippet:YV}),S5e={kernelName:_0,backendName:"webgl",kernelFunc:w5e};function C5e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const i=n.readSync(s.dataId),a=xc(i),o=HFe(a,"string",r);return n.makeTensorInfo(s.shape,"string",o)}const k5e={kernelName:bT,backendName:"webgl",kernelFunc:C5e};function T5e({inputs:t,attrs:e,backend:n}){const{x:r}=t,s=Ho+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new eu(r.shape,s);return n.runWebGLProgram(i,[r],r.dtype)}const E5e={kernelName:z0,backendName:"webgl",kernelFunc:T5e};class N5e{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,i=Xn(r.length),a=Xn(r.length);let o="";if(s===1)o="coords * strides + begin";else{let l=0;o=r.map((u,d)=>(l++,r.length===1?`coords * strides[${d}] + begin[${d}]`:`coords[${l-1}] * strides[${d}] + begin[${d}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${n});

      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}function $5e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:a,strides:o,beginMask:l,endMask:u,ellipsisMask:d,newAxisMask:f,shrinkAxisMask:p}=r,{finalShapeSparse:m,finalShape:y,isIdentity:v,sliceDim0:b,isSimpleSlice:w,begin:S,end:C,strides:T}=tM(s.shape,i,a,o,l,u,d,f,p);let N;if(v)N=ft({inputs:{x:s},backend:n,attrs:{shape:y}});else if(b||w){Y(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const _=QP(S,C,T),F=Ug({inputs:{x:s},backend:n,attrs:{begin:S,size:_}});N=ft({inputs:{x:F},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(F)}else if(n.shouldExecuteOnCPU([s])){const F=n.readSync(s.dataId),L=rn(s.shape,s.dtype,F),z=GFe(m,L,T,S);N=n.makeTensorInfo(y,s.dtype,z.values)}else{const F=new N5e(S,T,m);N=n.runWebGLProgram(F,[s],s.dtype)}const O=ft({inputs:{x:N},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(N),O}const I5e={kernelName:Q_,backendName:"webgl",kernelFunc:$5e};function A5e(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:d,dataSplits:f}=e,p=n.readSync(d.dataId),m=n.readSync(f.dataId),[y,v]=qFe(p,m,s,i,a,o,l,u);return[n.makeTensorInfo([y.length],"string",y),n.makeTensorInfo(f.shape,"int32",v)]}const O5e={kernelName:J_,backendName:"webgl",kernelFunc:A5e};function R5e(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:a}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.readSync(i.dataId),l=n.readSync(a.dataId)[0],[u,d,f]=KFe(o,l,s),p=d.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const D5e={kernelName:eP,backendName:"webgl",kernelFunc:R5e};function _5e(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(i.dataId),o=XFe(a,s);return n.makeTensorInfo(i.shape,"int32",o)}const P5e={kernelName:tP,backendName:"webgl",kernelFunc:_5e};const M5e="return tan(x);",L5e=In({opSnippet:M5e}),F5e={kernelName:M0,backendName:"webgl",kernelFunc:L5e};const z5e=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,B5e=In({opSnippet:z5e}),j5e={kernelName:L0,backendName:"webgl",kernelFunc:B5e};function U5e(t){const{inputs:e,backend:n,attrs:r}=t,{tensor:s,indices:i,updates:a}=e,{sliceRank:o,numUpdates:l,sliceSize:u,strides:d,outputSize:f}=op(a,i,s.shape),p=[f/u,u];if(f===0)return n.makeTensorInfo(s.shape,i.dtype);const m=ft({inputs:{x:i},backend:n,attrs:{shape:[l,o]}}),y=ft({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),v=ft({inputs:{x:s},backend:n,attrs:{shape:p}}),b=new oL(l,o,m.shape.length,y.shape.length,d,p,!1,!0),w=n.runWebGLProgram(b,[y,m,v],v.dtype),S=ft({inputs:{x:w},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(w),S}const V5e={kernelName:W_,backendName:"webgl",kernelFunc:U5e};class W5e{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let a=0;a<r.length;a++)r[a]=e[a]*n[a];this.outputShape=r,this.rank=r.length;const s=Xn(this.rank),i=H5e(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function H5e(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<t.length;s++)r.push(`imod(${n[s]}, ${t[s]})`);return r.join()}function JQ(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),u=s.dtype==="string"?l.map(p=>zd(p)):l,d=rn(s.shape,s.dtype,u),f=ZFe(d,i);return n.makeTensorInfo(f.shape,f.dtype,f.values)}const a=new W5e(s.shape,i);return n.runWebGLProgram(a,[s],s.dtype)}const G5e={kernelName:F0,backendName:"webgl",kernelFunc:JQ};class q5e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class K5e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}function th(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function ZV(t){let e=1;for(;e<t;)e*=2;return e}function X5e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:a}=r,o=Oe().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Oe().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=s.shape,d=u[u.length-1];if(n.shouldExecuteOnCPU([s])||d<o||i>l){const z=n.readSync(s.dataId),[P,R]=QFe(z,u,s.dtype,i,a);return[n.makeTensorInfo(P.shape,P.dtype,P.values),n.makeTensorInfo(R.shape,R.dtype,R.values)]}if(i===0)return u[u.length-1]=0,[n.makeTensorInfo(u,s.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(d===1)return[s,cx({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const f=n.texData.get(s.dataId),p=f!==null&&f.isPacked,m=p?n.unpackTensor(s):s,v=Le(u)/d,b=ft({inputs:{x:m},attrs:{shape:[v,d]},backend:n});p&&th(n,m);const w=ZV(i),S=ZV(d);let C=null;const T=()=>C===null?[b,b]:[b,C],N=(z,P,R)=>{const H=T(),q=new q5e(R),V=[[d],[C===null?1:0],[Number.NEGATIVE_INFINITY],[z],[P]],ee=C;C=n.runWebGLProgram(q,H,"int32",V),th(n,ee)};for(let z=1;z<w;z*=2){const P=z*2;for(let R=z;R>=1;R/=2)N(P,R,[v,S])}for(let z=S;z>w;z/=2){const P=T(),R=new K5e([v,z/2]),q=[[d],[C===null?1:0],[w]],X=C;C=n.runWebGLProgram(R,P,"int32",q),th(n,X);const V=w/2,ee=V*2;for(let J=V;J>=1;J/=2)N(ee,J,C.shape)}let O=C;C=Ug({inputs:{x:C},backend:n,attrs:{begin:0,size:[v,i]}}),th(n,O);let _=HQ({inputs:{x:b,indices:C},backend:n,attrs:{axis:1,batchDims:1}});th(n,b);const F=u.slice(0,-1);F.push(i),O=C,C=ft({inputs:{x:C},attrs:{shape:F},backend:n}),th(n,O);const L=_;return _=ft({inputs:{x:_},attrs:{shape:F},backend:n}),th(n,L),[_,C]}const Y5e={kernelName:nP,backendName:"webgl",kernelFunc:X5e};class Z5e{constructor(e,n,r,s,i,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const o=r==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${o} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}function Q5e(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,transforms:i}=e,{interpolation:a,fillMode:o,fillValue:l,outputShape:u}=r,[d,f,p,m]=s.shape,[y,v]=u??[f,p],b=[d,y,v,m],w=new Z5e(f,p,a,o,l,b);return n.runWebGLProgram(w,[s,i],"float32")}const J5e={kernelName:rP,backendName:"webgl",kernelFunc:Q5e};function e6e(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;ox(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:o,outputShape:l,indices:u}=JFe(a,s,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}const t6e={kernelName:sP,backendName:"webgl",kernelFunc:e6e};function n6e(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const a=s,o=a.shape.length,l=s.shape[i],u=new Array(o-1);let d=0;for(let v=0;v<o;v++)v!==i&&(u[d++]=a.shape[v]);const f=[],p=new Array(o).fill(0),m=a.shape.slice();m[i]=1;const y=new Array(l);for(let v=0;v<y.length;v++){p[i]=v;const b=Ug({inputs:{x:a},backend:n,attrs:{begin:p,size:m}}),w=ft({inputs:{x:b},backend:n,attrs:{shape:u}});y[v]=w,f.push(b)}return f.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const r6e={kernelName:xT,backendName:"webgl",kernelFunc:n6e};class s6e{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,s=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/r);this.outputShape=[s,o];const l="0.0",u="sumValue",d=Math.floor(r/4)*4,f=r%4,p=`
        sumValue += dot(values, segFilter);
    `;let m="";i%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let y="";i%r>0&&(y=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${y}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${a})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${a})));

        float sumValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${p}
        }

        int inIdx = inOffset + ${d};
        if (${f===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${p}
        } else if (${f===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${p}
        } else if (${f===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${p}
        }
        setOutput(${u});
      }
    `}}function i6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:a}=r,o=s.shape.length,l=[];let u=0;const d=Dr([u],o);let f=s;d!=null&&(f=zi({inputs:{x:s},backend:n,attrs:{perm:d}}),l.push(f),u=Yr(1,o)[0]);const p=O7(f.shape,u,a),m=Le([f.shape[u]]),y=ft({inputs:{x:f},backend:n,attrs:{shape:[-1,m]}});l.push(y);const v=aP(s.dtype),b=(T,N,O,_,F)=>{const L=T.shape[0],z=T.shape[1],P=A7(z,F),R={windowSize:P,inSize:z,batchSize:L,numSegments:F},H=new s6e(R,N),q=n.compileAndRun(H,[T,O],_);if(l.push(q),q.shape[1]===F)return q;const X=QQ({backend:n,attrs:{start:0,stop:F,step:1,dtype:"float32"}}),V=JQ({inputs:{x:X},backend:n,attrs:{reps:[z/P]}});return l.push(X),l.push(V),b(q,N,V,_,F)},w=b(y,"unsortedSegmentSum",i,v,a),S=ft({inputs:{x:w},backend:n,attrs:{shape:p}});let C=S;if(d!=null){l.push(S);const T=lf(d);C=zi({inputs:{x:C},backend:n,attrs:{perm:T}})}return l.forEach(T=>n.disposeIntermediateTensorInfo(T)),C}const a6e={kernelName:wT,backendName:"webgl",kernelFunc:i6e};const o6e=[W3e,G3e,X3e,Q3e,eze,rze,ize,oze,dze,hze,gze,bze,Sze,Eze,Ize,Oze,Dze,Lze,zze,jze,Hze,Qze,eBe,sBe,aBe,fBe,pBe,vBe,N3e,wBe,EBe,ABe,MBe,zBe,jBe,VBe,HBe,XBe,QBe,tje,rje,ije,oje,cje,fje,gje,vje,wje,kje,Eje,Aje,_je,Fje,jje,Wje,Hje,qje,Xje,Zje,Jje,t4e,i4e,l4e,d4e,h4e,g4e,b4e,C4e,N4e,E3e,I4e,kBe,R4e,P4e,F4e,I3e,U4e,G4e,K4e,Q4e,tUe,iUe,lUe,fUe,gUe,bUe,wUe,TUe,NUe,IUe,DUe,PUe,LUe,zUe,jUe,HUe,XUe,JUe,oVe,R3e,dVe,pVe,yVe,xVe,lBe,CVe,TVe,NVe,AVe,_Ve,O3e,MVe,FVe,BVe,UVe,VVe,uBe,rVe,GVe,YVe,eWe,_3e,sWe,oWe,dWe,pWe,vWe,xWe,CWe,EWe,IWe,RWe,PWe,FWe,UWe,HWe,XWe,QWe,Yze,iVe,t5e,r5e,i5e,o5e,u5e,d5e,h5e,m5e,y5e,x5e,S5e,k5e,E5e,I5e,O5e,D5e,P5e,sVe,j3e,F5e,j5e,V5e,G5e,Y5e,J5e,U3e,t6e,r6e,a6e,kVe];for(const t of o6e)tK(t);class l6e{constructor(){this.models={},this.isLoading={}}async loadSymptomCheckerModel(){const e="symptom-checker";if(this.models[e])return this.models[e];if(this.isLoading[e])return new Promise(n=>{const r=setInterval(()=>{this.models[e]&&(clearInterval(r),n(this.models[e]))},100)});this.isLoading[e]=!0;try{const n=await rV("/models/symptom-checker/model.json");return this.models[e]=n,this.isLoading[e]=!1,console.log("Symptom checker model loaded successfully"),n}catch(n){return console.error("Error loading symptom checker model:",n),this.isLoading[e]=!1,this.createMockModel()}}async loadVitalsPredictor(){const e="vitals-predictor";if(this.models[e])return this.models[e];try{const n=await rV("/models/vitals-predictor/model.json");return this.models[e]=n,n}catch(n){return console.error("Error loading vitals predictor:",n),this.createMockVitalsModel()}}createMockModel(){return{predict:e=>Ne(()=>ou([[.3,.5,.2]],[1,3]))}}createMockVitalsModel(){return{predict:e=>Ne(()=>ou([[.15]],[1,1]))}}}const lL=new l6e,u6e=Object.freeze(Object.defineProperty({__proto__:null,modelLoader:lL},Symbol.toStringTag,{value:"Module"})),c6e={en:["fever","cough","headache","diarrhea","vomiting","abdominal pain","body ache","fatigue","shortness of breath","chest pain","dizziness","nausea","skin rash","joint pain","loss of appetite"]},d6e=[{name:{en:"Common Cold",bn:" "},symptoms:["fever","cough","headache","body ache","fatigue"],severity:"mild",advice:{en:"Rest, drink fluids, take paracetamol if needed. Consult doctor if symptoms persist beyond 7 days.",bn:" ,   ,           "}},{name:{en:"Gastroenteritis",bn:""},symptoms:["diarrhea","vomiting","abdominal pain","nausea","fever"],severity:"moderate",advice:{en:"Stay hydrated with ORS. Avoid solid foods initially. Seek immediate care if severe dehydration occurs.",bn:"              "}},{name:{en:"Hypertension Risk",bn:"  "},symptoms:["headache","dizziness","chest pain","shortness of breath"],severity:"severe",advice:{en:"URGENT: Check blood pressure immediately. Reduce salt intake. Consult doctor as soon as possible.",bn:":             "}},{name:{en:"Dengue Suspicion",bn:" "},symptoms:["fever","body ache","headache","joint pain","skin rash"],severity:"severe",advice:{en:"URGENT: Possible dengue. Get blood test (CBC, NS1). Monitor platelet count. Seek immediate medical attention.",bn:":       (CBC, NS1)        "}}];class f6e{constructor(){this.model=null,this.initializeModel()}async initializeModel(){try{this.model=await lL.loadSymptomCheckerModel()}catch(e){console.error("Failed to initialize symptom analyzer:",e)}}preprocessSymptoms(e,n="en"){return e.toLowerCase().split(/[,;\n]/).map(s=>s.trim()).filter(s=>s.length>0)}matchDiseases(e){const n=[];return d6e.forEach(r=>{const s=e.filter(i=>r.symptoms.some(a=>i.includes(a)||a.includes(i))).length;if(s>0){const i=s/r.symptoms.length;n.push({...r,matchCount:s,confidence:i,matchedSymptoms:e.filter(a=>r.symptoms.some(o=>a.includes(o)))})}}),n.sort((r,s)=>s.confidence-r.confidence)}async analyzeSymptoms(e,n="en"){try{const r=this.preprocessSymptoms(e,n);if(r.length===0)return{success:!1,message:n==="bn"?"    ":"No symptoms detected"};const s=this.matchDiseases(r);let i=0;if(this.model&&s.length>0)try{const o=this.createFeatureVector(r),l=await this.model.predict(o);i=(await l.data())[0],l.dispose(),o.dispose()}catch(o){console.error("AI prediction error:",o)}const a=s[0];return{success:!0,detectedSymptoms:r,possibleConditions:s.slice(0,3),primaryDiagnosis:a?{name:a.name[n],confidence:Math.round((a.confidence+i)/2*100),severity:a.severity,advice:a.advice[n],matchedSymptoms:a.matchedSymptoms}:null,triage:this.determineTriageLevel(s),timestamp:new Date().toISOString()}}catch(r){return console.error("Symptom analysis error:",r),{success:!1,error:r.message}}}createFeatureVector(e){const n=c6e.en,r=new Array(n.length).fill(0);return e.forEach(s=>{const i=n.findIndex(a=>s.includes(a)||a.includes(s));i!==-1&&(r[i]=1)}),ou([r],[1,r.length])}determineTriageLevel(e){if(e.length===0)return"self-care";switch(e[0].severity){case"severe":return"urgent";case"moderate":return"soon";default:return"self-care"}}}const h6e=new f6e,p6e=(t="en-US")=>{const[e,n]=$.useState(!1),[r,s]=$.useState(""),[i,a]=$.useState(null),[o,l]=$.useState(!1);$.useEffect(()=>{("webkitSpeechRecognition"in window||"SpeechRecognition"in window)&&l(!0)},[]);const u=$.useCallback(()=>{if(!o){a("Speech recognition is not supported in your browser");return}const p=window.SpeechRecognition||window.webkitSpeechRecognition,m=new p;m.continuous=!1,m.interimResults=!1,m.lang=t==="bn"?"bn-BD":"en-US",m.onstart=()=>{n(!0),a(null)},m.onresult=y=>{const v=y.resultIndex,b=y.results[v][0].transcript;s(b)},m.onerror=y=>{a(y.error),n(!1)},m.onend=()=>{n(!1)},m.start()},[o,t]),d=$.useCallback(()=>{n(!1)},[]),f=$.useCallback(()=>{s(""),a(null)},[]);return{isListening:e,transcript:r,error:i,isSupported:o,startListening:u,stopListening:d,resetTranscript:f}};function eJ(t,e){return function(){return t.apply(e,arguments)}}const{toString:m6e}=Object.prototype,{getPrototypeOf:uL}=Object,{iterator:h2,toStringTag:tJ}=Symbol,p2=(t=>e=>{const n=m6e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Tl=t=>(t=t.toLowerCase(),e=>p2(e)===t),m2=t=>e=>typeof e===t,{isArray:Vg}=Array,og=m2("undefined");function dx(t){return t!==null&&!og(t)&&t.constructor!==null&&!og(t.constructor)&&ba(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nJ=Tl("ArrayBuffer");function g6e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nJ(t.buffer),e}const y6e=m2("string"),ba=m2("function"),rJ=m2("number"),fx=t=>t!==null&&typeof t=="object",v6e=t=>t===!0||t===!1,tS=t=>{if(p2(t)!=="object")return!1;const e=uL(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tJ in t)&&!(h2 in t)},b6e=t=>{if(!fx(t)||dx(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},x6e=Tl("Date"),w6e=Tl("File"),S6e=Tl("Blob"),C6e=Tl("FileList"),k6e=t=>fx(t)&&ba(t.pipe),T6e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ba(t.append)&&((e=p2(t))==="formdata"||e==="object"&&ba(t.toString)&&t.toString()==="[object FormData]"))},E6e=Tl("URLSearchParams"),[N6e,$6e,I6e,A6e]=["ReadableStream","Request","Response","Headers"].map(Tl),O6e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hx(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Vg(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(dx(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function sJ(t,e){if(dx(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const vh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iJ=t=>!og(t)&&t!==vh;function lR(){const{caseless:t,skipUndefined:e}=iJ(this)&&this||{},n={},r=(s,i)=>{const a=t&&sJ(n,i)||i;tS(n[a])&&tS(s)?n[a]=lR(n[a],s):tS(s)?n[a]=lR({},s):Vg(s)?n[a]=s.slice():(!e||!og(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&hx(arguments[s],r);return n}const R6e=(t,e,n,{allOwnKeys:r}={})=>(hx(e,(s,i)=>{n&&ba(s)?t[i]=eJ(s,n):t[i]=s},{allOwnKeys:r}),t),D6e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_6e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},P6e=(t,e,n,r)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&uL(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},M6e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},L6e=t=>{if(!t)return null;if(Vg(t))return t;let e=t.length;if(!rJ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},F6e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&uL(Uint8Array)),z6e=(t,e)=>{const r=(t&&t[h2]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},B6e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},j6e=Tl("HTMLFormElement"),U6e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),QV=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),V6e=Tl("RegExp"),aJ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hx(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},W6e=t=>{aJ(t,(e,n)=>{if(ba(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ba(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H6e=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Vg(t)?r(t):r(String(t).split(e)),n},G6e=()=>{},q6e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function K6e(t){return!!(t&&ba(t.append)&&t[tJ]==="FormData"&&t[h2])}const X6e=t=>{const e=new Array(10),n=(r,s)=>{if(fx(r)){if(e.indexOf(r)>=0)return;if(dx(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Vg(r)?[]:{};return hx(r,(a,o)=>{const l=n(a,s+1);!og(l)&&(i[o]=l)}),e[s]=void 0,i}}return r};return n(t,0)},Y6e=Tl("AsyncFunction"),Z6e=t=>t&&(fx(t)||ba(t))&&ba(t.then)&&ba(t.catch),oJ=((t,e)=>t?setImmediate:e?((n,r)=>(vh.addEventListener("message",({source:s,data:i})=>{s===vh&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),vh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ba(vh.postMessage)),Q6e=typeof queueMicrotask<"u"?queueMicrotask.bind(vh):typeof process<"u"&&process.nextTick||oJ,J6e=t=>t!=null&&ba(t[h2]),Fe={isArray:Vg,isArrayBuffer:nJ,isBuffer:dx,isFormData:T6e,isArrayBufferView:g6e,isString:y6e,isNumber:rJ,isBoolean:v6e,isObject:fx,isPlainObject:tS,isEmptyObject:b6e,isReadableStream:N6e,isRequest:$6e,isResponse:I6e,isHeaders:A6e,isUndefined:og,isDate:x6e,isFile:w6e,isBlob:S6e,isRegExp:V6e,isFunction:ba,isStream:k6e,isURLSearchParams:E6e,isTypedArray:F6e,isFileList:C6e,forEach:hx,merge:lR,extend:R6e,trim:O6e,stripBOM:D6e,inherits:_6e,toFlatObject:P6e,kindOf:p2,kindOfTest:Tl,endsWith:M6e,toArray:L6e,forEachEntry:z6e,matchAll:B6e,isHTMLForm:j6e,hasOwnProperty:QV,hasOwnProp:QV,reduceDescriptors:aJ,freezeMethods:W6e,toObjectSet:H6e,toCamelCase:U6e,noop:G6e,toFiniteNumber:q6e,findKey:sJ,global:vh,isContextDefined:iJ,isSpecCompliantForm:K6e,toJSONObject:X6e,isAsyncFn:Y6e,isThenable:Z6e,setImmediate:oJ,asap:Q6e,isIterable:J6e};function en(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Fe.inherits(en,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.status}}});const lJ=en.prototype,uJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uJ[t]={value:t}});Object.defineProperties(en,uJ);Object.defineProperty(lJ,"isAxiosError",{value:!0});en.from=(t,e,n,r,s,i)=>{const a=Object.create(lJ);Fe.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return en.call(a,o,l,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const eHe=null;function uR(t){return Fe.isPlainObject(t)||Fe.isArray(t)}function cJ(t){return Fe.endsWith(t,"[]")?t.slice(0,-2):t}function JV(t,e,n){return t?t.concat(e).map(function(s,i){return s=cJ(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function tHe(t){return Fe.isArray(t)&&!t.some(uR)}const nHe=Fe.toFlatObject(Fe,{},null,function(e){return/^is[A-Z]/.test(e)});function g2(t,e,n){if(!Fe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!Fe.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(e);if(!Fe.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Fe.isDate(y))return y.toISOString();if(Fe.isBoolean(y))return y.toString();if(!l&&Fe.isBlob(y))throw new en("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(y)||Fe.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,b){let w=y;if(y&&!b&&typeof y=="object"){if(Fe.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(Fe.isArray(y)&&tHe(y)||(Fe.isFileList(y)||Fe.endsWith(v,"[]"))&&(w=Fe.toArray(y)))return v=cJ(v),w.forEach(function(C,T){!(Fe.isUndefined(C)||C===null)&&e.append(a===!0?JV([v],T,i):a===null?v:v+"[]",u(C))}),!1}return uR(y)?!0:(e.append(JV(b,v,i),u(y)),!1)}const f=[],p=Object.assign(nHe,{defaultVisitor:d,convertValue:u,isVisitable:uR});function m(y,v){if(!Fe.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),Fe.forEach(y,function(w,S){(!(Fe.isUndefined(w)||w===null)&&s.call(e,w,Fe.isString(S)?S.trim():S,v,p))===!0&&m(w,v?v.concat(S):[S])}),f.pop()}}if(!Fe.isObject(t))throw new TypeError("data must be an object");return m(t),e}function eW(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function cL(t,e){this._pairs=[],t&&g2(t,this,e)}const dJ=cL.prototype;dJ.append=function(e,n){this._pairs.push([e,n])};dJ.toString=function(e){const n=e?function(r){return e.call(this,r,eW)}:eW;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function rHe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fJ(t,e,n){if(!e)return t;const r=n&&n.encode||rHe;Fe.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=Fe.isURLSearchParams(e)?e.toString():new cL(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class tW{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Fe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const hJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sHe=typeof URLSearchParams<"u"?URLSearchParams:cL,iHe=typeof FormData<"u"?FormData:null,aHe=typeof Blob<"u"?Blob:null,oHe={isBrowser:!0,classes:{URLSearchParams:sHe,FormData:iHe,Blob:aHe},protocols:["http","https","file","blob","url","data"]},dL=typeof window<"u"&&typeof document<"u",cR=typeof navigator=="object"&&navigator||void 0,lHe=dL&&(!cR||["ReactNative","NativeScript","NS"].indexOf(cR.product)<0),uHe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cHe=dL&&window.location.href||"http://localhost",dHe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dL,hasStandardBrowserEnv:lHe,hasStandardBrowserWebWorkerEnv:uHe,navigator:cR,origin:cHe},Symbol.toStringTag,{value:"Module"})),Mi={...dHe,...oHe};function fHe(t,e){return g2(t,new Mi.classes.URLSearchParams,{visitor:function(n,r,s,i){return Mi.isNode&&Fe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function hHe(t){return Fe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pHe(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function pJ(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=n.length;return a=!a&&Fe.isArray(s)?s.length:a,l?(Fe.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!Fe.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&Fe.isArray(s[a])&&(s[a]=pHe(s[a])),!o)}if(Fe.isFormData(t)&&Fe.isFunction(t.entries)){const n={};return Fe.forEachEntry(t,(r,s)=>{e(hHe(r),s,n,0)}),n}return null}function mHe(t,e,n){if(Fe.isString(t))try{return(e||JSON.parse)(t),Fe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const px={transitional:hJ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Fe.isObject(e);if(i&&Fe.isHTMLForm(e)&&(e=new FormData(e)),Fe.isFormData(e))return s?JSON.stringify(pJ(e)):e;if(Fe.isArrayBuffer(e)||Fe.isBuffer(e)||Fe.isStream(e)||Fe.isFile(e)||Fe.isBlob(e)||Fe.isReadableStream(e))return e;if(Fe.isArrayBufferView(e))return e.buffer;if(Fe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fHe(e,this.formSerializer).toString();if((o=Fe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return g2(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),mHe(e)):e}],transformResponse:[function(e){const n=this.transitional||px.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Fe.isResponse(e)||Fe.isReadableStream(e))return e;if(e&&Fe.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?en.from(o,en.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mi.classes.FormData,Blob:Mi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],t=>{px.headers[t]={}});const gHe=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yHe=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&gHe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},nW=Symbol("internals");function gv(t){return t&&String(t).trim().toLowerCase()}function nS(t){return t===!1||t==null?t:Fe.isArray(t)?t.map(nS):String(t)}function vHe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const bHe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function q$(t,e,n,r,s){if(Fe.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Fe.isString(e)){if(Fe.isString(r))return e.indexOf(r)!==-1;if(Fe.isRegExp(r))return r.test(e)}}function xHe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function wHe(t,e){const n=Fe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let xa=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,l,u){const d=gv(l);if(!d)throw new Error("header name must be a non-empty string");const f=Fe.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=nS(o))}const a=(o,l)=>Fe.forEach(o,(u,d)=>i(u,d,l));if(Fe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Fe.isString(e)&&(e=e.trim())&&!bHe(e))a(yHe(e),n);else if(Fe.isObject(e)&&Fe.isIterable(e)){let o={},l,u;for(const d of e){if(!Fe.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?Fe.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=gv(e),e){const r=Fe.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return vHe(s);if(Fe.isFunction(n))return n.call(this,s,r);if(Fe.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gv(e),e){const r=Fe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||q$(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=gv(a),a){const o=Fe.findKey(r,a);o&&(!n||q$(r,r[o],o,n))&&(delete r[o],s=!0)}}return Fe.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||q$(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Fe.forEach(this,(s,i)=>{const a=Fe.findKey(r,i);if(a){n[a]=nS(s),delete n[i];return}const o=e?xHe(i):String(i).trim();o!==i&&delete n[i],n[o]=nS(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Fe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Fe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[nW]=this[nW]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=gv(a);r[o]||(wHe(s,a),r[o]=!0)}return Fe.isArray(e)?e.forEach(i):i(e),this}};xa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(xa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Fe.freezeMethods(xa);function K$(t,e){const n=this||px,r=e||n,s=xa.from(r.headers);let i=r.data;return Fe.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function mJ(t){return!!(t&&t.__CANCEL__)}function Wg(t,e,n){en.call(this,t??"canceled",en.ERR_CANCELED,e,n),this.name="CanceledError"}Fe.inherits(Wg,en,{__CANCEL__:!0});function gJ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new en("Request failed with status code "+n.status,[en.ERR_BAD_REQUEST,en.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function SHe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function CHe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[i];a||(a=u),n[s]=l,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function kHe(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const nC=(t,e,n=3)=>{let r=0;const s=CHe(50,250);return kHe(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-r,u=s(l),d=a<=o;r=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},rW=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sW=t=>(...e)=>Fe.asap(()=>t(...e)),THe=Mi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Mi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Mi.origin),Mi.navigator&&/(msie|trident)/i.test(Mi.navigator.userAgent)):()=>!0,EHe=Mi.hasStandardBrowserEnv?{write(t,e,n,r,s,i,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];Fe.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Fe.isString(r)&&o.push(`path=${r}`),Fe.isString(s)&&o.push(`domain=${s}`),i===!0&&o.push("secure"),Fe.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function NHe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $He(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yJ(t,e,n){let r=!NHe(e);return t&&(r||n==!1)?$He(t,e):e}const iW=t=>t instanceof xa?{...t}:t;function Kh(t,e){e=e||{};const n={};function r(u,d,f,p){return Fe.isPlainObject(u)&&Fe.isPlainObject(d)?Fe.merge.call({caseless:p},u,d):Fe.isPlainObject(d)?Fe.merge({},d):Fe.isArray(d)?d.slice():d}function s(u,d,f,p){if(Fe.isUndefined(d)){if(!Fe.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function i(u,d){if(!Fe.isUndefined(d))return r(void 0,d)}function a(u,d){if(Fe.isUndefined(d)){if(!Fe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,f)=>s(iW(u),iW(d),f,!0)};return Fe.forEach(Object.keys({...t,...e}),function(d){const f=l[d]||s,p=f(t[d],e[d],d);Fe.isUndefined(p)&&f!==o||(n[d]=p)}),n}const vJ=t=>{const e=Kh({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;if(e.headers=a=xa.from(a),e.url=fJ(yJ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Fe.isFormData(n)){if(Mi.hasStandardBrowserEnv||Mi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Fe.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Mi.hasStandardBrowserEnv&&(r&&Fe.isFunction(r)&&(r=r(e)),r||r!==!1&&THe(e.url))){const l=s&&i&&EHe.read(i);l&&a.set(s,l)}return e},IHe=typeof XMLHttpRequest<"u",AHe=IHe&&function(t){return new Promise(function(n,r){const s=vJ(t);let i=s.data;const a=xa.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=s,d,f,p,m,y;function v(){m&&m(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function w(){if(!b)return;const C=xa.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};gJ(function(_){n(_),v()},function(_){r(_),v()},N),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new en("Request aborted",en.ECONNABORTED,t,b)),b=null)},b.onerror=function(T){const N=T&&T.message?T.message:"Network Error",O=new en(N,en.ERR_NETWORK,t,b);O.event=T||null,r(O),b=null},b.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||hJ;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),r(new en(T,N.clarifyTimeoutError?en.ETIMEDOUT:en.ECONNABORTED,t,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&Fe.forEach(a.toJSON(),function(T,N){b.setRequestHeader(N,T)}),Fe.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),o&&o!=="json"&&(b.responseType=s.responseType),u&&([p,y]=nC(u,!0),b.addEventListener("progress",p)),l&&b.upload&&([f,m]=nC(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=C=>{b&&(r(!C||C.type?new Wg(null,t,b):C),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const S=SHe(s.url);if(S&&Mi.protocols.indexOf(S)===-1){r(new en("Unsupported protocol "+S+":",en.ERR_BAD_REQUEST,t));return}b.send(i||null)})},OHe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof en?d:new Wg(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new en(`timeout ${e} of ms exceeded`,en.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>Fe.asap(o),l}},RHe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},DHe=async function*(t,e){for await(const n of _He(t))yield*RHe(n,e)},_He=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},aW=(t,e,n,r)=>{const s=DHe(t,e);let i=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){o(),l.close();return}let f=d.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},oW=64*1024,{isFunction:bw}=Fe,PHe=(({Request:t,Response:e})=>({Request:t,Response:e}))(Fe.global),{ReadableStream:lW,TextEncoder:uW}=Fe.global,cW=(t,...e)=>{try{return!!t(...e)}catch{return!1}},MHe=t=>{t=Fe.merge.call({skipUndefined:!0},PHe,t);const{fetch:e,Request:n,Response:r}=t,s=e?bw(e):typeof fetch=="function",i=bw(n),a=bw(r);if(!s)return!1;const o=s&&bw(lW),l=s&&(typeof uW=="function"?(y=>v=>y.encode(v))(new uW):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=i&&o&&cW(()=>{let y=!1;const v=new n(Mi.origin,{body:new lW,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),d=a&&o&&cW(()=>Fe.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(v,b)=>{let w=v&&v[y];if(w)return w.call(v);throw new en(`Response type '${y}' is not supported`,en.ERR_NOT_SUPPORT,b)})});const p=async y=>{if(y==null)return 0;if(Fe.isBlob(y))return y.size;if(Fe.isSpecCompliantForm(y))return(await new n(Mi.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Fe.isArrayBufferView(y)||Fe.isArrayBuffer(y))return y.byteLength;if(Fe.isURLSearchParams(y)&&(y=y+""),Fe.isString(y))return(await l(y)).byteLength},m=async(y,v)=>{const b=Fe.toFiniteNumber(y.getContentLength());return b??p(v)};return async y=>{let{url:v,method:b,data:w,signal:S,cancelToken:C,timeout:T,onDownloadProgress:N,onUploadProgress:O,responseType:_,headers:F,withCredentials:L="same-origin",fetchOptions:z}=vJ(y),P=e||fetch;_=_?(_+"").toLowerCase():"text";let R=OHe([S,C&&C.toAbortSignal()],T),H=null;const q=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let X;try{if(O&&u&&b!=="get"&&b!=="head"&&(X=await m(F,w))!==0){let G=new n(v,{method:"POST",body:w,duplex:"half"}),ne;if(Fe.isFormData(w)&&(ne=G.headers.get("content-type"))&&F.setContentType(ne),G.body){const[ae,be]=rW(X,nC(sW(O)));w=aW(G.body,oW,ae,be)}}Fe.isString(L)||(L=L?"include":"omit");const V=i&&"credentials"in n.prototype,ee={...z,signal:R,method:b.toUpperCase(),headers:F.normalize().toJSON(),body:w,duplex:"half",credentials:V?L:void 0};H=i&&new n(v,ee);let J=await(i?P(H,z):P(v,ee));const te=d&&(_==="stream"||_==="response");if(d&&(N||te&&q)){const G={};["status","statusText","headers"].forEach($e=>{G[$e]=J[$e]});const ne=Fe.toFiniteNumber(J.headers.get("content-length")),[ae,be]=N&&rW(ne,nC(sW(N),!0))||[];J=new r(aW(J.body,oW,ae,()=>{be&&be(),q&&q()}),G)}_=_||"text";let ce=await f[Fe.findKey(f,_)||"text"](J,y);return!te&&q&&q(),await new Promise((G,ne)=>{gJ(G,ne,{data:ce,headers:xa.from(J.headers),status:J.status,statusText:J.statusText,config:y,request:H})})}catch(V){throw q&&q(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new en("Network Error",en.ERR_NETWORK,y,H),{cause:V.cause||V}):en.from(V,V&&V.code,y,H)}}},LHe=new Map,bJ=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,o=a,l,u,d=LHe;for(;o--;)l=i[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:MHe(e)),d=u;return u};bJ();const fL={http:eHe,xhr:AHe,fetch:{get:bJ}};Fe.forEach(fL,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const dW=t=>`- ${t}`,FHe=t=>Fe.isFunction(t)||t===null||t===!1;function zHe(t,e){t=Fe.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let o;if(s=r,!FHe(r)&&(s=fL[(o=String(r)).toLowerCase()],s===void 0))throw new en(`Unknown adapter '${o}'`);if(s&&(Fe.isFunction(s)||(s=s.get(e))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(dW).join(`
`):" "+dW(a[0]):"as no adapter specified";throw new en("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const xJ={getAdapter:zHe,adapters:fL};function X$(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wg(null,t)}function fW(t){return X$(t),t.headers=xa.from(t.headers),t.data=K$.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xJ.getAdapter(t.adapter||px.adapter,t)(t).then(function(r){return X$(t),r.data=K$.call(t,t.transformResponse,r),r.headers=xa.from(r.headers),r},function(r){return mJ(r)||(X$(t),r&&r.response&&(r.response.data=K$.call(t,t.transformResponse,r.response),r.response.headers=xa.from(r.response.headers))),Promise.reject(r)})}const wJ="1.13.2",y2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{y2[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const hW={};y2.transitional=function(e,n,r){function s(i,a){return"[Axios v"+wJ+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new en(s(a," has been removed"+(n?" in "+n:"")),en.ERR_DEPRECATED);return n&&!hW[a]&&(hW[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,o):!0}};y2.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function BHe(t,e,n){if(typeof t!="object")throw new en("options must be an object",en.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=t[i],l=o===void 0||a(o,i,t);if(l!==!0)throw new en("option "+i+" must be "+l,en.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new en("Unknown option "+i,en.ERR_BAD_OPTION)}}const rS={assertOptions:BHe,validators:y2},Ul=rS.validators;let Eh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tW,response:new tW}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Kh(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&rS.assertOptions(r,{silentJSONParsing:Ul.transitional(Ul.boolean),forcedJSONParsing:Ul.transitional(Ul.boolean),clarifyTimeoutError:Ul.transitional(Ul.boolean)},!1),s!=null&&(Fe.isFunction(s)?n.paramsSerializer={serialize:s}:rS.assertOptions(s,{encode:Ul.function,serialize:Ul.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),rS.assertOptions(n,{baseUrl:Ul.spelling("baseURL"),withXsrfToken:Ul.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&Fe.merge(i.common,i[n.method]);i&&Fe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=xa.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!l){const y=[fW.bind(this),void 0];for(y.unshift(...o),y.push(...u),p=y.length,d=Promise.resolve(n);f<p;)d=d.then(y[f++],y[f++]);return d}p=o.length;let m=n;for(;f<p;){const y=o[f++],v=o[f++];try{m=y(m)}catch(b){v.call(this,b);break}}try{d=fW.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Kh(this.defaults,e);const n=yJ(e.baseURL,e.url,e.allowAbsoluteUrls);return fJ(n,e.params,e.paramsSerializer)}};Fe.forEach(["delete","get","head","options"],function(e){Eh.prototype[e]=function(n,r){return this.request(Kh(r||{},{method:e,url:n,data:(r||{}).data}))}});Fe.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,o){return this.request(Kh(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Eh.prototype[e]=n(),Eh.prototype[e+"Form"]=n(!0)});let jHe=class SJ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new Wg(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new SJ(function(s){e=s}),cancel:e}}};function UHe(t){return function(n){return t.apply(null,n)}}function VHe(t){return Fe.isObject(t)&&t.isAxiosError===!0}const dR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dR).forEach(([t,e])=>{dR[e]=t});function CJ(t){const e=new Eh(t),n=eJ(Eh.prototype.request,e);return Fe.extend(n,Eh.prototype,e,{allOwnKeys:!0}),Fe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return CJ(Kh(t,s))},n}const Fr=CJ(px);Fr.Axios=Eh;Fr.CanceledError=Wg;Fr.CancelToken=jHe;Fr.isCancel=mJ;Fr.VERSION=wJ;Fr.toFormData=g2;Fr.AxiosError=en;Fr.Cancel=Fr.CanceledError;Fr.all=function(e){return Promise.all(e)};Fr.spread=UHe;Fr.isAxiosError=VHe;Fr.mergeConfig=Kh;Fr.AxiosHeaders=xa;Fr.formToJSON=t=>pJ(Fe.isHTMLForm(t)?new FormData(t):t);Fr.getAdapter=xJ.getAdapter;Fr.HttpStatusCode=dR;Fr.default=Fr;const{Axios:Tot,AxiosError:Eot,CanceledError:Not,isCancel:$ot,CancelToken:Iot,VERSION:Aot,all:Oot,Cancel:Rot,isAxiosError:Dot,spread:_ot,toFormData:Pot,AxiosHeaders:Mot,HttpStatusCode:Lot,formToJSON:Fot,getAdapter:zot,mergeConfig:Bot}=Fr,Y$="https:/api.example.com";class WHe{constructor(){this.isSyncing=!1,this.syncQueue=[]}async syncConsultations(){if(this.isSyncing)return;const{isOnline:e,queuedConsultations:n,removeConsultation:r}=Ro.getState();if(!(!e||n.length===0)){this.isSyncing=!0;try{for(const s of n)try{(await Fr.post(`${Y$}/consultations`,s,{timeout:1e4})).data.success&&(await Pr.consultations.update(s.id,{synced:!0,status:"synced",syncedAt:new Date().toISOString()}),r(s.id))}catch(i){console.error("Failed to sync consultation:",s.id,i)}}finally{this.isSyncing=!1}}}async syncSymptomAnalysis(e){const{isOnline:n}=Ro.getState();if(!n){await Pr.symptoms.add({...e,synced:!1,createdAt:new Date().toISOString()});return}try{const r=await Fr.post(`${Y$}/symptoms`,e,{timeout:1e4});await Pr.symptoms.add({...e,serverId:r.data.id,synced:!0,createdAt:new Date().toISOString()})}catch(r){console.error("Failed to sync symptom analysis:",r),await Pr.symptoms.add({...e,synced:!1,createdAt:new Date().toISOString()})}}async syncVitals(e){const{isOnline:n}=Ro.getState();if(!n){await Pr.vitals.add({...e,synced:!1,createdAt:new Date().toISOString()});return}try{const r=await Fr.post(`${Y$}/vitals`,e,{timeout:1e4});await Pr.vitals.add({...e,serverId:r.data.id,synced:!0,createdAt:new Date().toISOString()})}catch(r){console.error("Failed to sync vitals:",r),await Pr.vitals.add({...e,synced:!1,createdAt:new Date().toISOString()})}}startAutoSync(){window.addEventListener("online",()=>{console.log("Connection restored. Starting auto-sync..."),setTimeout(()=>{this.syncConsultations()},2e3)})}}const gb=new WHe,HHe=({results:t,language:e})=>{const{t:n}=$a();if(!t||!t.success)return null;const r=a=>{switch(a){case"severe":return D.jsx(xS,{color:"error"});case"moderate":return D.jsx(Qv,{color:"warning"});default:return D.jsx(Km,{color:"success"})}},s=a=>{switch(a){case"severe":return"error";case"moderate":return"warning";default:return"success"}},i=a=>{switch(a){case"urgent":return D.jsx(Li,{severity:"error",icon:D.jsx(xS,{}),children:n("symptoms.triage.urgent")});case"soon":return D.jsx(Li,{severity:"warning",icon:D.jsx(Qv,{}),children:n("symptoms.triage.soon")});default:return D.jsx(Li,{severity:"info",icon:D.jsx(Km,{}),children:n("symptoms.triage.self-care")})}};return D.jsxs($n,{children:[D.jsx(rt,{variant:"h5",gutterBottom:!0,children:n("symptoms.results")}),D.jsx($n,{sx:{mb:3},children:i(t.triage)}),t.primaryDiagnosis&&D.jsx(Ar,{sx:{mb:3},children:D.jsxs(qr,{children:[D.jsxs(vr,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[r(t.primaryDiagnosis.severity),D.jsxs($n,{sx:{flex:1},children:[D.jsx(rt,{variant:"h6",children:t.primaryDiagnosis.name}),D.jsxs(rt,{variant:"body2",color:"text.secondary",children:[n("symptoms.confidence"),": ",t.primaryDiagnosis.confidence,"%"]})]}),D.jsx(Oo,{label:t.primaryDiagnosis.severity,color:s(t.primaryDiagnosis.severity),size:"small"})]}),D.jsx(VD,{variant:"determinate",value:t.primaryDiagnosis.confidence,color:s(t.primaryDiagnosis.severity),sx:{mb:2}}),D.jsx(gc,{sx:{my:2}}),D.jsxs(rt,{variant:"subtitle2",gutterBottom:!0,children:[n("symptoms.advice"),":"]}),D.jsx(rt,{variant:"body2",paragraph:!0,children:t.primaryDiagnosis.advice}),t.primaryDiagnosis.matchedSymptoms&&t.primaryDiagnosis.matchedSymptoms.length>0&&D.jsxs($n,{sx:{mt:2},children:[D.jsx(rt,{variant:"subtitle2",gutterBottom:!0,children:"Matched Symptoms:"}),D.jsx(vr,{direction:"row",spacing:1,flexWrap:"wrap",children:t.primaryDiagnosis.matchedSymptoms.map((a,o)=>D.jsx(Oo,{label:a,size:"small",variant:"outlined",sx:{mb:1}},o))})]})]})}),t.possibleConditions&&t.possibleConditions.length>1&&D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:n("symptoms.possibleConditions")}),D.jsx(Ld,{children:t.possibleConditions.slice(1,4).map((a,o)=>D.jsxs(ls.Fragment,{children:[D.jsxs(oc,{children:[D.jsx(WD,{children:r(a.severity)}),D.jsx(Ql,{primary:a.name[e],secondary:`Confidence: ${Math.round(a.confidence*100)}%`})]}),o<t.possibleConditions.slice(1,4).length-1&&D.jsx(gc,{})]},o))})]})})]})},GHe=()=>{const{t}=$a(),e=KC(),{language:n,addSymptomRecord:r}=Ro(),[s,i]=$.useState(""),[a,o]=$.useState(!1),[l,u]=$.useState(null),[d,f]=$.useState(null),{isListening:p,transcript:m,isSupported:y,startListening:v,resetTranscript:b}=p6e(n);ls.useEffect(()=>{m&&(i(C=>C?`${C}, ${m}`:m),b())},[m,b]);const w=async()=>{if(!s.trim()){f(t("symptoms.inputPlaceholder"));return}o(!0),f(null),u(null);try{const C=await h6e.analyzeSymptoms(s,n);C.success?(u(C),r(C),await gb.syncSymptomAnalysis(C)):f(C.message||"Analysis failed")}catch(C){console.error("Analysis error:",C),f("An error occurred during analysis. Please try again.")}finally{o(!1)}},S=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),w())};return D.jsxs($n,{children:[D.jsx(rt,{variant:"h4",gutterBottom:!0,children:t("symptoms.title")}),D.jsx(rt,{variant:"body1",color:"text.secondary",paragraph:!0,children:t("symptoms.description")}),D.jsx(Ar,{sx:{mb:3,bgcolor:"primary.light"},children:D.jsx(qr,{children:D.jsxs(vr,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[D.jsxs($n,{sx:{flex:1},children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:t("scanner.title")}),D.jsx(rt,{variant:"body2",color:"text.secondary",children:t("scanner.description")})]}),D.jsx(_i,{variant:"contained",startIcon:D.jsx(XD,{}),onClick:()=>e("/visual-scanner"),size:"large",sx:{whiteSpace:"nowrap"},children:t("scanner.startScanning")})]})})}),D.jsx(Ar,{sx:{mb:3},children:D.jsxs(qr,{children:[D.jsx(Ju,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",label:t("symptoms.inputPlaceholder"),value:s,onChange:C=>i(C.target.value),onKeyPress:S,disabled:a,placeholder:"e.g., fever, cough, headache, body ache..."}),D.jsxs(vr,{direction:"row",spacing:2,sx:{mt:2},children:[D.jsx(_i,{variant:"contained",startIcon:a?D.jsx(tf,{size:20}):D.jsx(YD,{}),onClick:w,disabled:a||!s.trim(),fullWidth:!0,children:t(a?"symptoms.analyzing":"common.submit")}),y&&D.jsx(Oh,{color:p?"error":"primary",onClick:v,disabled:a,sx:{border:1,borderColor:p?"error.main":"primary.main"},children:D.jsx(Nge,{})})]}),p&&D.jsx(Li,{severity:"info",sx:{mt:2},children:"Listening... Speak now"}),d&&D.jsx(Li,{severity:"error",sx:{mt:2},children:d})]})}),l&&D.jsx(HHe,{results:l,language:n}),D.jsx(ef,{sx:{p:2,bgcolor:"info.light",mt:3},children:D.jsxs(vr,{direction:"row",spacing:1,alignItems:"flex-start",children:[D.jsx(_8,{color:"info"}),D.jsx($n,{children:D.jsxs(rt,{variant:"body2",color:"text.primary",children:[D.jsx("strong",{children:"Note:"})," This tool provides general health information and is not a substitute for professional medical advice. Always consult with a healthcare provider for accurate diagnosis and treatment."]})})]})})]})};class qHe{constructor(){this.model=null,this.initializeModel()}async initializeModel(){try{this.model=await lL.loadVitalsPredictor()}catch(e){console.error("Failed to initialize vitals predictor:",e)}}normalizeVitals(e){const n={systolic:(e.systolic-90)/90,diastolic:(e.diastolic-60)/60,pulse:(e.pulse-50)/100,temperature:(e.temperature-35)/7,weight:e.weight?(e.weight-30)/120:0,age:(e.age-18)/82};return Object.values(n)}assessRuleBasedRisk(e){const n=[];let r="low";return e.systolic>=140||e.diastolic>=90?(n.push({type:"hypertension",severity:e.systolic>=180||e.diastolic>=120?"critical":"high",message:{en:"High blood pressure detected. Seek medical attention.",bn:"      "}}),r="high"):(e.systolic<90||e.diastolic<60)&&(n.push({type:"hypotension",severity:"moderate",message:{en:"Low blood pressure. Monitor closely and consult if symptoms worsen.",bn:"          "}}),r=r==="low"?"moderate":r),e.pulse>100?(n.push({type:"tachycardia",severity:e.pulse>120?"high":"moderate",message:{en:"Elevated heart rate. Rest and monitor. Consult doctor if persistent.",bn:"            "}}),r=r==="low"?"moderate":r):e.pulse<60&&n.push({type:"bradycardia",severity:"moderate",message:{en:"Low heart rate detected. Monitor and consult if you feel dizzy or weak.",bn:"           "}}),e.temperature>=38&&(n.push({type:"fever",severity:e.temperature>=39.5?"high":"moderate",message:{en:"Fever detected. Stay hydrated and take paracetamol if needed.",bn:"        "}}),r=e.temperature>=39.5?"high":r==="low"?"moderate":r),{risks:n,overallRisk:r}}async predictRisk(e){try{const n=this.assessRuleBasedRisk(e);let r=0;if(this.model)try{const i=this.normalizeVitals(e),a=ou([i],[1,i.length]),o=await this.model.predict(a);r=(await o.data())[0],o.dispose(),a.dispose()}catch(i){console.error("AI prediction error:",i)}const s=n.risks.length>0?Math.max(r,n.risks[0].severity==="critical"?.9:.6):r;return{success:!0,riskScore:Math.round(s*100),riskLevel:this.getRiskLevel(s),detectedRisks:n.risks,recommendations:this.generateRecommendations(n,e),timestamp:new Date().toISOString()}}catch(n){return console.error("Vitals prediction error:",n),{success:!1,error:n.message}}}getRiskLevel(e){return e>=.7?"high":e>=.4?"moderate":"low"}generateRecommendations(e,n){const r={en:[],bn:[]};return e.overallRisk==="high"?(r.en.push("Seek immediate medical attention"),r.bn.push("   ")):e.overallRisk==="moderate"&&(r.en.push("Monitor vitals regularly and consult doctor within 24-48 hours"),r.bn.push("     -     ")),r.en.push("Maintain a healthy lifestyle with proper diet and exercise"),r.bn.push("         "),r}}const KHe=new qHe;var XHe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hL(t){if(typeof t!="string")return!1;var e=XHe;return e.includes(t)}var YHe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZHe=new Set(YHe);function kJ(t){return typeof t!="string"?!1:ZHe.has(t)}function TJ(t){return typeof t=="string"&&t.startsWith("data-")}function yu(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(kJ(n)||TJ(n))&&(e[n]=t[n]);return e}function v2(t){if(t==null)return null;if($.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return yu(e)}return typeof t=="object"&&!Array.isArray(t)?yu(t):null}function ea(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(kJ(n)||TJ(n)||hL(n))&&(e[n]=t[n]);return e}function QHe(t){return t==null?null:$.isValidElement(t)?ea(t.props):typeof t=="object"&&!Array.isArray(t)?ea(t):null}var JHe=["children","width","height","viewBox","className","style","title","desc"];function fR(){return fR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fR.apply(null,arguments)}function eGe(t,e){if(t==null)return{};var n,r,s=tGe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function tGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pL=$.forwardRef((t,e)=>{var{children:n,width:r,height:s,viewBox:i,className:a,style:o,title:l,desc:u}=t,d=eGe(t,JHe),f=i||{width:r,height:s,x:0,y:0},p=et("recharts-surface",a);return $.createElement("svg",fR({},ea(d),{className:p,width:r,height:s,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),$.createElement("title",null,l),$.createElement("desc",null,u),n)}),nGe=["children","className"];function hR(){return hR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hR.apply(null,arguments)}function rGe(t,e){if(t==null)return{};var n,r,s=sGe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function sGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xd=$.forwardRef((t,e)=>{var{children:n,className:r}=t,s=rGe(t,nGe),i=et("recharts-layer",r);return $.createElement("g",hR({className:i},ea(s),{ref:e}),n)}),EJ=$.createContext(null),iGe=()=>$.useContext(EJ);function cr(t){return function(){return t}}const NJ=Math.cos,rC=Math.sin,El=Math.sqrt,sC=Math.PI,b2=2*sC,pR=Math.PI,mR=2*pR,oh=1e-6,aGe=mR-oh;function $J(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function oGe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $J;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class lGe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$J:oGe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,a){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+a}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,l=r-e,u=s-n,d=a-e,f=o-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>oh)if(!(Math.abs(f*l-u*d)>oh)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=s-o,v=l*l+u*u,b=m*m+y*y,w=Math.sqrt(v),S=Math.sqrt(p),C=i*Math.tan((pR-Math.acos((v+p-b)/(2*w*S)))/2),T=C/S,N=C/w;Math.abs(T-1)>oh&&this._append`L${e+T*d},${n+T*f}`,this._append`A${i},${i},0,0,${+(f*m>d*y)},${this._x1=e+N*l},${this._y1=n+N*u}`}}arc(e,n,r,s,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(s),l=r*Math.sin(s),u=e+o,d=n+l,f=1^a,p=a?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>oh||Math.abs(this._y1-d)>oh)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%mR+mR),p>aGe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>oh&&this._append`A${r},${r},0,${+(p>=pR)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function mL(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lGe(e)}function gL(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IJ(t){this._context=t}IJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function x2(t){return new IJ(t)}function AJ(t){return t[0]}function OJ(t){return t[1]}function RJ(t,e){var n=cr(!0),r=null,s=x2,i=null,a=mL(o);t=typeof t=="function"?t:t===void 0?AJ:cr(t),e=typeof e=="function"?e:e===void 0?OJ:cr(e);function o(l){var u,d=(l=gL(l)).length,f,p=!1,m;for(r==null&&(i=s(m=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,u,l),+e(f,u,l));if(m)return i=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:cr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:cr(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:cr(!!l),o):n},o.curve=function(l){return arguments.length?(s=l,r!=null&&(i=s(r)),o):s},o.context=function(l){return arguments.length?(l==null?r=i=null:i=s(r=l),o):r},o}function xw(t,e,n){var r=null,s=cr(!0),i=null,a=x2,o=null,l=mL(u);t=typeof t=="function"?t:t===void 0?AJ:cr(+t),e=typeof e=="function"?e:cr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?OJ:cr(+n);function u(f){var p,m,y,v=(f=gL(f)).length,b,w=!1,S,C=new Array(v),T=new Array(v);for(i==null&&(o=a(S=l())),p=0;p<=v;++p){if(!(p<v&&s(b=f[p],p,f))===w)if(w=!w)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=m;--y)o.point(C[y],T[y]);o.lineEnd(),o.areaEnd()}w&&(C[p]=+t(b,p,f),T[p]=+e(b,p,f),o.point(r?+r(b,p,f):C[p],n?+n(b,p,f):T[p]))}if(S)return o=null,S+""||null}function d(){return RJ().defined(s).curve(a).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:cr(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:cr(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:cr(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:cr(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:cr(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:cr(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:cr(!!f),u):s},u.curve=function(f){return arguments.length?(a=f,i!=null&&(o=a(i)),u):a},u.context=function(f){return arguments.length?(f==null?i=o=null:o=a(i=f),u):i},u}class DJ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uGe(t){return new DJ(t,!0)}function cGe(t){return new DJ(t,!1)}const yL={draw(t,e){const n=El(e/sC);t.moveTo(n,0),t.arc(0,0,n,0,b2)}},dGe={draw(t,e){const n=El(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_J=El(1/3),fGe=_J*2,hGe={draw(t,e){const n=El(e/fGe),r=n*_J;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pGe={draw(t,e){const n=El(e),r=-n/2;t.rect(r,r,n,n)}},mGe=.8908130915292852,PJ=rC(sC/10)/rC(7*sC/10),gGe=rC(b2/10)*PJ,yGe=-NJ(b2/10)*PJ,vGe={draw(t,e){const n=El(e*mGe),r=gGe*n,s=yGe*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const a=b2*i/5,o=NJ(a),l=rC(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*s,l*r+o*s)}t.closePath()}},Z$=El(3),bGe={draw(t,e){const n=-El(e/(Z$*3));t.moveTo(0,n*2),t.lineTo(-Z$*n,-n),t.lineTo(Z$*n,-n),t.closePath()}},yo=-.5,vo=El(3)/2,gR=1/El(12),xGe=(gR/2+1)*3,wGe={draw(t,e){const n=El(e/xGe),r=n/2,s=n*gR,i=r,a=n*gR+n,o=-i,l=a;t.moveTo(r,s),t.lineTo(i,a),t.lineTo(o,l),t.lineTo(yo*r-vo*s,vo*r+yo*s),t.lineTo(yo*i-vo*a,vo*i+yo*a),t.lineTo(yo*o-vo*l,vo*o+yo*l),t.lineTo(yo*r+vo*s,yo*s-vo*r),t.lineTo(yo*i+vo*a,yo*a-vo*i),t.lineTo(yo*o+vo*l,yo*l-vo*o),t.closePath()}};function SGe(t,e){let n=null,r=mL(s);t=typeof t=="function"?t:cr(t||yL),e=typeof e=="function"?e:cr(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:cr(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:cr(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function iC(){}function aC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function MJ(t){this._context=t}MJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CGe(t){return new MJ(t)}function LJ(t){this._context=t}LJ.prototype={areaStart:iC,areaEnd:iC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:aC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kGe(t){return new LJ(t)}function FJ(t){this._context=t}FJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:aC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TGe(t){return new FJ(t)}function zJ(t){this._context=t}zJ.prototype={areaStart:iC,areaEnd:iC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EGe(t){return new zJ(t)}function pW(t){return t<0?-1:1}function mW(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),a=(n-t._y1)/(s||r<0&&-0),o=(i*s+a*r)/(r+s);return(pW(i)+pW(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(o))||0}function gW(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Q$(t,e,n){var r=t._x0,s=t._y0,i=t._x1,a=t._y1,o=(i-r)/3;t._context.bezierCurveTo(r+o,s+o*e,i-o,a-o*n,i,a)}function oC(t){this._context=t}oC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q$(this,this._t0,gW(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Q$(this,gW(this,n=mW(this,t,e)),n);break;default:Q$(this,this._t0,n=mW(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function BJ(t){this._context=new jJ(t)}(BJ.prototype=Object.create(oC.prototype)).point=function(t,e){oC.prototype.point.call(this,e,t)};function jJ(t){this._context=t}jJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function NGe(t){return new oC(t)}function $Ge(t){return new BJ(t)}function UJ(t){this._context=t}UJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yW(t),s=yW(e),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yW(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),a=new Array(n);for(s[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,a[e]-=r*a[e-1];for(s[n-1]=a[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(a[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function IGe(t){return new UJ(t)}function w2(t,e){this._context=t,this._t=e}w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function AGe(t){return new w2(t,.5)}function OGe(t){return new w2(t,0)}function RGe(t){return new w2(t,1)}function Xh(t,e){if((a=t.length)>1)for(var n=1,r,s,i=t[e[0]],a,o=i.length;n<a;++n)for(s=i,i=t[e[n]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function yR(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function DGe(t,e){return t[e]}function _Ge(t){const e=[];return e.key=t,e}function PGe(){var t=cr([]),e=yR,n=Xh,r=DGe;function s(i){var a=Array.from(t.apply(this,arguments),_Ge),o,l=a.length,u=-1,d;for(const f of i)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(f,a[o].key,u,i)]).data=f;for(o=0,d=gL(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:cr(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:cr(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?yR:typeof i=="function"?i:cr(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??Xh,s):n},s}function MGe(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,a;s<i;++s){for(a=n=0;n<r;++n)a+=t[n][s][1]||0;if(a)for(n=0;n<r;++n)t[n][s][1]/=a}Xh(t,e)}}function LGe(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var a=0,o=0;a<s;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Xh(t,e)}}function FGe(t,e){if(!(!((a=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,a;r<i;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,y=0;y<o;++y){var v=t[e[y]],b=v[r][1]||0,w=v[r-1][1]||0;m+=b-w}l+=f,u+=m*f}s[r-1][1]+=s[r-1][0]=n,l&&(n-=u/l)}s[r-1][1]+=s[r-1][0]=n,Xh(t,e)}}var J$={},eI={},vW;function zGe(){return vW||(vW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(eI)),eI}var tI={},bW;function VJ(){return bW||(bW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(tI)),tI}var nI={},xW;function vL(){return xW||(xW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(nI)),nI}var rI={},sI={},wW;function BGe(){return wW||(wW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(sI)),sI}var SW;function bL(){return SW||(SW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BGe(),n=vL();function r(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=e.toString(s);const i=[],a=s.length;if(a===0)return i;let o=0,l="",u="",d=!1;for(s.charCodeAt(0)===46&&(i.push(""),o++);o<a;){const f=s[o];u?f==="\\"&&o+1<a?(o++,l+=s[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,o++}return l&&i.push(l),i}t.toPath=r})(rI)),rI}var CW;function xL(){return CW||(CW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zGe(),n=VJ(),r=vL(),s=bL();function i(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?i(o,s.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||e.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}t.get=i})(J$)),J$}var iI,kW;function jGe(){return kW||(kW=1,iI=xL().get),iI}var UGe=jGe();const S2=Ja(UGe);var VGe=4;function $d(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VGe,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Hr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((s,i,a)=>{var o=n[a-1];return typeof o=="string"?s+o+i:o!==void 0?s+$d(o)+i:s+i},"")}var Io=t=>t===0?0:t>0?1:-1,vu=t=>typeof t=="number"&&t!=+t,wc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Rt=t=>(typeof t=="number"||t instanceof Number)&&!vu(t),bu=t=>Rt(t)||typeof t=="string",WGe=0,yb=t=>{var e=++WGe;return"".concat(t||"").concat(e)},Yd=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Rt(e)&&typeof e!="string")return r;var i;if(wc(e)){if(n==null)return r;var a=e.indexOf("%");i=n*parseFloat(e.slice(0,a))/100}else i=+e;return vu(i)&&(i=r),s&&n!=null&&i>n&&(i=n),i},WJ=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function ma(t,e,n){return Rt(t)&&Rt(e)?$d(t+n*(e-t)):e}function HJ(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):S2(r,e))===n)}var ei=t=>t===null||typeof t>"u",mx=t=>ei(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function HGe(t){return t!=null}function gx(){}var GGe=["type","size","sizeType"];function vR(){return vR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vR.apply(null,arguments)}function TW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function EW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TW(Object(n),!0).forEach(function(r){qGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qGe(t,e,n){return(e=KGe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KGe(t){var e=XGe(t,"string");return typeof e=="symbol"?e:e+""}function XGe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YGe(t,e){if(t==null)return{};var n,r,s=ZGe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function ZGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GJ={symbolCircle:yL,symbolCross:dGe,symbolDiamond:hGe,symbolSquare:pGe,symbolStar:vGe,symbolTriangle:bGe,symbolWye:wGe},QGe=Math.PI/180,JGe=t=>{var e="symbol".concat(mx(t));return GJ[e]||yL},eqe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*QGe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tqe=(t,e)=>{GJ["symbol".concat(mx(t))]=e},wL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,s=YGe(t,GGe),i=EW(EW({},s),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var p=JGe(a),m=SGe().type(p).size(eqe(n,r,a)),y=m();if(y!==null)return y},{className:l,cx:u,cy:d}=i,f=ea(i);return Rt(u)&&Rt(d)&&Rt(n)?$.createElement("path",vR({},f,{className:et("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};wL.registerSymbol=tqe;var qJ=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,SL=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if($.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{hL(s)&&(r[s]=(i=>n[s](n,i)))}),r},nqe=(t,e,n)=>r=>(t(e,n,r),null),KJ=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(s=>{var i=t[s];hL(s)&&typeof i=="function"&&(r||(r={}),r[s]=nqe(i,e,n))}),r};function NW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rqe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(n),!0).forEach(function(r){sqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sqe(t,e,n){return(e=iqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iqe(t){var e=aqe(t,"string");return typeof e=="symbol"?e:e+""}function aqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ui(t,e){var n=rqe({},t),r=e,s=Object.keys(e),i=s.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return i}function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lC.apply(null,arguments)}function $W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function oqe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$W(Object(n),!0).forEach(function(r){lqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lqe(t,e,n){return(e=uqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uqe(t){var e=cqe(t,"string");return typeof e=="symbol"?e:e+""}function cqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xo=32,dqe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function fqe(t){var{data:e,iconType:n,inactiveColor:r}=t,s=xo/2,i=xo/6,a=xo/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var u;return $.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:s,x2:xo,y2:s,className:"recharts-legend-icon"})}if(l==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(xo,"M").concat(2*a,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(l==="rect")return $.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(xo/8,"h").concat(xo,"v").concat(xo*3/4,"h").concat(-xo,"z"),className:"recharts-legend-icon"});if($.isValidElement(e.legendIcon)){var d=oqe({},e);return delete d.legendIcon,$.cloneElement(e.legendIcon,d)}return $.createElement(wL,{fill:o,cx:s,cy:s,size:xo,sizeType:"diameter",type:l})}function hqe(t){var{payload:e,iconSize:n,layout:r,formatter:s,inactiveColor:i,iconType:a}=t,o={x:0,y:0,width:xo,height:xo},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var p=d.formatter||s,m=et({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?i:d.color,v=p?p(d.value,d,f):d.value;return $.createElement("li",lC({className:m,style:l,key:"legend-item-".concat(f)},KJ(t,d,f)),$.createElement(pL,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(v," legend icon")},$.createElement(fqe,{data:d,iconType:a,inactiveColor:i})),$.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}var pqe=t=>{var e=Ui(t,dqe),{payload:n,layout:r,align:s}=e;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:i},$.createElement(hqe,lC({},e,{payload:n})))},aI={},oI={},IW;function mqe(){return IW||(IW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const s=new Map;for(let i=0;i<n.length;i++){const a=n[i],o=r(a);s.has(o)||s.set(o,a)}return Array.from(s.values())}t.uniqBy=e})(oI)),oI}var lI={},AW;function XJ(){return AW||(AW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(lI)),lI}var uI={},cI={},dI={},OW;function gqe(){return OW||(OW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(dI)),dI}var RW;function CL(){return RW||(RW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gqe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(cI)),cI}var fI={},DW;function yqe(){return DW||(DW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(fI)),fI}var _W;function vqe(){return _W||(_W=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CL(),n=yqe();function r(s){return n.isObjectLike(s)&&e.isArrayLike(s)}t.isArrayLikeObject=r})(uI)),uI}var hI={},pI={},PW;function bqe(){return PW||(PW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL();function n(r){return function(s){return e.get(s,r)}}t.property=n})(pI)),pI}var mI={},gI={},yI={},vI={},MW;function YJ(){return MW||(MW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(vI)),vI}var bI={},LW;function ZJ(){return LW||(LW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(bI)),bI}var xI={},FW;function QJ(){return FW||(FW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(xI)),xI}var zW;function xqe(){return zW||(zW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YJ(),n=ZJ(),r=QJ();function s(d,f,p){return typeof p!="function"?s(d,f,()=>{}):i(d,f,function m(y,v,b,w,S,C){const T=p(y,v,b,w,S,C);return T!==void 0?!!T:i(y,v,m,C)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.eq(d,f);default:return e.isObject(d)?typeof f=="string"?f==="":!0:r.eq(d,f)}}function a(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return o(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const y=Object.keys(f);if(d==null||n.isPrimitive(d))return y.length===0;if(y.length===0)return!0;if(m?.has(f))return m.get(f)===d;m?.set(f,d);try{for(let v=0;v<y.length;v++){const b=y[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!p(d[b],f[b],b,d,f,m))return!1}return!0}finally{m?.delete(f)}}function o(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,v]of f.entries()){const b=d.get(y);if(p(b,v,y,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let v=0;v<f.length;v++){const b=f[v];let w=!1;for(let S=0;S<d.length;S++){if(y.has(S))continue;const C=d[S];let T=!1;if(p(C,b,v,d,f,m)&&(T=!0),T){y.add(S),w=!0;break}}if(!w)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}t.isMatchWith=s,t.isSetMatch=u})(yI)),yI}var BW;function JJ(){return BW||(BW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xqe();function n(r,s){return e.isMatchWith(r,s,()=>{})}t.isMatch=n})(gI)),gI}var wI={},SI={},CI={},jW;function wqe(){return jW||(jW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(CI)),CI}var kI={},UW;function eee(){return UW||(UW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(kI)),kI}var TI={},VW;function tee(){return VW||(VW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",i="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",y="[object Error]",v="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]",T="[object BigUint64Array]",N="[object Int8Array]",O="[object Int16Array]",_="[object Int32Array]",F="[object BigInt64Array]",L="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=p,t.arrayTag=d,t.bigInt64ArrayTag=F,t.bigUint64ArrayTag=T,t.booleanTag=s,t.dataViewTag=v,t.dateTag=o,t.errorTag=y,t.float32ArrayTag=L,t.float64ArrayTag=z,t.functionTag=f,t.int16ArrayTag=O,t.int32ArrayTag=_,t.int8ArrayTag=N,t.mapTag=l,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=S,t.uint32ArrayTag=C,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=w})(TI)),TI}var EI={},WW;function Sqe(){return WW||(WW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(EI)),EI}var HW;function nee(){return HW||(HW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wqe(),n=eee(),r=tee(),s=ZJ(),i=Sqe();function a(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,p,m=new Map,y=void 0){const v=y?.(d,f,p,m);if(v!==void 0)return v;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let w=0;w<d.length;w++)b[w]=o(d[w],w,p,m,y);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[w,S]of d)b.set(w,o(S,w,p,m,y));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const w of d)b.add(o(w,void 0,p,m,y));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let w=0;w<d.length;w++)b[w]=o(d[w],w,p,m,y);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),l(b,d,p,m,y),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),l(b,d,p,m,y),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),l(b,d,p,m,y),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,p,m,y),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),l(b,d,p,m,y),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),l(b,d,p,m,y),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),l(b,d,p,m,y),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),l(b,d,p,m,y),b}return d}function l(d,f,p=d,m,y){const v=[...Object.keys(f),...e.getSymbols(f)];for(let b=0;b<v.length;b++){const w=v[b],S=Object.getOwnPropertyDescriptor(d,w);(S==null||S.writable)&&(d[w]=o(f[w],w,p,m,y))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(SI)),SI}var GW;function Cqe(){return GW||(GW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nee();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(wI)),wI}var qW;function kqe(){return qW||(qW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JJ(),n=Cqe();function r(s){return s=n.cloneDeep(s),i=>e.isMatch(i,s)}t.matches=r})(mI)),mI}var NI={},$I={},II={},KW;function Tqe(){return KW||(KW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nee(),n=tee();function r(s,i){return e.cloneDeepWith(s,(a,o,l,u)=>{const d=i?.(a,o,l,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new s.constructor(s?.valueOf());return e.copyProperties(f,s),f}case n.argumentsTag:{const f={};return e.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(II)),II}var XW;function Eqe(){return XW||(XW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tqe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})($I)),$I}var AI={},OI={},YW;function ree(){return YW||(YW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(OI)),OI}var RI={},ZW;function Nqe(){return ZW||(ZW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eee();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(RI)),RI}var QW;function $qe(){return QW||(QW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VJ(),n=ree(),r=Nqe(),s=bL();function i(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&a?.[o]==null?l=s.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=i})(AI)),AI}var JW;function Iqe(){return JW||(JW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JJ(),n=vL(),r=Eqe(),s=xL(),i=$qe();function a(o,l){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=s.get(u,o);return d===void 0?i.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=a})(NI)),NI}var e5;function Aqe(){return e5||(e5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XJ(),n=bqe(),r=kqe(),s=Iqe();function i(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?s.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=i})(hI)),hI}var t5;function Oqe(){return t5||(t5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mqe(),n=XJ(),r=vqe(),s=Aqe();function i(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),s.iteratee(o)):[]}t.uniqBy=i})(aI)),aI}var DI,n5;function Rqe(){return n5||(n5=1,DI=Oqe().uniqBy),DI}var Dqe=Rqe();const r5=Ja(Dqe);function see(t,e,n){return e===!0?r5(t,n):typeof e=="function"?r5(t,e):t}var _I={exports:{}},PI={};var s5;function _qe(){if(s5)return PI;s5=1;var t=pg(),e=V8();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return PI.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function w(O){if(!S){if(S=!0,C=O,O=p(O),m!==void 0&&v.hasValue){var _=v.value;if(m(_,O))return T=_}return T=O}if(_=T,r(C,O))return _;var F=p(O);return m!==void 0&&m(_,F)?(C=O,_):(C=O,T=F)}var S=!1,C,T,N=f===void 0?null:f;return[function(){return w(d())},N===null?void 0:function(){return w(N())}]},[d,f,p,m]);var b=s(u,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),l(b),b},PI}var i5;function Pqe(){return i5||(i5=1,_I.exports=_qe()),_I.exports}var Mqe=Pqe(),kL=$.createContext(null),Lqe=t=>t,Os=()=>{var t=$.useContext(kL);return t?t.store.dispatch:Lqe},sS=()=>{},Fqe=()=>sS,zqe=(t,e)=>t===e;function Mt(t){var e=$.useContext(kL);return Mqe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Fqe,e?e.store.getState:sS,e?e.store.getState:sS,e?t:sS,zqe)}function Bqe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function jqe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Uqe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var a5=t=>Array.isArray(t)?t:[t];function Vqe(t){const e=Array.isArray(t[0])?t[0]:t;return Uqe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Wqe(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var Hqe=class{constructor(t){this.value=t}deref(){return this.value}},Gqe=typeof WeakRef<"u"?WeakRef:Hqe,qqe=0,o5=1;function ww(){return{s:qqe,v:void 0,o:null,p:null}}function iee(t,e={}){let n=ww();const{resultEqualityCheck:r}=e;let s,i=0;function a(){let o=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(m);v===void 0?(o=ww(),y.set(m,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(m);v===void 0?(o=ww(),y.set(m,o)):o=v}}const u=o;let d;if(o.s===o5)d=o.v;else if(d=t.apply(null,arguments),i++,r){const f=s?.deref?.()??s;f!=null&&r(f,d)&&(d=f,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new Gqe(d):d}return u.s=o5,u.v=d,d}return a.clearCache=()=>{n=ww(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function Kqe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let i=0,a=0,o,l={},u=s.pop();typeof u=="object"&&(l=u,u=s.pop()),Bqe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=iee,argsMemoizeOptions:y=[]}=d,v=a5(p),b=a5(y),w=Vqe(s),S=f(function(){return i++,u.apply(null,arguments)},...v),C=m(function(){a++;const N=Wqe(w,arguments);return o=S.apply(null,N),o},...b);return Object.assign(C,{resultFunc:u,memoizedResultFunc:S,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Ue=Kqe(iee),Xqe=Object.assign((t,e=Ue)=>{jqe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>Xqe}),MI={},LI={},FI={},l5;function Yqe(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,i)=>{if(r!==s){const a=e(r),o=e(s);if(a===o&&a===0){if(r<s)return i==="desc"?1:-1;if(r>s)return i==="desc"?-1:1}return i==="desc"?o-a:a-o}return 0};t.compareValues=n})(FI)),FI}var zI={},BI={},u5;function aee(){return u5||(u5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(BI)),BI}var c5;function Zqe(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aee(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,a){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||e.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||a!=null&&Object.hasOwn(a,i)}t.isKey=s})(zI)),zI}var d5;function Qqe(){return d5||(d5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yqe(),n=Zqe(),r=bL();function s(i,a,o,l){if(i==null)return[];o=l?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,y)=>{let v=m;for(let b=0;b<y.length&&v!=null;++b)v=v[y[b]];return v},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let v=0;v<f.length;v++){const b=e.compareValues(m.criteria[v],y.criteria[v],o[v]);if(b!==0)return b}return 0}).map(m=>m.original)}t.orderBy=s})(LI)),LI}var jI={},f5;function Jqe(){return f5||(f5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const s=[],i=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<i?a(d,l+1):s.push(d)}};return a(n,0),s}t.flatten=e})(jI)),jI}var UI={},h5;function oee(){return h5||(h5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ree(),n=CL(),r=YJ(),s=QJ();function i(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?s.eq(l[o],a):!1}t.isIterateeCall=i})(UI)),UI}var p5;function e8e(){return p5||(p5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qqe(),n=Jqe(),r=oee();function s(i,...a){const o=a.length;return o>1&&r.isIterateeCall(i,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(i,n.flatten(a),["asc"])}t.sortBy=s})(MI)),MI}var VI,m5;function t8e(){return m5||(m5=1,VI=e8e().sortBy),VI}var n8e=t8e();const C2=Ja(n8e);var lee=t=>t.legend.settings,r8e=t=>t.legend.size,s8e=t=>t.legend.payload,i8e=Ue([s8e,lee],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?C2(r,n):r});function a8e(){return Mt(i8e)}var Sw=1;function uee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=$.useState({height:0,left:0,top:0,width:0}),r=$.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),a={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(a.height-e.height)>Sw||Math.abs(a.left-e.left)>Sw||Math.abs(a.top-e.top)>Sw||Math.abs(a.width-e.width)>Sw)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function pi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var o8e=typeof Symbol=="function"&&Symbol.observable||"@@observable",g5=o8e,WI=()=>Math.random().toString(36).substring(7).split("").join("."),l8e={INIT:`@@redux/INIT${WI()}`,REPLACE:`@@redux/REPLACE${WI()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${WI()}`},uC=l8e;function TL(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cee(t,e,n){if(typeof t!="function")throw new Error(pi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pi(1));return n(cee)(t,e)}let r=t,s=e,i=new Map,a=i,o=0,l=!1;function u(){a===i&&(a=new Map,i.forEach((b,w)=>{a.set(w,b)}))}function d(){if(l)throw new Error(pi(3));return s}function f(b){if(typeof b!="function")throw new Error(pi(4));if(l)throw new Error(pi(5));let w=!0;u();const S=o++;return a.set(S,b),function(){if(w){if(l)throw new Error(pi(6));w=!1,u(),a.delete(S),i=null}}}function p(b){if(!TL(b))throw new Error(pi(7));if(typeof b.type>"u")throw new Error(pi(8));if(typeof b.type!="string")throw new Error(pi(17));if(l)throw new Error(pi(9));try{l=!0,s=r(s,b)}finally{l=!1}return(i=a).forEach(S=>{S()}),b}function m(b){if(typeof b!="function")throw new Error(pi(10));r=b,p({type:uC.REPLACE})}function y(){const b=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(pi(11));function S(){const T=w;T.next&&T.next(d())}return S(),{unsubscribe:b(S)}},[g5](){return this}}}return p({type:uC.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[g5]:y}}function u8e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:uC.INIT})>"u")throw new Error(pi(12));if(typeof n(void 0,{type:uC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pi(13))})}function dee(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const a=e[i];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let s;try{u8e(n)}catch(i){s=i}return function(a={},o){if(s)throw s;let l=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],p=n[f],m=a[f],y=p(m,o);if(typeof y>"u")throw o&&o.type,new Error(pi(14));u[f]=y,l=l||y!==m}return l=l||r.length!==Object.keys(a).length,l?u:a}}function cC(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function c8e(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(pi(15))};const a={getState:s.getState,dispatch:(l,...u)=>i(l,...u)},o=t.map(l=>l(a));return i=cC(...o)(s.dispatch),{...s,dispatch:i}}}function fee(t){return TL(t)&&"type"in t&&typeof t.type=="string"}var hee=Symbol.for("immer-nothing"),y5=Symbol.for("immer-draftable"),ta=Symbol.for("immer-state");function il(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var qa=Object,lg=qa.getPrototypeOf,dC="constructor",k2="prototype",bR="configurable",fC="enumerable",iS="writable",vb="value",Sc=t=>!!t&&!!t[ta];function xl(t){return t?pee(t)||T2(t)||!!t[y5]||!!t[dC]?.[y5]||E2(t)||N2(t):!1}var d8e=qa[k2][dC].toString(),v5=new WeakMap;function pee(t){if(!t||!EL(t))return!1;const e=lg(t);if(e===null||e===qa[k2])return!0;const n=qa.hasOwnProperty.call(e,dC)&&e[dC];if(n===Object)return!0;if(!Nm(n))return!1;let r=v5.get(n);return r===void 0&&(r=Function.toString.call(n),v5.set(n,r)),r===d8e}function yx(t,e,n=!0){vx(t)===0?(n?Reflect.ownKeys(t):qa.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((r,s)=>e(s,r,t))}function vx(t){const e=t[ta];return e?e.type_:T2(t)?1:E2(t)?2:N2(t)?3:0}var b5=(t,e,n=vx(t))=>n===2?t.has(e):qa[k2].hasOwnProperty.call(t,e),xR=(t,e,n=vx(t))=>n===2?t.get(e):t[e],hC=(t,e,n,r=vx(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function f8e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var T2=Array.isArray,E2=t=>t instanceof Map,N2=t=>t instanceof Set,EL=t=>typeof t=="object",Nm=t=>typeof t=="function",HI=t=>typeof t=="boolean";function h8e(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var rc=t=>t.copy_||t.base_,NL=t=>t.modified_?t.copy_:t.base_;function wR(t,e){if(E2(t))return new Map(t);if(N2(t))return new Set(t);if(T2(t))return Array[k2].slice.call(t);const n=pee(t);if(e===!0||e==="class_only"&&!n){const r=qa.getOwnPropertyDescriptors(t);delete r[ta];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const a=s[i],o=r[a];o[iS]===!1&&(o[iS]=!0,o[bR]=!0),(o.get||o.set)&&(r[a]={[bR]:!0,[iS]:!0,[fC]:o[fC],[vb]:t[a]})}return qa.create(lg(t),r)}else{const r=lg(t);if(r!==null&&n)return{...t};const s=qa.create(r);return qa.assign(s,t)}}function $L(t,e=!1){return $2(t)||Sc(t)||!xl(t)||(vx(t)>1&&qa.defineProperties(t,{set:Cw,add:Cw,clear:Cw,delete:Cw}),qa.freeze(t),e&&yx(t,(n,r)=>{$L(r,!0)},!1)),t}function p8e(){il(2)}var Cw={[vb]:p8e};function $2(t){return t===null||!EL(t)?!0:qa.isFrozen(t)}var pC="MapSet",SR="Patches",x5="ArrayMethods",mee={};function Yh(t){const e=mee[t];return e||il(0,t),e}var w5=t=>!!mee[t],bb,gee=()=>bb,m8e=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:w5(pC)?Yh(pC):void 0,arrayMethodsPlugin_:w5(x5)?Yh(x5):void 0});function S5(t,e){e&&(t.patchPlugin_=Yh(SR),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function CR(t){kR(t),t.drafts_.forEach(g8e),t.drafts_=null}function kR(t){t===bb&&(bb=t.parent_)}var C5=t=>bb=m8e(bb,t);function g8e(t){const e=t[ta];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function k5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ta].modified_&&(CR(e),il(4)),xl(t)&&(t=T5(e,t));const{patchPlugin_:s}=e;s&&s.generateReplacementPatches_(n[ta].base_,t,e)}else t=T5(e,n);return y8e(e,t,!0),CR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hee?t:void 0}function T5(t,e){if($2(e))return e;const n=e[ta];if(!n)return IL(e,t.handledSet_,t);if(!I2(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);bee(n,t)}return n.copy_}function y8e(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$L(e,n)}function yee(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var I2=(t,e)=>t.scope_===e,v8e=[];function vee(t,e,n,r){const s=rc(t),i=t.type_;if(r!==void 0&&xR(s,r,i)===e){hC(s,r,n,i);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;yx(s,(l,u)=>{if(Sc(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=t.draftLocations_.get(e)??v8e;for(const o of a)hC(s,o,n,i)}function b8e(t,e,n){t.callbacks_.push(function(s){const i=e;if(!i||!I2(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const a=NL(i);vee(t,i.draft_??i,a,n),bee(i,s)})}function bee(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(t);s&&r.generatePatches_(t,s,e)}yee(t)}}function x8e(t,e,n){const{scope_:r}=t;if(Sc(n)){const s=n[ta];I2(s,r)&&s.callbacks_.push(function(){aS(t);const a=NL(s);vee(t,n,a,e)})}else xl(n)&&t.callbacks_.push(function(){const i=rc(t);xR(i,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&IL(xR(t.copy_,e,t.type_),r.handledSet_,r)})}function IL(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Sc(t)||e.has(t)||!xl(t)||$2(t)||(e.add(t),yx(t,(r,s)=>{if(Sc(s)){const i=s[ta];if(I2(i,n)){const a=NL(i);hC(t,r,a,t.type_),yee(i)}}else xl(s)&&IL(s,e,n)})),t}function w8e(t,e){const n=T2(t),r={type_:n?1:0,scope_:e?e.scope_:gee(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,i=AL;n&&(s=[r],i=xb);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return r.draft_=o,r.revoke_=a,[o,r]}var AL={get(t,e){if(e===ta)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const s=rc(t);if(!b5(s,e,t.type_))return S8e(t,s,e);const i=s[e];if(t.finalized_||!xl(i)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&h8e(e))return i;if(i===GI(t.base_,e)){aS(t);const a=t.type_===1?+e:e,o=ER(t.scope_,i,t,a);return t.copy_[a]=o}return i},has(t,e){return e in rc(t)},ownKeys(t){return Reflect.ownKeys(rc(t))},set(t,e,n){const r=xee(rc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=GI(rc(t),e),i=s?.[ta];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(f8e(n,s)&&(n!==void 0||b5(t.base_,e,t.type_)))return!0;aS(t),TR(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),x8e(t,e,n)),!0},deleteProperty(t,e){return aS(t),GI(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),TR(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[iS]:!0,[bR]:t.type_!==1||e!=="length",[fC]:r[fC],[vb]:n[e]}},defineProperty(){il(11)},getPrototypeOf(t){return lg(t.base_)},setPrototypeOf(){il(12)}},xb={};yx(AL,(t,e)=>{xb[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});xb.deleteProperty=function(t,e){return xb.set.call(this,t,e,void 0)};xb.set=function(t,e,n){return AL.set.call(this,t[0],e,n,t[0])};function GI(t,e){const n=t[ta];return(n?rc(n):t)[e]}function S8e(t,e,n){const r=xee(e,n);return r?vb in r?r[vb]:r.get?.call(t.draft_):void 0}function xee(t,e){if(!(e in t))return;let n=lg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=lg(n)}}function TR(t){t.modified_||(t.modified_=!0,t.parent_&&TR(t.parent_))}function aS(t){t.copy_||(t.assigned_=new Map,t.copy_=wR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var C8e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,s)=>{if(Nm(n)&&!Nm(r)){const a=r;r=n;const o=this;return function(u=a,...d){return o.produce(u,f=>r.call(this,f,...d))}}Nm(r)||il(6),s!==void 0&&!Nm(s)&&il(7);let i;if(xl(n)){const a=C5(this),o=ER(a,n,void 0);let l=!0;try{i=r(o),l=!1}finally{l?CR(a):kR(a)}return S5(a,s),k5(i,a)}else if(!n||!EL(n)){if(i=r(n),i===void 0&&(i=n),i===hee&&(i=void 0),this.autoFreeze_&&$L(i,!0),s){const a=[],o=[];Yh(SR).generateReplacementPatches_(n,i,{patches_:a,inversePatches_:o}),s(a,o)}return i}else il(1,n)},this.produceWithPatches=(n,r)=>{if(Nm(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let s,i;return[this.produce(n,r,(o,l)=>{s=o,i=l}),s,i]},HI(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),HI(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),HI(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xl(e)||il(8),Sc(e)&&(e=dl(e));const n=C5(this),r=ER(n,e,void 0);return r[ta].isManual_=!0,kR(n),r}finishDraft(e,n){const r=e&&e[ta];(!r||!r.isManual_)&&il(9);const{scope_:s}=r;return S5(s,n),k5(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const i=n[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(n=n.slice(r+1));const s=Yh(SR).applyPatches_;return Sc(e)?s(e,n):this.produce(e,i=>s(i,n))}};function ER(t,e,n,r){const[s,i]=E2(e)?Yh(pC).proxyMap_(e,n):N2(e)?Yh(pC).proxySet_(e,n):w8e(e,n);return(n?.scope_??gee()).drafts_.push(s),i.callbacks_=n?.callbacks_??[],i.key_=r,n&&r!==void 0?b8e(n,i,r):i.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:u}=l;i.modified_&&u&&u.generatePatches_(i,[],l)}),s}function dl(t){return Sc(t)||il(10,t),wee(t)}function wee(t){if(!xl(t)||$2(t))return t;const e=t[ta];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=wR(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=wR(t,!0);return yx(n,(s,i)=>{hC(n,s,wee(i))},r),e&&(e.finalized_=!1),n}var k8e=new C8e,See=k8e.produce;function Cee(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var T8e=Cee(),E8e=Cee,N8e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cC:cC.apply(null,arguments)};function Fo(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(Xa(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>fee(r)&&r.type===t,n}var kee=class Mv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Mv.prototype)}static get[Symbol.species](){return Mv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Mv(...e[0].concat(this)):new Mv(...e.concat(this))}};function E5(t){return xl(t)?See(t,()=>{}):t}function kw(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $8e(t){return typeof t=="boolean"}var I8e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let a=new kee;return n&&($8e(n)?a.push(T8e):a.push(E8e(n.extraArgument))),a},Tee="RTK_autoBatch",$r=()=>t=>({payload:t,meta:{[Tee]:!0}}),N5=t=>e=>{setTimeout(e,t)},Eee=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N5(10):t.type==="callback"?t.queueNotification:N5(t.timeout),u=()=>{a=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>s&&d(),p=r.subscribe(f);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){try{return s=!d?.meta?.[Tee],i=!s,i&&(a||(a=!0,l(u))),r.dispatch(d)}finally{s=!0}}})},A8e=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new kee(t);return r&&s.push(Eee(typeof r=="object"?r:void 0)),s};function O8e(t){const e=I8e(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(TL(n))o=dee(n);else throw new Error(Xa(1));let l;typeof r=="function"?l=r(e):l=e();let u=cC;s&&(u=N8e({trace:!1,...typeof s=="object"&&s}));const d=c8e(...l),f=A8e(d);let p=typeof a=="function"?a(f):f();const m=u(...p);return cee(o,i,m)}function Nee(t){const e={},n=[];let r;const s={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Xa(28));if(o in e)throw new Error(Xa(29));return e[o]=a,s},addAsyncThunk(i,a){return a.pending&&(e[i.pending.type]=a.pending),a.rejected&&(e[i.rejected.type]=a.rejected),a.fulfilled&&(e[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),s},addMatcher(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function R8e(t){return typeof t=="function"}function D8e(t,e){let[n,r,s]=Nee(e),i;if(R8e(t))i=()=>E5(t());else{const o=E5(t);i=()=>o}function a(o=i(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(Sc(d)){const m=f(d,l);return m===void 0?d:m}else{if(xl(d))return See(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return a.getInitialState=i,a}var _8e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P8e=(t=21)=>{let e="",n=t;for(;n--;)e+=_8e[Math.random()*64|0];return e},M8e=Symbol.for("rtk-slice-createasyncthunk");function L8e(t,e){return`${t}/${e}`}function F8e({creators:t}={}){const e=t?.asyncThunk?.[M8e];return function(r){const{name:s,reducerPath:i=s}=r;if(!s)throw new Error(Xa(11));const a=(typeof r.reducers=="function"?r.reducers(B8e()):r.reducers)||{},o=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,T){const N=typeof C=="string"?C:C.type;if(!N)throw new Error(Xa(12));if(N in l.sliceCaseReducersByType)throw new Error(Xa(13));return l.sliceCaseReducersByType[N]=T,u},addMatcher(C,T){return l.sliceMatchers.push({matcher:C,reducer:T}),u},exposeAction(C,T){return l.actionCreators[C]=T,u},exposeCaseReducer(C,T){return l.sliceCaseReducersByName[C]=T,u}};o.forEach(C=>{const T=a[C],N={reducerName:C,type:L8e(s,C),createNotation:typeof r.reducers=="function"};U8e(T)?W8e(N,T,u,e):j8e(N,T,u)});function d(){const[C={},T=[],N=void 0]=typeof r.extraReducers=="function"?Nee(r.extraReducers):[r.extraReducers],O={...C,...l.sliceCaseReducersByType};return D8e(r.initialState,_=>{for(let F in O)_.addCase(F,O[F]);for(let F of l.sliceMatchers)_.addMatcher(F.matcher,F.reducer);for(let F of T)_.addMatcher(F.matcher,F.reducer);N&&_.addDefaultCase(N)})}const f=C=>C,p=new Map,m=new WeakMap;let y;function v(C,T){return y||(y=d()),y(C,T)}function b(){return y||(y=d()),y.getInitialState()}function w(C,T=!1){function N(_){let F=_[C];return typeof F>"u"&&T&&(F=kw(m,N,b)),F}function O(_=f){const F=kw(p,T,()=>new WeakMap);return kw(F,_,()=>{const L={};for(const[z,P]of Object.entries(r.selectors??{}))L[z]=z8e(P,_,()=>kw(m,_,b),T);return L})}return{reducerPath:C,getSelectors:O,get selectors(){return O(N)},selectSlice:N}}const S={name:s,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:b,...w(i),injectInto(C,{reducerPath:T,...N}={}){const O=T??i;return C.inject({reducerPath:O,reducer:v},N),{...S,...w(O,!0)}}};return S}}function z8e(t,e,n,r){function s(i,...a){let o=e(i);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return s.unwrapped=t,s}var Oa=F8e();function B8e(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function j8e({type:t,reducerName:e,createNotation:n},r,s){let i,a;if("reducer"in r){if(n&&!V8e(r))throw new Error(Xa(17));i=r.reducer,a=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,a?Fo(t,a):Fo(t))}function U8e(t){return t._reducerDefinitionType==="asyncThunk"}function V8e(t){return t._reducerDefinitionType==="reducerWithPrepare"}function W8e({type:t,reducerName:e},n,r,s){if(!s)throw new Error(Xa(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=n,f=s(t,i,d);r.exposeAction(e,f),a&&r.addCase(f.fulfilled,a),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:a||Tw,pending:o||Tw,rejected:l||Tw,settled:u||Tw})}function Tw(){}var H8e="task",$ee="listener",Iee="completed",OL="cancelled",G8e=`task-${OL}`,q8e=`task-${Iee}`,NR=`${$ee}-${OL}`,K8e=`${$ee}-${Iee}`,A2=class{constructor(t){this.code=t,this.message=`${H8e} ${OL} (reason: ${t})`}name="TaskAbortError";message},RL=(t,e)=>{if(typeof t!="function")throw new TypeError(Xa(32))},mC=()=>{},Aee=(t,e=mC)=>(t.catch(e),t),Oee=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Nh=t=>{if(t.aborted)throw new A2(t.reason)};function Ree(t,e){let n=mC;return new Promise((r,s)=>{const i=()=>s(new A2(t.reason));if(t.aborted){i();return}n=Oee(t,i),e.finally(()=>n()).then(r,s)}).finally(()=>{n=mC})}var X8e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof A2?"cancelled":"rejected",error:n}}finally{e?.()}},gC=t=>e=>Aee(Ree(t,e).then(n=>(Nh(t),n))),Dee=t=>{const e=gC(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:jm}=Object,$5={},O2="listenerMiddleware",Y8e=(t,e)=>{const n=r=>Oee(t,()=>r.abort(t.reason));return(r,s)=>{RL(r);const i=new AbortController;n(i);const a=X8e(async()=>{Nh(t),Nh(i.signal);const o=await r({pause:gC(i.signal),delay:Dee(i.signal),signal:i.signal});return Nh(i.signal),o},()=>i.abort(q8e));return s?.autoJoin&&e.push(a.catch(mC)),{result:gC(t)(a),cancel(){i.abort(G8e)}}}},Z8e=(t,e)=>{const n=async(r,s)=>{Nh(e);let i=()=>{};const o=[new Promise((l,u)=>{let d=t({predicate:r,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&o.push(new Promise(l=>setTimeout(l,s,null)));try{const l=await Ree(e,Promise.race(o));return Nh(e),l}finally{i()}};return(r,s)=>Aee(n(r,s))},_ee=t=>{let{type:e,actionCreator:n,matcher:r,predicate:s,effect:i}=t;if(e)s=Fo(e).match;else if(n)e=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(Xa(21));return RL(i),{predicate:s,type:e,effect:i}},Pee=jm(t=>{const{type:e,predicate:n,effect:r}=_ee(t);return{id:P8e(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xa(22))}}},{withTypes:()=>Pee}),I5=(t,e)=>{const{type:n,effect:r,predicate:s}=_ee(e);return Array.from(t.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===s)&&i.effect===r)},$R=t=>{t.pending.forEach(e=>{e.abort(NR)})},Q8e=(t,e)=>()=>{for(const n of e.keys())$R(n);t.clear()},A5=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Mee=jm(Fo(`${O2}/add`),{withTypes:()=>Mee}),J8e=Fo(`${O2}/removeAll`),Lee=jm(Fo(`${O2}/remove`),{withTypes:()=>Lee}),eKe=(...t)=>{console.error(`${O2}/error`,...t)},bx=(t={})=>{const e=new Map,n=new Map,r=m=>{const y=n.get(m)??0;n.set(m,y+1)},s=m=>{const y=n.get(m)??1;y===1?n.delete(m):n.set(m,y-1)},{extra:i,onError:a=eKe}=t;RL(a);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y?.cancelActive&&$R(m)}),l=m=>{const y=I5(e,m)??Pee(m);return o(y)};jm(l,{withTypes:()=>l});const u=m=>{const y=I5(e,m);return y&&(y.unsubscribe(),m.cancelActive&&$R(y)),!!y};jm(u,{withTypes:()=>u});const d=async(m,y,v,b)=>{const w=new AbortController,S=Z8e(l,w.signal),C=[];try{m.pending.add(w),r(m),await Promise.resolve(m.effect(y,jm({},v,{getOriginalState:b,condition:(T,N)=>S(T,N).then(Boolean),take:S,delay:Dee(w.signal),pause:gC(w.signal),extra:i,signal:w.signal,fork:Y8e(w.signal,C),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,N,O)=>{T!==w&&(T.abort(NR),O.delete(T))})},cancel:()=>{w.abort(NR),m.pending.delete(w)},throwIfCancelled:()=>{Nh(w.signal)}})))}catch(T){T instanceof A2||A5(a,T,{raisedBy:"effect"})}finally{await Promise.all(C),w.abort(K8e),s(m),m.pending.delete(w)}},f=Q8e(e,n);return{middleware:m=>y=>v=>{if(!fee(v))return y(v);if(Mee.match(v))return l(v.payload);if(J8e.match(v)){f();return}if(Lee.match(v))return u(v.payload);let b=m.getState();const w=()=>{if(b===$5)throw new Error(Xa(23));return b};let S;try{if(S=y(v),e.size>0){const C=m.getState(),T=Array.from(e.values());for(const N of T){let O=!1;try{O=N.predicate(v,C,b)}catch(_){O=!1,A5(a,_,{raisedBy:"predicate"})}O&&d(N,v,m,w)}}}finally{b=$5}return S},startListening:l,stopListening:u,clearListeners:f}};function Xa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var tKe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Fee=Oa({name:"chartLayout",initialState:tKe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,s,i;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(s=e.payload.bottom)!==null&&s!==void 0?s:0,t.margin.left=(i=e.payload.left)!==null&&i!==void 0?i:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:nKe,setLayout:rKe,setChartSize:sKe,setScale:iKe}=Fee.actions,aKe=Fee.reducer;function zee(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Is(t){return Number.isFinite(t)}function xu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function O5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(n),!0).forEach(function(r){oKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oKe(t,e,n){return(e=lKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lKe(t){var e=uKe(t,"string");return typeof e=="symbol"?e:e+""}function uKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bi(t,e,n){return ei(t)||ei(e)?n:bu(e)?S2(t,e,n):typeof e=="function"?e(t):n}var cKe=(t,e,n)=>{if(e&&n){var{width:r,height:s}=n,{align:i,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&i!=="center"&&Rt(t[i]))return Im(Im({},t),{},{[i]:t[i]+(r||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&a!=="middle"&&Rt(t[a]))return Im(Im({},t),{},{[a]:t[a]+(s||0)})}return t},mf=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Bee=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var s,i,a=t.map(o=>(o.coordinate===e&&(s=!0),o.coordinate===n&&(i=!0),o.coordinate));return s||a.push(e),i||a.push(n),a},jee=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:s,range:i,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=t;if(!a)return null;var y=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,v=s==="category"&&a.bandwidth?a.bandwidth()/y:0;if(v=m==="angleAxis"&&i&&i.length>=2?Io(i[0]-i[1])*2*v:v,f||p){var b=(f||p||[]).map((w,S)=>{var C=r?r.indexOf(w):w;return{coordinate:a(C)+v,value:w,offset:v,index:S}});return b.filter(w=>!vu(w.coordinate))}return l&&u?u.map((w,S)=>({coordinate:a(w)+v,value:w,index:S,offset:v})):a.ticks&&d!=null?a.ticks(d).map((w,S)=>({coordinate:a(w)+v,value:w,offset:v,index:S})):a.domain().map((w,S)=>({coordinate:a(w)+v,value:r?r[w]:w,index:S,offset:v}))},R5=1e-4,dKe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),s=Math.min(r[0],r[1])-R5,i=Math.max(r[0],r[1])+R5,a=t(e[0]),o=t(e[n-1]);(a<s||a>i||o<s||o>i)&&t.domain([e[0],e[n-1]])}},fKe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var s=0;s<r;++s)for(var i=0,a=0,o=0;o<n;++o){var l=t[o],u=l?.[s];if(u!=null){var d=u[1],f=u[0],p=vu(d)?f:d;p>=0?(u[0]=i,u[1]=i+p,i=d):(u[0]=a,u[1]=a+p,a=d)}}}},hKe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var s=0;s<r;++s)for(var i=0,a=0;a<n;++a){var o=t[a],l=o?.[s];if(l!=null){var u=vu(l[1])?l[0]:l[1];u>=0?(l[0]=i,l[1]=i+u,i=l[1]):(l[0]=0,l[1]=0)}}}},pKe={sign:fKe,expand:MGe,none:Xh,silhouette:LGe,wiggle:FGe,positive:hKe},mKe=(t,e,n)=>{var r,s=(r=pKe[n])!==null&&r!==void 0?r:Xh,i=PGe().keys(e).value((o,l)=>Number(bi(o,l,0))).order(yR).offset(s),a=i(t);return a.forEach((o,l)=>{o.forEach((u,d)=>{var f=bi(t[d],e[l],0);Array.isArray(f)&&f.length===2&&Rt(f[0])&&Rt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),a};function D5(t){var{axis:e,ticks:n,bandSize:r,entry:s,index:i,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ei(s[e.dataKey])){var o=HJ(n,"value",s[e.dataKey]);if(o)return o.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=bi(s,ei(a)?e.dataKey:a);return ei(l)?null:e.scale(l)}var gKe=t=>{var e=t.flat(2).filter(Rt);return[Math.min(...e),Math.max(...e)]},yKe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],vKe=(t,e,n)=>{if(t!=null)return yKe(Object.keys(t).reduce((r,s)=>{var i=t[s];if(!i)return r;var{stackedData:a}=i,o=a.reduce((l,u)=>{var d=zee(u,e,n),f=gKe(d);return!Is(f[0])||!Is(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},_5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yC=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var s=C2(e,d=>d.coordinate),i=1/0,a=1,o=s.length;a<o;a++){var l=s[a],u=s[a-1];i=Math.min((l?.coordinate||0)-(u?.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function M5(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:s,name:i}=t;return Im(Im({},e),{},{dataKey:n,payload:r,value:s,name:i})}function Uee(t,e){if(t)return String(t);if(typeof e=="string")return e}var bKe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},xKe=(t,e)=>e==="centric"?t.angle:t.radius,Dc=t=>t.layout.width,_c=t=>t.layout.height,wKe=t=>t.layout.scale,Vee=t=>t.layout.margin,R2=Ue(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),D2=Ue(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),SKe="data-recharts-item-index",CKe="data-recharts-item-id",xx=60;function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){kKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kKe(t,e,n){return(e=TKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TKe(t){var e=EKe(t,"string");return typeof e=="symbol"?e:e+""}function EKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NKe=t=>t.brush.height;function $Ke(t){var e=D2(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:xx;return n+s}return n},0)}function IKe(t){var e=D2(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:xx;return n+s}return n},0)}function AKe(t){var e=R2(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function OKe(t){var e=R2(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ci=Ue([Dc,_c,Vee,NKe,$Ke,IKe,AKe,OKe,lee,r8e],(t,e,n,r,s,i,a,o,l,u)=>{var d={left:(n.left||0)+s,right:(n.right||0)+i},f={top:(n.top||0)+a,bottom:(n.bottom||0)+o},p=Ew(Ew({},f),d),m=p.bottom;p.bottom+=r,p=cKe(p,l,u);var y=t-p.left-p.right,v=e-p.top-p.bottom;return Ew(Ew({brushBottom:m},p),{},{width:Math.max(y,0),height:Math.max(v,0)})}),RKe=Ue(Ci,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Wee=Ue(Dc,_c,(t,e)=>({x:0,y:0,width:t,height:e})),DKe=$.createContext(null),Ra=()=>$.useContext(DKe)!=null,_2=t=>t.brush,P2=Ue([_2,Ci,Vee],(t,e,n)=>({height:t.height,x:Rt(t.x)?t.x:e.left,y:Rt(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Rt(t.width)?t.width:e.width})),qI={},KI={},XI={},F5;function _Ke(){return F5||(F5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:s,edges:i}={}){let a,o=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},f=()=>{u&&d(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},y=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{y(),a=void 0,o=null},b=()=>{d()},w=function(...S){if(s?.aborted)return;a=this,o=S;const C=p==null;m(),l&&C&&d()};return w.schedule=m,w.cancel=v,w.flush=b,s?.addEventListener("abort",v,{once:!0}),w}t.debounce=e})(XI)),XI}var z5;function PKe(){return z5||(z5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Ke();function n(r,s=0,i={}){typeof i!="object"&&(i={});const{leading:a=!1,trailing:o=!0,maxWait:l}=i,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const p=e.debounce(function(...v){d=r.apply(this,v),f=null},s,{edges:u}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},y=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=y,m}t.debounce=n})(KI)),KI}var B5;function MKe(){return B5||(B5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PKe();function n(r,s=0,i={}){const{leading:a=!0,trailing:o=!0}=i;return e.debounce(r,s,{leading:a,maxWait:s,trailing:o})}t.throttle=n})(qI)),qI}var YI,j5;function LKe(){return j5||(j5=1,YI=MKe().throttle),YI}var FKe=LKe();const zKe=Ja(FKe);var vC=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>s[a++]))}},Hee=(t,e,n)=>{var{width:r="100%",height:s="100%",aspect:i,maxHeight:a}=n,o=wc(r)?t:Number(r),l=wc(s)?e:Number(s);return i&&i>0&&(o?l=o/i:l&&(o=l*i),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},BKe={width:0,height:0,overflow:"visible"},jKe={width:0,overflowX:"visible"},UKe={height:0,overflowY:"visible"},VKe={},WKe=t=>{var{width:e,height:n}=t,r=wc(e),s=wc(n);return r&&s?BKe:r?jKe:s?UKe:VKe};function HKe(t){var{width:e,height:n,aspect:r}=t,s=e,i=n;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:s,height:i}}function IR(){return IR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IR.apply(null,arguments)}function U5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function V5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(n),!0).forEach(function(r){GKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GKe(t,e,n){return(e=qKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qKe(t){var e=KKe(t,"string");return typeof e=="symbol"?e:e+""}function KKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gee=$.createContext({width:-1,height:-1});function XKe(t){return xu(t.width)&&xu(t.height)}function qee(t){var{children:e,width:n,height:r}=t,s=$.useMemo(()=>({width:n,height:r}),[n,r]);return XKe(s)?$.createElement(Gee.Provider,{value:s},e):null}var DL=()=>$.useContext(Gee),YKe=$.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s,height:i,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:m,style:y={}}=t,v=$.useRef(null),b=$.useRef();b.current=m,$.useImperativeHandle(e,()=>v.current);var[w,S]=$.useState({containerWidth:r.width,containerHeight:r.height}),C=$.useCallback((F,L)=>{S(z=>{var P=Math.round(F),R=Math.round(L);return z.containerWidth===P&&z.containerHeight===R?z:{containerWidth:P,containerHeight:R}})},[]);$.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return gx;var F=R=>{var H,{width:q,height:X}=R[0].contentRect;C(q,X),(H=b.current)===null||H===void 0||H.call(b,q,X)};d>0&&(F=zKe(F,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),{width:z,height:P}=v.current.getBoundingClientRect();return C(z,P),L.observe(v.current),()=>{L.disconnect()}},[C,d]);var{containerWidth:T,containerHeight:N}=w;vC(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:_}=Hee(T,N,{width:s,height:i,aspect:n,maxHeight:l});return vC(O!=null&&O>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,_,s,i,a,o,n),$.createElement("div",{id:f?"".concat(f):void 0,className:et("recharts-responsive-container",p),style:V5(V5({},y),{},{width:s,height:i,minWidth:a,minHeight:o,maxHeight:l}),ref:v},$.createElement("div",{style:WKe({width:s,height:i})},$.createElement(qee,{width:O,height:_},u)))}),ZKe=$.forwardRef((t,e)=>{var n=DL();if(xu(n.width)&&xu(n.height))return t.children;var{width:r,height:s}=HKe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:i,calculatedHeight:a}=Hee(void 0,void 0,{width:r,height:s,aspect:t.aspect,maxHeight:t.maxHeight});return Rt(i)&&Rt(a)?$.createElement(qee,{width:i,height:a},t.children):$.createElement(YKe,IR({},t,{width:r,height:s,ref:e}))});function Kee(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var M2=()=>{var t,e=Ra(),n=Mt(RKe),r=Mt(P2),s=(t=Mt(_2))===null||t===void 0?void 0:t.padding;return!e||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},QKe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Xee=()=>{var t;return(t=Mt(Ci))!==null&&t!==void 0?t:QKe},_L=()=>Mt(Dc),PL=()=>Mt(_c),JKe=()=>Mt(t=>t.layout.margin),Sr=t=>t.layout.layoutType,wx=()=>Mt(Sr),e9e=()=>{var t=wx();return t!==void 0},L2=t=>{var e=Os(),n=Ra(),{width:r,height:s}=t,i=DL(),a=r,o=s;return i&&(a=i.width>0?i.width:r,o=i.height>0?i.height:s),$.useEffect(()=>{!n&&xu(a)&&xu(o)&&e(sKe({width:a,height:o}))},[e,n,a,o]),null},Yee=Symbol.for("immer-nothing"),W5=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function al(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wb=Object.getPrototypeOf;function ug(t){return!!t&&!!t[Qa]}function Zh(t){return t?Zee(t)||Array.isArray(t)||!!t[W5]||!!t.constructor?.[W5]||Sx(t)||z2(t):!1}var t9e=Object.prototype.constructor.toString(),H5=new WeakMap;function Zee(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=H5.get(n);return r===void 0&&(r=Function.toString.call(n),H5.set(n,r)),r===t9e}function bC(t,e,n=!0){F2(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((r,s)=>e(s,r,t))}function F2(t){const e=t[Qa];return e?e.type_:Array.isArray(t)?1:Sx(t)?2:z2(t)?3:0}function AR(t,e){return F2(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Qee(t,e,n){const r=F2(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function n9e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Sx(t){return t instanceof Map}function z2(t){return t instanceof Set}function lh(t){return t.copy_||t.base_}function OR(t,e){if(Sx(t))return new Map(t);if(z2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Zee(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Qa];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const a=s[i],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(wb(t),r)}else{const r=wb(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function ML(t,e=!1){return B2(t)||ug(t)||!Zh(t)||(F2(t)>1&&Object.defineProperties(t,{set:Nw,add:Nw,clear:Nw,delete:Nw}),Object.freeze(t),e&&Object.values(t).forEach(n=>ML(n,!0))),t}function r9e(){al(2)}var Nw={value:r9e};function B2(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var s9e={};function Qh(t){const e=s9e[t];return e||al(0,t),e}var Sb;function Jee(){return Sb}function i9e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function G5(t,e){e&&(Qh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function RR(t){DR(t),t.drafts_.forEach(a9e),t.drafts_=null}function DR(t){t===Sb&&(Sb=t.parent_)}function q5(t){return Sb=i9e(Sb,t)}function a9e(t){const e=t[Qa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function K5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qa].modified_&&(RR(e),al(4)),Zh(t)&&(t=xC(e,t),e.parent_||wC(e,t)),e.patches_&&Qh("Patches").generateReplacementPatches_(n[Qa].base_,t,e.patches_,e.inversePatches_)):t=xC(e,n,[]),RR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Yee?t:void 0}function xC(t,e,n){if(B2(e))return e;const r=t.immer_.shouldUseStrictIteration(),s=e[Qa];if(!s)return bC(e,(i,a)=>X5(t,s,e,i,a,n),r),e;if(s.scope_!==t)return e;if(!s.modified_)return wC(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let a=i,o=!1;s.type_===3&&(a=new Set(i),i.clear(),o=!0),bC(a,(l,u)=>X5(t,s,i,l,u,n,o),r),wC(t,i,!1),n&&t.patches_&&Qh("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function X5(t,e,n,r,s,i,a){if(s==null||typeof s!="object"&&!a)return;const o=B2(s);if(!(o&&!a)){if(ug(s)){const l=i&&e&&e.type_!==3&&!AR(e.assigned_,r)?i.concat(r):void 0,u=xC(t,s,l);if(Qee(n,r,u),ug(u))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(Zh(s)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===s&&o)return;xC(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Sx(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&wC(t,s)}}}function wC(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ML(e,n)}function o9e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Jee(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=LL;n&&(s=[r],i=Cb);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return r.draft_=o,r.revoke_=a,o}var LL={get(t,e){if(e===Qa)return t;const n=lh(t);if(!AR(n,e))return l9e(t,n,e);const r=n[e];return t.finalized_||!Zh(r)?r:r===ZI(t.base_,e)?(QI(t),t.copy_[e]=PR(r,t)):r},has(t,e){return e in lh(t)},ownKeys(t){return Reflect.ownKeys(lh(t))},set(t,e,n){const r=ete(lh(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=ZI(lh(t),e),i=s?.[Qa];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(n9e(n,s)&&(n!==void 0||AR(t.base_,e)))return!0;QI(t),_R(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ZI(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,QI(t),_R(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=lh(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){al(11)},getPrototypeOf(t){return wb(t.base_)},setPrototypeOf(){al(12)}},Cb={};bC(LL,(t,e)=>{Cb[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Cb.deleteProperty=function(t,e){return Cb.set.call(this,t,e,void 0)};Cb.set=function(t,e,n){return LL.set.call(this,t[0],e,n,t[0])};function ZI(t,e){const n=t[Qa];return(n?lh(n):t)[e]}function l9e(t,e,n){const r=ete(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function ete(t,e){if(!(e in t))return;let n=wb(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=wb(n)}}function _R(t){t.modified_||(t.modified_=!0,t.parent_&&_R(t.parent_))}function QI(t){t.copy_||(t.copy_=OR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var u9e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const a=this;return function(l=i,...u){return a.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&al(6),r!==void 0&&typeof r!="function"&&al(7);let s;if(Zh(e)){const i=q5(this),a=PR(e,void 0);let o=!0;try{s=n(a),o=!1}finally{o?RR(i):DR(i)}return G5(i,r),K5(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===Yee&&(s=void 0),this.autoFreeze_&&ML(s,!0),r){const i=[],a=[];Qh("Patches").generateReplacementPatches_(e,s,i,a),r(i,a)}return s}else al(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,s;return[this.produce(e,n,(a,o)=>{r=a,s=o}),r,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Zh(t)||al(8),ug(t)&&(t=c9e(t));const e=q5(this),n=PR(t,void 0);return n[Qa].isManual_=!0,DR(e),n}finishDraft(t,e){const n=t&&t[Qa];(!n||!n.isManual_)&&al(9);const{scope_:r}=n;return G5(r,e),K5(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Qh("Patches").applyPatches_;return ug(t)?r(t,e):this.produce(t,s=>r(s,e))}};function PR(t,e){const n=Sx(t)?Qh("MapSet").proxyMap_(t,e):z2(t)?Qh("MapSet").proxySet_(t,e):o9e(t,e);return(e?e.scope_:Jee()).drafts_.push(n),n}function c9e(t){return ug(t)||al(10,t),tte(t)}function tte(t){if(!Zh(t)||B2(t))return t;const e=t[Qa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=OR(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=OR(t,!0);return bC(n,(s,i)=>{Qee(n,s,tte(i))},r),e&&(e.finalized_=!1),n}var d9e=new u9e;d9e.produce;var f9e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nte=Oa({name:"legend",initialState:f9e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:$r()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,s=dl(t).payload.indexOf(n);s>-1&&(t.payload[s]=r)},prepare:$r()},removeLegendPayload:{reducer(t,e){var n=dl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:$r()}}}),{setLegendSize:Y5,setLegendSettings:h9e,addLegendPayload:p9e,replaceLegendPayload:m9e,removeLegendPayload:g9e}=nte.actions,y9e=nte.reducer,v9e=["contextPayload"];function MR(){return MR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MR.apply(null,arguments)}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(r){b9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b9e(t,e,n){return(e=x9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x9e(t){var e=w9e(t,"string");return typeof e=="symbol"?e:e+""}function w9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S9e(t,e){if(t==null)return{};var n,r,s=C9e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function C9e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function k9e(t){return t.value}function T9e(t){var{contextPayload:e}=t,n=S9e(t,v9e),r=see(e,t.payloadUniqBy,k9e),s=cg(cg({},n),{},{payload:r});return $.isValidElement(t.content)?$.cloneElement(t.content,s):typeof t.content=="function"?$.createElement(t.content,s):$.createElement(pqe,s)}function E9e(t,e,n,r,s,i){var{layout:a,align:o,verticalAlign:l}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?u={left:((r||0)-i.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?d={top:((s||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),cg(cg({},u),d)}function N9e(t){var e=Os();return $.useEffect(()=>{e(h9e(t))},[e,t]),null}function $9e(t){var e=Os();return $.useEffect(()=>(e(Y5(t)),()=>{e(Y5({width:0,height:0}))}),[e,t]),null}function I9e(t,e,n,r){return t==="vertical"&&Rt(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var A9e={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function rte(t){var e=Ui(t,A9e),n=a8e(),r=iGe(),s=JKe(),{width:i,height:a,wrapperStyle:o,portal:l}=e,[u,d]=uee([n]),f=_L(),p=PL();if(f==null||p==null)return null;var m=f-(s?.left||0)-(s?.right||0),y=I9e(e.layout,a,i,m),v=l?o:cg(cg({position:"absolute",width:y?.width||i||"auto",height:y?.height||a||"auto"},E9e(o,e,s,f,p,u)),o),b=l??r;if(b==null||n==null)return null;var w=$.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},$.createElement(N9e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&$.createElement($9e,{width:u.width,height:u.height}),$.createElement(T9e,MR({},e,y,{margin:s,chartWidth:f,chartHeight:p,contextPayload:n})));return Lb.createPortal(w,b)}rte.displayName="Legend";function LR(){return LR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LR.apply(null,arguments)}function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){O9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O9e(t,e,n){return(e=R9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9e(t){var e=D9e(t,"string");return typeof e=="symbol"?e:e+""}function D9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _9e(t){return Array.isArray(t)&&bu(t[0])&&bu(t[1])?t.join(" ~ "):t}var P9e=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:i,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=t,m=()=>{if(i&&i.length){var N={padding:0,margin:0},O=(o?C2(i,o):i).map((_,F)=>{if(_.type==="none")return null;var L=_.formatter||a||_9e,{value:z,name:P}=_,R=z,H=P;if(L){var q=L(z,P,_,F,i);if(Array.isArray(q))[R,H]=q;else if(q!=null)R=q;else return null}var X=JI({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},r);return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:X},bu(H)?$.createElement("span",{className:"recharts-tooltip-item-name"},H):null,bu(H)?$.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,$.createElement("span",{className:"recharts-tooltip-item-value"},R),$.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},y=JI({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=JI({margin:0},s),b=!ei(d),w=b?d:"",S=et("recharts-default-tooltip",l),C=et("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(w=f(d,i));var T=p?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",LR({className:S,style:y},T),$.createElement("p",{className:C,style:v},$.isValidElement(w)?w:"".concat(w)),m())},yv="recharts-tooltip-wrapper",M9e={visibility:"hidden"};function L9e(t){var{coordinate:e,translateX:n,translateY:r}=t;return et(yv,{["".concat(yv,"-right")]:Rt(n)&&e&&Rt(e.x)&&n>=e.x,["".concat(yv,"-left")]:Rt(n)&&e&&Rt(e.x)&&n<e.x,["".concat(yv,"-bottom")]:Rt(r)&&e&&Rt(e.y)&&r>=e.y,["".concat(yv,"-top")]:Rt(r)&&e&&Rt(e.y)&&r<e.y})}function J5(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(i&&Rt(i[r]))return i[r];var d=n[r]-o-(s>0?s:0),f=n[r]+s;if(e[r])return a[r]?d:f;var p=l[r];if(p==null)return 0;if(a[r]){var m=d,y=p;return m<y?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var v=f+o,b=p+u;return v>b?Math.max(d,p):Math.max(f,p)}function F9e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function z9e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:i,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,u,d,f;return a.height>0&&a.width>0&&n?(d=J5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=J5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=F9e({translateX:d,translateY:f,useTranslate3d:o})):u=M9e,{cssProperties:u,cssClasses:L9e({translateX:d,translateY:f,coordinate:n})}}function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){FR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FR(t,e,n){return(e=B9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9e(t){var e=j9e(t,"string");return typeof e=="symbol"?e:e+""}function j9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class U9e extends $.PureComponent{constructor(){super(...arguments),FR(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FR(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:i,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:y,lastBoundingBox:v,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:S,cssProperties:C}=z9e({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),T=w?{}:$w($w({transition:l&&e?"transform ".concat(r,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=$w($w({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},y);return $.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:N,ref:b},i)}}var ste=()=>{var t;return(t=Mt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function zR(){return zR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zR.apply(null,arguments)}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){V9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V9e(t,e,n){return(e=W9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W9e(t){var e=H9e(t,"string");return typeof e=="symbol"?e:e+""}function H9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r6={curveBasisClosed:kGe,curveBasisOpen:TGe,curveBasis:CGe,curveBumpX:uGe,curveBumpY:cGe,curveLinearClosed:EGe,curveLinear:x2,curveMonotoneX:NGe,curveMonotoneY:$Ge,curveNatural:IGe,curveStep:AGe,curveStepAfter:RGe,curveStepBefore:OGe},SC=t=>Is(t.x)&&Is(t.y),s6=t=>t.base!=null&&SC(t.base)&&SC(t),vv=t=>t.x,bv=t=>t.y,G9e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(mx(t));return(n==="curveMonotone"||n==="curveBump")&&e?r6["".concat(n).concat(e==="vertical"?"Y":"X")]:r6[n]||x2},q9e=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:s,connectNulls:i=!1}=t,a=G9e(e,s),o=i?n.filter(SC):n,l;if(Array.isArray(r)){var u=n.map((m,y)=>n6(n6({},m),{},{base:r[y]}));s==="vertical"?l=xw().y(bv).x1(vv).x0(m=>m.base.x):l=xw().x(vv).y1(bv).y0(m=>m.base.y);var d=l.defined(s6).curve(a),f=i?u.filter(s6):u;return d(f)}s==="vertical"&&Rt(r)?l=xw().y(bv).x1(vv).x0(r):Rt(r)?l=xw().x(vv).y1(bv).y0(r):l=RJ().x(vv).y(bv);var p=l.defined(SC).curve(a);return p(o)},ite=t=>{var{className:e,points:n,path:r,pathRef:s}=t,i=wx();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||i,connectNulls:t.connectNulls},o=n&&n.length?q9e(a):r;return $.createElement("path",zR({},yu(t),SL(t),{className:et("recharts-curve",e),d:o===null?void 0:o,ref:s}))},K9e=["x","y","top","left","width","height","className"];function BR(){return BR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BR.apply(null,arguments)}function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function X9e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){Y9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y9e(t,e,n){return(e=Z9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z9e(t){var e=Q9e(t,"string");return typeof e=="symbol"?e:e+""}function Q9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J9e(t,e){if(t==null)return{};var n,r,s=e7e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function e7e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var t7e=(t,e,n,r,s,i)=>"M".concat(t,",").concat(s,"v").concat(r,"M").concat(i,",").concat(e,"h").concat(n),n7e=t=>{var{x:e=0,y:n=0,top:r=0,left:s=0,width:i=0,height:a=0,className:o}=t,l=J9e(t,K9e),u=X9e({x:e,y:n,top:r,left:s,width:i,height:a},l);return!Rt(e)||!Rt(n)||!Rt(i)||!Rt(a)||!Rt(r)||!Rt(s)?null:$.createElement("path",BR({},ea(u),{className:et("recharts-cross",o),d:t7e(e,n,i,a,r,s)}))};function r7e(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function o6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(r){s7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s7e(t,e,n){return(e=i7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7e(t){var e=a7e(t,"string");return typeof e=="symbol"?e:e+""}function a7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o7e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),ate=(t,e,n)=>t.map(r=>"".concat(o7e(r)," ").concat(e,"ms ").concat(n)).join(","),l7e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(s=>r.includes(s))),kb=(t,e)=>Object.keys(e).reduce((n,r)=>o6(o6({},n),{},{[r]:t(r,e[r])}),{});function l6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(n),!0).forEach(function(r){u7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u7e(t,e,n){return(e=c7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c7e(t){var e=d7e(t,"string");return typeof e=="symbol"?e:e+""}function d7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CC=(t,e,n)=>t+(e-t)*n,jR=t=>{var{from:e,to:n}=t;return e!==n},ote=(t,e,n)=>{var r=kb((s,i)=>{if(jR(i)){var[a,o]=t(i.from,i.to,i.velocity);return Ds(Ds({},i),{},{from:a,velocity:o})}return i},e);return n<1?kb((s,i)=>jR(i)&&r[s]!=null?Ds(Ds({},i),{},{velocity:CC(i.velocity,r[s].velocity,n),from:CC(i.from,r[s].from,n)}):i,e):ote(t,r,n-1)};function f7e(t,e,n,r,s,i){var a,o=r.reduce((p,m)=>Ds(Ds({},p),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>kb((p,m)=>m.from,o),u=()=>!Object.values(o).filter(jR).length,d=null,f=p=>{a||(a=p);var m=p-a,y=m/n.dt;o=ote(n,o,y),s(Ds(Ds(Ds({},t),e),l())),a=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function h7e(t,e,n,r,s,i,a){var o=null,l=s.reduce((f,p)=>{var m=t[p],y=e[p];return m==null||y==null?f:Ds(Ds({},f),{},{[p]:[m,y]})},{}),u,d=f=>{u||(u=f);var p=(f-u)/r,m=kb((v,b)=>CC(...b,n(p)),l);if(i(Ds(Ds(Ds({},t),e),m)),p<1)o=a.setTimeout(d);else{var y=kb((v,b)=>CC(...b,n(1)),l);i(Ds(Ds(Ds({},t),e),y))}};return()=>(o=a.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const p7e=(t,e,n,r,s,i)=>{var a=l7e(t,e);return n==null?()=>(s(Ds(Ds({},t),e)),()=>{}):n.isStepper===!0?f7e(t,e,n,a,s,i):h7e(t,e,n,r,a,s,i)};var kC=1e-4,lte=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],ute=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),u6=(t,e)=>n=>{var r=lte(t,e);return ute(r,n)},m7e=(t,e)=>n=>{var r=lte(t,e),s=[...r.map((i,a)=>i*a).slice(1),0];return ute(s,n)},g7e=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var s=r.map(i=>parseFloat(i));return[s[0],s[1],s[2],s[3]]},y7e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=g7e(n[0]);if(s)return s}}return n.length===4?n:[0,0,1,1]},v7e=(t,e,n,r)=>{var s=u6(t,n),i=u6(e,r),a=m7e(t,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=s(f)-d,y=a(f);if(Math.abs(m-d)<kC||y<kC)return i(f);f=o(f-m/y)}return i(f)};return l.isStepper=!1,l},c6=function(){return v7e(...y7e(...arguments))},b7e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=e,i=(a,o,l)=>{var u=-(a-o)*n,d=l*r,f=l+(u-d)*s/1e3,p=l*s/1e3+a;return Math.abs(p-o)<kC&&Math.abs(f)<kC?[o,0]:[p,f]};return i.isStepper=!0,i.dt=s,i},x7e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return c6(t);case"spring":return b7e();default:if(t.split("(")[0]==="cubic-bezier")return c6(t)}return typeof t=="function"?t:null};function w7e(t){var e,n=()=>null,r=!1,s=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){s=t.setTimeout(i.bind(null,u),l);return}i(l),s=t.setTimeout(i.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,s&&(s(),s=null),i(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class S7e{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,i=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function C7e(){return w7e(new S7e)}var k7e=$.createContext(C7e);function T7e(t,e){var n=$.useContext(k7e);return $.useMemo(()=>e??n(t),[t,e,n])}var E7e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),j2={isSsr:E7e()},N7e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d6={t:0},eA={t:1};function FL(t){var e=Ui(t,N7e),{isActive:n,canBegin:r,duration:s,easing:i,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=n==="auto"?!j2.isSsr:n,f=T7e(e.animationId,e.animationManager),[p,m]=$.useState(d?d6:eA),y=$.useRef(null);return $.useEffect(()=>{d||m(eA)},[d]),$.useEffect(()=>{if(!d||!r)return gx;var v=p7e(d6,eA,x7e(i),s,m,f.getTimeoutController()),b=()=>{y.current=v()};return f.start([l,a,b,s,o]),()=>{f.stop(),y.current&&y.current(),o()}},[d,r,s,i,a,l,o,f]),u(p.t)}function zL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=$.useRef(yb(e)),r=$.useRef(t);return r.current!==t&&(n.current=yb(e),r.current=t),n.current}var $7e=["radius"],I7e=["radius"],f6,h6,p6,m6,g6,y6,v6,b6,x6,w6;function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function C6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){A7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A7e(t,e,n){return(e=O7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O7e(t){var e=R7e(t,"string");return typeof e=="symbol"?e:e+""}function R7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TC.apply(null,arguments)}function k6(t,e){if(t==null)return{};var n,r,s=D7e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function D7e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var T6=(t,e,n,r,s)=>{var i=$d(n),a=$d(r),o=Math.min(Math.abs(i)/2,Math.abs(a)/2),l=a>=0?1:-1,u=i>=0?1:-1,d=a>=0&&i>=0||a<0&&i<0?1:0,f;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=s[m]>o?o:s[m];f=Hr(f6||(f6=Vl(["M",",",""])),t,e+l*p[0]),p[0]>0&&(f+=Hr(h6||(h6=Vl(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,t+u*p[0],e)),f+=Hr(p6||(p6=Vl(["L ",",",""])),t+n-u*p[1],e),p[1]>0&&(f+=Hr(m6||(m6=Vl(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,t+n,e+l*p[1])),f+=Hr(g6||(g6=Vl(["L ",",",""])),t+n,e+r-l*p[2]),p[2]>0&&(f+=Hr(y6||(y6=Vl(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,t+n-u*p[2],e+r)),f+=Hr(v6||(v6=Vl(["L ",",",""])),t+u*p[3],e+r),p[3]>0&&(f+=Hr(b6||(b6=Vl(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,t,e+r-l*p[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f=Hr(x6||(x6=Vl(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*v,v,v,d,t+u*v,e,t+n-u*v,e,v,v,d,t+n,e+l*v,t+n,e+r-l*v,v,v,d,t+n-u*v,e+r,t+u*v,e+r,v,v,d,t,e+r-l*v)}else f=Hr(w6||(w6=Vl(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return f},E6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cte=t=>{var e=Ui(t,E6),n=$.useRef(null),[r,s]=$.useState(-1);$.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&s(ee)}catch{}},[]);var{x:i,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:v}=e,b=$.useRef(o),w=$.useRef(l),S=$.useRef(i),C=$.useRef(a),T=$.useMemo(()=>({x:i,y:a,width:o,height:l,radius:u}),[i,a,o,l,u]),N=zL(T,"rectangle-");if(i!==+i||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var O=et("recharts-rectangle",d);if(!v){var _=ea(e),{radius:F}=_,L=k6(_,$7e);return $.createElement("path",TC({},L,{x:$d(i),y:$d(a),width:$d(o),height:$d(l),radius:typeof u=="number"?u:void 0,className:O,d:T6(i,a,o,l,u)}))}var z=b.current,P=w.current,R=S.current,H=C.current,q="0px ".concat(r===-1?1:r,"px"),X="".concat(r,"px 0px"),V=ate(["strokeDasharray"],p,typeof f=="string"?f:E6.animationEasing);return $.createElement(FL,{animationId:N,key:N,canBegin:r>0,duration:p,easing:f,isActive:v,begin:m},ee=>{var J=ma(z,o,ee),te=ma(P,l,ee),ce=ma(R,i,ee),G=ma(H,a,ee);n.current&&(b.current=J,w.current=te,S.current=ce,C.current=G);var ne;y?ee>0?ne={transition:V,strokeDasharray:X}:ne={strokeDasharray:q}:ne={strokeDasharray:X};var ae=ea(e),{radius:be}=ae,$e=k6(ae,I7e);return $.createElement("path",TC({},$e,{radius:typeof u=="number"?u:void 0,className:O,d:T6(ce,G,J,te,u),ref:n,style:C6(C6({},ne),e.style)}))})};function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){_7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _7e(t,e,n){return(e=P7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P7e(t){var e=M7e(t,"string");return typeof e=="symbol"?e:e+""}function M7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EC=Math.PI/180,L7e=t=>t*180/Math.PI,yi=(t,e,n,r)=>({x:t+Math.cos(-EC*r)*n,y:e+Math.sin(-EC*r)*n}),F7e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},z7e=(t,e)=>{var{x:n,y:r}=t,{x:s,y:i}=e;return Math.sqrt((n-s)**2+(r-i)**2)},B7e=(t,e)=>{var{x:n,y:r}=t,{cx:s,cy:i}=e,a=z7e({x:n,y:r},{x:s,y:i});if(a<=0)return{radius:a,angle:0};var o=(n-s)/a,l=Math.acos(o);return r>i&&(l=2*Math.PI-l),{radius:a,angle:L7e(l),angleInRadian:l}},j7e=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),s=Math.floor(n/360),i=Math.min(r,s);return{startAngle:e-i*360,endAngle:n-i*360}},U7e=(t,e)=>{var{startAngle:n,endAngle:r}=e,s=Math.floor(n/360),i=Math.floor(r/360),a=Math.min(s,i);return t+a*360},V7e=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:s,angle:i}=B7e({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(s<a||s>o||s===0)return null;var{startAngle:l,endAngle:u}=j7e(e),d=i,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?$6($6({},e),{},{radius:s,angle:U7e(d,e)}):null};function dte(t){var{cx:e,cy:n,radius:r,startAngle:s,endAngle:i}=t,a=yi(e,n,r,s),o=yi(e,n,r,i);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}var I6,A6,O6,R6,D6,_6,P6;function UR(){return UR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UR.apply(null,arguments)}function bh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var W7e=(t,e)=>{var n=Io(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Iw=t=>{var{cx:e,cy:n,radius:r,angle:s,sign:i,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,u=o*(a?1:-1)+r,d=Math.asin(o/u)/EC,f=l?s:s+i*d,p=yi(e,n,u,f),m=yi(e,n,r,f),y=l?s-i*d:s,v=yi(e,n,u*Math.cos(d*EC),y);return{center:p,circleTangency:m,lineTangency:v,theta:d}},fte=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:i,endAngle:a}=t,o=W7e(i,a),l=i+o,u=yi(e,n,s,i),d=yi(e,n,s,l),f=Hr(I6||(I6=bh(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,s,s,+(Math.abs(o)>180),+(i>l),d.x,d.y);if(r>0){var p=yi(e,n,r,i),m=yi(e,n,r,l);f+=Hr(A6||(A6=bh(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(i<=l),p.x,p.y)}else f+=Hr(O6||(O6=bh(["L ",","," Z"])),e,n);return f},H7e=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,cornerRadius:i,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=t,d=Io(u-l),{circleTangency:f,lineTangency:p,theta:m}=Iw({cx:e,cy:n,radius:s,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:y,lineTangency:v,theta:b}=Iw({cx:e,cy:n,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),w=o?Math.abs(l-u):Math.abs(l-u)-m-b;if(w<0)return a?Hr(R6||(R6=bh(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):fte({cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:l,endAngle:u});var S=Hr(D6||(D6=bh(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,s,s,+(w>180),+(d<0),y.x,y.y,i,i,+(d<0),v.x,v.y);if(r>0){var{circleTangency:C,lineTangency:T,theta:N}=Iw({cx:e,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:O,lineTangency:_,theta:F}=Iw({cx:e,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),L=o?Math.abs(l-u):Math.abs(l-u)-N-F;if(L<0&&i===0)return"".concat(S,"L").concat(e,",").concat(n,"Z");S+=Hr(_6||(_6=bh(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),_.x,_.y,i,i,+(d<0),O.x,O.y,r,r,+(L>180),+(d>0),C.x,C.y,i,i,+(d<0),T.x,T.y)}else S+=Hr(P6||(P6=bh(["L",",","Z"])),e,n);return S},G7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hte=t=>{var e=Ui(t,G7e),{cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=e;if(i<s||u===d)return null;var p=et("recharts-sector",f),m=i-s,y=Yd(a,m,0,!0),v;return y>0&&Math.abs(u-d)<360?v=H7e({cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):v=fte({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),$.createElement("path",UR({},ea(e),{className:p,d:v}))};function q7e(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(qJ(e)){if(t==="centric"){var{cx:r,cy:s,innerRadius:i,outerRadius:a,angle:o}=e,l=yi(r,s,i,o),u=yi(r,s,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return dte(e)}}var tA={},nA={},rA={},M6;function K7e(){return M6||(M6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aee();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(rA)),rA}var L6;function X7e(){return L6||(L6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K7e();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(nA)),nA}var F6;function Y7e(){return F6||(F6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oee(),n=X7e();function r(s,i,a){a&&typeof a!="number"&&e.isIterateeCall(s,i,a)&&(i=a=void 0),s=n.toFinite(s),i===void 0?(i=s,s=0):i=n.toFinite(i),a=a===void 0?s<i?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((i-s)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=s,s+=a;return l}t.range=r})(tA)),tA}var sA,z6;function Z7e(){return z6||(z6=1,sA=Y7e().range),sA}var Q7e=Z7e();const pte=Ja(Q7e);function _d(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function J7e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BL(t){let e,n,r;t.length!==2?(e=_d,n=(o,l)=>_d(t(o),l),r=(o,l)=>t(o)-l):(e=t===_d||t===J7e?t:eXe,n=t,r=t);function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){const f=s(o,l,u,d-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:s,center:a,right:i}}function eXe(){return 0}function mte(t){return t===null?NaN:+t}function*tXe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const nXe=BL(_d),Cx=nXe.right;BL(mte).center;class B6 extends Map{constructor(e,n=iXe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(j6(this,e))}has(e){return super.has(j6(this,e))}set(e,n){return super.set(rXe(this,e),n)}delete(e){return super.delete(sXe(this,e))}}function j6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rXe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sXe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iXe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function aXe(t=_d){if(t===_d)return gte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oXe=Math.sqrt(50),lXe=Math.sqrt(10),uXe=Math.sqrt(2);function NC(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),a=i>=oXe?10:i>=lXe?5:i>=uXe?2:1;let o,l,u;return s<0?(u=Math.pow(10,-s)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,s)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?NC(t,e,n*2):[o,l,u]}function VR(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,a]=r?NC(e,t,n):NC(t,e,n);if(!(i>=s))return[];const o=i-s+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(i-u)/-a;else for(let u=0;u<o;++u)l[u]=(i-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(s+u)/-a;else for(let u=0;u<o;++u)l[u]=(s+u)*a;return l}function WR(t,e,n){return e=+e,t=+t,n=+n,NC(t,e,n)[2]}function HR(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?WR(e,t,n):WR(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function U6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function V6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yte(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?gte:aXe(s);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+p)),y=Math.min(r,Math.floor(e+(l-u)*f/l+p));yte(t,e,m,y,s)}const i=t[e];let a=n,o=r;for(xv(t,n,e),s(t[r],i)>0&&xv(t,n,r);a<o;){for(xv(t,a,o),++a,--o;s(t[a],i)<0;)++a;for(;s(t[o],i)>0;)--o}s(t[n],i)===0?xv(t,n,o):(++o,xv(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function xv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cXe(t,e,n){if(t=Float64Array.from(tXe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return V6(t);if(e>=1)return U6(t);var r,s=(r-1)*e,i=Math.floor(s),a=U6(yte(t,i).subarray(0,i+1)),o=V6(t.subarray(i+1));return a+(o-a)*(s-i)}}function dXe(t,e,n=mte){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),a=+n(t[i],i,t),o=+n(t[i+1],i+1,t);return a+(o-a)*(s-i)}}function fXe(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function Go(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const GR=Symbol("implicit");function jL(){var t=new B6,e=[],n=[],r=GR;function s(i){let a=t.get(i);if(a===void 0){if(r!==GR)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new B6;for(const a of i)t.has(a)||t.set(a,e.push(a)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return jL(e,n).unknown(r)},Go.apply(s,arguments),s}function UL(){var t=jL().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,a,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,m=s<r,y=m?s:r,v=m?r:s;i=(v-y)/Math.max(1,p-l+u*2),o&&(i=Math.floor(i)),y+=(v-y-i*(p-l))*d,a=i*(1-l),o&&(y=Math.round(y),a=Math.round(a));var b=fXe(p).map(function(w){return y+i*w});return n(m?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,s]=p,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(p){return[r,s]=p,r=+r,s=+s,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return UL(e(),[r,s]).round(o).paddingInner(l).paddingOuter(u).align(d)},Go.apply(f(),arguments)}function vte(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vte(e())},t}function hXe(){return vte(UL.apply(null,arguments).paddingInner(1))}function VL(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bte(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kx(){}var Tb=.7,$C=1/Tb,Um="\\s*([+-]?\\d+)\\s*",Eb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pXe=/^#([0-9a-f]{3,8})$/,mXe=new RegExp(`^rgb\\(${Um},${Um},${Um}\\)$`),gXe=new RegExp(`^rgb\\(${fu},${fu},${fu}\\)$`),yXe=new RegExp(`^rgba\\(${Um},${Um},${Um},${Eb}\\)$`),vXe=new RegExp(`^rgba\\(${fu},${fu},${fu},${Eb}\\)$`),bXe=new RegExp(`^hsl\\(${Eb},${fu},${fu}\\)$`),xXe=new RegExp(`^hsla\\(${Eb},${fu},${fu},${Eb}\\)$`),W6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VL(kx,Nb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:H6,formatHex:H6,formatHex8:wXe,formatHsl:SXe,formatRgb:G6,toString:G6});function H6(){return this.rgb().formatHex()}function wXe(){return this.rgb().formatHex8()}function SXe(){return xte(this).formatHsl()}function G6(){return this.rgb().formatRgb()}function Nb(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pXe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?q6(e):n===3?new ya(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Aw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Aw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mXe.exec(t))?new ya(e[1],e[2],e[3],1):(e=gXe.exec(t))?new ya(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yXe.exec(t))?Aw(e[1],e[2],e[3],e[4]):(e=vXe.exec(t))?Aw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bXe.exec(t))?Y6(e[1],e[2]/100,e[3]/100,1):(e=xXe.exec(t))?Y6(e[1],e[2]/100,e[3]/100,e[4]):W6.hasOwnProperty(t)?q6(W6[t]):t==="transparent"?new ya(NaN,NaN,NaN,0):null}function q6(t){return new ya(t>>16&255,t>>8&255,t&255,1)}function Aw(t,e,n,r){return r<=0&&(t=e=n=NaN),new ya(t,e,n,r)}function CXe(t){return t instanceof kx||(t=Nb(t)),t?(t=t.rgb(),new ya(t.r,t.g,t.b,t.opacity)):new ya}function qR(t,e,n,r){return arguments.length===1?CXe(t):new ya(t,e,n,r??1)}function ya(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VL(ya,qR,bte(kx,{brighter(t){return t=t==null?$C:Math.pow($C,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Tb:Math.pow(Tb,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ya($h(this.r),$h(this.g),$h(this.b),IC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K6,formatHex:K6,formatHex8:kXe,formatRgb:X6,toString:X6}));function K6(){return`#${xh(this.r)}${xh(this.g)}${xh(this.b)}`}function kXe(){return`#${xh(this.r)}${xh(this.g)}${xh(this.b)}${xh((isNaN(this.opacity)?1:this.opacity)*255)}`}function X6(){const t=IC(this.opacity);return`${t===1?"rgb(":"rgba("}${$h(this.r)}, ${$h(this.g)}, ${$h(this.b)}${t===1?")":`, ${t})`}`}function IC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $h(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xh(t){return t=$h(t),(t<16?"0":"")+t.toString(16)}function Y6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ol(t,e,n,r)}function xte(t){if(t instanceof ol)return new ol(t.h,t.s,t.l,t.opacity);if(t instanceof kx||(t=Nb(t)),!t)return new ol;if(t instanceof ol)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,o=i-s,l=(i+s)/2;return o?(e===i?a=(n-r)/o+(n<r)*6:n===i?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?i+s:2-i-s,a*=60):o=l>0&&l<1?0:a,new ol(a,o,l,t.opacity)}function TXe(t,e,n,r){return arguments.length===1?xte(t):new ol(t,e,n,r??1)}function ol(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VL(ol,TXe,bte(kx,{brighter(t){return t=t==null?$C:Math.pow($C,t),new ol(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Tb:Math.pow(Tb,t),new ol(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new ya(iA(t>=240?t-240:t+120,s,r),iA(t,s,r),iA(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new ol(Z6(this.h),Ow(this.s),Ow(this.l),IC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=IC(this.opacity);return`${t===1?"hsl(":"hsla("}${Z6(this.h)}, ${Ow(this.s)*100}%, ${Ow(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Z6(t){return t=(t||0)%360,t<0?t+360:t}function Ow(t){return Math.max(0,Math.min(1,t||0))}function iA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const WL=t=>()=>t;function EXe(t,e){return function(n){return t+n*e}}function NXe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $Xe(t){return(t=+t)==1?wte:function(e,n){return n-e?NXe(e,n,t):WL(isNaN(e)?n:e)}}function wte(t,e){var n=e-t;return n?EXe(t,n):WL(isNaN(t)?e:t)}const Q6=(function t(e){var n=$Xe(e);function r(s,i){var a=n((s=qR(s)).r,(i=qR(i)).r),o=n(s.g,i.g),l=n(s.b,i.b),u=wte(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=o(d),s.b=l(d),s.opacity=u(d),s+""}}return r.gamma=t,r})(1);function IXe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function AXe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OXe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)s[a]=Hg(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(o){for(a=0;a<r;++a)i[a]=s[a](o);return i}}function RXe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function AC(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function DXe(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Hg(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var KR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aA=new RegExp(KR.source,"g");function _Xe(t){return function(){return t}}function PXe(t){return function(e){return t(e)+""}}function MXe(t,e){var n=KR.lastIndex=aA.lastIndex=0,r,s,i,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=KR.exec(t))&&(s=aA.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),o[a]?o[a]+=i:o[++a]=i),(r=r[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,l.push({i:a,x:AC(r,s)})),n=aA.lastIndex;return n<e.length&&(i=e.slice(n),o[a]?o[a]+=i:o[++a]=i),o.length<2?l[0]?PXe(l[0].x):_Xe(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Hg(t,e){var n=typeof e,r;return e==null||n==="boolean"?WL(e):(n==="number"?AC:n==="string"?(r=Nb(e))?(e=r,Q6):MXe:e instanceof Nb?Q6:e instanceof Date?RXe:AXe(e)?IXe:Array.isArray(e)?OXe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?DXe:AC)(t,e)}function HL(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function LXe(t,e){e===void 0&&(e=t,t=Hg);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[o](a-o)}}function FXe(t){return function(){return t}}function OC(t){return+t}var J6=[0,1];function Yi(t){return t}function XR(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:FXe(isNaN(e)?NaN:.5)}function zXe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function BXe(t,e,n){var r=t[0],s=t[1],i=e[0],a=e[1];return s<r?(r=XR(s,r),i=n(a,i)):(r=XR(r,s),i=n(i,a)),function(o){return i(r(o))}}function jXe(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)s[a]=XR(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(o){var l=Cx(t,o,1,r)-1;return i[l](s[l](o))}}function Tx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function U2(){var t=J6,e=J6,n=Hg,r,s,i,a=Yi,o,l,u;function d(){var p=Math.min(t.length,e.length);return a!==Yi&&(a=zXe(t[0],t[p-1])),o=p>2?jXe:BXe,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=o(t.map(r),e,n)))(r(a(p)))}return f.invert=function(p){return a(s((u||(u=o(e,t.map(r),AC)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,OC),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=HL,d()},f.clamp=function(p){return arguments.length?(a=p?!0:Yi,d()):a!==Yi},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,s=m,d()}}function GL(){return U2()(Yi,Yi)}function UXe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function RC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function dg(t){return t=RC(Math.abs(t)),t?t[1]:NaN}function VXe(t,e){return function(n,r){for(var s=n.length,i=[],a=0,o=t[0],l=0;s>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(n.substring(s-=o,s+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return i.reverse().join(e)}}function WXe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var HXe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $b(t){if(!(e=HXe.exec(t)))throw new Error("invalid format: "+t);var e;return new qL({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$b.prototype=qL.prototype;function qL(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GXe(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var Ste;function qXe(t,e){var n=RC(t,e);if(!n)return t+"";var r=n[0],s=n[1],i=s-(Ste=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+RC(t,Math.max(0,e+i-1))[0]}function eH(t,e){var n=RC(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const tH={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:UXe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eH(t*100,e),r:eH,s:qXe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nH(t){return t}var rH=Array.prototype.map,sH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KXe(t){var e=t.grouping===void 0||t.thousands===void 0?nH:VXe(rH.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?nH:WXe(rH.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=$b(f);var p=f.fill,m=f.align,y=f.sign,v=f.symbol,b=f.zero,w=f.width,S=f.comma,C=f.precision,T=f.trim,N=f.type;N==="n"?(S=!0,N="g"):tH[N]||(C===void 0&&(C=12),T=!0,N="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var O=v==="$"?n:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=v==="$"?r:/[%p]/.test(N)?a:"",F=tH[N],L=/[defgprs%]/.test(N);C=C===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(P){var R=O,H=_,q,X,V;if(N==="c")H=F(P)+H,P="";else{P=+P;var ee=P<0||1/P<0;if(P=isNaN(P)?l:F(Math.abs(P),C),T&&(P=GXe(P)),ee&&+P==0&&y!=="+"&&(ee=!1),R=(ee?y==="("?y:o:y==="-"||y==="("?"":y)+R,H=(N==="s"?sH[8+Ste/3]:"")+H+(ee&&y==="("?")":""),L){for(q=-1,X=P.length;++q<X;)if(V=P.charCodeAt(q),48>V||V>57){H=(V===46?s+P.slice(q+1):P.slice(q))+H,P=P.slice(0,q);break}}}S&&!b&&(P=e(P,1/0));var J=R.length+P.length+H.length,te=J<w?new Array(w-J+1).join(p):"";switch(S&&b&&(P=e(te+P,te.length?w-H.length:1/0),te=""),m){case"<":P=R+P+H+te;break;case"=":P=R+te+P+H;break;case"^":P=te.slice(0,J=te.length>>1)+R+P+H+te.slice(J);break;default:P=te+R+P+H;break}return i(P)}return z.toString=function(){return f+""},z}function d(f,p){var m=u((f=$b(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(dg(p)/3)))*3,v=Math.pow(10,-y),b=sH[8+y/3];return function(w){return m(v*w)+b}}return{format:u,formatPrefix:d}}var Rw,KL,Cte;XXe({thousands:",",grouping:[3],currency:["$",""]});function XXe(t){return Rw=KXe(t),KL=Rw.format,Cte=Rw.formatPrefix,Rw}function YXe(t){return Math.max(0,-dg(Math.abs(t)))}function ZXe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dg(e)/3)))*3-dg(Math.abs(t)))}function QXe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dg(e)-dg(t))+1}function kte(t,e,n,r){var s=HR(t,e,n),i;switch(r=$b(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=ZXe(s,a))&&(r.precision=i),Cte(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=QXe(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=YXe(s))&&(r.precision=i-(r.type==="%")*2);break}}return KL(r)}function gf(t){var e=t.domain;return t.ticks=function(n){var r=e();return VR(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return kte(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,a=r[s],o=r[i],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=s,s=i,i=u);d-- >0;){if(u=WR(a,o,n),u===l)return r[s]=a,r[i]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Tte(){var t=GL();return t.copy=function(){return Tx(t,Tte())},Go.apply(t,arguments),gf(t)}function Ete(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,OC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ete(t).unknown(e)},t=arguments.length?Array.from(t,OC):[0,1],gf(n)}function Nte(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],a;return i<s&&(a=n,n=r,r=a,a=s,s=i,i=a),t[n]=e.floor(s),t[r]=e.ceil(i),t}function iH(t){return Math.log(t)}function aH(t){return Math.exp(t)}function JXe(t){return-Math.log(-t)}function eYe(t){return-Math.exp(-t)}function tYe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nYe(t){return t===10?tYe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rYe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oH(t){return(e,n)=>-t(-e,n)}function XL(t){const e=t(iH,aH),n=e.domain;let r=10,s,i;function a(){return s=rYe(r),i=nYe(r),n()[0]<0?(s=oH(s),i=oH(i),t(JXe,eYe)):t(iH,aH),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=s(u),m=s(d),y,v;const b=o==null?10:+o;let w=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<r;++y)if(v=p<0?y/i(-p):y*i(p),!(v<u)){if(v>d)break;w.push(v)}}else for(;p<=m;++p)for(y=r-1;y>=1;--y)if(v=p>0?y/i(-p):y*i(p),!(v<u)){if(v>d)break;w.push(v)}w.length*2<b&&(w=VR(u,d,b))}else w=VR(p,m,Math.min(m-p,b)).map(i);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$b(l)).precision==null&&(l.trim=!0),l=KL(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(Nte(n(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),e}function $te(){const t=XL(U2()).domain([1,10]);return t.copy=()=>Tx(t,$te()).base(t.base()),Go.apply(t,arguments),t}function lH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function YL(t){var e=1,n=t(lH(e),uH(e));return n.constant=function(r){return arguments.length?t(lH(e=+r),uH(e)):e},gf(n)}function Ite(){var t=YL(U2());return t.copy=function(){return Tx(t,Ite()).constant(t.constant())},Go.apply(t,arguments)}function cH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sYe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function iYe(t){return t<0?-t*t:t*t}function ZL(t){var e=t(Yi,Yi),n=1;function r(){return n===1?t(Yi,Yi):n===.5?t(sYe,iYe):t(cH(n),cH(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},gf(e)}function QL(){var t=ZL(U2());return t.copy=function(){return Tx(t,QL()).exponent(t.exponent())},Go.apply(t,arguments),t}function aYe(){return QL.apply(null,arguments).exponent(.5)}function dH(t){return Math.sign(t)*t*t}function oYe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ate(){var t=GL(),e=[0,1],n=!1,r;function s(i){var a=oYe(t(i));return isNaN(a)?r:n?Math.round(a):a}return s.invert=function(i){return t.invert(dH(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,OC)).map(dH)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Ate(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Go.apply(s,arguments),gf(s)}function Ote(){var t=[],e=[],n=[],r;function s(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=dXe(t,a/o);return i}function i(a){return a==null||isNaN(a=+a)?r:e[Cx(n,a)]}return i.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(_d),s()},i.range=function(a){return arguments.length?(e=Array.from(a),s()):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Ote().domain(t).range(e).unknown(r)},Go.apply(i,arguments)}function Rte(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function a(l){return l!=null&&l<=l?s[Cx(r,l,0,n)]:i}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,o()):s.slice()},a.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(i=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Rte().domain([t,e]).range(s).unknown(i)},Go.apply(gf(a),arguments)}function Dte(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[Cx(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Dte().domain(t).range(e).unknown(n)},Go.apply(s,arguments)}const oA=new Date,lA=new Date;function zs(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const a=s(i),o=s.ceil(i);return i-a<o-i?a:o},s.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),s.range=(i,a,o)=>{const l=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<a)||!(o>0))return l;let u;do l.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<a);return l},s.filter=i=>zs(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!i(a););else for(;--o>=0;)for(;e(a,1),!i(a););}),n&&(s.count=(i,a)=>(oA.setTime(+i),lA.setTime(+a),t(oA),t(lA),Math.floor(n(oA,lA))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?a=>r(a)%i===0:a=>s.count(0,a)%i===0):s)),s}const DC=zs(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);DC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zs(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):DC);DC.range;const lc=1e3,Ao=lc*60,uc=Ao*60,Cc=uc*24,JL=Cc*7,fH=Cc*30,uA=Cc*365,wh=zs(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*lc)},(t,e)=>(e-t)/lc,t=>t.getUTCSeconds());wh.range;const eF=zs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lc)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getMinutes());eF.range;const tF=zs(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCMinutes());tF.range;const nF=zs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lc-t.getMinutes()*Ao)},(t,e)=>{t.setTime(+t+e*uc)},(t,e)=>(e-t)/uc,t=>t.getHours());nF.range;const rF=zs(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*uc)},(t,e)=>(e-t)/uc,t=>t.getUTCHours());rF.range;const Ex=zs(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ao)/Cc,t=>t.getDate()-1);Ex.range;const V2=zs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Cc,t=>t.getUTCDate()-1);V2.range;const _te=zs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Cc,t=>Math.floor(t/Cc));_te.range;function pp(t){return zs(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ao)/JL)}const W2=pp(0),_C=pp(1),lYe=pp(2),uYe=pp(3),fg=pp(4),cYe=pp(5),dYe=pp(6);W2.range;_C.range;lYe.range;uYe.range;fg.range;cYe.range;dYe.range;function mp(t){return zs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JL)}const H2=mp(0),PC=mp(1),fYe=mp(2),hYe=mp(3),hg=mp(4),pYe=mp(5),mYe=mp(6);H2.range;PC.range;fYe.range;hYe.range;hg.range;pYe.range;mYe.range;const sF=zs(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sF.range;const iF=zs(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iF.range;const kc=zs(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());kc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zs(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});kc.range;const Tc=zs(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Tc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Tc.range;function Pte(t,e,n,r,s,i){const a=[[wh,1,lc],[wh,5,5*lc],[wh,15,15*lc],[wh,30,30*lc],[i,1,Ao],[i,5,5*Ao],[i,15,15*Ao],[i,30,30*Ao],[s,1,uc],[s,3,3*uc],[s,6,6*uc],[s,12,12*uc],[r,1,Cc],[r,2,2*Cc],[n,1,JL],[e,1,fH],[e,3,3*fH],[t,1,uA]];function o(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),y=m?m.range(u,+d+1):[];return p?y.reverse():y}function l(u,d,f){const p=Math.abs(d-u)/f,m=BL(([,,b])=>b).right(a,p);if(m===a.length)return t.every(HR(u/uA,d/uA,f));if(m===0)return DC.every(Math.max(HR(u,d,f),1));const[y,v]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return y.every(v)}return[o,l]}const[gYe,yYe]=Pte(Tc,iF,H2,_te,rF,tF),[vYe,bYe]=Pte(kc,sF,W2,Ex,nF,eF);function cA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xYe(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Sv(s),d=Cv(s),f=Sv(i),p=Cv(i),m=Sv(a),y=Cv(a),v=Sv(o),b=Cv(o),w=Sv(l),S=Cv(l),C={a:ee,A:J,b:te,B:ce,c:null,d:vH,e:vH,f:VYe,g:JYe,G:tZe,H:BYe,I:jYe,j:UYe,L:Mte,m:WYe,M:HYe,p:G,q:ne,Q:wH,s:SH,S:GYe,u:qYe,U:KYe,V:XYe,w:YYe,W:ZYe,x:null,X:null,y:QYe,Y:eZe,Z:nZe,"%":xH},T={a:ae,A:be,b:$e,B:Ie,c:null,d:bH,e:bH,f:aZe,g:gZe,G:vZe,H:rZe,I:sZe,j:iZe,L:Fte,m:oZe,M:lZe,p:Me,q:st,Q:wH,s:SH,S:uZe,u:cZe,U:dZe,V:fZe,w:hZe,W:pZe,x:null,X:null,y:mZe,Y:yZe,Z:bZe,"%":xH},N={a:z,A:P,b:R,B:H,c:q,d:gH,e:gH,f:MYe,g:mH,G:pH,H:yH,I:yH,j:RYe,L:PYe,m:OYe,M:DYe,p:L,q:AYe,Q:FYe,s:zYe,S:_Ye,u:TYe,U:EYe,V:NYe,w:kYe,W:$Ye,x:X,X:V,y:mH,Y:pH,Z:IYe,"%":LYe};C.x=O(n,C),C.X=O(r,C),C.c=O(e,C),T.x=O(n,T),T.X=O(r,T),T.c=O(e,T);function O(se,je){return function(Ge){var Se=[],yt=-1,Qe=0,ut=se.length,kt,Dt,Ot;for(Ge instanceof Date||(Ge=new Date(+Ge));++yt<ut;)se.charCodeAt(yt)===37&&(Se.push(se.slice(Qe,yt)),(Dt=hH[kt=se.charAt(++yt)])!=null?kt=se.charAt(++yt):Dt=kt==="e"?" ":"0",(Ot=je[kt])&&(kt=Ot(Ge,Dt)),Se.push(kt),Qe=yt+1);return Se.push(se.slice(Qe,yt)),Se.join("")}}function _(se,je){return function(Ge){var Se=wv(1900,void 0,1),yt=F(Se,se,Ge+="",0),Qe,ut;if(yt!=Ge.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(je&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(Qe=dA(wv(Se.y,0,1)),ut=Qe.getUTCDay(),Qe=ut>4||ut===0?PC.ceil(Qe):PC(Qe),Qe=V2.offset(Qe,(Se.V-1)*7),Se.y=Qe.getUTCFullYear(),Se.m=Qe.getUTCMonth(),Se.d=Qe.getUTCDate()+(Se.w+6)%7):(Qe=cA(wv(Se.y,0,1)),ut=Qe.getDay(),Qe=ut>4||ut===0?_C.ceil(Qe):_C(Qe),Qe=Ex.offset(Qe,(Se.V-1)*7),Se.y=Qe.getFullYear(),Se.m=Qe.getMonth(),Se.d=Qe.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),ut="Z"in Se?dA(wv(Se.y,0,1)).getUTCDay():cA(wv(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(ut+5)%7:Se.w+Se.U*7-(ut+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,dA(Se)):cA(Se)}}function F(se,je,Ge,Se){for(var yt=0,Qe=je.length,ut=Ge.length,kt,Dt;yt<Qe;){if(Se>=ut)return-1;if(kt=je.charCodeAt(yt++),kt===37){if(kt=je.charAt(yt++),Dt=N[kt in hH?je.charAt(yt++):kt],!Dt||(Se=Dt(se,Ge,Se))<0)return-1}else if(kt!=Ge.charCodeAt(Se++))return-1}return Se}function L(se,je,Ge){var Se=u.exec(je.slice(Ge));return Se?(se.p=d.get(Se[0].toLowerCase()),Ge+Se[0].length):-1}function z(se,je,Ge){var Se=m.exec(je.slice(Ge));return Se?(se.w=y.get(Se[0].toLowerCase()),Ge+Se[0].length):-1}function P(se,je,Ge){var Se=f.exec(je.slice(Ge));return Se?(se.w=p.get(Se[0].toLowerCase()),Ge+Se[0].length):-1}function R(se,je,Ge){var Se=w.exec(je.slice(Ge));return Se?(se.m=S.get(Se[0].toLowerCase()),Ge+Se[0].length):-1}function H(se,je,Ge){var Se=v.exec(je.slice(Ge));return Se?(se.m=b.get(Se[0].toLowerCase()),Ge+Se[0].length):-1}function q(se,je,Ge){return F(se,e,je,Ge)}function X(se,je,Ge){return F(se,n,je,Ge)}function V(se,je,Ge){return F(se,r,je,Ge)}function ee(se){return a[se.getDay()]}function J(se){return i[se.getDay()]}function te(se){return l[se.getMonth()]}function ce(se){return o[se.getMonth()]}function G(se){return s[+(se.getHours()>=12)]}function ne(se){return 1+~~(se.getMonth()/3)}function ae(se){return a[se.getUTCDay()]}function be(se){return i[se.getUTCDay()]}function $e(se){return l[se.getUTCMonth()]}function Ie(se){return o[se.getUTCMonth()]}function Me(se){return s[+(se.getUTCHours()>=12)]}function st(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var je=O(se+="",C);return je.toString=function(){return se},je},parse:function(se){var je=_(se+="",!1);return je.toString=function(){return se},je},utcFormat:function(se){var je=O(se+="",T);return je.toString=function(){return se},je},utcParse:function(se){var je=_(se+="",!0);return je.toString=function(){return se},je}}}var hH={"-":"",_:" ",0:"0"},li=/^\s*\d+/,wYe=/^%/,SYe=/[\\^$*+?|[\]().{}]/g;function Dn(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function CYe(t){return t.replace(SYe,"\\$&")}function Sv(t){return new RegExp("^(?:"+t.map(CYe).join("|")+")","i")}function Cv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kYe(t,e,n){var r=li.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function TYe(t,e,n){var r=li.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function EYe(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function NYe(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $Ye(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pH(t,e,n){var r=li.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mH(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function IYe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function AYe(t,e,n){var r=li.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function OYe(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gH(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function RYe(t,e,n){var r=li.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yH(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function DYe(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _Ye(t,e,n){var r=li.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function PYe(t,e,n){var r=li.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MYe(t,e,n){var r=li.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LYe(t,e,n){var r=wYe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function FYe(t,e,n){var r=li.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zYe(t,e,n){var r=li.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vH(t,e){return Dn(t.getDate(),e,2)}function BYe(t,e){return Dn(t.getHours(),e,2)}function jYe(t,e){return Dn(t.getHours()%12||12,e,2)}function UYe(t,e){return Dn(1+Ex.count(kc(t),t),e,3)}function Mte(t,e){return Dn(t.getMilliseconds(),e,3)}function VYe(t,e){return Mte(t,e)+"000"}function WYe(t,e){return Dn(t.getMonth()+1,e,2)}function HYe(t,e){return Dn(t.getMinutes(),e,2)}function GYe(t,e){return Dn(t.getSeconds(),e,2)}function qYe(t){var e=t.getDay();return e===0?7:e}function KYe(t,e){return Dn(W2.count(kc(t)-1,t),e,2)}function Lte(t){var e=t.getDay();return e>=4||e===0?fg(t):fg.ceil(t)}function XYe(t,e){return t=Lte(t),Dn(fg.count(kc(t),t)+(kc(t).getDay()===4),e,2)}function YYe(t){return t.getDay()}function ZYe(t,e){return Dn(_C.count(kc(t)-1,t),e,2)}function QYe(t,e){return Dn(t.getFullYear()%100,e,2)}function JYe(t,e){return t=Lte(t),Dn(t.getFullYear()%100,e,2)}function eZe(t,e){return Dn(t.getFullYear()%1e4,e,4)}function tZe(t,e){var n=t.getDay();return t=n>=4||n===0?fg(t):fg.ceil(t),Dn(t.getFullYear()%1e4,e,4)}function nZe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dn(e/60|0,"0",2)+Dn(e%60,"0",2)}function bH(t,e){return Dn(t.getUTCDate(),e,2)}function rZe(t,e){return Dn(t.getUTCHours(),e,2)}function sZe(t,e){return Dn(t.getUTCHours()%12||12,e,2)}function iZe(t,e){return Dn(1+V2.count(Tc(t),t),e,3)}function Fte(t,e){return Dn(t.getUTCMilliseconds(),e,3)}function aZe(t,e){return Fte(t,e)+"000"}function oZe(t,e){return Dn(t.getUTCMonth()+1,e,2)}function lZe(t,e){return Dn(t.getUTCMinutes(),e,2)}function uZe(t,e){return Dn(t.getUTCSeconds(),e,2)}function cZe(t){var e=t.getUTCDay();return e===0?7:e}function dZe(t,e){return Dn(H2.count(Tc(t)-1,t),e,2)}function zte(t){var e=t.getUTCDay();return e>=4||e===0?hg(t):hg.ceil(t)}function fZe(t,e){return t=zte(t),Dn(hg.count(Tc(t),t)+(Tc(t).getUTCDay()===4),e,2)}function hZe(t){return t.getUTCDay()}function pZe(t,e){return Dn(PC.count(Tc(t)-1,t),e,2)}function mZe(t,e){return Dn(t.getUTCFullYear()%100,e,2)}function gZe(t,e){return t=zte(t),Dn(t.getUTCFullYear()%100,e,2)}function yZe(t,e){return Dn(t.getUTCFullYear()%1e4,e,4)}function vZe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hg(t):hg.ceil(t),Dn(t.getUTCFullYear()%1e4,e,4)}function bZe(){return"+0000"}function xH(){return"%"}function wH(t){return+t}function SH(t){return Math.floor(+t/1e3)}var ym,Bte,jte;xZe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xZe(t){return ym=xYe(t),Bte=ym.format,ym.parse,jte=ym.utcFormat,ym.utcParse,ym}function wZe(t){return new Date(t)}function SZe(t){return t instanceof Date?+t:+new Date(+t)}function aF(t,e,n,r,s,i,a,o,l,u){var d=GL(),f=d.invert,p=d.domain,m=u(".%L"),y=u(":%S"),v=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),S=u("%b %d"),C=u("%B"),T=u("%Y");function N(O){return(l(O)<O?m:o(O)<O?y:a(O)<O?v:i(O)<O?b:r(O)<O?s(O)<O?w:S:n(O)<O?C:T)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?p(Array.from(O,SZe)):p().map(wZe)},d.ticks=function(O){var _=p();return t(_[0],_[_.length-1],O??10)},d.tickFormat=function(O,_){return _==null?N:u(_)},d.nice=function(O){var _=p();return(!O||typeof O.range!="function")&&(O=e(_[0],_[_.length-1],O??10)),O?p(Nte(_,O)):d},d.copy=function(){return Tx(d,aF(t,e,n,r,s,i,a,o,l,u))},d}function CZe(){return Go.apply(aF(vYe,bYe,kc,sF,W2,Ex,nF,eF,wh,Bte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kZe(){return Go.apply(aF(gYe,yYe,Tc,iF,H2,V2,rF,tF,wh,jte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G2(){var t=0,e=1,n,r,s,i,a=Yi,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(s===0?.5:(f=(i(f)-n)*s,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(p){var m,y;return arguments.length?([m,y]=p,a=f(m,y),u):[a(0),a(1)]}}return u.range=d(Hg),u.rangeRound=d(HL),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(t),r=f(e),s=n===r?0:1/(r-n),u}}function yf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ute(){var t=gf(G2()(Yi));return t.copy=function(){return yf(t,Ute())},Pc.apply(t,arguments)}function Vte(){var t=XL(G2()).domain([1,10]);return t.copy=function(){return yf(t,Vte()).base(t.base())},Pc.apply(t,arguments)}function Wte(){var t=YL(G2());return t.copy=function(){return yf(t,Wte()).constant(t.constant())},Pc.apply(t,arguments)}function oF(){var t=ZL(G2());return t.copy=function(){return yf(t,oF()).exponent(t.exponent())},Pc.apply(t,arguments)}function TZe(){return oF.apply(null,arguments).exponent(.5)}function Hte(){var t=[],e=Yi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(_d),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>cXe(t,i/r))},n.copy=function(){return Hte(e).domain(t)},Pc.apply(n,arguments)}function q2(){var t=0,e=.5,n=1,r=1,s,i,a,o,l,u=Yi,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(r*v<r*i?o:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,s=d(t=+t),i=d(e=+e),a=d(n=+n),o=s===i?0:.5/(i-s),l=i===a?0:.5/(a-i),r=i<s?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function y(v){return function(b){var w,S,C;return arguments.length?([w,S,C]=b,u=LXe(v,[w,S,C]),m):[u(0),u(.5),u(1)]}}return m.range=y(Hg),m.rangeRound=y(HL),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,s=v(t),i=v(e),a=v(n),o=s===i?0:.5/(i-s),l=i===a?0:.5/(a-i),r=i<s?-1:1,m}}function Gte(){var t=gf(q2()(Yi));return t.copy=function(){return yf(t,Gte())},Pc.apply(t,arguments)}function qte(){var t=XL(q2()).domain([.1,1,10]);return t.copy=function(){return yf(t,qte()).base(t.base())},Pc.apply(t,arguments)}function Kte(){var t=YL(q2());return t.copy=function(){return yf(t,Kte()).constant(t.constant())},Pc.apply(t,arguments)}function lF(){var t=ZL(q2());return t.copy=function(){return yf(t,lF()).exponent(t.exponent())},Pc.apply(t,arguments)}function EZe(){return lF.apply(null,arguments).exponent(.5)}const Lv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:UL,scaleDiverging:Gte,scaleDivergingLog:qte,scaleDivergingPow:lF,scaleDivergingSqrt:EZe,scaleDivergingSymlog:Kte,scaleIdentity:Ete,scaleImplicit:GR,scaleLinear:Tte,scaleLog:$te,scaleOrdinal:jL,scalePoint:hXe,scalePow:QL,scaleQuantile:Ote,scaleQuantize:Rte,scaleRadial:Ate,scaleSequential:Ute,scaleSequentialLog:Vte,scaleSequentialPow:oF,scaleSequentialQuantile:Hte,scaleSequentialSqrt:TZe,scaleSequentialSymlog:Wte,scaleSqrt:aYe,scaleSymlog:Ite,scaleThreshold:Dte,scaleTime:CZe,scaleUtc:kZe,tickFormat:kte},Symbol.toStringTag,{value:"Module"}));var vf=t=>t.chartData,NZe=Ue([vf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),uF=(t,e,n,r)=>r?NZe(t):vf(t);function Zd(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Is(e)&&Is(n))return!0}return!1}function CH(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Xte(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,s,i;if(Is(n))s=n;else if(typeof n=="function")return;if(Is(r))i=r;else if(typeof r=="function")return;var a=[s,i];if(Zd(a))return a}}function $Ze(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Zd(r))return CH(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[s,i]=t,a,o;if(s==="auto")e!=null&&(a=Math.min(...e));else if(Rt(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e?.[0]))}catch{}else if(typeof s=="string"&&_5.test(s)){var l=_5.exec(s);if(l==null||l[1]==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e?.[0];if(i==="auto")e!=null&&(o=Math.max(...e));else if(Rt(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[1]))}catch{}else if(typeof i=="string"&&P5.test(i)){var d=P5.exec(i);if(d==null||d[1]==null||e==null)o=void 0;else{var f=+d[1];o=e[1]+f}}else o=e?.[1];var p=[a,o];if(Zd(p))return e==null?p:CH(p,e,n)}}}var Gg=1e9,IZe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dF,Rr=!0,zo="[DecimalError] ",Ih=zo+"Invalid argument: ",cF=zo+"Exponent out of range: ",qg=Math.floor,uh=Math.pow,AZe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,Ys=1e7,br=7,Yte=9007199254740991,MC=qg(Yte/br),xt={};xt.absoluteValue=xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xt.comparedTo=xt.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*br;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xt.dividedBy=xt.div=function(t){return fc(this,new this.constructor(t))};xt.dividedToIntegerBy=xt.idiv=function(t){var e=this,n=e.constructor;return or(fc(e,new n(t),0,1),n.precision)};xt.equals=xt.eq=function(t){return!this.cmp(t)};xt.exponent=function(){return Ns(this)};xt.greaterThan=xt.gt=function(t){return this.cmp(t)>0};xt.greaterThanOrEqualTo=xt.gte=function(t){return this.cmp(t)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(t){return this.cmp(t)<0};xt.lessThanOrEqualTo=xt.lte=function(t){return this.cmp(t)<1};xt.logarithm=xt.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ha))throw Error(zo+"NaN");if(n.s<1)throw Error(zo+(n.s?"NaN":"-Infinity"));return n.eq(Ha)?new r(0):(Rr=!1,e=fc(Ib(n,i),Ib(t,i),i),Rr=!0,or(e,s))};xt.minus=xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jte(e,t):Zte(e,(t.s=-t.s,t))};xt.modulo=xt.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(zo+"NaN");return n.s?(Rr=!1,e=fc(n,t,0,1).times(t),Rr=!0,n.minus(e)):or(new r(n),s)};xt.naturalExponential=xt.exp=function(){return Qte(this)};xt.naturalLogarithm=xt.ln=function(){return Ib(this)};xt.negated=xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xt.plus=xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Zte(e,t):Jte(e,(t.s=-t.s,t))};xt.precision=xt.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ih+t);if(e=Ns(s)+1,r=s.d.length-1,n=r*br+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xt.squareRoot=xt.sqrt=function(){var t,e,n,r,s,i,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(zo+"NaN")}for(t=Ns(o),Rr=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=tu(o.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=qg((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(s.toString()),n=l.precision,s=a=n+3;;)if(i=r,r=i.plus(fc(o,i,a+2)).times(.5),tu(i.d).slice(0,a)===(e=tu(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),s==a&&e=="4999"){if(or(i,n+1,0),i.times(i).eq(o)){r=i;break}}else if(e!="9999")break;a+=4}return Rr=!0,or(r,n)};xt.times=xt.mul=function(t){var e,n,r,s,i,a,o,l,u,d=this,f=d.constructor,p=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=p.length,u=m.length,l<u&&(i=p,p=m,m=i,a=l,l=u,u=a),i=[],a=l+u,r=a;r--;)i.push(0);for(r=u;--r>=0;){for(e=0,s=l+r;s>r;)o=i[s]+m[r]*p[s-r-1]+e,i[s--]=o%Ys|0,e=o/Ys|0;i[s]=(i[s]+e)%Ys|0}for(;!i[--a];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Rr?or(t,f.precision):t};xt.toDecimalPlaces=xt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(wu(t,0,Gg),e===void 0?e=r.rounding:wu(e,0,8),or(n,t+Ns(n)+1,e))};xt.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=Jh(r,!0):(wu(t,0,Gg),e===void 0?e=s.rounding:wu(e,0,8),r=or(new s(r),t+1,e),n=Jh(r,!0,t+1)),n};xt.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?Jh(s):(wu(t,0,Gg),e===void 0?e=i.rounding:wu(e,0,8),r=or(new i(s),t+Ns(s)+1,e),n=Jh(r.abs(),!1,t+Ns(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};xt.toInteger=xt.toint=function(){var t=this,e=t.constructor;return or(new e(t),Ns(t)+1,e.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(t){var e,n,r,s,i,a,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Ha);if(o=new l(o),!o.s){if(t.s<1)throw Error(zo+"Infinity");return o}if(o.eq(Ha))return o;if(r=l.precision,t.eq(Ha))return or(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,i=o.s,a){if((n=d<0?-d:d)<=Yte){for(s=new l(Ha),e=Math.ceil(r/br+4),Rr=!1;n%2&&(s=s.times(o),TH(s.d,e)),n=qg(n/2),n!==0;)o=o.times(o),TH(o.d,e);return Rr=!0,t.s<0?new l(Ha).div(s):or(s,r)}}else if(i<0)throw Error(zo+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Rr=!1,s=t.times(Ib(o,r+u)),Rr=!0,s=Qte(s),s.s=i,s};xt.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=Ns(s),r=Jh(s,n<=i.toExpNeg||n>=i.toExpPos)):(wu(t,1,Gg),e===void 0?e=i.rounding:wu(e,0,8),s=or(new i(s),t,e),n=Ns(s),r=Jh(s,t<=n||n<=i.toExpNeg,t)),r};xt.toSignificantDigits=xt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(wu(t,1,Gg),e===void 0?e=r.rounding:wu(e,0,8)),or(new r(n),t,e)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ns(t),n=t.constructor;return Jh(t,e<=n.toExpNeg||e>=n.toExpPos)};function Zte(t,e){var n,r,s,i,a,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Rr?or(e,f):e;if(l=t.d,u=e.d,a=t.e,s=e.e,l=l.slice(),i=a-s,i){for(i<0?(r=l,i=-i,o=u.length):(r=u,s=a,o=l.length),a=Math.ceil(f/br),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/Ys|0,l[i]%=Ys;for(n&&(l.unshift(n),++s),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=s,Rr?or(e,f):e}function wu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ih+t)}function tu(t){var e,n,r,s=t.length-1,i="",a=t[0];if(s>0){for(i+=a,e=1;e<s;e++)r=t[e]+"",n=br-r.length,n&&(i+=Sd(n)),i+=r;a=t[e],r=a+"",n=br-r.length,n&&(i+=Sd(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var fc=(function(){function t(r,s){var i,a=0,o=r.length;for(r=r.slice();o--;)i=r[o]*s+a,r[o]=i%Ys|0,a=i/Ys|0;return a&&r.unshift(a),r}function e(r,s,i,a){var o,l;if(i!=a)l=i>a?1:-1;else for(o=l=0;o<i;o++)if(r[o]!=s[o]){l=r[o]>s[o]?1:-1;break}return l}function n(r,s,i){for(var a=0;i--;)r[i]-=a,a=r[i]<s[i]?1:0,r[i]=a*Ys+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,a){var o,l,u,d,f,p,m,y,v,b,w,S,C,T,N,O,_,F,L=r.constructor,z=r.s==s.s?1:-1,P=r.d,R=s.d;if(!r.s)return new L(r);if(!s.s)throw Error(zo+"Division by zero");for(l=r.e-s.e,_=R.length,N=P.length,m=new L(z),y=m.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--l,i==null?S=i=L.precision:a?S=i+(Ns(r)-Ns(s))+1:S=i,S<0)return new L(0);if(S=S/br+2|0,u=0,_==1)for(d=0,R=R[0],S++;(u<N||d)&&S--;u++)C=d*Ys+(P[u]||0),y[u]=C/R|0,d=C%R|0;else{for(d=Ys/(R[0]+1)|0,d>1&&(R=t(R,d),P=t(P,d),_=R.length,N=P.length),T=_,v=P.slice(0,_),b=v.length;b<_;)v[b++]=0;F=R.slice(),F.unshift(0),O=R[0],R[1]>=Ys/2&&++O;do d=0,o=e(R,v,_,b),o<0?(w=v[0],_!=b&&(w=w*Ys+(v[1]||0)),d=w/O|0,d>1?(d>=Ys&&(d=Ys-1),f=t(R,d),p=f.length,b=v.length,o=e(f,v,p,b),o==1&&(d--,n(f,_<p?F:R,p))):(d==0&&(o=d=1),f=R.slice()),p=f.length,p<b&&f.unshift(0),n(v,f,b),o==-1&&(b=v.length,o=e(R,v,_,b),o<1&&(d++,n(v,_<b?F:R,b))),b=v.length):o===0&&(d++,v=[0]),y[u++]=d,o&&v[0]?v[b++]=P[T]||0:(v=[P[T]],b=1);while((T++<N||v[0]!==void 0)&&S--)}return y[0]||y.shift(),m.e=l,or(m,a?i+Ns(m)+1:i)}})();function Qte(t,e){var n,r,s,i,a,o,l=0,u=0,d=t.constructor,f=d.precision;if(Ns(t)>16)throw Error(cF+Ns(t));if(!t.s)return new d(Ha);for(Rr=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(uh(2,u))/Math.LN10*2+5|0,o+=r,n=s=i=new d(Ha),d.precision=o;;){if(s=or(s.times(t),o),n=n.times(++l),a=i.plus(fc(s,n,o)),tu(a.d).slice(0,o)===tu(i.d).slice(0,o)){for(;u--;)i=or(i.times(i),o);return d.precision=f,e==null?(Rr=!0,or(i,f)):i}i=a}}function Ns(t){for(var e=t.e*br,n=t.d[0];n>=10;n/=10)e++;return e}function fA(t,e,n){if(e>t.LN10.sd())throw Rr=!0,n&&(t.precision=n),Error(zo+"LN10 precision limit exceeded");return or(new t(t.LN10),e)}function Sd(t){for(var e="";t--;)e+="0";return e}function Ib(t,e){var n,r,s,i,a,o,l,u,d,f=1,p=10,m=t,y=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(zo+(m.s?"NaN":"-Infinity"));if(m.eq(Ha))return new v(0);if(e==null?(Rr=!1,u=b):u=e,m.eq(10))return e==null&&(Rr=!0),fA(v,u);if(u+=p,v.precision=u,n=tu(y),r=n.charAt(0),i=Ns(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=tu(m.d),r=n.charAt(0),f++;i=Ns(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return l=fA(v,u+2,b).times(i+""),m=Ib(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=b,e==null?(Rr=!0,or(m,b)):m;for(o=a=m=fc(m.minus(Ha),m.plus(Ha),u),d=or(m.times(m),u),s=3;;){if(a=or(a.times(d),u),l=o.plus(fc(a,new v(s),u)),tu(l.d).slice(0,u)===tu(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(fA(v,u+2,b).times(i+""))),o=fc(o,new v(f),u),v.precision=b,e==null?(Rr=!0,or(o,b)):o;o=l,s+=2}}function kH(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=qg(n/br),t.d=[],r=(n+1)%br,n<0&&(r+=br),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=br;r<s;)t.d.push(+e.slice(r,r+=br));e=e.slice(r),r=br-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),Rr&&(t.e>MC||t.e<-MC))throw Error(cF+n)}else t.s=0,t.e=0,t.d=[0];return t}function or(t,e,n){var r,s,i,a,o,l,u,d,f=t.d;for(a=1,i=f[0];i>=10;i/=10)a++;if(r=e-a,r<0)r+=br,s=e,u=f[d=0];else{if(d=Math.ceil((r+1)/br),i=f.length,d>=i)return t;for(u=i=f[d],a=1;i>=10;i/=10)a++;r%=br,s=r-br+a}if(n!==void 0&&(i=uh(10,a-s-1),o=u/i%10|0,l=e<0||f[d+1]!==void 0||u%i,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?s>0?u/uh(10,a-s):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(i=Ns(t),f.length=1,e=e-i-1,f[0]=uh(10,(br-e%br)%br),t.e=qg(-e/br)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=uh(10,br-r),f[d]=s>0?(u/uh(10,a-s)%uh(10,s)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Ys&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=Ys)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Rr&&(t.e>MC||t.e<-MC))throw Error(cF+Ns(t));return t}function Jte(t,e){var n,r,s,i,a,o,l,u,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Rr?or(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,o=f.length):(n=f,r=u,o=l.length),s=Math.max(Math.ceil(m/br),o)+2,a>s&&(a=s,n.length=1),n.reverse(),s=a;s--;)n.push(0);n.reverse()}else{for(s=l.length,o=f.length,d=s<o,d&&(o=s),s=0;s<o;s++)if(l[s]!=f[s]){d=l[s]<f[s];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,s=f.length-o;s>0;--s)l[o++]=0;for(s=f.length;s>a;){if(l[--s]<f[s]){for(i=s;i&&l[--i]===0;)l[i]=Ys-1;--l[i],l[s]+=Ys}l[s]-=f[s]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Rr?or(e,m):e):new p(0)}function Jh(t,e,n){var r,s=Ns(t),i=tu(t.d),a=i.length;return e?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+Sd(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Sd(-s-1)+i,n&&(r=n-a)>0&&(i+=Sd(r))):s>=a?(i+=Sd(s+1-a),n&&(r=n-s-1)>0&&(i=i+"."+Sd(r))):((r=s+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(s+1===a&&(i+="."),i+=Sd(r))),t.s<0?"-"+i:i}function TH(t,e){if(t.length>e)return t.length=e,!0}function ene(t){var e,n,r;function s(i){var a=this;if(!(a instanceof s))return new s(i);if(a.constructor=s,i instanceof s){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ih+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return kH(a,i.toString())}else if(typeof i!="string")throw Error(Ih+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,AZe.test(i))kH(a,i);else throw Error(Ih+i)}if(s.prototype=xt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ene,s.config=s.set=OZe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function OZe(t){if(!t||typeof t!="object")throw Error(zo+"Object expected");var e,n,r,s=["precision",1,Gg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(qg(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(Ih+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ih+n+": "+r);return this}var dF=ene(IZe);Ha=new dF(1);const Kn=dF;var RZe=t=>t,tne={},nne=t=>t===tne,EH=t=>function e(){return arguments.length===0||arguments.length===1&&nne(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},rne=(t,e)=>t===1?e:EH(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var i=r.filter(a=>a!==tne).length;return i>=t?e(...r):rne(t-i,EH(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(d=>nne(d)?o.shift():d);return e(...u,...o)}))}),DZe=t=>rne(t.length,t),YR=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},_Ze=DZe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),PZe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return RZe;var s=n.reverse(),i=s[0],a=s.slice(1);return function(){return a.reduce((o,l)=>l(o),i(...arguments))}};function sne(t){var e;return t===0?e=1:e=Math.floor(new Kn(t).abs().log(10).toNumber())+1,e}function ine(t,e,n){for(var r=new Kn(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var ane=t=>{var[e,n]=t,[r,s]=[e,n];return e>n&&([r,s]=[n,e]),[r,s]},one=(t,e,n)=>{if(t.lte(0))return new Kn(0);var r=sne(t.toNumber()),s=new Kn(10).pow(r),i=t.div(s),a=r!==1?.05:.1,o=new Kn(Math.ceil(i.div(a).toNumber())).add(n).mul(a),l=o.mul(s);return e?new Kn(l.toNumber()):new Kn(Math.ceil(l.toNumber()))},MZe=(t,e,n)=>{var r=new Kn(1),s=new Kn(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new Kn(10).pow(sne(t)-1),s=new Kn(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new Kn(Math.floor(t)))}else t===0?s=new Kn(Math.floor((e-1)/2)):n||(s=new Kn(Math.floor(t)));var a=Math.floor((e-1)/2),o=PZe(_Ze(l=>s.add(new Kn(l-a).mul(r)).toNumber()),YR);return o(0,e)},lne=function(e,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Kn(0),tickMin:new Kn(0),tickMax:new Kn(0)};var a=one(new Kn(n).sub(e).div(r-1),s,i),o;e<=0&&n>=0?o=new Kn(0):(o=new Kn(e).add(n).div(2),o=o.sub(new Kn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Kn(n).sub(o).div(a).toNumber()),d=l+u+1;return d>r?lne(e,n,r,s,i+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:a,tickMin:o.sub(new Kn(l).mul(a)),tickMax:o.add(new Kn(u).mul(a))})},LZe=function(e){var[n,r]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(s,2),[o,l]=ane([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...YR(0,s-1).map(()=>1/0)]:[...YR(0,s-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(o===l)return MZe(o,s,i);var{step:d,tickMin:f,tickMax:p}=lne(o,l,a,i,0),m=ine(f,p.add(new Kn(.1).mul(d)),d);return n>r?m.reverse():m},FZe=function(e,n){var[r,s]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=ane([r,s]);if(a===-1/0||o===1/0)return[r,s];if(a===o)return[a];var l=Math.max(n,2),u=one(new Kn(o).sub(a).div(l-1),i,0),d=[...ine(new Kn(a),new Kn(o),u),o];return i===!1&&(d=d.map(f=>Math.round(f))),r>s?d.reverse():d},zZe=t=>t.rootProps.barCategoryGap,K2=t=>t.rootProps.stackOffset,une=t=>t.rootProps.reverseStackOrder,fF=t=>t.options.chartName,hF=t=>t.rootProps.syncId,cne=t=>t.rootProps.syncMethod,pF=t=>t.options.eventEmitter,Zi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ic={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ua={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},X2=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},BZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ic.angleAxisId,includeHidden:!1,name:void 0,reversed:ic.reversed,scale:ic.scale,tick:ic.tick,tickCount:void 0,ticks:void 0,type:ic.type,unit:void 0},jZe={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:Ua.type,unit:void 0},UZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ic.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ic.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ic.scale,tick:ic.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},VZe={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:"category",unit:void 0},mF=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?UZe:BZe,gF=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?VZe:jZe,Y2=t=>t.polarOptions,yF=Ue([Dc,_c,Ci],F7e),dne=Ue([Y2,yF],(t,e)=>{if(t!=null)return Yd(t.innerRadius,e,0)}),fne=Ue([Y2,yF],(t,e)=>{if(t!=null)return Yd(t.outerRadius,e,e*.8)}),WZe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},hne=Ue([Y2],WZe);Ue([mF,hne],X2);var pne=Ue([yF,dne,fne],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Ue([gF,pne],X2);var mne=Ue([Sr,Y2,dne,fne,Dc,_c],(t,e,n,r,s,i)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:Yd(a,s,s/2),cy:Yd(o,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Bs=(t,e)=>e,Z2=(t,e,n)=>n;function gne(t){return t?.id}function yne(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:s,dataKey:i}=n,a=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=gne(o);u.forEach((f,p)=>{var m=i==null||s?p:String(bi(f,i,null)),y=bi(f,o.dataKey,0),v;a.has(m)?v=a.get(m):v={},Object.assign(v,{[d]:y}),a.set(m,v)})}}),Array.from(a.values())}function vF(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Q2=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function J2(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function HZe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var js=t=>{var e=Sr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Kg=t=>t.tooltip.settings.axisId;function NH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NH(Object(n),!0).forEach(function(r){GZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZe(t,e,n){return(e=qZe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZe(t){var e=KZe(t,"string");return typeof e=="symbol"?e:e+""}function KZe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZR=[0,"auto"],Ks={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vne=(t,e)=>t.cartesianAxis.xAxis[e],Mc=(t,e)=>{var n=vne(t,e);return n??Ks},Xs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ZR,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xx},bne=(t,e)=>t.cartesianAxis.yAxis[e],Lc=(t,e)=>{var n=bne(t,e);return n??Xs},XZe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bF=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??XZe},ra=(t,e,n)=>{switch(e){case"xAxis":return Mc(t,n);case"yAxis":return Lc(t,n);case"zAxis":return bF(t,n);case"angleAxis":return mF(t,n);case"radiusAxis":return gF(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},YZe=(t,e,n)=>{switch(e){case"xAxis":return Mc(t,n);case"yAxis":return Lc(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Nx=(t,e,n)=>{switch(e){case"xAxis":return Mc(t,n);case"yAxis":return Lc(t,n);case"angleAxis":return mF(t,n);case"radiusAxis":return gF(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xne=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function wne(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Sne=t=>t.graphicalItems.cartesianItems,ZZe=Ue([Bs,Z2],wne),Cne=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),$x=Ue([Sne,ra,ZZe],Cne,{memoizeOptions:{resultEqualityCheck:J2}}),kne=Ue([$x],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(vF)),Tne=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),QZe=Ue([$x],Tne),Ene=t=>t.map(e=>e.data).filter(Boolean).flat(1),JZe=Ue([$x],Ene,{memoizeOptions:{resultEqualityCheck:J2}}),Nne=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=e;return t.length>0?t:n.slice(r,s+1)},xF=Ue([JZe,uF],Nne),$ne=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:bi(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(s=>({value:bi(s,r)}))):t.map(r=>({value:r})),eE=Ue([xF,ra,$x],$ne);function Ine(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function oS(t){if(bu(t)||t instanceof Date){var e=Number(t);if(Is(e))return e}}function $H(t){if(Array.isArray(t)){var e=[oS(t[0]),oS(t[1])];return Zd(e)?e:void 0}var n=oS(t);if(n!=null)return[n,n]}function Ec(t){return t.map(oS).filter(HGe)}function eQe(t,e,n){return!n||typeof e!="number"||vu(e)?[]:n.length?Ec(n.flatMap(r=>{var s=bi(t,r.dataKey),i,a;if(Array.isArray(s)?[i,a]=s:i=a=s,!(!Is(i)||!Is(a)))return[e-i,e+a]})):[]}var Us=t=>{var e=js(t),n=Kg(t);return Nx(t,e,n)},Ix=Ue([Us],t=>t?.dataKey),tQe=Ue([kne,uF,Us],yne),Ane=(t,e,n,r)=>{var s={},i=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},s);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,u=r?[...l].reverse():l,d=u.map(gne);return[o,{stackedData:mKe(t,d,n),graphicalItems:u}]}))},nQe=Ue([tQe,kne,K2,une],Ane),One=(t,e,n,r)=>{var{dataStartIndex:s,dataEndIndex:i}=e;if(r==null&&n!=="zAxis"){var a=vKe(t,s,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},rQe=Ue([ra],t=>t.allowDataOverflow),wF=t=>{var e;if(t==null||!("domain"in t))return ZR;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ec(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:ZR},Rne=Ue([ra],wF),Dne=Ue([Rne,rQe],Xte),sQe=Ue([nQe,vf,Bs,Dne],One,{memoizeOptions:{resultEqualityCheck:Q2}}),SF=t=>t.errorBars,iQe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Ine(n,r)),FC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var i=s.flat(),a=Math.min(...i),o=Math.max(...i);return[a,o]}},_ne=(t,e,n,r,s)=>{var i,a;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>Ine(s,w)),p=bi(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),m=eQe(o,p,f);if(m.length>=2){var y=Math.min(...m),v=Math.max(...m);(i==null||y<i)&&(i=y),(a==null||v>a)&&(a=v)}var b=$H(p);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),a=a==null?b[1]:Math.max(a,b[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var l=$H(bi(o,e.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Is(i)&&Is(a))return[i,a]},aQe=Ue([xF,ra,QZe,SF,Bs],_ne,{memoizeOptions:{resultEqualityCheck:Q2}});function oQe(t){var{value:e}=t;if(bu(e)||e instanceof Date)return e}var lQe=(t,e,n)=>{var r=t.map(oQe).filter(s=>s!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&WJ(r))?pte(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Pne=t=>t.referenceElements.dots,Xg=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),uQe=Ue([Pne,Bs,Z2],Xg),Mne=t=>t.referenceElements.areas,cQe=Ue([Mne,Bs,Z2],Xg),Lne=t=>t.referenceElements.lines,dQe=Ue([Lne,Bs,Z2],Xg),Fne=(t,e)=>{if(t!=null){var n=Ec(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},fQe=Ue(uQe,Bs,Fne),zne=(t,e)=>{if(t!=null){var n=Ec(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},hQe=Ue([cQe,Bs],zne);function pQe(t){var e;if(t.x!=null)return Ec([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ec(n)}function mQe(t){var e;if(t.y!=null)return Ec([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ec(n)}var Bne=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?pQe(r):mQe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},gQe=Ue([dQe,Bs],Bne),yQe=Ue(fQe,gQe,hQe,(t,e,n)=>FC(t,n,e)),jne=(t,e,n,r,s,i,a,o)=>{if(n!=null)return n;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?FC(r,i,s):FC(i,s);return $Ze(e,u,t.allowDataOverflow)},vQe=Ue([ra,Rne,Dne,sQe,aQe,yQe,Sr,Bs],jne,{memoizeOptions:{resultEqualityCheck:Q2}}),bQe=[0,1],Une=(t,e,n,r,s,i,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,u=mf(e,i);if(u&&o==null){var d;return pte(0,(d=n?.length)!==null&&d!==void 0?d:0)}return l==="category"?lQe(r,t,u):s==="expand"?bQe:a}},CF=Ue([ra,Sr,xF,eE,K2,Bs,vQe],Une),Vne=(t,e,n,r,s)=>{if(t!=null){var{scale:i,type:a}=t;if(i==="auto")return e==="radial"&&s==="radiusAxis"?"band":e==="radial"&&s==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(mx(i));return o in Lv?o:"point"}}},Ax=Ue([ra,Sr,xne,fF,Bs],Vne);function xQe(t){if(t!=null){if(t in Lv)return Lv[t]();var e="scale".concat(mx(t));if(e in Lv)return Lv[e]()}}function kF(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var s=xQe(e);if(s!=null){var i=s.domain(n).range(r);return dKe(i),i}}}var Wne=(t,e,n)=>{var r=wF(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zd(t))return LZe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zd(t))return FZe(t,e.tickCount,e.allowDecimals)}},TF=Ue([CF,Nx,Ax],Wne),Hne=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Zd(e)&&Array.isArray(n)&&n.length>0){var s=e[0],i=n[0],a=e[1],o=n[n.length-1];return[Math.min(s,i),Math.max(a,o)]}return e},wQe=Ue([ra,CF,TF,Bs],Hne),SQe=Ue(eE,ra,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ec(t.map(f=>f.value))).sort((f,p)=>f-p),s=r[0],i=r[r.length-1];if(s==null||i==null)return 1/0;var a=i-s;if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/a}}),Gne=Ue(SQe,Sr,zZe,Ci,(t,e,n,r,s)=>s,(t,e,n,r,s)=>{if(!Is(t))return 0;var i=e==="vertical"?r.height:r.width;if(s==="gap")return t*i/2;if(s==="no-gap"){var a=Yd(n,t*i),o=t*i/2;return o-a-(o-a)/i*a}return 0}),CQe=(t,e,n)=>{var r=Mc(t,e);return r==null||typeof r.padding!="string"?0:Gne(t,"xAxis",e,n,r.padding)},kQe=(t,e,n)=>{var r=Lc(t,e);return r==null||typeof r.padding!="string"?0:Gne(t,"yAxis",e,n,r.padding)},TQe=Ue(Mc,CQe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:s}=t;return typeof s=="string"?{left:e,right:e}:{left:((n=s.left)!==null&&n!==void 0?n:0)+e,right:((r=s.right)!==null&&r!==void 0?r:0)+e}}),EQe=Ue(Lc,kQe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:s}=t;return typeof s=="string"?{top:e,bottom:e}:{top:((n=s.top)!==null&&n!==void 0?n:0)+e,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+e}}),NQe=Ue([Ci,TQe,P2,_2,(t,e,n)=>n],(t,e,n,r,s)=>{var{padding:i}=r;return s?[i.left,n.width-i.right]:[t.left+e.left,t.left+t.width-e.right]}),$Qe=Ue([Ci,Sr,EQe,P2,_2,(t,e,n)=>n],(t,e,n,r,s,i)=>{var{padding:a}=s;return i?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ox=(t,e,n,r)=>{var s;switch(e){case"xAxis":return NQe(t,n,r);case"yAxis":return $Qe(t,n,r);case"zAxis":return(s=bF(t,n))===null||s===void 0?void 0:s.range;case"angleAxis":return hne(t);case"radiusAxis":return pne(t,n);default:return}},qne=Ue([ra,Ox],X2),tE=Ue([ra,Ax,wQe,qne],kF);Ue([$x,SF,Bs],iQe);function Kne(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var nE=(t,e)=>e,rE=(t,e,n)=>n,IQe=Ue(R2,nE,rE,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Kne)),AQe=Ue(D2,nE,rE,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Kne)),Xne=(t,e)=>({width:t.width,height:e.height}),OQe=(t,e)=>{var n=typeof e.width=="number"?e.width:xx;return{width:n,height:t.height}},RQe=Ue(Ci,Mc,Xne),DQe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},_Qe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},PQe=Ue(_c,Ci,IQe,nE,rE,(t,e,n,r,s)=>{var i={},a;return n.forEach(o=>{var l=Xne(e,o);a==null&&(a=DQe(e,r,t));var u=r==="top"&&!s||r==="bottom"&&s;i[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),i}),MQe=Ue(Dc,Ci,AQe,nE,rE,(t,e,n,r,s)=>{var i={},a;return n.forEach(o=>{var l=OQe(e,o);a==null&&(a=_Qe(e,r,t));var u=r==="left"&&!s||r==="right"&&s;i[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),i}),LQe=(t,e)=>{var n=Mc(t,e);if(n!=null)return PQe(t,n.orientation,n.mirror)},FQe=Ue([Ci,Mc,LQe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var s=n?.[r];return s==null?{x:t.left,y:0}:{x:t.left,y:s}}}),zQe=(t,e)=>{var n=Lc(t,e);if(n!=null)return MQe(t,n.orientation,n.mirror)},BQe=Ue([Ci,Lc,zQe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var s=n?.[r];return s==null?{x:0,y:t.top}:{x:s,y:t.top}}}),jQe=Ue(Ci,Lc,(t,e)=>{var n=typeof e.width=="number"?e.width:xx;return{width:n,height:t.height}}),Yne=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:i,dataKey:a}=n,o=mf(t,r),l=e.map(u=>u.value);if(a&&o&&i==="category"&&s&&WJ(l))return l}},EF=Ue([Sr,eE,ra,Bs],Yne),Zne=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:i}=n,a=mf(t,r);if(a&&(s==="number"||i!=="auto"))return e.map(o=>o.value)}},NF=Ue([Sr,eE,Nx,Bs],Zne),IH=Ue([Sr,YZe,Ax,tE,EF,NF,Ox,TF,Bs],(t,e,n,r,s,i,a,o,l)=>{if(e!=null){var u=mf(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:o,range:a,realScaleType:n,scale:r}}}),UQe=(t,e,n,r,s,i,a,o,l)=>{if(!(e==null||r==null)){var u=mf(t,l),{type:d,ticks:f,tickCount:p}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/m:0;y=l==="angleAxis"&&i!=null&&i.length>=2?Io(i[0]-i[1])*2*y:y;var v=f||s;if(v){var b=v.map((w,S)=>{var C=a?a.indexOf(w):w;return{index:S,coordinate:r(C)+y,value:w,offset:y}});return b.filter(w=>Is(w.coordinate))}return u&&o?o.map((w,S)=>({coordinate:r(w)+y,value:w,index:S,offset:y})).filter(w=>Is(w.coordinate)):r.ticks?r.ticks(p).map(w=>({coordinate:r(w)+y,value:w,offset:y})):r.domain().map((w,S)=>({coordinate:r(w)+y,value:a?a[w]:w,index:S,offset:y}))}},Qne=Ue([Sr,Nx,Ax,tE,TF,Ox,EF,NF,Bs],UQe),VQe=(t,e,n,r,s,i,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=mf(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&r?.length>=2?Io(r[0]-r[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:s?s[d]:d,index:f,offset:u}))}},Jne=Ue([Sr,Nx,tE,Ox,EF,NF,Bs],VQe),ere=Ue(ra,tE,(t,e)=>{if(!(t==null||e==null))return LC(LC({},t),{},{scale:e})}),WQe=Ue([ra,Ax,CF,qne],kF);Ue((t,e,n)=>bF(t,n),WQe,(t,e)=>{if(!(t==null||e==null))return LC(LC({},t),{},{scale:e})});var HQe=Ue([Sr,R2,D2],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tre=t=>t.options.defaultTooltipEventType,nre=t=>t.options.validateTooltipEventTypes;function rre(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function $F(t,e){var n=tre(t),r=nre(t);return rre(e,n,r)}function GQe(t){return Mt(e=>$F(e,t))}var sre=(t,e)=>{var n,r=Number(e);if(!(vu(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},qQe=t=>t.tooltip.settings,kd={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},KQe={itemInteraction:{click:kd,hover:kd},axisInteraction:{click:kd,hover:kd},keyboardInteraction:kd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ire=Oa({name:"tooltip",initialState:KQe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:$r()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,s=dl(t).tooltipItemPayloads.indexOf(n);s>-1&&(t.tooltipItemPayloads[s]=r)},prepare:$r()},removeTooltipEntrySettings:{reducer(t,e){var n=dl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:$r()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:XQe,replaceTooltipEntrySettings:YQe,removeTooltipEntrySettings:ZQe,setTooltipSettingsState:QQe,setActiveMouseOverItemIndex:JQe,mouseLeaveItem:Uot,mouseLeaveChart:are,setActiveClickItemIndex:Vot,setMouseOverAxisIndex:ore,setMouseClickAxisIndex:eJe,setSyncInteraction:QR,setKeyboardInteraction:JR}=ire.actions,tJe=ire.reducer;function AH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Dw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AH(Object(n),!0).forEach(function(r){nJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJe(t,e,n){return(e=rJe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rJe(t){var e=sJe(t,"string");return typeof e=="symbol"?e:e+""}function sJe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iJe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function aJe(t){return t.index!=null}var lre=(t,e,n,r)=>{if(e==null)return kd;var s=iJe(t,e,n);if(s==null)return kd;if(s.active)return s;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(aJe(s)){if(i)return Dw(Dw({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Dw(Dw({},kd),{},{coordinate:s.coordinate})};function oJe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function lJe(t,e){var n=oJe(t),r=e[0],s=e[1];if(n===void 0)return!1;var i=Math.min(r,s),a=Math.max(r,s);return n>=i&&n<=a}function uJe(t,e,n){if(n==null||e==null)return!0;var r=bi(t,e);return r==null||!Zd(n)?!0:lJe(r,n)}var IF=(t,e,n,r)=>{var s=t?.index;if(s==null)return null;var i=Number(s);if(!Is(i))return s;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(i,o)),u=e[l];return u==null||uJe(u,n,r)?String(l):null},ure=(t,e,n,r,s,i,a,o)=>{if(!(i==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,i);if(u!=null)return u;var d=s?.[Number(i)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},cre=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var s;if(n==="hover"?s=t.itemInteraction.hover.graphicalItemId:s=t.itemInteraction.click.graphicalItemId,s==null&&r!=null){var i=t.tooltipItemPayloads[0];return i!=null?[i]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===s})},Rx=t=>t.options.tooltipPayloadSearcher,Yg=t=>t.tooltip;function OH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function RH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(n),!0).forEach(function(r){cJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cJe(t,e,n){return(e=dJe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJe(t){var e=fJe(t,"string");return typeof e=="symbol"?e:e+""}function fJe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hJe(t,e){return t??e}var dre=(t,e,n,r,s,i,a)=>{if(!(e==null||i==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return t.reduce((p,m)=>{var y,{dataDefinedOnItem:v,settings:b}=m,w=hJe(v,o),S=Array.isArray(w)?zee(w,u,d):w,C=(y=b?.dataKey)!==null&&y!==void 0?y:r,T=b?.nameKey,N;if(r&&Array.isArray(S)&&!Array.isArray(S[0])&&a==="axis"?N=HJ(S,r,s):N=i(S,e,l,T),Array.isArray(N))N.forEach(_=>{var F=RH(RH({},b),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});p.push(M5({tooltipEntrySettings:F,dataKey:_.dataKey,payload:_.payload,value:bi(_.payload,_.dataKey),name:_.name}))});else{var O;p.push(M5({tooltipEntrySettings:b,dataKey:C,payload:N,value:bi(N,C),name:(O=bi(N,T))!==null&&O!==void 0?O:b?.name}))}return p},f)}},AF=Ue([Us,Sr,xne,fF,js],Vne),pJe=Ue([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),mJe=Ue([js,Kg],wne),Zg=Ue([pJe,Us,mJe],Cne,{memoizeOptions:{resultEqualityCheck:J2}}),gJe=Ue([Zg],t=>t.filter(vF)),yJe=Ue([Zg],Ene,{memoizeOptions:{resultEqualityCheck:J2}}),Qg=Ue([yJe,vf],Nne),vJe=Ue([gJe,vf,Us],yne),OF=Ue([Qg,Us,Zg],$ne),fre=Ue([Us],wF),bJe=Ue([Us],t=>t.allowDataOverflow),hre=Ue([fre,bJe],Xte),xJe=Ue([Zg],t=>t.filter(vF)),wJe=Ue([vJe,xJe,K2,une],Ane),SJe=Ue([wJe,vf,js,hre],One),CJe=Ue([Zg],Tne),kJe=Ue([Qg,Us,CJe,SF,js],_ne,{memoizeOptions:{resultEqualityCheck:Q2}}),TJe=Ue([Pne,js,Kg],Xg),EJe=Ue([TJe,js],Fne),NJe=Ue([Mne,js,Kg],Xg),$Je=Ue([NJe,js],zne),IJe=Ue([Lne,js,Kg],Xg),AJe=Ue([IJe,js],Bne),OJe=Ue([EJe,AJe,$Je],FC),RJe=Ue([Us,fre,hre,SJe,kJe,OJe,Sr,js],jne),Dx=Ue([Us,Sr,Qg,OF,K2,js,RJe],Une),DJe=Ue([Dx,Us,AF],Wne),_Je=Ue([Us,Dx,DJe,js],Hne),pre=t=>{var e=js(t),n=Kg(t),r=!1;return Ox(t,e,n,r)},mre=Ue([Us,pre],X2),gre=Ue([Us,AF,_Je,mre],kF),PJe=Ue([Sr,OF,Us,js],Yne),MJe=Ue([Sr,OF,Us,js],Zne),LJe=(t,e,n,r,s,i,a,o)=>{if(e){var{type:l}=e,u=mf(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&s!=null&&s?.length>=2?Io(s[0]-s[1])*2*f:f,u&&a?a.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Fc=Ue([Sr,Us,AF,gre,pre,PJe,MJe,js],LJe),RF=Ue([tre,nre,qQe],(t,e,n)=>rre(n.shared,t,e)),yre=t=>t.tooltip.settings.trigger,DF=t=>t.tooltip.settings.defaultIndex,_x=Ue([Yg,RF,yre,DF],lre),Ab=Ue([_x,Qg,Ix,Dx],IF),vre=Ue([Fc,Ab],sre),FJe=Ue([_x],t=>{if(t)return t.dataKey});Ue([_x],t=>{if(t)return t.graphicalItemId});var bre=Ue([Yg,RF,yre,DF],cre),zJe=Ue([Dc,_c,Sr,Ci,Fc,DF,bre,Rx],ure),BJe=Ue([_x,zJe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),jJe=Ue([_x],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),UJe=Ue([bre,Ab,vf,Ix,vre,Rx,RF],dre),VJe=Ue([UJe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function DH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DH(Object(n),!0).forEach(function(r){WJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJe(t,e,n){return(e=HJe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HJe(t){var e=GJe(t,"string");return typeof e=="symbol"?e:e+""}function GJe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qJe=()=>Mt(Us),KJe=()=>{var t=qJe(),e=Mt(Fc),n=Mt(gre);return yC(!t||!n?void 0:_H(_H({},t),{},{scale:n}),e)};function PH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PH(Object(n),!0).forEach(function(r){XJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJe(t,e,n){return(e=YJe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YJe(t){var e=ZJe(t,"string");return typeof e=="symbol"?e:e+""}function ZJe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QJe=(t,e,n,r)=>{var s=e.find(i=>i&&i.index===n);if(s){if(t==="horizontal")return{x:s.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:s.coordinate}}return{x:0,y:0}},JJe=(t,e,n,r)=>{var s=e.find(u=>u&&u.index===n);if(s){if(t==="centric"){var i=s.coordinate,{radius:a}=r;return vm(vm(vm({},r),yi(r.cx,r.cy,a,i)),{},{angle:i,radius:a})}var o=s.coordinate,{angle:l}=r;return vm(vm(vm({},r),yi(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function eet(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var xre=(t,e,n,r,s)=>{var i,a=(i=e?.length)!==null&&i!==void 0?i:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,u,d,f,p,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,y=(d=n[o])===null||d===void 0?void 0:d.coordinate,v=o>=a-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[o+1])===null||p===void 0?void 0:p.coordinate,b=void 0;if(!(m==null||y==null||v==null))if(Io(y-m)!==Io(v-y)){var w=[];if(Io(v-y)===Io(s[1]-s[0])){b=v;var S=y+s[1]-s[0];w[0]=Math.min(S,(S+m)/2),w[1]=Math.max(S,(S+m)/2)}else{b=m;var C=v+s[1]-s[0];w[0]=Math.min(y,(C+y)/2),w[1]=Math.max(y,(C+y)/2)}var T=[Math.min(y,(b+y)/2),Math.max(y,(b+y)/2)];if(t>T[0]&&t<=T[1]||t>=w[0]&&t<=w[1]){var N;return(N=n[o])===null||N===void 0?void 0:N.index}}else{var O=Math.min(m,v),_=Math.max(m,v);if(t>(O+y)/2&&t<=(_+y)/2){var F;return(F=n[o])===null||F===void 0?void 0:F.index}}}else if(e)for(var L=0;L<a;L++){var z=e[L];if(z!=null){var P=e[L+1],R=e[L-1];if(L===0&&P!=null&&t<=(z.coordinate+P.coordinate)/2||L===a-1&&R!=null&&t>(z.coordinate+R.coordinate)/2||L>0&&L<a-1&&R!=null&&P!=null&&t>(z.coordinate+R.coordinate)/2&&t<=(z.coordinate+P.coordinate)/2)return z.index}}return-1},tet=()=>Mt(fF),_F=(t,e)=>e,wre=(t,e,n)=>n,PF=(t,e,n,r)=>r,net=Ue(Fc,t=>C2(t,e=>e.coordinate)),MF=Ue([Yg,_F,wre,PF],lre),LF=Ue([MF,Qg,Ix,Dx],IF),ret=(t,e,n)=>{if(e!=null){var r=Yg(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Sre=Ue([Yg,_F,wre,PF],cre),zC=Ue([Dc,_c,Sr,Ci,Fc,PF,Sre,Rx],ure),set=Ue([MF,zC],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Cre=Ue([Fc,LF],sre),iet=Ue([Sre,LF,vf,Ix,Cre,Rx,_F],dre),aet=Ue([MF,LF],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),oet=(t,e,n,r,s,i,a)=>{if(!(!t||!n||!r||!s)&&eet(t,a)){var o=bKe(t,e),l=xre(o,i,s,n,r),u=QJe(e,s,l,t);return{activeIndex:String(l),activeCoordinate:u}}},uet=(t,e,n,r,s,i,a)=>{if(!(!t||!r||!s||!i||!n)){var o=V7e(t,n);if(o){var l=xKe(o,e),u=xre(l,a,i,r,s),d=JJe(e,i,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},cet=(t,e,n,r,s,i,a,o)=>{if(!(!t||!e||!r||!s||!i))return e==="horizontal"||e==="vertical"?oet(t,e,r,s,i,a,o):uet(t,e,n,r,s,i,a)},det=Ue(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),fet=Ue(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Zi)),n=Array.from(new Set(e));return n.sort((r,s)=>r-s)},{memoizeOptions:{resultEqualityCheck:HZe}});function MH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function LH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(n),!0).forEach(function(r){het(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function het(t,e,n){return(e=pet(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pet(t){var e=met(t,"string");return typeof e=="symbol"?e:e+""}function met(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var get={},yet={zIndexMap:Object.values(Zi).reduce((t,e)=>LH(LH({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),get)},vet=new Set(Object.values(Zi));function bet(t){return vet.has(t)}var kre=Oa({name:"zIndex",initialState:yet,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:$r()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!bet(n)&&delete t.zIndexMap[n])},prepare:$r()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:s}=e.payload;t.zIndexMap[n]?s?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:s?void 0:r,panoramaElement:s?r:void 0}},prepare:$r()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:$r()}}}),{registerZIndexPortal:xet,unregisterZIndexPortal:wet,registerZIndexPortalElement:Cet,unregisterZIndexPortalElement:ket}=kre.actions,Tet=kre.reducer;function zc(t){var{zIndex:e,children:n}=t,r=e9e(),s=r&&e!==void 0&&e!==0,i=Ra(),a=Os();$.useLayoutEffect(()=>s?(a(xet({zIndex:e})),()=>{a(wet({zIndex:e}))}):gx,[a,e,s]);var o=Mt(l=>det(l,e,i));return s?o?Lb.createPortal(n,o):null:n}function eD(){return eD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eD.apply(null,arguments)}function FH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FH(Object(n),!0).forEach(function(r){Eet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eet(t,e,n){return(e=Net(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Net(t){var e=$et(t,"string");return typeof e=="symbol"?e:e+""}function $et(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iet(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return $.isValidElement(e)?$.cloneElement(e,r):$.createElement(n,r)}function Aet(t){var e,{coordinate:n,payload:r,index:s,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=t,f=n,p=r,m=s;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var y,v,b;if(d==="ScatterChart")y=f,v=n7e,b=Zi.cursorLine;else if(d==="BarChart")y=r7e(o,f,i,a),v=cte,b=Zi.cursorRectangle;else if(o==="radial"&&qJ(f)){var{cx:w,cy:S,radius:C,startAngle:T,endAngle:N}=dte(f);y={cx:w,cy:S,startAngle:T,endAngle:N,innerRadius:C,outerRadius:C},v=hte,b=Zi.cursorLine}else y={points:q7e(o,f,i)},v=ite,b=Zi.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,_=_w(_w(_w(_w({stroke:"#ccc",pointerEvents:"none"},i),y),v2(l)),{},{payload:p,payloadIndex:m,className:et("recharts-tooltip-cursor",O)});return $.createElement(zc,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:b},$.createElement(Iet,{cursor:l,cursorComp:v,cursorProps:_}))}function Oet(t){var e=KJe(),n=Xee(),r=wx(),s=tet();return e==null||n==null||r==null||s==null?null:$.createElement(Aet,eD({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:s}))}var Tre=$.createContext(null),Ret=()=>$.useContext(Tre),hA={exports:{}},zH;function Det(){return zH||(zH=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||l,p),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,p,m,y){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,S,C;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,p),!0;case 5:return b.fn.call(b.context,d,f,p,m),!0;case 6:return b.fn.call(b.context,d,f,p,m,y),!0}for(C=1,S=new Array(w-1);C<w;C++)S[C-1]=arguments[C];b.fn.apply(b.context,S)}else{var T=b.length,N;for(C=0;C<T;C++)switch(b[C].once&&this.removeListener(u,b[C].fn,void 0,!0),w){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,d);break;case 3:b[C].fn.call(b[C].context,d,f);break;case 4:b[C].fn.call(b[C].context,d,f,p);break;default:if(!S)for(N=1,S=new Array(w-1);N<w;N++)S[N-1]=arguments[N];b[C].fn.apply(b[C].context,S)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&a(this,m);else{for(var v=0,b=[],w=y.length;v<w;v++)(y[v].fn!==d||p&&!y[v].once||f&&y[v].context!==f)&&b.push(y[v]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(hA)),hA.exports}var _et=Det();const Pet=Ja(_et);var Ob=new Pet,tD="recharts.syncEvent.tooltip",BH="recharts.syncEvent.brush";function Met(t,e){if(e){var n=Number.parseInt(e,10);if(!vu(n))return t?.[n]}}var Let={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ere=Oa({name:"options",initialState:Let,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Fet=Ere.reducer,{createEventEmitter:zet}=Ere.actions;function Bet(t){return t.tooltip.syncInteraction}var jet={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Nre=Oa({name:"chartData",initialState:jet,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:jH,setDataStartEndIndexes:Uet,setComputedData:Wot}=Nre.actions,Vet=Nre.reducer,Wet=["x","y"];function UH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UH(Object(n),!0).forEach(function(r){Het(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Het(t,e,n){return(e=Get(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Get(t){var e=qet(t,"string");return typeof e=="symbol"?e:e+""}function qet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ket(t,e){if(t==null)return{};var n,r,s=Xet(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Xet(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yet(){var t=Mt(hF),e=Mt(pF),n=Os(),r=Mt(cne),s=Mt(Fc),i=wx(),a=M2(),o=Mt(l=>l.rootProps.className);$.useEffect(()=>{if(t==null)return gx;var l=(u,d,f)=>{if(e!==f&&t===u){if(r==="index"){var p;if(a&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:y,y:v}=m,b=Ket(m,Wet),{x:w,y:S,width:C,height:T}=d.payload.sourceViewBox,N=bm(bm({},b),{},{x:a.x+(C?(y-w)/C:0)*a.width,y:a.y+(T?(v-S)/T:0)*a.height});n(bm(bm({},d),{},{payload:bm(bm({},d.payload),{},{coordinate:N})}))}else n(d);return}if(s!=null){var O;if(typeof r=="function"){var _={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},F=r(s,_);O=s[F]}else r==="value"&&(O=s.find(V=>String(V.value)===d.payload.label));var{coordinate:L}=d.payload;if(O==null||d.payload.active===!1||L==null||a==null){n(QR({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:P}=L,R=Math.min(z,a.x+a.width),H=Math.min(P,a.y+a.height),q={x:i==="horizontal"?O.coordinate:R,y:i==="horizontal"?H:O.coordinate},X=QR({active:d.payload.active,coordinate:q,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(X)}}};return Ob.on(tD,l),()=>{Ob.off(tD,l)}},[o,n,e,t,r,s,i,a])}function Zet(){var t=Mt(hF),e=Mt(pF),n=Os();$.useEffect(()=>{if(t==null)return gx;var r=(s,i,a)=>{e!==a&&t===s&&n(Uet(i))};return Ob.on(BH,r),()=>{Ob.off(BH,r)}},[n,e,t])}function Qet(){var t=Os();$.useEffect(()=>{t(zet())},[t]),Yet(),Zet()}function Jet(t,e,n,r,s,i){var a=Mt(m=>ret(m,t,e)),o=Mt(pF),l=Mt(hF),u=Mt(cne),d=Mt(Bet),f=d?.active,p=M2();$.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=QR({active:i,coordinate:n,dataKey:a,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Ob.emit(tD,l,m,o)}},[f,n,a,s,r,o,l,u,i,p])}function VH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function WH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VH(Object(n),!0).forEach(function(r){ett(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ett(t,e,n){return(e=ttt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ttt(t){var e=ntt(t,"string");return typeof e=="symbol"?e:e+""}function ntt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rtt(t){return t.dataKey}function stt(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(P9e,e)}var HH=[],itt={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function att(t){var e,n,r=Ui(t,itt),{active:s,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:b,cursor:w,shared:S,trigger:C,defaultIndex:T,portal:N,axisId:O}=r,_=Os(),F=typeof T=="number"?String(T):T;$.useEffect(()=>{_(QQe({shared:S,trigger:C,axisId:O,active:s,defaultIndex:F}))},[_,S,C,O,s,F]);var L=M2(),z=ste(),P=GQe(S),{activeIndex:R,isActive:H}=(e=Mt(Me=>aet(Me,P,C,F)))!==null&&e!==void 0?e:{},q=Mt(Me=>iet(Me,P,C,F)),X=Mt(Me=>Cre(Me,P,C,F)),V=Mt(Me=>set(Me,P,C,F)),ee=q,J=Ret(),te=(n=s??H)!==null&&n!==void 0?n:!1,[ce,G]=uee([ee,te]),ne=P==="axis"?X:void 0;Jet(P,C,V,ne,R,te);var ae=N??J;if(ae==null||L==null||P==null)return null;var be=ee??HH;te||(be=HH),u&&be.length&&(be=see(be.filter(Me=>Me.value!=null&&(Me.hide!==!0||r.includeHidden)),p,rtt));var $e=be.length>0,Ie=$.createElement(U9e,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:d,active:te,coordinate:V,hasPayload:$e,offset:f,position:m,reverseDirection:y,useTranslate3d:v,viewBox:L,wrapperStyle:b,lastBoundingBox:ce,innerRef:G,hasPortalFromProps:!!N},stt(l,WH(WH({},r),{},{payload:be,label:ne,active:te,activeIndex:R,coordinate:V,accessibilityLayer:z})));return $.createElement($.Fragment,null,Lb.createPortal(Ie,ae),te&&$.createElement(Oet,{cursor:w,tooltipEventType:P,coordinate:V,payload:be,index:R}))}function ott(t,e,n){return(e=ltt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ltt(t){var e=utt(t,"string");return typeof e=="symbol"?e:e+""}function utt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ctt{constructor(e){ott(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function GH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dtt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GH(Object(n),!0).forEach(function(r){ftt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ftt(t,e,n){return(e=htt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function htt(t){var e=ptt(t,"string");return typeof e=="symbol"?e:e+""}function ptt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mtt={cacheSize:2e3,enableCache:!0},$re=dtt({},mtt),qH=new ctt($re.cacheSize),gtt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KH="recharts_measurement_span";function ytt(t,e){var n=e.fontSize||"",r=e.fontFamily||"",s=e.fontWeight||"",i=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(i,"|").concat(a,"|").concat(o)}var XH=(t,e)=>{try{var n=document.getElementById(KH);n||(n=document.createElement("span"),n.setAttribute("id",KH),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,gtt,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||j2.isSsr)return{width:0,height:0};if(!$re.enableCache)return XH(e,n);var r=ytt(e,n),s=qH.get(r);if(s)return s;var i=XH(e,n);return qH.set(r,i),i},Ire;function vtt(t,e,n){return(e=btt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function btt(t){var e=xtt(t,"string");return typeof e=="symbol"?e:e+""}function xtt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wtt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Stt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ctt={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ktt=["cm","mm","pt","pc","in","Q","px"];function Ttt(t){return ktt.includes(t)}var Am="NaN";function Ett(t,e){return t*Ctt[e]}class mi{static parse(e){var n,[,r,s]=(n=Stt.exec(e))!==null&&n!==void 0?n:[];return r==null?mi.NaN:new mi(parseFloat(r),s??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,vu(e)&&(this.unit=""),n!==""&&!wtt.test(n)&&(this.num=NaN,this.unit=""),Ttt(n)&&(this.num=Ett(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vu(this.num)}}Ire=mi;vtt(mi,"NaN",new Ire(NaN,""));function Are(t){if(t==null||t.includes(Am))return Am;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,s,i]=(n=YH.exec(e))!==null&&n!==void 0?n:[],a=mi.parse(r??""),o=mi.parse(i??""),l=s==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Am;e=e.replace(YH,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,p]=(u=ZH.exec(e))!==null&&u!==void 0?u:[],m=mi.parse(d??""),y=mi.parse(p??""),v=f==="+"?m.add(y):m.subtract(y);if(v.isNaN())return Am;e=e.replace(ZH,v.toString())}return e}var QH=/\(([^()]*)\)/;function Ntt(t){for(var e=t,n;(n=QH.exec(e))!=null;){var[,r]=n;e=e.replace(QH,Are(r))}return e}function $tt(t){var e=t.replace(/\s+/g,"");return e=Ntt(e),e=Are(e),e}function Itt(t){try{return $tt(t)}catch{return Am}}function pA(t){var e=Itt(t.slice(5,-1));return e===Am?"":e}var Att=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ott=["dx","dy","angle","className","breakAll"];function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nD.apply(null,arguments)}function JH(t,e){if(t==null)return{};var n,r,s=Rtt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Rtt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ore=/[ \f\n\r\t\v\u2028\u2029]+/,Rre=t=>{var{children:e,breakAll:n,style:r}=t;try{var s=[];ei(e)||(n?s=e.toString().split(""):s=e.toString().split(Ore));var i=s.map(o=>({word:o,width:Hv(o,r).width})),a=n?0:Hv("",r).width;return{wordsWithComputedWidth:i,spaceWidth:a}}catch{return null}};function Dtt(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Dre=(t,e,n,r)=>t.reduce((s,i)=>{var{word:a,width:o}=i,l=s[s.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(a),l.width+=o+n;else{var u={words:[a],width:o};s.push(u)}return s},[]),_re=t=>t.reduce((e,n)=>e.width>n.width?e:n),_tt="",eG=(t,e,n,r,s,i,a,o)=>{var l=t.slice(0,e),u=Rre({breakAll:n,style:r,children:l+_tt});if(!u)return[!1,[]];var d=Dre(u.wordsWithComputedWidth,i,a,o),f=d.length>s||_re(d).width>Number(i);return[f,d]},Ptt=(t,e,n,r,s)=>{var{maxLines:i,children:a,style:o,breakAll:l}=t,u=Rt(i),d=String(a),f=Dre(e,r,n,s);if(!u||s)return f;var p=f.length>i||_re(f).width>Number(r);if(!p)return f;for(var m=0,y=d.length-1,v=0,b;m<=y&&v<=d.length-1;){var w=Math.floor((m+y)/2),S=w-1,[C,T]=eG(d,S,l,o,i,r,n,s),[N]=eG(d,w,l,o,i,r,n,s);if(!C&&!N&&(m=w+1),C&&N&&(y=w-1),!C&&N){b=T;break}v++}return b||f},tG=t=>{var e=ei(t)?[]:t.toString().split(Ore);return[{words:e,width:void 0}]},Mtt=t=>{var{width:e,scaleToFit:n,children:r,style:s,breakAll:i,maxLines:a}=t;if((e||n)&&!j2.isSsr){var o,l,u=Rre({breakAll:i,children:r,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return tG(r);return Ptt({breakAll:i,children:r,maxLines:a,style:s},o,l,e,!!n)}return tG(r)},Pre="#808080",Ltt={angle:0,breakAll:!1,capHeight:"0.71em",fill:Pre,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},FF=$.forwardRef((t,e)=>{var n=Ui(t,Ltt),{x:r,y:s,lineHeight:i,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=JH(n,Att),p=$.useMemo(()=>Mtt({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:y,angle:v,className:b,breakAll:w}=f,S=JH(f,Ott);if(!bu(r)||!bu(s)||p.length===0)return null;var C=Number(r)+(Rt(m)?m:0),T=Number(s)+(Rt(y)?y:0);if(!Is(C)||!Is(T))return null;var N;switch(d){case"start":N=pA("calc(".concat(a,")"));break;case"middle":N=pA("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:N=pA("calc(".concat(p.length-1," * -").concat(i,")"));break}var O=[];if(l){var _=p[0].width,{width:F}=f;O.push("scale(".concat(Rt(F)&&Rt(_)?F/_:1,")"))}return v&&O.push("rotate(".concat(v,", ").concat(C,", ").concat(T,")")),O.length&&(S.transform=O.join(" ")),$.createElement("text",nD({},ea(S),{ref:e,x:C,y:T,className:et("recharts-text",b),textAnchor:u,fill:o.includes("url")?Pre:o}),p.map((L,z)=>{var P=L.words.join(w?"":" ");return $.createElement("tspan",{x:C,dy:z===0?N:i,key:"".concat(P,"-").concat(z)},P)}))});FF.displayName="Text";var Ftt=["labelRef"],ztt=["content"];function nG(t,e){if(t==null)return{};var n,r,s=Btt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Btt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rG(Object(n),!0).forEach(function(r){jtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jtt(t,e,n){return(e=Utt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Utt(t){var e=Vtt(t,"string");return typeof e=="symbol"?e:e+""}function Vtt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}var Mre=$.createContext(null),Wtt=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:s,width:i,height:a,children:o}=t,l=$.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:s,width:i,height:a}),[e,n,r,s,i,a]);return $.createElement(Mre.Provider,{value:l},o)},Lre=()=>{var t=$.useContext(Mre),e=M2();return t||Kee(e)},Htt=$.createContext(null),Gtt=()=>{var t=$.useContext(Htt),e=Mt(mne);return t||e},qtt=t=>{var{value:e,formatter:n}=t,r=ei(t.children)?e:t.children;return typeof n=="function"?n(r):r},zF=t=>t!=null&&typeof t=="function",Ktt=(t,e)=>{var n=Io(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Xtt=(t,e,n,r,s)=>{var{offset:i,className:a}=t,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=s,y=(u+d)/2,v=Ktt(f,p),b=v>=0?1:-1,w,S;switch(e){case"insideStart":w=f+b*i,S=m;break;case"insideEnd":w=p-b*i,S=!m;break;case"end":w=p+b*i,S=m;break;default:throw new Error("Unsupported position ".concat(e))}S=v<=0?S:!S;var C=yi(o,l,y,w),T=yi(o,l,y,w+(S?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),O=ei(t.id)?yb("recharts-radial-line-"):t.id;return $.createElement("text",ac({},r,{dominantBaseline:"central",className:et("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:O,d:N})),$.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Ytt=(t,e,n)=>{var{cx:r,cy:s,innerRadius:i,outerRadius:a,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:d,y:f}=yi(r,s,a+e,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=(i+a)/2,{x:m,y}=yi(r,s,p,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},rD=t=>"cx"in t&&Rt(t.cx),Ztt=(t,e)=>{var{parentViewBox:n,offset:r,position:s}=t,i;n!=null&&!rD(n)&&(i=n);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,f=a,p=a+(l-u)/2,m=(f+p)/2,y=(l+u)/2,v=f+l/2,b=d>=0?1:-1,w=b*r,S=b>0?"end":"start",C=b>0?"start":"end",T=l>=0?1:-1,N=T*r,O=T>0?"end":"start",_=T>0?"start":"end";if(s==="top"){var F={x:f+l/2,y:o-w,textAnchor:"middle",verticalAnchor:S};return os(os({},F),i?{height:Math.max(o-i.y,0),width:l}:{})}if(s==="bottom"){var L={x:p+u/2,y:o+d+w,textAnchor:"middle",verticalAnchor:C};return os(os({},L),i?{height:Math.max(i.y+i.height-(o+d),0),width:u}:{})}if(s==="left"){var z={x:m-N,y:o+d/2,textAnchor:O,verticalAnchor:"middle"};return os(os({},z),i?{width:Math.max(z.x-i.x,0),height:d}:{})}if(s==="right"){var P={x:m+y+N,y:o+d/2,textAnchor:_,verticalAnchor:"middle"};return os(os({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var R=i?{width:y,height:d}:{};return s==="insideLeft"?os({x:m+N,y:o+d/2,textAnchor:_,verticalAnchor:"middle"},R):s==="insideRight"?os({x:m+y-N,y:o+d/2,textAnchor:O,verticalAnchor:"middle"},R):s==="insideTop"?os({x:f+l/2,y:o+w,textAnchor:"middle",verticalAnchor:C},R):s==="insideBottom"?os({x:p+u/2,y:o+d-w,textAnchor:"middle",verticalAnchor:S},R):s==="insideTopLeft"?os({x:f+N,y:o+w,textAnchor:_,verticalAnchor:C},R):s==="insideTopRight"?os({x:f+l-N,y:o+w,textAnchor:O,verticalAnchor:C},R):s==="insideBottomLeft"?os({x:p+N,y:o+d-w,textAnchor:_,verticalAnchor:S},R):s==="insideBottomRight"?os({x:p+u-N,y:o+d-w,textAnchor:O,verticalAnchor:S},R):s&&typeof s=="object"&&(Rt(s.x)||wc(s.x))&&(Rt(s.y)||wc(s.y))?os({x:a+Yd(s.x,y),y:o+Yd(s.y,d),textAnchor:"end",verticalAnchor:"end"},R):os({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Qtt={angle:0,offset:5,zIndex:Zi.label,position:"middle",textBreakAll:!1};function Cd(t){var e=Ui(t,Qtt),{viewBox:n,position:r,value:s,children:i,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=Gtt(),f=Lre(),p=r==="center"?f:d??f,m,y,v;if(n==null?m=p:rD(n)?m=n:m=Kee(n),!m||ei(s)&&ei(i)&&!$.isValidElement(a)&&typeof a!="function")return null;var b=os(os({},e),{},{viewBox:m});if($.isValidElement(a)){var{labelRef:w}=b,S=nG(b,Ftt);return $.cloneElement(a,S)}if(typeof a=="function"){var{content:C}=b,T=nG(b,ztt);if(y=$.createElement(a,T),$.isValidElement(y))return y}else y=qtt(e);var N=ea(e);if(rD(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Xtt(e,r,y,N,m);v=Ytt(m,e.offset,e.position)}else v=Ztt(e,m);return $.createElement(zc,{zIndex:e.zIndex},$.createElement(FF,ac({ref:u,className:et("recharts-label",o)},N,v,{textAnchor:Dtt(N.textAnchor)?N.textAnchor:v.textAnchor,breakAll:l}),y))}Cd.displayName="Label";var Jtt=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?$.createElement(Cd,ac({key:"label-implicit"},r)):bu(t)?$.createElement(Cd,ac({key:"label-implicit",value:t},r)):$.isValidElement(t)?t.type===Cd?$.cloneElement(t,os({key:"label-implicit"},r)):$.createElement(Cd,ac({key:"label-implicit",content:t},r)):zF(t)?$.createElement(Cd,ac({key:"label-implicit",content:t},r)):t&&typeof t=="object"?$.createElement(Cd,ac({},t,{key:"label-implicit"},r)):null};function ent(t){var{label:e,labelRef:n}=t,r=Lre();return Jtt(e,r,n)||null}var mA={},gA={},sG;function tnt(){return sG||(sG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(gA)),gA}var yA={},iG;function nnt(){return iG||(iG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(yA)),yA}var aG;function rnt(){return aG||(aG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tnt(),n=nnt(),r=CL();function s(i){if(r.isArrayLike(i))return e.last(n.toArray(i))}t.last=s})(mA)),mA}var vA,oG;function snt(){return oG||(oG=1,vA=rnt().last),vA}var int=snt();const ant=Ja(int);var ont=["valueAccessor"],lnt=["dataKey","clockWise","id","textBreakAll","zIndex"];function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BC.apply(null,arguments)}function lG(t,e){if(t==null)return{};var n,r,s=unt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function unt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cnt=t=>Array.isArray(t.value)?ant(t.value):t.value,Fre=$.createContext(void 0),dnt=Fre.Provider,zre=$.createContext(void 0);zre.Provider;function fnt(){return $.useContext(Fre)}function hnt(){return $.useContext(zre)}function lS(t){var{valueAccessor:e=cnt}=t,n=lG(t,ont),{dataKey:r,clockWise:s,id:i,textBreakAll:a,zIndex:o}=n,l=lG(n,lnt),u=fnt(),d=hnt(),f=u||d;return!f||!f.length?null:$.createElement(zc,{zIndex:o??Zi.label},$.createElement(Xd,{className:"recharts-label-list"},f.map((p,m)=>{var y,v=ei(r)?e(p,m):bi(p&&p.payload,r),b=ei(i)?{}:{id:"".concat(i,"-").concat(m)};return $.createElement(Cd,BC({key:"label-".concat(m)},ea(p),l,b,{fill:(y=n.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:a,viewBox:p.viewBox,index:m,zIndex:0}))})))}lS.displayName="LabelList";function pnt(t){var{label:e}=t;return e?e===!0?$.createElement(lS,{key:"labelList-implicit"}):$.isValidElement(e)||zF(e)?$.createElement(lS,{key:"labelList-implicit",content:e}):typeof e=="object"?$.createElement(lS,BC({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function sD(){return sD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sD.apply(null,arguments)}var Bre=t=>{var{cx:e,cy:n,r,className:s}=t,i=et("recharts-dot",s);return Rt(e)&&Rt(n)&&Rt(r)?$.createElement("circle",sD({},yu(t),SL(t),{className:i,cx:e,cy:n,r})):null},mnt={radiusAxis:{},angleAxis:{}},jre=Oa({name:"polarAxis",initialState:mnt,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Hot,removeRadiusAxis:Got,addAngleAxis:qot,removeAngleAxis:Kot}=jre.actions,gnt=jre.reducer,Ure=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,bA={},uG;function ynt(){return uG||(uG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(bA)),bA}var xA,cG;function vnt(){return cG||(cG=1,xA=ynt().isPlainObject),xA}var bnt=vnt();const xnt=Ja(bnt);var dG,fG,hG,pG,mG;function gG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gG(Object(n),!0).forEach(function(r){wnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wnt(t,e,n){return(e=Snt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Snt(t){var e=Cnt(t,"string");return typeof e=="symbol"?e:e+""}function Cnt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(null,arguments)}function kv(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var vG=(t,e,n,r,s)=>{var i=n-r,a;return a=Hr(dG||(dG=kv(["M ",",",""])),t,e),a+=Hr(fG||(fG=kv(["L ",",",""])),t+n,e),a+=Hr(hG||(hG=kv(["L ",",",""])),t+n-i/2,e+s),a+=Hr(pG||(pG=kv(["L ",",",""])),t+n-i/2-r,e+s),a+=Hr(mG||(mG=kv(["L ",","," Z"])),t,e),a},knt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tnt=t=>{var e=Ui(t,knt),{x:n,y:r,upperWidth:s,lowerWidth:i,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=e,p=$.useRef(null),[m,y]=$.useState(-1),v=$.useRef(s),b=$.useRef(i),w=$.useRef(a),S=$.useRef(n),C=$.useRef(r),T=zL(t,"trapezoid-");if($.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var q=p.current.getTotalLength();q&&y(q)}catch{}},[]),n!==+n||r!==+r||s!==+s||i!==+i||a!==+a||s===0&&i===0||a===0)return null;var N=et("recharts-trapezoid",o);if(!f)return $.createElement("g",null,$.createElement("path",jC({},ea(e),{className:N,d:vG(n,r,s,i,a)})));var O=v.current,_=b.current,F=w.current,L=S.current,z=C.current,P="0px ".concat(m===-1?1:m,"px"),R="".concat(m,"px 0px"),H=ate(["strokeDasharray"],u,l);return $.createElement(FL,{animationId:T,key:T,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},q=>{var X=ma(O,s,q),V=ma(_,i,q),ee=ma(F,a,q),J=ma(L,n,q),te=ma(z,r,q);p.current&&(v.current=X,b.current=V,w.current=ee,S.current=J,C.current=te);var ce=q>0?{transition:H,strokeDasharray:R}:{strokeDasharray:P};return $.createElement("path",jC({},ea(e),{className:N,d:vG(J,te,X,V,ee),ref:p,style:yG(yG({},ce),e.style)}))})},Ent=["option","shapeType","activeClassName"];function Nnt(t,e){if(t==null)return{};var n,r,s=$nt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function $nt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function UC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bG(Object(n),!0).forEach(function(r){Int(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Int(t,e,n){return(e=Ant(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ant(t){var e=Ont(t,"string");return typeof e=="symbol"?e:e+""}function Ont(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rnt(t,e){return UC(UC({},e),t)}function Dnt(t,e){return t==="symbols"}function xG(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return $.createElement(cte,n);case"trapezoid":return $.createElement(Tnt,n);case"sector":return $.createElement(hte,n);case"symbols":if(Dnt(e))return $.createElement(wL,n);break;case"curve":return $.createElement(ite,n);default:return null}}function _nt(t){return $.isValidElement(t)?t.props:t}function Pnt(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,s=Nnt(t,Ent),i;if($.isValidElement(e))i=$.cloneElement(e,UC(UC({},s),_nt(e)));else if(typeof e=="function")i=e(s,s.index);else if(xnt(e)&&typeof e!="boolean"){var a=Rnt(e,s);i=$.createElement(xG,{shapeType:n,elementProps:a})}else{var o=s;i=$.createElement(xG,{shapeType:n,elementProps:o})}return s.isActive?$.createElement(Xd,{className:r},i):i}function Mnt(t){var{tooltipEntrySettings:e}=t,n=Os(),r=Ra(),s=$.useRef(null);return $.useLayoutEffect(()=>{r||(s.current===null?n(XQe(e)):s.current!==e&&n(YQe({prev:s.current,next:e})),s.current=e)},[e,n,r]),$.useLayoutEffect(()=>()=>{s.current&&(n(ZQe(s.current)),s.current=null)},[n]),null}function Lnt(t){var{legendPayload:e}=t,n=Os(),r=Ra(),s=$.useRef(null);return $.useLayoutEffect(()=>{r||(s.current===null?n(p9e(e)):s.current!==e&&n(m9e({prev:s.current,next:e})),s.current=e)},[n,r,e]),$.useLayoutEffect(()=>()=>{s.current&&(n(g9e(s.current)),s.current=null)},[n]),null}var wA,Fnt=()=>{var[t]=$.useState(()=>yb("uid-"));return t},znt=(wA=cS.useId)!==null&&wA!==void 0?wA:Fnt;function Bnt(t,e){var n=znt();return e||(t?"".concat(t,"-").concat(n):n)}var jnt=$.createContext(void 0),Unt=t=>{var{id:e,type:n,children:r}=t,s=Bnt("recharts-".concat(n),e);return $.createElement(jnt.Provider,{value:s},r(s))},Vnt={cartesianItems:[],polarItems:[]},Vre=Oa({name:"graphicalItems",initialState:Vnt,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:$r()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,s=dl(t).cartesianItems.indexOf(n);s>-1&&(t.cartesianItems[s]=r)},prepare:$r()},removeCartesianGraphicalItem:{reducer(t,e){var n=dl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:$r()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:$r()},removePolarGraphicalItem:{reducer(t,e){var n=dl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:$r()}}}),{addCartesianGraphicalItem:Wnt,replaceCartesianGraphicalItem:Hnt,removeCartesianGraphicalItem:Gnt,addPolarGraphicalItem:Xot,removePolarGraphicalItem:Yot}=Vre.actions,qnt=Vre.reducer,Knt=t=>{var e=Os(),n=$.useRef(null);return $.useLayoutEffect(()=>{n.current===null?e(Wnt(t)):n.current!==t&&e(Hnt({prev:n.current,next:t})),n.current=t},[e,t]),$.useLayoutEffect(()=>()=>{n.current&&(e(Gnt(n.current)),n.current=null)},[e]),null},Xnt=$.memo(Knt),Ynt=["points"];function wG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function SA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(n),!0).forEach(function(r){Znt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Znt(t,e,n){return(e=Qnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qnt(t){var e=Jnt(t,"string");return typeof e=="symbol"?e:e+""}function Jnt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(null,arguments)}function ert(t,e){if(t==null)return{};var n,r,s=trt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function trt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nrt(t){var{option:e,dotProps:n,className:r}=t;if($.isValidElement(e))return $.cloneElement(e,n);if(typeof e=="function")return e(n);var s=et(r,typeof e!="boolean"?e.className:""),i=n??{},{points:a}=i,o=ert(i,Ynt);return $.createElement(Bre,VC({},o,{className:s}))}function rrt(t,e){return t==null?!1:e?!0:t.length===1}function srt(t){var{points:e,dot:n,className:r,dotClassName:s,dataKey:i,baseProps:a,needClip:o,clipPathId:l,zIndex:u=Zi.scatter}=t;if(!rrt(e,n))return null;var d=Ure(n),f=QHe(n),p=e.map((y,v)=>{var b,w,S=SA(SA(SA({r:3},a),f),{},{index:v,cx:(b=y.x)!==null&&b!==void 0?b:void 0,cy:(w=y.y)!==null&&w!==void 0?w:void 0,dataKey:i,value:y.value,payload:y.payload,points:e});return $.createElement(nrt,{key:"dot-".concat(v),option:n,dotProps:S,className:s})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),$.createElement(zc,{zIndex:u},$.createElement(Xd,VC({className:r},m),p))}function SG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function CG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SG(Object(n),!0).forEach(function(r){irt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function irt(t,e,n){return(e=art(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function art(t){var e=ort(t,"string");return typeof e=="symbol"?e:e+""}function ort(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lrt={xAxis:{},yAxis:{},zAxis:{}},Wre=Oa({name:"cartesianAxis",initialState:lrt,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:$r()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:$r()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:$r()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:$r()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:$r()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:$r()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:$r()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:$r()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:$r()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,s=t.yAxis[n];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==s.width&&Math.abs(r-i[0])<=1)return;var a=[...i,r].slice(-3);t.yAxis[n]=CG(CG({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:urt,replaceXAxis:crt,removeXAxis:drt,addYAxis:frt,replaceYAxis:hrt,removeYAxis:prt,addZAxis:Zot,replaceZAxis:Qot,removeZAxis:Jot,updateYAxisWidth:mrt}=Wre.actions,grt=Wre.reducer,yrt=Ue([Ci],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),vrt=Ue([yrt,Dc,_c],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),BF=()=>Mt(vrt),brt=()=>Mt(VJe);function kG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kG(Object(n),!0).forEach(function(r){xrt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xrt(t,e,n){return(e=wrt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wrt(t){var e=Srt(t,"string");return typeof e=="symbol"?e:e+""}function Srt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Crt=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:s,dataKey:i,clipPath:a}=t;if(s===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:i,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=CA(CA(CA({},o),v2(s)),SL(s)),u;return $.isValidElement(s)?u=$.cloneElement(s,l):typeof s=="function"?u=s(l):u=$.createElement(Bre,l),$.createElement(Xd,{className:"recharts-active-dot",clipPath:a},u)};function krt(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:s,clipPath:i,zIndex:a=Zi.activeDot}=t,o=Mt(Ab),l=brt();if(e==null||l==null)return null;var u=e.find(d=>l.includes(d.payload));return ei(u)?null:$.createElement(zc,{zIndex:a},$.createElement(Crt,{point:u,childIndex:Number(o),mainColor:n,dataKey:s,activeDot:r,clipPath:i}))}var Trt=t=>{var{chartData:e}=t,n=Os(),r=Ra();return $.useEffect(()=>r?()=>{}:(n(jH(e)),()=>{n(jH(void 0))}),[e,n,r]),null},TG={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Hre=Oa({name:"brush",initialState:TG,reducers:{setBrushSettings(t,e){return e.payload==null?TG:e.payload}}}),{setBrushSettings:elt}=Hre.actions,Ert=Hre.reducer;function Nrt(t,e,n){return(e=$rt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $rt(t){var e=Irt(t,"string");return typeof e=="symbol"?e:e+""}function Irt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jF{static create(e){return new jF(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?e>=r&&e<=s:e>=s&&e<=r}}Nrt(jF,"EPS",1e-4);function Art(t){return(t%180+180)%180}var Ort=function(e){var{width:n,height:r}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Art(s),a=i*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Rrt={dots:[],areas:[],lines:[]},Gre=Oa({name:"referenceElements",initialState:Rrt,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=dl(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=dl(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=dl(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:tlt,removeDot:nlt,addArea:rlt,removeArea:slt,addLine:ilt,removeLine:alt}=Gre.actions,Drt=Gre.reducer,_rt=$.createContext(void 0),Prt=t=>{var{children:e}=t,[n]=$.useState("".concat(yb("recharts"),"-clip")),r=BF();if(r==null)return null;var{x:s,y:i,width:a,height:o}=r;return $.createElement(_rt.Provider,{value:n},$.createElement("defs",null,$.createElement("clipPath",{id:n},$.createElement("rect",{x:s,y:i,height:o,width:a}))),e)};function qre(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var s=t[r];s!==void 0&&n.push(s)}return n}function Mrt(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ort(r,n)}function Lrt(t,e,n){var r=n==="width",{x:s,y:i,width:a,height:o}=t;return e===1?{start:r?s:i,end:r?s+a:i+o}:{start:r?s+a:i+o,end:r?s:i}}function Rb(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function Frt(t,e){return qre(t,e+1)}function zrt(t,e,n,r,s){for(var i=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,f=function(){var y=r?.[l];if(y===void 0)return{v:qre(r,u)};var v=l,b,w=()=>(b===void 0&&(b=n(y,v)),b),S=y.coordinate,C=l===0||Rb(t,S,w,d,o);C||(l=0,d=a,u+=1),C&&(d=S+t*(w()/2+s),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Brt(t,e,n,r,s){var i=(r||[]).slice(),a=i.length;if(a===0)return[];for(var{start:o,end:l}=e,u=1;u<=a;u++){for(var d=(a-1)%u,f=o,p=!0,m=function(){var S=r[y],C=y,T,N=()=>(T===void 0&&(T=n(S,C)),T),O=S.coordinate,_=y===d||Rb(t,O,N,f,l);if(!_)return p=!1,1;_&&(f=O+t*(N()/2+s))},y=d;y<a&&!m();y+=u);if(p){for(var v=[],b=d;b<a;b+=u)v.push(r[b]);return v}}return[]}function EG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EG(Object(n),!0).forEach(function(r){jrt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jrt(t,e,n){return(e=Urt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Urt(t){var e=Vrt(t,"string");return typeof e=="symbol"?e:e+""}function Vrt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wrt(t,e,n,r,s){for(var i=(r||[]).slice(),a=i.length,{start:o}=e,{end:l}=e,u=function(p){var m=i[p],y,v=()=>(y===void 0&&(y=n(m,p)),y);if(p===a-1){var b=t*(m.coordinate+t*v()/2-l);i[p]=m=Ii(Ii({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else i[p]=m=Ii(Ii({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var w=Rb(t,m.tickCoord,v,o,l);w&&(l=m.tickCoord-t*(v()/2+s),i[p]=Ii(Ii({},m),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return i}function Hrt(t,e,n,r,s,i){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(i){var d=r[o-1],f=n(d,o-1),p=t*(d.coordinate+t*f/2-u);if(a[o-1]=d=Ii(Ii({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate}),d.tickCoord!=null){var m=Rb(t,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-t*(f/2+s),a[o-1]=Ii(Ii({},d),{},{isShow:!0}))}}for(var y=i?o-1:o,v=function(S){var C=a[S],T,N=()=>(T===void 0&&(T=n(C,S)),T);if(S===0){var O=t*(C.coordinate-t*N()/2-l);a[S]=C=Ii(Ii({},C),{},{tickCoord:O<0?C.coordinate-O*t:C.coordinate})}else a[S]=C=Ii(Ii({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var _=Rb(t,C.tickCoord,N,l,u);_&&(l=C.tickCoord+t*(N()/2+s),a[S]=Ii(Ii({},C),{},{isShow:!0}))}},b=0;b<y;b++)v(b);return a}function UF(t,e,n){var{tick:r,ticks:s,viewBox:i,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=t;if(!s||!s.length||!r)return[];if(Rt(l)||j2.isSsr){var p;return(p=Frt(s,Rt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],y=o==="top"||o==="bottom"?"width":"height",v=d&&y==="width"?Hv(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(C,T)=>{var N=typeof u=="function"?u(C.value,T):C.value;return y==="width"?Mrt(Hv(N,{fontSize:e,letterSpacing:n}),v,f):Hv(N,{fontSize:e,letterSpacing:n})[y]},w=s.length>=2?Io(s[1].coordinate-s[0].coordinate):1,S=Lrt(i,w,y);return l==="equidistantPreserveStart"?zrt(w,S,b,s,a):l==="equidistantPreserveEnd"?Brt(w,S,b,s,a):(l==="preserveStart"||l==="preserveStartEnd"?m=Hrt(w,S,b,s,a,l==="preserveStartEnd"):m=Wrt(w,S,b,s,a),m.filter(C=>C.isShow))}var Grt=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:i=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+i,u=a+l+o+(n?r:0);return Math.round(u)}return 0},qrt=["axisLine","width","height","className","hide","ticks","axisType"];function Krt(t,e){if(t==null)return{};var n,r,s=Xrt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Xrt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(null,arguments)}function NG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NG(Object(n),!0).forEach(function(r){Yrt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yrt(t,e,n){return(e=Zrt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zrt(t){var e=Qrt(t,"string");return typeof e=="symbol"?e:e+""}function Qrt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zi.axis};function Jrt(t){var{x:e,y:n,width:r,height:s,orientation:i,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=vs(vs(vs({},l),yu(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!a||i==="bottom"&&a);u=vs(vs({},u),{},{x1:e,y1:n+d*s,x2:e+r,y2:n+d*s})}else{var f=+(i==="left"&&!a||i==="right"&&a);u=vs(vs({},u),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+s})}return $.createElement("line",ep({},u,{className:et("recharts-cartesian-axis-line",S2(o,"className"))}))}function est(t,e,n,r,s,i,a,o,l){var u,d,f,p,m,y,v=o?-1:1,b=t.tickSize||a,w=Rt(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":u=d=t.coordinate,p=n+ +!o*s,f=p-v*b,y=f-v*l,m=w;break;case"left":f=p=t.coordinate,d=e+ +!o*r,u=d-v*b,m=u-v*l,y=w;break;case"right":f=p=t.coordinate,d=e+ +o*r,u=d+v*b,m=u+v*l,y=w;break;default:u=d=t.coordinate,p=n+ +o*s,f=p+v*b,y=f+v*l,m=w;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y}}}function tst(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function nst(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function rst(t){var{option:e,tickProps:n,value:r}=t,s,i=et(n.className,"recharts-cartesian-axis-tick-value");if($.isValidElement(e))s=$.cloneElement(e,vs(vs({},n),{},{className:i}));else if(typeof e=="function")s=e(vs(vs({},n),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=et(a,e?.className)),s=$.createElement(FF,ep({},n,{className:a}),r)}return s}var sst=$.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:s,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:y,height:v,tickSize:b,tickMargin:w,fontSize:S,letterSpacing:C,getTicksConfig:T,events:N,axisType:O}=t,_=UF(vs(vs({},T),{},{ticks:n}),S,C),F=tst(d,f),L=nst(d,f),z=yu(T),P=v2(r),R={};typeof s=="object"&&(R=s);var H=vs(vs({},z),{},{fill:"none"},R),q=_.map(ee=>vs({entry:ee},est(ee,p,m,y,v,d,b,f,w))),X=q.map(ee=>{var{entry:J,line:te}=ee;return $.createElement(Xd,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},s&&$.createElement("line",ep({},H,te,{className:et("recharts-cartesian-axis-tick-line",S2(s,"className"))})))}),V=q.map((ee,J)=>{var{entry:te,tick:ce}=ee,G=vs(vs(vs(vs({textAnchor:F,verticalAnchor:L},z),{},{stroke:"none",fill:i},P),ce),{},{index:J,payload:te,visibleTicksCount:_.length,tickFormatter:a,padding:l},u);return $.createElement(Xd,ep({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},KJ(N,te,J)),r&&$.createElement(rst,{option:r,tickProps:G,value:"".concat(typeof a=="function"?a(te.value,J):te.value).concat(o||"")}))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},V.length>0&&$.createElement(zc,{zIndex:Zi.label},$.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},V)),X.length>0&&$.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},X))}),ist=$.forwardRef((t,e)=>{var{axisLine:n,width:r,height:s,className:i,hide:a,ticks:o,axisType:l}=t,u=Krt(t,qrt),[d,f]=$.useState(""),[p,m]=$.useState(""),y=$.useRef(null);$.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var b;return Grt({ticks:y.current,label:(b=t.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var v=$.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=w;var S=w[0];if(S){var C=window.getComputedStyle(S),T=C.fontSize,N=C.letterSpacing;(T!==d||N!==p)&&(f(T),m(N))}}},[d,p]);return a||r!=null&&r<=0||s!=null&&s<=0?null:$.createElement(zc,{zIndex:t.zIndex},$.createElement(Xd,{className:et("recharts-cartesian-axis",i)},$.createElement(Jrt,{x:t.x,y:t.y,width:r,height:s,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:yu(t)}),$.createElement(sst,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),$.createElement(Wtt,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},$.createElement(ent,{label:t.label,labelRef:t.labelRef}),t.children)))}),VF=$.forwardRef((t,e)=>{var n=Ui(t,hc);return $.createElement(ist,ep({},n,{ref:e}))});VF.displayName="CartesianAxis";var ast=["x1","y1","x2","y2","key"],ost=["offset"],lst=["xAxisId","yAxisId"],ust=["xAxisId","yAxisId"];function $G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$G(Object(n),!0).forEach(function(r){cst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$G(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cst(t,e,n){return(e=dst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dst(t){var e=fst(t,"string");return typeof e=="symbol"?e:e+""}function fst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(null,arguments)}function WC(t,e){if(t==null)return{};var n,r,s=hst(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function hst(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pst=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:s,width:i,height:a,ry:o}=t;return $.createElement("rect",{x:r,y:s,ry:o,width:i,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Kre(t){var{option:e,lineItemProps:n}=t,r;if($.isValidElement(e))r=$.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var s,{x1:i,y1:a,x2:o,y2:l,key:u}=n,d=WC(n,ast),f=(s=yu(d))!==null&&s!==void 0?s:{},{offset:p}=f,m=WC(f,ost);r=$.createElement("line",Sh({},m,{x1:i,y1:a,x2:o,y2:l,fill:"none",key:u}))}return r}function mst(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:s}=t;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:a}=t,o=WC(t,lst),l=s.map((u,d)=>{var f=Di(Di({},o),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return $.createElement(Kre,{key:"line-".concat(d),option:r,lineItemProps:f})});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function gst(t){var{y:e,height:n,vertical:r=!0,verticalPoints:s}=t;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:a}=t,o=WC(t,ust),l=s.map((u,d)=>{var f=Di(Di({},o),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return $.createElement(Kre,{option:r,lineItemProps:f,key:"line-".concat(d)})});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function yst(t){var{horizontalFill:e,fillOpacity:n,x:r,y:s,width:i,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var u=o.map(f=>Math.round(f+s-s)).sort((f,p)=>f-p);s!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],y=m?s+a-f:u[p+1]-f;if(y<=0)return null;var v=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:y,width:i,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function vst(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:s,y:i,width:a,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(f=>Math.round(f+s-s)).sort((f,p)=>f-p);s!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],y=m?s+a-f:u[p+1]-f;if(y<=0)return null;var v=p%n.length;return $.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:y,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bst=(t,e)=>{var{xAxis:n,width:r,height:s,offset:i}=t;return Bee(UF(Di(Di(Di({},hc),n),{},{ticks:jee(n),viewBox:{x:0,y:0,width:r,height:s}})),i.left,i.left+i.width,e)},xst=(t,e)=>{var{yAxis:n,width:r,height:s,offset:i}=t;return Bee(UF(Di(Di(Di({},hc),n),{},{ticks:jee(n),viewBox:{x:0,y:0,width:r,height:s}})),i.top,i.top+i.height,e)},wst={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zi.grid};function Xre(t){var e=_L(),n=PL(),r=Xee(),s=Di(Di({},Ui(t,wst)),{},{x:Rt(t.x)?t.x:r.left,y:Rt(t.y)?t.y:r.top,width:Rt(t.width)?t.width:r.width,height:Rt(t.height)?t.height:r.height}),{xAxisId:i,yAxisId:a,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=s,y=Ra(),v=Mt(L=>IH(L,"xAxis",i,y)),b=Mt(L=>IH(L,"yAxis",a,y));if(!xu(u)||!xu(d)||!Rt(o)||!Rt(l))return null;var w=s.verticalCoordinatesGenerator||bst,S=s.horizontalCoordinatesGenerator||xst,{horizontalPoints:C,verticalPoints:T}=s;if((!C||!C.length)&&typeof S=="function"){var N=p&&p.length,O=S({yAxis:b?Di(Di({},b),{},{ticks:N?p:b.ticks}):void 0,width:e??u,height:n??d,offset:r},N?!0:f);vC(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(C=O)}if((!T||!T.length)&&typeof w=="function"){var _=m&&m.length,F=w({xAxis:v?Di(Di({},v),{},{ticks:_?m:v.ticks}):void 0,width:e??u,height:n??d,offset:r},_?!0:f);vC(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(T=F)}return $.createElement(zc,{zIndex:s.zIndex},$.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(pst,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),$.createElement(yst,Sh({},s,{horizontalPoints:C})),$.createElement(vst,Sh({},s,{verticalPoints:T})),$.createElement(mst,Sh({},s,{offset:r,horizontalPoints:C,xAxis:v,yAxis:b})),$.createElement(gst,Sh({},s,{offset:r,verticalPoints:T,xAxis:v,yAxis:b}))))}Xre.displayName="CartesianGrid";var Sst={},Yre=Oa({name:"errorBars",initialState:Sst,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:s}=e.payload;t[n]&&(t[n]=t[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?s:i))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:olt,replaceErrorBar:llt,removeErrorBar:ult}=Yre.actions,Cst=Yre.reducer,kst=["children"];function Tst(t,e){if(t==null)return{};var n,r,s=Est(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Est(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nst={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$st=$.createContext(Nst);function Ist(t){var{children:e}=t,n=Tst(t,kst);return $.createElement($st.Provider,{value:n},e)}function Zre(t,e){var n,r,s=Mt(u=>Mc(u,t)),i=Mt(u=>Lc(u,e)),a=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Ks.allowDataOverflow,o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Xs.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function Ast(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,s=BF(),{needClipX:i,needClipY:a,needClip:o}=Zre(e,n);if(!o||!s)return null;var{x:l,y:u,width:d,height:f}=s;return $.createElement("clipPath",{id:"clipPath-".concat(r)},$.createElement("rect",{x:i?l:l-d/2,y:a?u:u-f/2,width:i?d:d*2,height:a?f:f*2}))}var Qre=(t,e,n,r)=>ere(t,"xAxis",e,r),Jre=(t,e,n,r)=>Jne(t,"xAxis",e,r),ese=(t,e,n,r)=>ere(t,"yAxis",n,r),tse=(t,e,n,r)=>Jne(t,"yAxis",n,r),Ost=Ue([Sr,Qre,ese,Jre,tse],(t,e,n,r,s)=>mf(t,"xAxis")?yC(e,r,!1):yC(n,s,!1)),Rst=(t,e,n,r,s)=>s;function Dst(t){return t.type==="line"}var _st=Ue([Sne,Rst],(t,e)=>t.filter(Dst).find(n=>n.id===e)),Pst=Ue([Sr,Qre,ese,Jre,tse,_st,Ost,uF],(t,e,n,r,s,i,a,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||e==null||n==null||r==null||s==null||r.length===0||s.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l?.slice(u,d+1),m!=null)return Sit({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:f,bandSize:a,displayedData:m})}});function Mst(t){var e=v2(t),n=3,r=2;if(e!=null){var{r:s,strokeWidth:i}=e,a=Number(s),o=Number(i);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var kA={exports:{}},TA={};var IG;function Lst(){if(IG)return TA;IG=1;var t=pg();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,o=t.useDebugValue;return TA.useSyncExternalStoreWithSelector=function(l,u,d,f,p){var m=s(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function b(N){if(!w){if(w=!0,S=N,N=f(N),p!==void 0&&y.hasValue){var O=y.value;if(p(O,N))return C=O}return C=N}if(O=C,n(S,N))return O;var _=f(N);return p!==void 0&&p(O,_)?(S=N,O):(S=N,C=_)}var w=!1,S,C,T=d===void 0?null:d;return[function(){return b(u())},T===null?void 0:function(){return b(T())}]},[u,d,f,p]);var v=r(l,m[0],m[1]);return i(function(){y.hasValue=!0,y.value=v},[v]),o(v),v},TA}var AG;function Fst(){return AG||(AG=1,kA.exports=Lst()),kA.exports}Fst();function zst(t){t()}function Bst(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zst(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var OG={notify(){},get:()=>[]};function jst(t,e){let n,r=OG,s=0,i=!1;function a(v){d();const b=r.subscribe(v);let w=!1;return()=>{w||(w=!0,b(),f())}}function o(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){s++,n||(n=t.subscribe(l),r=Bst())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=OG)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const y={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return y}var Ust=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vst=Ust(),Wst=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hst=Wst(),Gst=()=>Vst||Hst?$.useLayoutEffect:$.useEffect,qst=Gst();function RG(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Kst(t,e){if(RG(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!RG(t[n[s]],e[n[s]]))return!1;return!0}var Xst=Symbol.for("react-redux-context"),Yst=typeof globalThis<"u"?globalThis:{};function Zst(){if(!$.createContext)return{};const t=Yst[Xst]??=new Map;let e=t.get($.createContext);return e||(e=$.createContext(null),t.set($.createContext,e)),e}var Qst=Zst();function Jst(t){const{children:e,context:n,serverState:r,store:s}=t,i=$.useMemo(()=>{const l=jst(s);return{store:s,subscription:l,getServerState:r?()=>r:void 0}},[s,r]),a=$.useMemo(()=>s.getState(),[s]);qst(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,a]);const o=n||Qst;return $.createElement(o.Provider,{value:i},e)}var eit=Jst,tit=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function nit(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function WF(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(tit.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Kst(t[r],e[r]))return!1}else if(!nit(t[r],e[r]))return!1;return!0}var rit=["id"],sit=["type","layout","connectNulls","needClip","shape"],iit=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(null,arguments)}function DG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DG(Object(n),!0).forEach(function(r){ait(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ait(t,e,n){return(e=oit(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oit(t){var e=lit(t,"string");return typeof e=="symbol"?e:e+""}function lit(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HF(t,e){if(t==null)return{};var n,r,s=uit(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function uit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cit=t=>{var{dataKey:e,name:n,stroke:r,legendType:s,hide:i}=t;return[{inactive:i,dataKey:e,type:s,color:r,value:Uee(n,e),payload:t}]},dit=$.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:s,fill:i,name:a,hide:o,unit:l,tooltipType:u,id:d}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:e,nameKey:void 0,name:Uee(a,e),hide:o,type:u,color:r,unit:l,graphicalItemId:d}};return $.createElement(Mnt,{tooltipEntrySettings:f})}),nse=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function fit(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],s=0;s<e;++s)r=[...r,...n];return r}var hit=(t,e,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return nse(e,t);for(var s=Math.floor(t/r),i=t%r,a=e-t,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>i){o=[...n.slice(0,l),i-u];break}var d=o.length%2===0?[0,a]:[a];return[...fit(n,s),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function pit(t){var{clipPathId:e,points:n,props:r}=t,{dot:s,dataKey:i,needClip:a}=r,{id:o}=r,l=HF(r,rit),u=yu(l);return $.createElement(srt,{points:n,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:a,clipPathId:e})}function mit(t){var{showLabels:e,children:n,points:r}=t,s=$.useMemo(()=>r?.map(i=>{var a,o,l={x:(a=i.x)!==null&&a!==void 0?a:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Yl(Yl({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return $.createElement(dnt,{value:e?s:void 0},n)}function _G(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:s,props:i}=t,{type:a,layout:o,connectNulls:l,needClip:u,shape:d}=i,f=HF(i,sit),p=Yl(Yl({},ea(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:o,connectNulls:l,strokeDasharray:s??i.strokeDasharray});return $.createElement($.Fragment,null,r?.length>1&&$.createElement(Pnt,Db({shapeType:"curve",option:d},p,{pathRef:n})),$.createElement(pit,{points:r,clipPathId:e,props:i}))}function git(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function yit(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:i}=t,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:y,onAnimationEnd:v,onAnimationStart:b}=n,w=s.current,S=zL(a,"recharts-line-"),C=$.useRef(S),[T,N]=$.useState(!1),O=!T,_=$.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),F=$.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]),L=git(r.current),z=$.useRef(0);C.current!==S&&(z.current=i.current,C.current=S);var P=z.current;return $.createElement(mit,{points:a,showLabels:O},n.children,$.createElement(FL,{animationId:S,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:F,key:S},R=>{var H=ma(P,L+P,R),q=Math.min(H,L),X;if(l)if(o){var V="".concat(o).split(/[,\s]+/gim).map(te=>parseFloat(te));X=hit(q,L,V)}else X=nse(L,q);else X=o==null?void 0:String(o);if(R>0&&L>0&&(s.current=a,i.current=Math.max(i.current,q)),w){var ee=w.length/a.length,J=R===1?a:a.map((te,ce)=>{var G=Math.floor(ce*ee);if(w[G]){var ne=w[G];return Yl(Yl({},te),{},{x:ma(ne.x,te.x,R),y:ma(ne.y,te.y,R)})}return p?Yl(Yl({},te),{},{x:ma(m*2,te.x,R),y:ma(y/2,te.y,R)}):Yl(Yl({},te),{},{x:te.x,y:te.y})});return s.current=J,$.createElement(_G,{props:n,points:J,clipPathId:e,pathRef:r,strokeDasharray:X})}return $.createElement(_G,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:X})}),$.createElement(pnt,{label:n.label}))}function vit(t){var{clipPathId:e,props:n}=t,r=$.useRef(null),s=$.useRef(0),i=$.useRef(null);return $.createElement(yit,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:i})}var bit=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:bi(t.payload,e)}};class xit extends $.Component{render(){var{hide:e,dot:n,points:r,className:s,xAxisId:i,yAxisId:a,top:o,left:l,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(e)return null;var y=et("recharts-line",s),v=f,{r:b,strokeWidth:w}=Mst(n),S=Ure(n),C=b*2+w,T=p?"url(#clipPath-".concat(S?"":"dots-").concat(v,")"):void 0;return $.createElement(zc,{zIndex:m},$.createElement(Xd,{className:y},p&&$.createElement("defs",null,$.createElement(Ast,{clipPathId:v,xAxisId:i,yAxisId:a}),!S&&$.createElement("clipPath",{id:"clipPath-dots-".concat(v)},$.createElement("rect",{x:l-C/2,y:o-C/2,width:u+C,height:d+C}))),$.createElement(Ist,{xAxisId:i,yAxisId:a,data:r,dataPointFormatter:bit,errorBarOffset:0},$.createElement(vit,{props:this.props,clipPathId:v}))),$.createElement(krt,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var rse={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Zi.line,type:"linear"};function wit(t){var e=Ui(t,rse),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:a,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:y,id:v}=e,b=HF(e,iit),{needClip:w}=Zre(m,y),S=BF(),C=wx(),T=Ra(),N=Mt(z=>Pst(z,m,y,T,v));if(C!=="horizontal"&&C!=="vertical"||N==null||S==null)return null;var{height:O,width:_,x:F,y:L}=S;return $.createElement(xit,Db({},b,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:a,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:y,points:N,layout:C,height:O,width:_,left:F,top:L,needClip:w}))}function Sit(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:i,dataKey:a,bandSize:o,displayedData:l}=t;return l.map((u,d)=>{var f=bi(u,a);if(e==="horizontal"){var p=D5({axis:n,ticks:s,bandSize:o,entry:u,index:d}),m=ei(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:u}}var y=ei(f)?null:n.scale(f),v=D5({axis:r,ticks:i,bandSize:o,entry:u,index:d});return y==null||v==null?null:{x:y,y:v,value:f,payload:u}}).filter(Boolean)}function Cit(t){var e=Ui(t,rse),n=Ra();return $.createElement(Unt,{id:e.id,type:"line"},r=>$.createElement($.Fragment,null,$.createElement(Lnt,{legendPayload:cit(e)}),$.createElement(dit,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),$.createElement(Xnt,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),$.createElement(wit,Db({},e,{id:r}))))}var uS=$.memo(Cit,WF);uS.displayName="Line";var kit=["domain","range"],Tit=["domain","range"];function PG(t,e){if(t==null)return{};var n,r,s=Eit(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Eit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MG(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function sse(t,e){if(t===e)return!0;var{domain:n,range:r}=t,s=PG(t,kit),{domain:i,range:a}=e,o=PG(e,Tit);return!MG(n,i)||!MG(r,a)?!1:WF(s,o)}var Nit=["dangerouslySetInnerHTML","ticks","scale"],$it=["id","scale"];function iD(){return iD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iD.apply(null,arguments)}function LG(t,e){if(t==null)return{};var n,r,s=Iit(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Iit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ait(t){var e=Os(),n=$.useRef(null);return $.useLayoutEffect(()=>{n.current===null?e(urt(t)):n.current!==t&&e(crt({prev:n.current,next:t})),n.current=t},[t,e]),$.useLayoutEffect(()=>()=>{n.current&&(e(drt(n.current)),n.current=null)},[e]),null}var Oit=t=>{var{xAxisId:e,className:n}=t,r=Mt(Wee),s=Ra(),i="xAxis",a=Mt(w=>Qne(w,i,e,s)),o=Mt(w=>RQe(w,e)),l=Mt(w=>FQe(w,e)),u=Mt(w=>vne(w,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=t,m=LG(t,Nit),{id:y,scale:v}=u,b=LG(u,$it);return $.createElement(VF,iD({},m,b,{x:l.x,y:l.y,width:o.width,height:o.height,className:et("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:a,axisType:i}))},Rit={allowDataOverflow:Ks.allowDataOverflow,allowDecimals:Ks.allowDecimals,allowDuplicatedCategory:Ks.allowDuplicatedCategory,angle:Ks.angle,axisLine:hc.axisLine,height:Ks.height,hide:!1,includeHidden:Ks.includeHidden,interval:Ks.interval,minTickGap:Ks.minTickGap,mirror:Ks.mirror,orientation:Ks.orientation,padding:Ks.padding,reversed:Ks.reversed,scale:Ks.scale,tick:Ks.tick,tickCount:Ks.tickCount,tickLine:hc.tickLine,tickSize:hc.tickSize,type:Ks.type,xAxisId:0},Dit=t=>{var e=Ui(t,Rit);return $.createElement($.Fragment,null,$.createElement(Ait,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),$.createElement(Oit,e))},ise=$.memo(Dit,sse);ise.displayName="XAxis";var _it=["dangerouslySetInnerHTML","ticks","scale"],Pit=["id","scale"];function aD(){return aD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aD.apply(null,arguments)}function FG(t,e){if(t==null)return{};var n,r,s=Mit(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Mit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lit(t){var e=Os(),n=$.useRef(null);return $.useLayoutEffect(()=>{n.current===null?e(frt(t)):n.current!==t&&e(hrt({prev:n.current,next:t})),n.current=t},[t,e]),$.useLayoutEffect(()=>()=>{n.current&&(e(prt(n.current)),n.current=null)},[e]),null}var Fit=t=>{var{yAxisId:e,className:n,width:r,label:s}=t,i=$.useRef(null),a=$.useRef(null),o=Mt(Wee),l=Ra(),u=Os(),d="yAxis",f=Mt(O=>jQe(O,e)),p=Mt(O=>BQe(O,e)),m=Mt(O=>Qne(O,d,e,l)),y=Mt(O=>bne(O,e));if($.useLayoutEffect(()=>{if(!(r!=="auto"||!f||zF(s)||$.isValidElement(s)||y==null)){var O=i.current;if(O){var _=O.getCalculatedWidth();Math.round(f.width)!==Math.round(_)&&u(mrt({id:e,width:_}))}}},[m,f,u,s,e,r,y]),f==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:w}=t,S=FG(t,_it),{id:C,scale:T}=y,N=FG(y,Pit);return $.createElement(VF,aD({},S,N,{ref:i,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:et("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},zit={allowDataOverflow:Xs.allowDataOverflow,allowDecimals:Xs.allowDecimals,allowDuplicatedCategory:Xs.allowDuplicatedCategory,angle:Xs.angle,axisLine:hc.axisLine,hide:!1,includeHidden:Xs.includeHidden,interval:Xs.interval,minTickGap:Xs.minTickGap,mirror:Xs.mirror,orientation:Xs.orientation,padding:Xs.padding,reversed:Xs.reversed,scale:Xs.scale,tick:Xs.tick,tickCount:Xs.tickCount,tickLine:hc.tickLine,tickSize:hc.tickSize,type:Xs.type,width:Xs.width,yAxisId:0},Bit=t=>{var e=Ui(t,zit);return $.createElement($.Fragment,null,$.createElement(Lit,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),$.createElement(Fit,e))},ase=$.memo(Bit,sse);ase.displayName="YAxis";var jit=(t,e)=>e,GF=Ue([jit,Sr,mne,js,mre,Fc,net,Ci],cet),qF=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},ose=Fo("mouseClick"),lse=bx();lse.startListening({actionCreator:ose,effect:(t,e)=>{var n=t.payload,r=GF(e.getState(),qF(n));r?.activeIndex!=null&&e.dispatch(eJe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var oD=Fo("mouseMove"),use=bx(),Pw=null;use.startListening({actionCreator:oD,effect:(t,e)=>{var n=t.payload;Pw!==null&&cancelAnimationFrame(Pw);var r=qF(n);Pw=requestAnimationFrame(()=>{var s=e.getState(),i=$F(s,s.tooltip.settings.shared);if(i==="axis"){var a=GF(s,r);a?.activeIndex!=null?e.dispatch(ore({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(are())}Pw=null})}});function Uit(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var zG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},cse=Oa({name:"rootProps",initialState:zG,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zG.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Vit=cse.reducer,{updateOptions:Wit}=cse.actions,dse=Oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:clt}=dse.actions,Hit=dse.reducer,fse=Fo("keyDown"),hse=Fo("focus"),KF=bx();KF.startListening({actionCreator:fse,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var a=IF(s,Qg(n),Ix(n),Dx(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Fc(n);if(i==="Enter"){var u=zC(n,"axis","hover",String(s.index));e.dispatch(JR({active:!s.active,activeIndex:s.index,activeCoordinate:u}));return}var d=HQe(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=o+p*f;if(!(l==null||m>=l.length||m<0)){var y=zC(n,"axis","hover",String(m));e.dispatch(JR({active:!0,activeIndex:m.toString(),activeCoordinate:y}))}}}}}});KF.startListening({actionCreator:hse,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var i="0",a=zC(n,"axis","hover",String(i));e.dispatch(JR({active:!0,activeIndex:i,activeCoordinate:a}))}}}});var bo=Fo("externalEvent"),pse=bx(),EA=new Map;pse.startListening({actionCreator:bo,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var s=r.type,i=EA.get(s);i!==void 0&&cancelAnimationFrame(i);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:BJe(o),activeDataKey:FJe(o),activeIndex:Ab(o),activeLabel:vre(o),activeTooltipIndex:Ab(o),isTooltipActive:jJe(o)};n(l,r)}finally{EA.delete(s)}});EA.set(s,a)}}});var Git=Ue([Yg],t=>t.tooltipItemPayloads),qit=Ue([Git,Rx,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var s=t.find(o=>o.settings.graphicalItemId===r);if(s!=null){var{positions:i}=s;if(i!=null){var a=e(i,n);return a}}}),mse=Fo("touchMove"),gse=bx();gse.startListening({actionCreator:mse,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),s=$F(r,r.tooltip.settings.shared);if(s==="axis"){var i=n.touches[0];if(i==null)return;var a=GF(r,qF({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(ore({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(s==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(SKe),f=(o=u.getAttribute(CKe))!==null&&o!==void 0?o:void 0,p=Zg(r).find(v=>v.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,y=qit(r,d,f);e.dispatch(JQe({activeDataKey:m,activeIndex:d,activeCoordinate:y,activeGraphicalItemId:f}))}}}});var Kit=dee({brush:Ert,cartesianAxis:grt,chartData:Vet,errorBars:Cst,graphicalItems:qnt,layout:aKe,legend:y9e,options:Fet,polarAxis:gnt,polarOptions:Hit,referenceElements:Drt,rootProps:Vit,tooltip:tJe,zIndex:Tet}),Xit=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return O8e({reducer:Kit,preloadedState:e,middleware:r=>{var s;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([lse.middleware,use.middleware,KF.middleware,pse.middleware,gse.middleware])},enhancers:r=>{var s=r;return typeof r=="function"&&(s=r()),s.concat(Eee({type:"raf"}))},devTools:{serialize:{replacer:Uit},name:"recharts-".concat(n)}})};function Yit(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,s=Ra(),i=$.useRef(null);if(s)return n;i.current==null&&(i.current=Xit(e,r));var a=kL;return $.createElement(eit,{context:a,store:i.current},n)}function Zit(t){var{layout:e,margin:n}=t,r=Os(),s=Ra();return $.useEffect(()=>{s||(r(rKe(e)),r(nKe(n)))},[r,s,e,n]),null}var Qit=$.memo(Zit,WF);function Jit(t){var e=Os();return $.useEffect(()=>{e(Wit(t))},[e,t]),null}function BG(t){var{zIndex:e,isPanorama:n}=t,r=$.useRef(null),s=Os();return $.useLayoutEffect(()=>(r.current&&s(Cet({zIndex:e,element:r.current,isPanorama:n})),()=>{s(ket({zIndex:e,isPanorama:n}))}),[s,e,n]),$.createElement("g",{tabIndex:-1,ref:r})}function jG(t){var{children:e,isPanorama:n}=t,r=Mt(fet);if(!r||r.length===0)return e;var s=r.filter(a=>a<0),i=r.filter(a=>a>0);return $.createElement($.Fragment,null,s.map(a=>$.createElement(BG,{key:a,zIndex:a,isPanorama:n})),e,i.map(a=>$.createElement(BG,{key:a,zIndex:a,isPanorama:n})))}var eat=["children"];function tat(t,e){if(t==null)return{};var n,r,s=nat(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function nat(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HC.apply(null,arguments)}var rat={width:"100%",height:"100%",display:"block"},sat=$.forwardRef((t,e)=>{var n=_L(),r=PL(),s=ste();if(!xu(n)||!xu(r))return null;var{children:i,otherAttributes:a,title:o,desc:l}=t,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=s?0:void 0,typeof a.role=="string"?d=a.role:d=s?"application":void 0),$.createElement(pL,HC({},a,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:rat,ref:e}),i)}),iat=t=>{var{children:e}=t,n=Mt(P2);if(!n)return null;var{width:r,height:s,y:i,x:a}=n;return $.createElement(pL,{width:r,height:s,x:a,y:i},e)},UG=$.forwardRef((t,e)=>{var{children:n}=t,r=tat(t,eat),s=Ra();return s?$.createElement(iat,null,$.createElement(jG,{isPanorama:!0},n)):$.createElement(sat,HC({ref:e},r),$.createElement(jG,{isPanorama:!1},n))});function aat(){var t=Os(),[e,n]=$.useState(null),r=Mt(wKe);return $.useEffect(()=>{if(e!=null){var s=e.getBoundingClientRect(),i=s.width/e.offsetWidth;Is(i)&&i!==r&&t(iKe(i))}},[e,t,r]),n}function VG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function oat(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VG(Object(n),!0).forEach(function(r){lat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lat(t,e,n){return(e=uat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uat(t){var e=cat(t,"string");return typeof e=="symbol"?e:e+""}function cat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(null,arguments)}var dat=()=>(Qet(),null);function GC(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var fat=$.forwardRef((t,e)=>{var n,r,s=$.useRef(null),[i,a]=$.useState({containerWidth:GC((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:GC((r=t.style)===null||r===void 0?void 0:r.height)}),o=$.useCallback((u,d)=>{a(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=$.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var p=y=>{var{width:v,height:b}=y[0].contentRect;o(v,b)},m=new ResizeObserver(p);m.observe(u),s.current=m}},[e,o]);return $.useEffect(()=>()=>{var u=s.current;u?.disconnect()},[o]),$.createElement($.Fragment,null,$.createElement(L2,{width:i.containerWidth,height:i.containerHeight}),$.createElement("div",tp({ref:l},t)))}),hat=$.forwardRef((t,e)=>{var{width:n,height:r}=t,[s,i]=$.useState({containerWidth:GC(n),containerHeight:GC(r)}),a=$.useCallback((l,u)=>{i(d=>{var f=Math.round(l),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),o=$.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return $.createElement($.Fragment,null,$.createElement(L2,{width:s.containerWidth,height:s.containerHeight}),$.createElement("div",tp({ref:o},t)))}),pat=$.forwardRef((t,e)=>{var{width:n,height:r}=t;return $.createElement($.Fragment,null,$.createElement(L2,{width:n,height:r}),$.createElement("div",tp({ref:e},t)))}),mat=$.forwardRef((t,e)=>{var{width:n,height:r}=t;return wc(n)||wc(r)?$.createElement(hat,tp({},t,{ref:e})):$.createElement(pat,tp({},t,{ref:e}))});function gat(t){return t===!0?fat:mat}var yat=$.forwardRef((t,e)=>{var{children:n,className:r,height:s,onClick:i,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:y,onTouchStart:v,style:b,width:w,responsive:S,dispatchTouchEvents:C=!0}=t,T=$.useRef(null),N=Os(),[O,_]=$.useState(null),[F,L]=$.useState(null),z=aat(),P=DL(),R=P?.width>0?P.width:w,H=P?.height>0?P.height:s,q=$.useCallback(se=>{z(se),typeof e=="function"&&e(se),_(se),L(se),se!=null&&(T.current=se)},[z,e,_,L]),X=$.useCallback(se=>{N(ose(se)),N(bo({handler:i,reactEvent:se}))},[N,i]),V=$.useCallback(se=>{N(oD(se)),N(bo({handler:u,reactEvent:se}))},[N,u]),ee=$.useCallback(se=>{N(are()),N(bo({handler:d,reactEvent:se}))},[N,d]),J=$.useCallback(se=>{N(oD(se)),N(bo({handler:f,reactEvent:se}))},[N,f]),te=$.useCallback(()=>{N(hse())},[N]),ce=$.useCallback(se=>{N(fse(se.key))},[N]),G=$.useCallback(se=>{N(bo({handler:a,reactEvent:se}))},[N,a]),ne=$.useCallback(se=>{N(bo({handler:o,reactEvent:se}))},[N,o]),ae=$.useCallback(se=>{N(bo({handler:l,reactEvent:se}))},[N,l]),be=$.useCallback(se=>{N(bo({handler:p,reactEvent:se}))},[N,p]),$e=$.useCallback(se=>{N(bo({handler:v,reactEvent:se}))},[N,v]),Ie=$.useCallback(se=>{C&&N(mse(se)),N(bo({handler:y,reactEvent:se}))},[N,C,y]),Me=$.useCallback(se=>{N(bo({handler:m,reactEvent:se}))},[N,m]),st=gat(S);return $.createElement(Tre.Provider,{value:O},$.createElement(EJ.Provider,{value:F},$.createElement(st,{width:R??b?.width,height:H??b?.height,className:et("recharts-wrapper",r),style:oat({position:"relative",cursor:"default",width:R,height:H},b),onClick:X,onContextMenu:G,onDoubleClick:ne,onFocus:te,onKeyDown:ce,onMouseDown:ae,onMouseEnter:V,onMouseLeave:ee,onMouseMove:J,onMouseUp:be,onTouchEnd:Me,onTouchMove:Ie,onTouchStart:$e,ref:q},$.createElement(dat,null),n)))}),vat=["width","height","responsive","children","className","style","compact","title","desc"];function bat(t,e){if(t==null)return{};var n,r,s=xat(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function xat(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wat=$.forwardRef((t,e)=>{var{width:n,height:r,responsive:s,children:i,className:a,style:o,compact:l,title:u,desc:d}=t,f=bat(t,vat),p=yu(f);return l?$.createElement($.Fragment,null,$.createElement(L2,{width:n,height:r}),$.createElement(UG,{otherAttributes:p,title:u,desc:d},i)):$.createElement(yat,{className:a,style:o,width:n,height:r,responsive:s??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},$.createElement(UG,{otherAttributes:p,title:u,desc:d,ref:e},$.createElement(Prt,null,i)))});function lD(){return lD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lD.apply(null,arguments)}var Sat={top:5,right:5,bottom:5,left:5},Cat={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Sat,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},kat=$.forwardRef(function(e,n){var r,s=Ui(e.categoricalChartProps,Cat),{chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return $.createElement(Yit,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:i},$.createElement(Trt,{chartData:u.data}),$.createElement(Qit,{layout:s.layout,margin:s.margin}),$.createElement(Jit,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),$.createElement(wat,lD({},s,{ref:n})))}),Tat=["axis"],Eat=$.forwardRef((t,e)=>$.createElement(kat,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tat,tooltipPayloadSearcher:Met,categoricalChartProps:t,ref:e}));const Nat=({data:t})=>{const e=t.slice().reverse().map(n=>({date:kS(new Date(n.createdAt),"MMM dd"),systolic:n.systolic,diastolic:n.diastolic,pulse:n.pulse,temperature:n.temperature}));return D.jsx($n,{sx:{width:"100%",height:400},children:D.jsx(ZKe,{children:D.jsxs(Eat,{data:e,children:[D.jsx(Xre,{strokeDasharray:"3 3"}),D.jsx(ise,{dataKey:"date"}),D.jsx(ase,{}),D.jsx(att,{}),D.jsx(rte,{}),D.jsx(uS,{type:"monotone",dataKey:"systolic",stroke:"#d32f2f",name:"Systolic BP",strokeWidth:2}),D.jsx(uS,{type:"monotone",dataKey:"diastolic",stroke:"#f57c00",name:"Diastolic BP",strokeWidth:2}),D.jsx(uS,{type:"monotone",dataKey:"pulse",stroke:"#1976d2",name:"Pulse",strokeWidth:2})]})})})},$at=({results:t})=>{const{t:e}=$a(),n=s=>{switch(s){case"high":return"error";case"moderate":return"warning";default:return"success"}},r=s=>{switch(s){case"high":return D.jsx(xS,{color:"error"});case"moderate":return D.jsx(Qv,{color:"warning"});default:return D.jsx(Km,{color:"success"})}};return D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:e("vitals.riskAssessment")}),D.jsxs($n,{sx:{mb:3},children:[D.jsxs(vr,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[r(t.riskLevel),D.jsxs(rt,{variant:"h5",children:[e("vitals.riskLevel"),":"]}),D.jsx(Oo,{label:t.riskLevel.toUpperCase(),color:n(t.riskLevel),size:"medium"})]}),D.jsxs(rt,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Risk Score: ",t.riskScore,"%"]}),D.jsx(VD,{variant:"determinate",value:t.riskScore,color:n(t.riskLevel),sx:{height:8,borderRadius:4}})]}),t.detectedRisks&&t.detectedRisks.length>0&&D.jsxs($n,{sx:{mb:3},children:[D.jsx(rt,{variant:"subtitle2",gutterBottom:!0,children:"Detected Issues:"}),t.detectedRisks.map((s,i)=>D.jsx(Li,{severity:s.severity==="critical"?"error":"warning",sx:{mb:1},children:D.jsxs(rt,{variant:"body2",children:[D.jsxs("strong",{children:[s.type,":"]})," ",s.message.en||s.message]})},i))]}),t.recommendations&&D.jsxs($n,{children:[D.jsxs(rt,{variant:"subtitle2",gutterBottom:!0,children:[e("vitals.recommendations"),":"]}),D.jsx(Ld,{dense:!0,children:(t.recommendations.en||t.recommendations).map((s,i)=>D.jsxs(oc,{children:[D.jsx(WD,{children:D.jsx(Sge,{color:"primary",fontSize:"small"})}),D.jsx(Ql,{primary:s})]},i))})]})]})})},Iat=()=>{const{t}=$a(),{addVitalsRecord:e}=Ro(),[n,r]=$.useState({systolic:"",diastolic:"",pulse:"",temperature:"",weight:"",age:""}),[s,i]=$.useState(!1),[a,o]=$.useState(null),[l,u]=$.useState(null),[d,f]=$.useState([]);$.useEffect(()=>{p()},[]);const p=async()=>{try{const b=await Pr.vitals.orderBy("createdAt").reverse().limit(10).toArray();f(b)}catch(b){console.error("Error loading vitals history:",b)}},m=b=>w=>{const S=w.target.value;(S===""||/^\d*\.?\d*$/.test(S))&&r(C=>({...C,[b]:S}))},y=()=>{const{systolic:b,diastolic:w,pulse:S,temperature:C,age:T}=n;if(!b||!w||!S||!C||!T)return u("Please fill in all required fields"),!1;const N=parseFloat(b),O=parseFloat(w),_=parseFloat(S),F=parseFloat(C),L=parseFloat(T);return N<50||N>250?(u("Systolic BP should be between 50-250 mmHg"),!1):O<30||O>150?(u("Diastolic BP should be between 30-150 mmHg"),!1):_<30||_>200?(u("Pulse should be between 30-200 bpm"),!1):F<35||F>43?(u("Temperature should be between 35-43C"),!1):L<0||L>120?(u("Please enter a valid age"),!1):!0},v=async()=>{if(y()){i(!0),u(null),o(null);try{const b={systolic:parseFloat(n.systolic),diastolic:parseFloat(n.diastolic),pulse:parseFloat(n.pulse),temperature:parseFloat(n.temperature),weight:n.weight?parseFloat(n.weight):null,age:parseFloat(n.age)},w=await KHe.predictRisk(b);if(w.success){const S={...b,...w,createdAt:new Date().toISOString()};o(S),e(S),await gb.syncVitals(S),await p()}else u(w.error||"Analysis failed")}catch(b){console.error("Vitals analysis error:",b),u("An error occurred during analysis. Please try again.")}finally{i(!1)}}};return D.jsxs($n,{children:[D.jsx(rt,{variant:"h4",gutterBottom:!0,children:t("vitals.title")}),D.jsxs(tr,{container:!0,spacing:3,children:[D.jsx(tr,{item:!0,xs:12,md:6,children:D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:"Enter Vital Signs"}),D.jsxs(tr,{container:!0,spacing:2,children:[D.jsx(tr,{item:!0,xs:12,children:D.jsx(rt,{variant:"subtitle2",gutterBottom:!0,children:t("vitals.bloodPressure")})}),D.jsx(tr,{item:!0,xs:6,children:D.jsx(Ju,{fullWidth:!0,label:t("vitals.systolic"),value:n.systolic,onChange:m("systolic"),placeholder:"120",InputProps:{endAdornment:D.jsx(rt,{variant:"caption",children:"mmHg"})}})}),D.jsx(tr,{item:!0,xs:6,children:D.jsx(Ju,{fullWidth:!0,label:t("vitals.diastolic"),value:n.diastolic,onChange:m("diastolic"),placeholder:"80",InputProps:{endAdornment:D.jsx(rt,{variant:"caption",children:"mmHg"})}})}),D.jsx(tr,{item:!0,xs:12,children:D.jsx(Ju,{fullWidth:!0,label:t("vitals.pulse"),value:n.pulse,onChange:m("pulse"),placeholder:"72",InputProps:{endAdornment:D.jsx(rt,{variant:"caption",children:"bpm"})}})}),D.jsx(tr,{item:!0,xs:12,children:D.jsx(Ju,{fullWidth:!0,label:t("vitals.temperature"),value:n.temperature,onChange:m("temperature"),placeholder:"37.0",InputProps:{endAdornment:D.jsx(rt,{variant:"caption",children:"C"})}})}),D.jsx(tr,{item:!0,xs:6,children:D.jsx(Ju,{fullWidth:!0,label:t("vitals.age"),value:n.age,onChange:m("age"),placeholder:"30",InputProps:{endAdornment:D.jsx(rt,{variant:"caption",children:"years"})}})}),D.jsx(tr,{item:!0,xs:6,children:D.jsx(Ju,{fullWidth:!0,label:`${t("vitals.weight")} (Optional)`,value:n.weight,onChange:m("weight"),placeholder:"65",InputProps:{endAdornment:D.jsx(rt,{variant:"caption",children:"kg"})}})})]}),l&&D.jsx(Li,{severity:"error",sx:{mt:2},children:l}),D.jsx(_i,{fullWidth:!0,variant:"contained",startIcon:s?D.jsx(tf,{size:20}):D.jsx(YD,{}),onClick:v,disabled:s,sx:{mt:3},children:s?"Analyzing...":t("vitals.submit")})]})})}),D.jsx(tr,{item:!0,xs:12,md:6,children:a?D.jsx($at,{results:a}):D.jsx(Ar,{children:D.jsx(qr,{children:D.jsx(rt,{variant:"body2",color:"text.secondary",align:"center",sx:{py:4},children:"Enter your vital signs to get an AI-powered risk assessment"})})})}),d.length>0&&D.jsx(tr,{item:!0,xs:12,children:D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:t("vitals.history")}),D.jsx(gc,{sx:{mb:2}}),D.jsx(Nat,{data:d})]})})})]})]})},Aat=ls.forwardRef(function(e,n){return D.jsx(C8,{direction:"up",ref:n,...e})}),Oat=()=>{const{t}=$a(),{language:e="en",downloadedContent:n=[],addDownloadedContent:r}=Ro(),[s,i]=$.useState(""),[a,o]=$.useState("all"),[l,u]=$.useState([]),[d,f]=$.useState([]),[p,m]=$.useState(!0),[y,v]=$.useState(null),[b,w]=$.useState(null),S=[{id:"all",name:{en:"All",bn:""}},{id:"general",name:{en:"General",bn:""}},{id:"maternal",name:{en:"Maternal",bn:" "}},{id:"child",name:{en:"Child Health",bn:" "}},{id:"infectious",name:{en:"Infectious",bn:""}}];$.useEffect(()=>{C()},[]);const C=async()=>{try{m(!0),v(null);const N=(await QG(async()=>{const{default:L}=await import("./contentLoader-ePx5xXU7.js");return{default:L}},[])).default,O=await N.loadArticles("en"),_=await N.loadArticles("bn"),F=N.mergeArticles(O,_);if(F.length===0)throw new Error("No articles found in manifest.");f(F),m(!1)}catch(N){console.error("Loader Error:",N),v("Content not found. Please check your public/health-content/ folder."),m(!1)}};$.useEffect(()=>{const N=d.filter(O=>{const _=a==="all"||O.category===a,F=O.title[e]?.toLowerCase().includes(s.toLowerCase())||O.description[e]?.toLowerCase().includes(s.toLowerCase());return _&&F});u(N)},[a,s,d,e]);const T=async(N,O)=>{N.stopPropagation();try{Pr&&Pr.healthContent&&(await Pr.healthContent.put({...O,downloaded:!0,downloadedAt:new Date().toISOString()}),r(O))}catch(_){console.error("DB Error:",_)}};return p?D.jsxs($n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:10},children:[D.jsx(tf,{sx:{mb:2}}),D.jsx(rt,{children:"Loading Medical Resources..."})]}):y?D.jsxs($n,{sx:{textAlign:"center",py:10},children:[D.jsx(rt,{color:"error",variant:"h6",children:y}),D.jsx(_i,{onClick:C,sx:{mt:2},variant:"outlined",children:"Retry Loading"})]}):D.jsxs($n,{children:[D.jsx(rt,{variant:"h4",fontWeight:"bold",sx:{mb:3},children:"Health Education"}),D.jsx(Ju,{fullWidth:!0,placeholder:"Search for symptoms or diseases...",value:s,onChange:N=>i(N.target.value),sx:{mb:3,bgcolor:"white"},InputProps:{startAdornment:D.jsx(Xpe,{position:"start",children:D.jsx(Ige,{})})}}),D.jsx(vr,{direction:"row",spacing:1,sx:{mb:4,overflowX:"auto",pb:1},children:S.map(N=>D.jsx(Oo,{label:N.name[e],onClick:()=>o(N.id),color:a===N.id?"primary":"default"},N.id))}),D.jsx(tr,{container:!0,spacing:3,children:l.map(N=>D.jsx(tr,{item:!0,xs:12,sm:6,md:4,children:D.jsxs(Ar,{onClick:()=>w(N),sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",transition:"0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:6}},children:[D.jsx(qA,{component:"img",height:"140",image:N.thumbnail||"/api/placeholder/400/200",alt:N.title[e]}),D.jsxs(qr,{sx:{flexGrow:1},children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:N.title[e]}),D.jsx(rt,{variant:"body2",color:"text.secondary",sx:{mb:2},children:N.description[e]}),D.jsx(Oo,{label:N.category,size:"small",variant:"outlined"})]}),D.jsx(GA,{sx:{p:2,pt:0},children:D.jsx(_i,{fullWidth:!0,variant:n.some(O=>O.id===N.id)?"outlined":"contained",color:n.some(O=>O.id===N.id)?"success":"primary",startIcon:n.some(O=>O.id===N.id)?D.jsx(Km,{}):D.jsx(wge,{}),onClick:O=>T(O,N),children:n.some(O=>O.id===N.id)?"Offline Ready":"Download"})})]})},N.id))}),D.jsxs(bpe,{fullScreen:!0,open:!!b,onClose:()=>w(null),TransitionComponent:Aat,children:[D.jsx(g8,{sx:{position:"relative",bgcolor:"primary.main"},children:D.jsxs(D8,{children:[D.jsx(Oh,{edge:"start",color:"inherit",onClick:()=>w(null),children:D.jsx(tO,{})}),D.jsx(rt,{sx:{ml:2,flex:1},variant:"h6",children:b?.title[e]})]})}),D.jsxs(x8,{maxWidth:"md",sx:{py:6},children:[D.jsx(rt,{variant:"h3",component:"h1",gutterBottom:!0,fontWeight:"bold",children:b?.title[e]}),D.jsxs(vr,{direction:"row",spacing:2,sx:{mb:4},children:[D.jsx(Oo,{icon:D.jsx(Ege,{}),label:b?.category,color:"primary",variant:"outlined"}),D.jsxs(rt,{variant:"caption",color:"text.secondary",children:["Published: ",b?.createdAt]})]}),D.jsx(gc,{sx:{mb:4}}),D.jsx($n,{sx:{"& p":{lineHeight:1.7,mb:2,fontSize:"1.1rem"},"& h2":{mt:4,mb:2,color:"primary.dark"},"& ul":{mb:3},"& li":{mb:1}},dangerouslySetInnerHTML:{__html:b?.content[e]||""}})]})]})]})},Rat=()=>{const{t}=$a(),e=ZD(),{queuedConsultations:n,addConsultation:r}=Ro(),[s,i]=$.useState({description:"",priority:"medium"}),[a,o]=$.useState(!1),[l,u]=$.useState([]);$.useEffect(()=>{d()},[]);const d=async()=>{try{const v=await Pr.consultations.orderBy("timestamp").reverse().limit(20).toArray();u(v)}catch(v){console.error("Error loading consultations:",v)}},f=async()=>{if(!s.description.trim()){alert("Please describe your concern");return}o(!0);try{const v={id:Date.now().toString(),description:s.description,priority:s.priority,timestamp:new Date().toISOString(),status:e?"syncing":"queued",synced:!1};await Pr.consultations.add(v),r(v),e&&await gb.syncConsultations(),i({description:"",priority:"medium"}),await d(),alert("Consultation request submitted successfully!")}catch(v){console.error("Error submitting consultation:",v),alert("Failed to submit consultation request")}finally{o(!1)}},p=async()=>{if(!e){alert("You are offline. Please connect to the internet to sync.");return}await gb.syncConsultations(),await d()},m=v=>{switch(v){case"synced":return"success";case"syncing":return"info";case"completed":return"success";default:return"warning"}},y=v=>{switch(v){case"urgent":return"error";case"high":return"warning";case"medium":return"info";default:return"default"}};return D.jsxs($n,{children:[D.jsx(rt,{variant:"h4",gutterBottom:!0,children:t("telemedicine.title")}),!e&&D.jsx(Li,{severity:"info",sx:{mb:3},children:t("telemedicine.offlineNote")}),D.jsxs(tr,{container:!0,spacing:3,children:[D.jsx(tr,{item:!0,xs:12,md:6,children:D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:t("telemedicine.requestConsultation")}),D.jsx(Ju,{fullWidth:!0,multiline:!0,rows:6,label:t("telemedicine.description"),value:s.description,onChange:v=>i({...s,description:v.target.value}),placeholder:"Please describe your symptoms or health concern in detail...",sx:{mb:2}}),D.jsxs(k8,{fullWidth:!0,sx:{mb:3},children:[D.jsx(T8,{children:t("telemedicine.priority")}),D.jsxs(KD,{value:s.priority,label:t("telemedicine.priority"),onChange:v=>i({...s,priority:v.target.value}),children:[D.jsx(Iv,{value:"low",children:t("telemedicine.priorities.low")}),D.jsx(Iv,{value:"medium",children:t("telemedicine.priorities.medium")}),D.jsx(Iv,{value:"high",children:t("telemedicine.priorities.high")}),D.jsx(Iv,{value:"urgent",children:t("telemedicine.priorities.urgent")})]})]}),D.jsx(_i,{fullWidth:!0,variant:"contained",startIcon:D.jsx(YD,{}),onClick:f,disabled:a,children:a?"Submitting...":"Submit Request"})]})})}),D.jsx(tr,{item:!0,xs:12,md:6,children:D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsxs(vr,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[D.jsx(rt,{variant:"h6",children:t("telemedicine.queuedRequests")}),n.length>0&&e&&D.jsx(_i,{size:"small",startIcon:D.jsx(rO,{}),onClick:p,children:"Sync Now"})]}),l.length>0?D.jsx(Ld,{children:l.map((v,b)=>D.jsxs(ls.Fragment,{children:[D.jsx(oc,{alignItems:"flex-start",children:D.jsx(Ql,{primary:D.jsxs(vr,{direction:"row",spacing:1,alignItems:"center",children:[D.jsxs(rt,{variant:"subtitle2",children:["Request #",l.length-b]}),D.jsx(Oo,{label:v.priority,size:"small",color:y(v.priority)}),D.jsx(Oo,{label:v.status,size:"small",color:m(v.status)})]}),secondary:D.jsxs(D.Fragment,{children:[D.jsxs(rt,{variant:"body2",color:"text.primary",sx:{mt:1},children:[v.description.substring(0,100),v.description.length>100?"...":""]}),D.jsx(rt,{variant:"caption",color:"text.secondary",children:kS(new Date(v.timestamp),"PPpp")})]})})}),b<l.length-1&&D.jsx(gc,{})]},v.id))}):D.jsx(rt,{variant:"body2",color:"text.secondary",align:"center",sx:{py:4},children:"No consultation requests yet"})]})})})]})]})},Dat=()=>{const t=$.useRef(null),e=$.useRef(null),[n,r]=$.useState(!1),[s,i]=$.useState(null),[a,o]=$.useState(null),[l,u]=$.useState("environment"),[d,f]=$.useState(null),[p,m]=$.useState(!1);$.useEffect(()=>{m(!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia))},[]);const y=$.useCallback(async()=>{try{i(null);const C={video:{facingMode:l,width:{ideal:1920},height:{ideal:1080}}},T=await navigator.mediaDevices.getUserMedia(C);e.current=T,t.current&&(t.current.srcObject=T),r(!0),o(!0)}catch(C){console.error("Camera error:",C),i(C.message),o(!1),r(!1)}},[l]),v=$.useCallback(()=>{e.current&&(e.current.getTracks().forEach(C=>C.stop()),e.current=null),t.current&&(t.current.srcObject=null),r(!1)},[]),b=$.useCallback(()=>{if(!t.current)return i("Camera not active"),null;try{const C=document.createElement("canvas");C.width=t.current.videoWidth,C.height=t.current.videoHeight,C.getContext("2d").drawImage(t.current,0,0);const N=C.toDataURL("image/jpeg",.9);return f(N),N}catch(C){return console.error("Capture error:",C),i("Failed to capture photo"),null}},[]),w=$.useCallback(()=>{v(),u(C=>C==="user"?"environment":"user")},[v]),S=$.useCallback(()=>{f(null)},[]);return{videoRef:t,isActive:n,error:s,hasPermission:a,facingMode:l,capturedImage:d,isSupported:p,startCamera:y,stopCamera:v,capturePhoto:b,switchCamera:w,clearImage:S}},WG=["Eczema","Melanoma","Atopic Dermatitis","Basal Cell Carcinoma","Benign Keratosis","Psoriasis","Seborrheic Keratosis","Tinea Ringworm","Acne","Warts"],_at={Eczema:{severity:"moderate",description:{en:"A skin condition causing inflamed, itchy, cracked, and rough skin patches.",bn:"    , ,       "},advice:{en:"Keep skin moisturized, avoid irritants. Consult dermatologist if symptoms persist.",bn:"  ,          "}},Melanoma:{severity:"severe",description:{en:"A serious form of skin cancer developing from pigment cells.",bn:"        "},advice:{en:"URGENT: Consult oncologist immediately for biopsy and treatment options.",bn:":         "}},"Atopic Dermatitis":{severity:"moderate",description:{en:"Chronic inflammatory skin condition with red, itchy patches.",bn:",       "},advice:{en:"Use gentle soaps, apply moisturizer regularly. See doctor for prescription treatments.",bn:"   ,        "}},"Basal Cell Carcinoma":{severity:"severe",description:{en:"Most common type of skin cancer, usually appears on sun-exposed areas.",bn:"    ,       "},advice:{en:"URGENT: Seek immediate dermatologist consultation for biopsy and removal.",bn:":         "}},"Benign Keratosis":{severity:"mild",description:{en:"Non-cancerous skin growth that appears with age.",bn:"-       "},advice:{en:"Generally harmless. Consult doctor if it changes in appearance or becomes irritated.",bn:"            "}},Psoriasis:{severity:"moderate",description:{en:"Autoimmune condition causing rapid skin cell buildup with scaly patches.",bn:"             "},advice:{en:"Manage stress, use prescribed medications. Regular dermatologist visits recommended.",bn:"  ,         "}},"Seborrheic Keratosis":{severity:"mild",description:{en:"Common non-cancerous skin growth appearing as brown, black, or tan growths.",bn:" -    ,       "},advice:{en:"Harmless but can be removed for cosmetic reasons. Consult dermatologist if desired.",bn:"              "}},"Tinea Ringworm":{severity:"mild",description:{en:"Fungal infection causing ring-shaped rash on the skin.",bn:"    -   "},advice:{en:"Use antifungal cream, keep area dry and clean. See doctor if not improving.",bn:"   ,          "}},Acne:{severity:"mild",description:{en:"Common skin condition causing pimples, blackheads, and oily skin.",bn:"    ,      "},advice:{en:"Maintain good hygiene, use gentle cleanser. Avoid picking or squeezing.",bn:"   ,          "}},Warts:{severity:"mild",description:{en:"Viral infection causing small, rough growths on the skin.",bn:"    ,    "},advice:{en:"Often resolve on their own. Can be treated with over-the-counter medications or freezing.",bn:"    --       "}}};class Pat{constructor(){this.model=null,this.isLoading=!1}async loadModel(){if(this.model)return this.model;if(this.isLoading)return new Promise(e=>{const n=setInterval(()=>{this.model&&(clearInterval(n),e(this.model))},100)});this.isLoading=!0;try{return console.log("Loading skin disease classification model..."),this.model=await UIe("/models/skin-disease/model.json"),this.isLoading=!1,console.log("Skin disease model loaded successfully"),this.model}catch(e){return console.error("Error loading skin disease model:",e),console.log("Using mock model for development..."),this.isLoading=!1,this.model=this.createMockModel(),this.model}}createMockModel(){return{predict:e=>Ne(()=>{const n=Array.from({length:10},()=>Math.random()),r=n.reduce((i,a)=>i+a,0),s=n.map(i=>i/r);return ou([s],[1,10])})}}preprocessImage(e){return Ne(()=>{let n=rTe(e);return n=ll.resizeBilinear(n,[224,224]),n=n.toFloat().div(It(255)),n=n.expandDims(0),n})}async analyzeImage(e){try{this.model||await this.loadModel(),console.log("Preprocessing image...");const n=this.preprocessImage(e);console.log("Running inference...");const r=await this.model.predict(n),s=await r.data();n.dispose(),r.dispose();const a=Array.from(s).map((l,u)=>({label:WG[u],confidence:l,info:_at[WG[u]]})).sort((l,u)=>u.confidence-l.confidence).slice(0,3),o=a[0];return{success:!0,predictions:a.map(l=>({condition:l.label,confidence:Math.round(l.confidence*100),severity:l.info.severity,description:l.info.description,advice:l.info.advice})),primaryDiagnosis:{condition:o.label,confidence:Math.round(o.confidence*100),severity:o.info.severity,description:o.info.description,advice:o.info.advice},timestamp:new Date().toISOString()}}catch(n){return console.error("Skin analysis error:",n),{success:!1,error:n.message}}}dispose(){this.model&&(this.model.dispose(),this.model=null)}}const HG=new Pat,Mat=({videoRef:t,isActive:e,error:n,hasPermission:r,facingMode:s,onStart:i,onStop:a,onCapture:o,onSwitch:l,isSupported:u})=>{const{t:d}=$a();return u?r===!1?D.jsx(Ar,{children:D.jsx(qr,{children:D.jsxs(vr,{spacing:2,alignItems:"center",sx:{py:4},children:[D.jsx(rt,{variant:"h6",color:"error",children:d("scanner.permissionRequired")}),D.jsx(rt,{variant:"body2",color:"text.secondary",align:"center",children:d("scanner.permissionMessage")}),D.jsx(rt,{variant:"caption",color:"text.secondary",align:"center",children:d("scanner.permissionInstructions")}),D.jsx(_i,{variant:"contained",onClick:i,children:d("scanner.retryCamera")})]})})}):!e&&r===null?D.jsx(Ar,{children:D.jsx(qr,{children:D.jsxs(vr,{spacing:2,alignItems:"center",sx:{py:4},children:[D.jsx(tf,{}),D.jsx(rt,{variant:"body2",color:"text.secondary",children:d("scanner.initializingCamera")})]})})}):D.jsxs($n,{children:[n&&D.jsx(Li,{severity:"error",sx:{mb:2},children:n}),D.jsxs(Ar,{sx:{position:"relative",bgcolor:"black"},children:[D.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxHeight:"70vh",objectFit:"contain",display:"block"}}),D.jsx($n,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"3px dashed rgba(255, 255, 255, 0.8)",borderRadius:2,pointerEvents:"none",display:"flex",alignItems:"flex-end",justifyContent:"center",pb:2},children:D.jsx(rt,{variant:"caption",sx:{bgcolor:"rgba(0, 0, 0, 0.7)",color:"white",px:2,py:.5,borderRadius:1},children:d("scanner.frameInstruction")})}),D.jsx(Oh,{onClick:l,sx:{position:"absolute",top:16,right:16,bgcolor:"rgba(0, 0, 0, 0.5)",color:"white","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"}},children:D.jsx(Cge,{})})]}),D.jsx(vr,{direction:"row",spacing:2,sx:{mt:3},justifyContent:"center",children:D.jsx(_i,{variant:"contained",size:"large",startIcon:D.jsx(XD,{}),onClick:o,sx:{minWidth:200},children:d("scanner.takePhoto")})})]}):D.jsx(Li,{severity:"error",children:d("scanner.cameraNotSupported")})},Lat=({results:t,language:e})=>{const{t:n}=$a();if(!t||!t.success)return null;const r=a=>{switch(a){case"severe":return"error";case"moderate":return"warning";default:return"success"}},s=a=>{switch(a){case"severe":return D.jsx(xS,{color:"error"});case"moderate":return D.jsx(Qv,{color:"warning"});default:return D.jsx(Km,{color:"success"})}},i=t.primaryDiagnosis;return D.jsxs(vr,{spacing:3,children:[D.jsxs(Li,{severity:"error",icon:D.jsx(Qv,{}),children:[D.jsx(rt,{variant:"subtitle2",gutterBottom:!0,children:n("scanner.disclaimer.title")}),D.jsx(rt,{variant:"body2",children:n("scanner.disclaimer.message")})]}),D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsxs(vr,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[s(i.severity),D.jsxs($n,{sx:{flex:1},children:[D.jsx(rt,{variant:"h5",gutterBottom:!0,children:i.condition}),D.jsxs(rt,{variant:"body2",color:"text.secondary",children:[n("scanner.confidence"),": ",i.confidence,"%"]})]}),D.jsx(Oo,{label:i.severity.toUpperCase(),color:r(i.severity)})]}),D.jsx(VD,{variant:"determinate",value:i.confidence,color:r(i.severity),sx:{mb:3,height:8,borderRadius:4}}),D.jsx(gc,{sx:{my:2}}),D.jsxs($n,{sx:{mb:3},children:[D.jsx(rt,{variant:"subtitle2",gutterBottom:!0,children:n("scanner.about")}),D.jsx(rt,{variant:"body2",paragraph:!0,children:i.description[e]||i.description.en})]}),D.jsxs($n,{children:[D.jsx(rt,{variant:"subtitle2",gutterBottom:!0,children:n("scanner.recommendations")}),D.jsx(rt,{variant:"body2",children:i.advice[e]||i.advice.en})]})]})}),t.predictions&&t.predictions.length>1&&D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:n("scanner.otherPossibilities")}),D.jsx(rt,{variant:"caption",color:"text.secondary",paragraph:!0,children:n("scanner.otherPossibilitiesNote")}),D.jsx(Ld,{children:t.predictions.slice(1).map((a,o)=>D.jsxs(ls.Fragment,{children:[D.jsxs(oc,{children:[D.jsx(WD,{children:s(a.severity)}),D.jsx(Ql,{primary:a.condition,secondary:`${n("scanner.confidence")}: ${a.confidence}%`})]}),o<t.predictions.slice(1).length-1&&D.jsx(gc,{})]},o))})]})}),D.jsx(ef,{sx:{p:2,bgcolor:"info.light"},children:D.jsxs(vr,{direction:"row",spacing:1,alignItems:"flex-start",children:[D.jsx(_8,{color:"info"}),D.jsxs($n,{children:[D.jsx(rt,{variant:"subtitle2",gutterBottom:!0,children:n("scanner.nextSteps.title")}),D.jsxs(Ld,{dense:!0,children:[D.jsx(oc,{children:D.jsx(Ql,{primary:n("scanner.nextSteps.step1"),primaryTypographyProps:{variant:"body2"}})}),D.jsx(oc,{children:D.jsx(Ql,{primary:n("scanner.nextSteps.step2"),primaryTypographyProps:{variant:"body2"}})}),D.jsx(oc,{children:D.jsx(Ql,{primary:n("scanner.nextSteps.step3"),primaryTypographyProps:{variant:"body2"}})})]})]})]})})]})},Fat=()=>{const{t}=$a(),{language:e}=Ro(),[n,r]=$.useState("intro"),[s,i]=$.useState(null),[a,o]=$.useState(!1),[l,u]=$.useState(null),[d,f]=$.useState(null),{videoRef:p,isActive:m,error:y,hasPermission:v,facingMode:b,isSupported:w,startCamera:S,stopCamera:C,capturePhoto:T,switchCamera:N,clearImage:O}=Dat();$.useEffect(()=>(HG.loadModel(),()=>{C()}),[C]);const _=()=>{r("camera"),S()},F=H=>{const q=H.target.files[0];if(q&&q.type.startsWith("image/")){const X=new FileReader;X.onload=V=>{i(V.target.result),r("preview")},X.readAsDataURL(q)}},L=()=>{const H=T();H&&(i(H),r("preview"),C())},z=()=>{i(null),O(),r("camera"),S()},P=async()=>{if(!s){f("No image to analyze");return}o(!0),f(null),r("analyzing");try{const H=new Image;H.src=s,await new Promise((X,V)=>{H.onload=X,H.onerror=V});const q=await HG.analyzeImage(H);q.success?(u(q),r("results"),await Pr.predictions.add({type:"skin_analysis",input:s,output:q,timestamp:new Date().toISOString()})):(f(q.error||"Analysis failed"),r("preview"))}catch(H){console.error("Analysis error:",H),f("An error occurred during analysis. Please try again."),r("preview")}finally{o(!1)}},R=()=>{r("intro"),i(null),u(null),f(null),O(),C()};return n==="intro"?D.jsxs($n,{children:[D.jsx(rt,{variant:"h4",gutterBottom:!0,children:t("scanner.title")}),D.jsx(rt,{variant:"body1",color:"text.secondary",paragraph:!0,children:t("scanner.description")}),D.jsx(Ar,{sx:{mb:3},children:D.jsx(qr,{children:D.jsxs(vr,{spacing:3,children:[D.jsxs($n,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:t("scanner.howItWorks")}),D.jsxs(vr,{spacing:1.5,children:[D.jsxs(vr,{direction:"row",spacing:2,children:[D.jsx(rt,{sx:{bgcolor:"primary.main",color:"white",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"1"}),D.jsx(rt,{variant:"body1",children:t("scanner.step1")})]}),D.jsxs(vr,{direction:"row",spacing:2,children:[D.jsx(rt,{sx:{bgcolor:"primary.main",color:"white",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"2"}),D.jsx(rt,{variant:"body1",children:t("scanner.step2")})]}),D.jsxs(vr,{direction:"row",spacing:2,children:[D.jsx(rt,{sx:{bgcolor:"primary.main",color:"white",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"3"}),D.jsx(rt,{variant:"body1",children:t("scanner.step3")})]})]})]}),D.jsx(Li,{severity:"warning",children:D.jsx(rt,{variant:"body2",children:t("scanner.importantNote")})}),D.jsx(_i,{fullWidth:!0,variant:"contained",size:"large",startIcon:D.jsx(XD,{}),onClick:_,disabled:!w,children:t("scanner.startScanning")}),D.jsxs(_i,{fullWidth:!0,variant:"outlined",size:"large",startIcon:D.jsx($ge,{}),component:"label",children:[t("scanner.uploadFromGallery"),D.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:F})]}),!w&&D.jsx(Li,{severity:"error",children:t("scanner.cameraNotSupported")})]})})}),D.jsx(Li,{severity:"info",children:D.jsx(rt,{variant:"body2",children:t("scanner.privacyNote")})})]}):n==="camera"?D.jsxs($n,{children:[D.jsxs(vr,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[D.jsx(rt,{variant:"h5",children:t("scanner.takePhoto")}),D.jsx(Oh,{onClick:R,children:D.jsx(tO,{})})]}),D.jsx(Mat,{videoRef:p,isActive:m,error:y,hasPermission:v,facingMode:b,onStart:S,onStop:C,onCapture:L,onSwitch:N,isSupported:w})]}):n==="preview"?D.jsxs($n,{children:[D.jsxs(vr,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[D.jsx(rt,{variant:"h5",children:t("scanner.reviewPhoto")}),D.jsx(Oh,{onClick:R,children:D.jsx(tO,{})})]}),D.jsxs(tr,{container:!0,spacing:3,children:[D.jsx(tr,{item:!0,xs:12,md:6,children:D.jsx(Ar,{children:D.jsx(qA,{component:"img",image:s,alt:"Captured skin condition",sx:{maxHeight:500,objectFit:"contain",bgcolor:"black"}})})}),D.jsx(tr,{item:!0,xs:12,md:6,children:D.jsx(Ar,{children:D.jsxs(qr,{children:[D.jsx(rt,{variant:"h6",gutterBottom:!0,children:t("scanner.readyToAnalyze")}),D.jsx(rt,{variant:"body2",color:"text.secondary",paragraph:!0,children:t("scanner.analyzeDescription")}),d&&D.jsx(Li,{severity:"error",sx:{mb:2},children:d}),D.jsxs(vr,{spacing:2,children:[D.jsx(_i,{fullWidth:!0,variant:"contained",size:"large",onClick:P,disabled:a,children:t("scanner.analyzeNow")}),D.jsx(_i,{fullWidth:!0,variant:"outlined",startIcon:D.jsx(rO,{}),onClick:z,children:t("scanner.retakePhoto")})]})]})})})]})]}):n==="analyzing"?D.jsx($n,{children:D.jsx(Ar,{children:D.jsx(qr,{children:D.jsxs($n,{sx:{textAlign:"center",py:6},children:[D.jsx(tf,{size:60,sx:{mb:3}}),D.jsx(rt,{variant:"h5",gutterBottom:!0,children:t("scanner.analyzing")}),D.jsx(rt,{variant:"body2",color:"text.secondary",children:t("scanner.analyzingMessage")})]})})})}):n==="results"?D.jsxs($n,{children:[D.jsxs(vr,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:3},children:[D.jsx(rt,{variant:"h4",children:t("scanner.results")}),D.jsx(_i,{variant:"outlined",startIcon:D.jsx(rO,{}),onClick:R,children:t("scanner.scanAnother")})]}),D.jsxs(tr,{container:!0,spacing:3,children:[D.jsx(tr,{item:!0,xs:12,md:4,children:D.jsxs(Ar,{children:[D.jsx(qA,{component:"img",image:s,alt:"Analyzed skin condition",sx:{maxHeight:400,objectFit:"contain",bgcolor:"black"}}),D.jsx(qr,{children:D.jsx(rt,{variant:"caption",color:"text.secondary",children:t("scanner.capturedImage")})})]})}),D.jsx(tr,{item:!0,xs:12,md:8,children:D.jsx(Lat,{results:l,language:e})})]})]}):null},{slice:zat,forEach:Bat}=[];function jat(t){return Bat.call(zat.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Uat(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const GG=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Vat=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!GG.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!GG.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},qG={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=Vat(t,e,s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Wat={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return qG.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&qG.create(n,t,r,s,i)}},Hat={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let a=0;a<i.length;a++){const o=i[a].indexOf("=");o>0&&i[a].substring(0,o)===e&&(n=i[a].substring(o+1))}}return n}},Gat={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const i=s.substring(1);if(e){const a=i.split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===e&&(r=a[o].substring(l+1))}}if(r)return r;if(!r&&n>-1){const a=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let xm=null;const KG=()=>{if(xm!==null)return xm;try{if(xm=typeof window<"u"&&window.localStorage!==null,!xm)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{xm=!1}return xm};var qat={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&KG())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&KG()&&window.localStorage.setItem(n,t)}};let wm=null;const XG=()=>{if(wm!==null)return wm;try{if(wm=typeof window<"u"&&window.sessionStorage!==null,!wm)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{wm=!1}return wm};var Kat={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&XG())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&XG()&&window.sessionStorage.setItem(n,t)}},Xat={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},Yat={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Zat={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},Qat={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let yse=!1;try{document.cookie,yse=!0}catch{}const vse=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];yse||vse.splice(1,1);const Jat=()=>({order:vse,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class bse{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=jat(n,this.options||{},Jat()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Wat),this.addDetector(Hat),this.addDetector(qat),this.addDetector(Kat),this.addDetector(Xat),this.addDetector(Yat),this.addDetector(Zat),this.addDetector(Qat),this.addDetector(Gat)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!Uat(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}bse.type="languageDetector";const eot={en:{translation:{nav:{dashboard:"Dashboard",symptomChecker:"Symptoms",vitalsMonitor:"Vitals",healthEducation:"Education",telemedicine:"Consult",visualScanner:"Visual Scanner"},common:{loading:"Loading...",submit:"Submit",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",offline:"You are offline",online:"Connected",language:"Language",error:"An error occurred"},dashboard:{welcome:"Welcome to GramSheba AI",recentSymptoms:"Recent Symptom Checks",recentVitals:"Recent Vital Signs",quickActions:"Quick Actions",checkSymptoms:"Check Symptoms",recordVitals:"Record Vitals",learnHealth:"Learn About Health",consultDoctor:"Consult Doctor"},symptoms:{title:"Symptom Checker",description:"Describe your symptoms below",inputPlaceholder:"e.g., fever, cough, headache...",useVoice:"Use Voice Input",analyzing:"Analyzing symptoms...",results:"Analysis Results",possibleConditions:"Possible Conditions",advice:"Advice",severity:"Severity",confidence:"Confidence",triage:{urgent:"URGENT: Seek immediate medical attention",soon:"Consult a doctor within 24-48 hours","self-care":"Self-care measures recommended"}},vitals:{title:"Vital Signs Monitor",bloodPressure:"Blood Pressure",systolic:"Systolic",diastolic:"Diastolic",pulse:"Pulse Rate",temperature:"Temperature",weight:"Weight (Optional)",age:"Age",submit:"Analyze Vitals",riskAssessment:"Risk Assessment",riskLevel:"Risk Level",recommendations:"Recommendations",history:"Vitals History",bpm:"bpm",mmHg:"mmHg",celsius:"C",kg:"kg",years:"years"},education:{title:"Health Education",categories:"Categories",search:"Search content...",downloadedContent:"Downloaded Content",download:"Download for Offline"},telemedicine:{title:"Telemedicine",requestConsultation:"Request Consultation",queuedRequests:"Queued Requests",description:"Describe your concern",priority:"Priority",priorities:{low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},status:{queued:"Queued (Will sync when online)",syncing:"Syncing...",synced:"Synced",completed:"Completed"},offlineNote:"Your consultation request will be sent automatically when you reconnect to the internet."},scanner:{title:"Visual Scanner",description:"AI-powered skin condition analysis using your camera",howItWorks:"How It Works",step1:"Take a clear photo of the affected skin area in good lighting",step2:"Our AI analyzes the image for possible skin conditions",step3:"Get instant results with recommendations and next steps",importantNote:"This tool is for screening purposes only and does not replace professional medical diagnosis.",startScanning:"Start Scanning",uploadFromGallery:"Upload from Gallery",takePhoto:"Take Photo",reviewPhoto:"Review Photo",retakePhoto:"Retake Photo",analyzeNow:"Analyze Now",analyzing:"Analyzing Image...",analyzingMessage:"Our AI is analyzing your image. This may take a few seconds.",results:"Analysis Results",scanAnother:"Scan Another",capturedImage:"Captured Image",confidence:"Confidence",about:"About This Condition",recommendations:"Recommendations",otherPossibilities:"Other Possible Conditions",otherPossibilitiesNote:"These conditions also matched but with lower confidence",readyToAnalyze:"Ready to Analyze",analyzeDescription:"Click below to analyze the captured image for possible skin conditions.",cameraNotSupported:"Camera is not supported on this device",permissionRequired:"Camera Permission Required",permissionMessage:"We need access to your camera to scan skin conditions.",permissionInstructions:"Please enable camera access in your browser settings and try again.",retryCamera:"Try Again",initializingCamera:"Initializing camera...",frameInstruction:"Align the affected area within this frame",privacyNote:"All images are processed on your device. Nothing is uploaded to the internet.",disclaimer:{title:"Medical Disclaimer",message:"This AI analysis is for informational purposes only and should not be considered medical advice. Always consult a qualified healthcare professional for proper diagnosis and treatment."},nextSteps:{title:"Next Steps",step1:"Document your symptoms and when they started",step2:"Consult a dermatologist or healthcare provider",step3:"Show them this analysis along with the photo"}}}},bn:{translation:{nav:{dashboard:"",symptomChecker:"",vitalsMonitor:"",healthEducation:"",telemedicine:"",visualScanner:" "},common:{loading:" ...",submit:" ",cancel:" ",save:" ",delete:" ",edit:" ",offline:"  ",online:"",language:"",error:"  "},dashboard:{welcome:"   ",recentSymptoms:"  ",recentVitals:"  ",quickActions:" ",checkSymptoms:" ",recordVitals:" ",learnHealth:" ",consultDoctor:" "},symptoms:{title:" ",description:"    ",inputPlaceholder:", , , ...",useVoice:"   ",analyzing:"   ...",results:" ",possibleConditions:" ",advice:"",severity:"",confidence:"",triage:{urgent:":    ",soon:"-     ","self-care":"-  "}},vitals:{title:"  ",bloodPressure:"",systolic:"",diastolic:"",pulse:" ",temperature:"",weight:" ()",age:"",submit:" ",riskAssessment:" ",riskLevel:" ",recommendations:"",history:" ",bpm:"",mmHg:"",celsius:"",kg:"",years:""},education:{title:" ",categories:"",search:"  ...",downloadedContent:"  ",download:"  "},telemedicine:{title:"",requestConsultation:" ",queuedRequests:" ",description:"   ",priority:"",priorities:{low:"",medium:"",high:"",urgent:""},status:{queued:" (  )",syncing:"  ...",synced:" ",completed:""},offlineNote:"            "},scanner:{title:" ",description:"    -   ",howItWorks:"   ",step1:"        ",step2:"        ",step3:"       ",importantNote:"          ",startScanning:"  ",uploadFromGallery:"   ",takePhoto:" ",reviewPhoto:"  ",retakePhoto:"  ",analyzeNow:"  ",analyzing:"   ...",analyzingMessage:"           ",results:" ",scanAnother:"  ",capturedImage:"  ",confidence:"",about:"  ",recommendations:"",otherPossibilities:"  ",otherPossibilitiesNote:"      ",readyToAnalyze:"  ",analyzeDescription:"           ",cameraNotSupported:"    ",permissionRequired:"  ",permissionMessage:"        ",permissionInstructions:"            ",retryCamera:"  ",initializingCamera:"   ...",frameInstruction:"      ",privacyNote:"            ",disclaimer:{title:" ",message:"                          "},nextSteps:{title:" ",step1:"        ",step2:"        ",step3:"     "}}}}};na.use(bse).use(lye).init({resources:eot,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const tot=fk({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#388e3c",light:"#66bb6a",dark:"#2e7d32"},error:{main:"#d32f2f"},warning:{main:"#f57c00"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:'"Roboto", "Noto Sans Bengali", sans-serif',h4:{fontWeight:600},h5:{fontWeight:600},h6:{fontWeight:600}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8}}},MuiCard:{styleOverrides:{root:{borderRadius:12}}}}});function not(){ZD();const{setModelsLoaded:t}=Ro();return $.useEffect(()=>{gb.startAutoSync(),(async()=>{try{const{modelLoader:n}=await QG(async()=>{const{modelLoader:r}=await Promise.resolve().then(()=>u6e);return{modelLoader:r}},void 0);await Promise.all([n.loadSymptomCheckerModel(),n.loadVitalsPredictor()]),t(!0),console.log("AI models loaded successfully")}catch(n){console.error("Error loading AI models:",n)}})()},[t]),D.jsxs(wde,{theme:tot,children:[D.jsx($de,{}),D.jsx(goe,{children:D.jsx($.Suspense,{fallback:D.jsx($ye,{}),children:D.jsx(Nye,{children:D.jsxs(Gae,{children:[D.jsx(nh,{path:"/",element:D.jsx(Fve,{})}),D.jsx(nh,{path:"/symptom-checker",element:D.jsx(GHe,{})}),D.jsx(nh,{path:"/vitals",element:D.jsx(Iat,{})}),D.jsx(nh,{path:"/education",element:D.jsx(Oat,{})}),D.jsx(nh,{path:"/telemedicine",element:D.jsx(Rat,{})}),D.jsx(nh,{path:"/visual-scanner",element:D.jsx(Fat,{})})]})})})})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered:",t)}).catch(t=>{console.log("SW registration failed:",t)})});qie.createRoot(document.getElementById("root")).render(D.jsx(ls.StrictMode,{children:D.jsx(not,{})}));
